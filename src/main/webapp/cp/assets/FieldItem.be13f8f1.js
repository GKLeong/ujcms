var SV=Object.defineProperty,xV=Object.defineProperties;var kV=Object.getOwnPropertyDescriptors;var Cz=Object.getOwnPropertySymbols;var TV=Object.prototype.hasOwnProperty,EV=Object.prototype.propertyIsEnumerable;var Sz=(Ze,Ht,En)=>Ht in Ze?SV(Ze,Ht,{enumerable:!0,configurable:!0,writable:!0,value:En}):Ze[Ht]=En,XO=(Ze,Ht)=>{for(var En in Ht||(Ht={}))TV.call(Ht,En)&&Sz(Ze,En,Ht[En]);if(Cz)for(var En of Cz(Ht))EV.call(Ht,En)&&Sz(Ze,En,Ht[En]);return Ze},xz=(Ze,Ht)=>xV(Ze,kV(Ht));import{q as OV,i as kz,a as AV}from"./config.5989ee23.js";import{au as BB,S as Oz,g as Az,t as Dz,u as DV,D as jI,L as _V,V as BV,av as RV,aw as PV,o as Qo,q as Jm,x as MV,G as NV,i as FV,m as Vs,j as cs,w as ab,A as cx,J as DB,y as YO,F as ob,n as _B}from"./vendor.6c10456e.js";import{_ as _z,g as Tz}from"./index.7a0e1ff0.js";import{B as $V,a as IV}from"./BaseUpload.4531e0b6.js";var Bz={exports:{}};(function(Ze){(function(){var Ht=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},En=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},lr=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},pn=function(e,n){return rr(function(a,i){return e.eq(n(a),n(i))})},rr=function(e){return{eq:e}},Nn=rr(function(e,n){return e===n}),jn=Nn,kr=function(e){return rr(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!e.eq(n[s],a[s]))return!1;return!0})},$r=function(e,n){return pn(kr(e),function(a){return lr(a,n)})},Cn=function(e){return rr(function(n,a){var i=Object.keys(n),s=Object.keys(a);if(!$r(jn).eq(i,s))return!1;for(var f=i.length,g=0;g<f;g++){var b=i[g];if(!e.eq(n[b],a[b]))return!1}return!0})},ut=rr(function(e,n){if(e===n)return!0;var a=Ht(e),i=Ht(n);return a!==i?!1:En(a)?e===n:a==="array"?kr(ut).eq(e,n):a==="object"?Cn(ut).eq(e,n):!1}),On=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},Jt=function(e){return function(n){return On(n)===e}},nt=function(e){return function(n){return typeof n===e}},cr=function(e){return function(n){return e===n}},ct=Jt("string"),tr=Jt("object"),re=Jt("array"),_t=cr(null),ar=nt("boolean"),qn=cr(void 0),Qt=function(e){return e==null},Gt=function(e){return!Qt(e)},Zt=nt("function"),Vt=nt("number"),se=function(){},Z=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},qe=function(e,n){return function(a){return e(n(a))}},Ve=function(e){return function(){return e}},Ft=function(e){return e};function st(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var f=n.concat(i);return e.apply(null,f)}}var Xn=function(e){return function(n){return!e(n)}},E=function(e){return function(){throw new Error(e)}},yt=function(e){return e()},wt=function(e){e()},bt=Ve(!1),or=Ve(!0),dr=function(){return Sn},Sn=function(){var e=function(s){return s.isNone()},n=function(s){return s()},a=function(s){return s},i={fold:function(s,f){return s()},is:bt,isSome:bt,isNone:or,getOr:a,getOrThunk:n,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:Ve(null),getOrUndefined:Ve(void 0),or:a,orThunk:n,map:dr,each:se,bind:dr,exists:bt,forall:or,filter:dr,equals:e,equals_:e,toArray:function(){return[]},toString:Ve("none()")};return i}(),Dn=function(e){var n=Ve(e),a=function(){return s},i=function(f){return f(e)},s={fold:function(f,g){return g(e)},is:function(f){return e===f},isSome:or,isNone:bt,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(f){return Dn(f(e))},each:function(f){f(e)},bind:i,exists:i,forall:i,filter:function(f){return f(e)?s:Sn},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(f){return f.is(e)},equals_:function(f,g){return f.fold(bt,function(b){return g(e,b)})}};return s},wr=function(e){return e==null?Sn:Dn(e)},ee={some:Dn,none:dr,from:wr},Pe=Array.prototype.slice,Ct=Array.prototype.indexOf,$n=Array.prototype.push,Bn=function(e,n){return Ct.call(e,n)},de=function(e,n){var a=Bn(e,n);return a===-1?ee.none():ee.some(a)},We=function(e,n){return Bn(e,n)>-1},Be=function(e,n){for(var a=0,i=e.length;a<i;a++){var s=e[a];if(n(s,a))return!0}return!1},pt=function(e,n){for(var a=e.length,i=new Array(a),s=0;s<a;s++){var f=e[s];i[s]=n(f,s)}return i},ke=function(e,n){for(var a=0,i=e.length;a<i;a++){var s=e[a];n(s,a)}},bn=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},br=function(e,n){for(var a=[],i=[],s=0,f=e.length;s<f;s++){var g=e[s],b=n(g,s)?a:i;b.push(g)}return{pass:a,fail:i}},on=function(e,n){for(var a=[],i=0,s=e.length;i<s;i++){var f=e[i];n(f,i)&&a.push(f)}return a},zr=function(e,n,a){return bn(e,function(i){a=n(a,i)}),a},Jn=function(e,n,a){return ke(e,function(i){a=n(a,i)}),a},it=function(e,n,a){for(var i=0,s=e.length;i<s;i++){var f=e[i];if(n(f,i))return ee.some(f);if(a(f,i))break}return ee.none()},Ut=function(e,n){return it(e,n,bt)},xn=function(e,n){for(var a=0,i=e.length;a<i;a++){var s=e[a];if(n(s,a))return ee.some(a)}return ee.none()},Ye=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!re(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);$n.apply(n,e[a])}return n},He=function(e,n){return Ye(pt(e,n))},mt=function(e,n){for(var a=0,i=e.length;a<i;++a){var s=e[a];if(n(s,a)!==!0)return!1}return!0},Wt=function(e){var n=Pe.call(e,0);return n.reverse(),n},sn=function(e,n){return on(e,function(a){return!We(n,a)})},gr=function(e,n){for(var a={},i=0,s=e.length;i<s;i++){var f=e[i];a[String(f)]=n(f,i)}return a},Lr=function(e,n){var a=Pe.call(e,0);return a.sort(n),a},Cr=function(e,n){return n>=0&&n<e.length?ee.some(e[n]):ee.none()},vn=function(e){return Cr(e,0)},Br=function(e){return Cr(e,e.length-1)},qr=Zt(Array.from)?Array.from:function(e){return Pe.call(e)},Ma=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return ee.none()},Na=Object.keys,Pa=Object.hasOwnProperty,Gr=function(e,n){for(var a=Na(e),i=0,s=a.length;i<s;i++){var f=a[i],g=e[f];n(g,f)}},Fa=function(e,n){return De(e,function(a,i){return{k:i,v:n(a,i)}})},De=function(e,n){var a={};return Gr(e,function(i,s){var f=n(i,s);a[f.k]=f.v}),a},dt=function(e){return function(n,a){e[a]=n}},jt=function(e,n,a,i){var s={};return Gr(e,function(f,g){(n(f,g)?a:i)(f,g)}),s},zn=function(e,n){var a={},i={};return jt(e,n,dt(a),dt(i)),{t:a,f:i}},cn=function(e,n){var a={};return jt(e,n,dt(a),se),a},hr=function(e,n){var a=[];return Gr(e,function(i,s){a.push(n(i,s))}),a},Ka=function(e){return hr(e,function(n){return n})},Rr=function(e,n){return Or(e,n)?ee.from(e[n]):ee.none()},Or=function(e,n){return Pa.call(e,n)},go=function(e,n){return Or(e,n)&&e[n]!==void 0&&e[n]!==null},Co=function(e,n,a){return a===void 0&&(a=ut),Cn(a).eq(e,n)},So=Array.isArray,di=function(e){if(So(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},Ja=function(e,n,a){var i,s;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,s=e.length;i<s;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(e.hasOwnProperty(i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},xo=function(e,n){var a=[];return Ja(e,function(i,s){a.push(n(i,s,e))}),a},io=function(e,n){var a=[];return Ja(e,function(i,s){(!n||n(i,s,e))&&a.push(i)}),a},Pn=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},Oa=function(e,n,a,i){for(var s=qn(a)?e[0]:a,f=0;f<e.length;f++)s=n.call(i,s,e[f],f);return s},La=function(e,n,a){var i,s;for(i=0,s=e.length;i<s;i++)if(n.call(a,e[i],i,e))return i;return-1},so=function(e){return e[e.length-1]},Gn=function(){return Gn=Object.assign||function(n){for(var a,i=1,s=arguments.length;i<s;i++){a=arguments[i];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(n[f]=a[f])}return n},Gn.apply(this,arguments)};function ho(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)n.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]]);return a}function _o(){for(var e=0,n=0,a=arguments.length;n<a;n++)e+=arguments[n].length;for(var i=Array(e),s=0,n=0;n<a;n++)for(var f=arguments[n],g=0,b=f.length;g<b;g++,s++)i[s]=f[g];return i}var Io=function(e){var n=!1,a;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n||(n=!0,a=e.apply(null,i)),a}},ei=function(e,n,a,i){var s=e.isiOS()&&/ipad/i.test(a)===!0,f=e.isiOS()&&!s,g=e.isiOS()||e.isAndroid(),b=g||i("(pointer:coarse)"),y=s||!f&&g&&i("(min-device-width:768px)"),O=f||g&&!y,P=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,R=!O&&!y&&!P;return{isiPad:Ve(s),isiPhone:Ve(f),isTablet:Ve(y),isPhone:Ve(O),isTouch:Ve(b),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Ve(P),isDesktop:Ve(R)}},Hr=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},Wo=function(e,n){var a=Hr(e,n);if(!a)return{major:0,minor:0};var i=function(s){return Number(n.replace(a,"$"+s))};return jo(i(1),i(2))},ko=function(e,n){var a=String(n).toLowerCase();return e.length===0?Po():Wo(e,a)},Po=function(){return jo(0,0)},jo=function(e,n){return{major:e,minor:n}},ce={nu:jo,detect:ko,unknown:Po},Ee=function(e,n){var a=String(n).toLowerCase();return Ut(e,function(i){return i.search(a)})},$e=function(e,n){return Ee(e,n).map(function(a){var i=ce.detect(a.versionRegexes,n);return{current:a.name,version:i}})},je=function(e,n){return Ee(e,n).map(function(a){var i=ce.detect(a.versionRegexes,n);return{current:a.name,version:i}})},G={detectBrowser:$e,detectOs:je},ue=function(e,n){return e.substring(n)},Fe=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},Ge=function(e,n){return zt(e,n)?ue(e,n.length):e},Xe=function(e,n){return e.indexOf(n)!==-1},zt=function(e,n){return Fe(e,n,0)},fn=function(e){return function(n){return n.replace(e,"")}},Ln=fn(/^\s+|\s+$/g),Sr=fn(/^\s+/g),lt=fn(/\s+$/g),Vr=function(e){return e.length>0},Za=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,co=function(e){return function(n){return Xe(n,e)}},Ha=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Xe(e,"edge/")&&Xe(e,"chrome")&&Xe(e,"safari")&&Xe(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Za],search:function(e){return Xe(e,"chrome")&&!Xe(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Xe(e,"msie")||Xe(e,"trident")}},{name:"Opera",versionRegexes:[Za,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:co("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:co("firefox")},{name:"Safari",versionRegexes:[Za,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Xe(e,"safari")||Xe(e,"mobile/"))&&Xe(e,"applewebkit")}}],_n=[{name:"Windows",search:co("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Xe(e,"iphone")||Xe(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:co("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:co("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:co("linux"),versionRegexes:[]},{name:"Solaris",search:co("sunos"),versionRegexes:[]},{name:"FreeBSD",search:co("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:co("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Qr={browsers:Ve(Ha),oses:Ve(_n)},Va="Edge",Y="Chrome",Ce="IE",Ie="Opera",St="Firefox",an="Safari",X=function(){return he({current:void 0,version:ce.unknown()})},he=function(e){var n=e.current,a=e.version,i=function(s){return function(){return n===s}};return{current:n,version:a,isEdge:i(Va),isChrome:i(Y),isIE:i(Ce),isOpera:i(Ie),isFirefox:i(St),isSafari:i(an)}},Je={unknown:X,nu:he,edge:Ve(Va),chrome:Ve(Y),ie:Ve(Ce),opera:Ve(Ie),firefox:Ve(St),safari:Ve(an)},Rt="Windows",dn="iOS",ir="Android",mn="Linux",Zn="OSX",Pr="Solaris",Tr="FreeBSD",H="ChromeOS",xe=function(){return _e({current:void 0,version:ce.unknown()})},_e=function(e){var n=e.current,a=e.version,i=function(s){return function(){return n===s}};return{current:n,version:a,isWindows:i(Rt),isiOS:i(dn),isAndroid:i(ir),isOSX:i(Zn),isLinux:i(mn),isSolaris:i(Pr),isFreeBSD:i(Tr),isChromeOS:i(H)}},Se={unknown:xe,nu:_e,windows:Ve(Rt),ios:Ve(dn),android:Ve(ir),linux:Ve(mn),osx:Ve(Zn),solaris:Ve(Pr),freebsd:Ve(Tr),chromeos:Ve(H)},Yt=function(e,n){var a=Qr.browsers(),i=Qr.oses(),s=G.detectBrowser(a,e).fold(Je.unknown,Je.nu),f=G.detectOs(i,e).fold(Se.unknown,Se.nu),g=ei(f,s,e,n);return{browser:s,os:f,deviceType:g}},nr={detect:Yt},ia=function(e){return window.matchMedia(e).matches},ga=Io(function(){return nr.detect(navigator.userAgent,ia)}),Er=function(){return ga()},To=navigator.userAgent,Xa=Er(),aa=Xa.browser,qo=Xa.os,Di=Xa.deviceType,ls=/WebKit/.test(To)&&!aa.isEdge(),Rl="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,ha=To.indexOf("Windows Phone")!==-1,Mr={opera:aa.isOpera(),webkit:ls,ie:aa.isIE()||aa.isEdge()?aa.version.major:!1,gecko:aa.isFirefox(),mac:qo.isOSX()||qo.isiOS(),iOS:Di.isiPad()||Di.isiPhone(),android:qo.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:aa.isIE()?document.documentMode||7:10,fileApi:Rl,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!aa.isIE(),desktop:Di.isDesktop(),windowsPhone:ha,browser:{current:aa.current,version:aa.version,isChrome:aa.isChrome,isEdge:aa.isEdge,isFirefox:aa.isFirefox,isIE:aa.isIE,isOpera:aa.isOpera,isSafari:aa.isSafari},os:{current:qo.current,version:qo.version,isAndroid:qo.isAndroid,isChromeOS:qo.isChromeOS,isFreeBSD:qo.isFreeBSD,isiOS:qo.isiOS,isLinux:qo.isLinux,isOSX:qo.isOSX,isSolaris:qo.isSolaris,isWindows:qo.isWindows},deviceType:{isDesktop:Di.isDesktop,isiPad:Di.isiPad,isiPhone:Di.isiPhone,isPhone:Di.isPhone,isTablet:Di.isTablet,isTouch:Di.isTouch,isWebView:Di.isWebView}},fs=/^\s*|\s*$/g,Uc=function(e){return e==null?"":(""+e).replace(fs,"")},ju=function(e,n){return n?n==="array"&&So(e)?!0:typeof e===n:e!==void 0},xa=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},ku=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},po=function(e,n,a){var i=this,s,f,g,b=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var y=e[3].match(/(^|\.)(\w+)$/i)[2],O=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!O[y]){if(e[2]==="static"){O[y]=n,this.onCreate&&this.onCreate(e[2],e[3],O[y]);return}n[y]||(n[y]=function(){},b=1),O[y]=n[y],i.extend(O[y].prototype,n),e[5]&&(s=i.resolve(e[5]).prototype,f=e[5].match(/\.(\w+)$/i)[1],g=O[y],b?O[y]=function(){return s[f].apply(this,arguments)}:O[y]=function(){return this.parent=s[f],g.apply(this,arguments)},O[y].prototype[y]=O[y],i.each(s,function(P,R){O[y].prototype[R]=s[R]}),i.each(n,function(P,R){s[R]?O[y].prototype[R]=function(){return this.parent=s[R],P.apply(this,arguments)}:R!==y&&(O[y].prototype[R]=P)})),i.each(n.static,function(P,R){O[y][R]=P})}},qu=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var s=n[i];for(var f in s)if(s.hasOwnProperty(f)){var g=s[f];g!==void 0&&(e[f]=g)}}return e},Tu=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),Ja(e,function(s,f){if(n.call(i,s,f,a)===!1)return!1;Tu(s,n,a,i)}))},mi=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},gv=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},F=function(e,n){return!e||ju(e,"array")?e:xo(e.split(n||","),Uc)},fe=function(e){var n=Mr.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},Q={trim:Uc,isArray:So,is:ju,toArray:di,makeMap:xa,each:Ja,map:xo,grep:io,inArray:Pn,hasOwn:ku,extend:qu,create:po,walk:Tu,createNS:mi,resolve:gv,explode:F,_addCacheSuffix:fe},Le=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return q(i.childNodes[0])},At=function(e,n){var a=n||document,i=a.createElement(e);return q(i)},A=function(e,n){var a=n||document,i=a.createTextNode(e);return q(i)},q=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ie=function(e,n,a){return ee.from(e.dom.elementFromPoint(n,a)).map(q)},L={fromHtml:Le,fromTag:At,fromText:A,fromDom:q,fromPoint:ie},ve=function(e,n){var a=[],i=function(f){return a.push(f),n(f)},s=n(e);do s=s.bind(i);while(s.isSome());return a},Kt=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},ur=function(e,n){return Kt(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},un=8,fa=9,Kr=11,na=1,_i=3,gi=function(e,n){var a=e.dom;if(a.nodeType!==na)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Us=function(e){return e.nodeType!==na&&e.nodeType!==fa&&e.nodeType!==Kr||e.childElementCount===0},fu=function(e,n){var a=n===void 0?document:n.dom;return Us(a)?[]:pt(a.querySelectorAll(e),L.fromDom)},pa=function(e,n){var a=n===void 0?document:n.dom;return Us(a)?ee.none():ee.from(a.querySelector(e)).map(L.fromDom)},oa=function(e,n){return e.dom===n.dom},Wc=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},_a=function(e,n){return ur(e.dom,n.dom)},ti=function(e,n){return Er().browser.isIE()?_a(e,n):Wc(e,n)};typeof window!="undefined"||Function("return this;")();var ni=function(e){var n=e.dom.nodeName;return n.toLowerCase()},Bi=function(e){return e.dom.nodeType},wd=function(e){return function(n){return Bi(n)===e}},Me=function(e){return Bi(e)===un||ni(e)==="#comment"},ri=wd(na),hi=wd(_i),Pl=wd(fa),vu=wd(Kr),Aa=function(e){return L.fromDom(e.dom.ownerDocument)},Ua=function(e){return Pl(e)?e:Aa(e)},Ti=function(e){return L.fromDom(Ua(e).dom.documentElement)},dc=function(e){return L.fromDom(Ua(e).dom.defaultView)},pi=function(e){return ee.from(e.dom.parentNode).map(L.fromDom)},si=function(e,n){for(var a=Zt(n)?n:bt,i=e.dom,s=[];i.parentNode!==null&&i.parentNode!==void 0;){var f=i.parentNode,g=L.fromDom(f);if(s.push(g),a(g)===!0)break;i=f}return s},nn=function(e){var n=function(a){return on(a,function(i){return!oa(e,i)})};return pi(e).map(ro).map(n).getOr([])},Ws=function(e){return ee.from(e.dom.previousSibling).map(L.fromDom)},Bs=function(e){return ee.from(e.dom.nextSibling).map(L.fromDom)},hv=function(e){return Wt(ve(e,Ws))},mc=function(e){return ve(e,Bs)},ro=function(e){return pt(e.dom.childNodes,L.fromDom)},yn=function(e,n){var a=e.dom.childNodes;return ee.from(a[n]).map(L.fromDom)},Eu=function(e){return yn(e,0)},jc=function(e){return yn(e,e.dom.childNodes.length-1)},Gu=function(e){return e.dom.childNodes.length},gc=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return L.fromDom(n)},pv=function(e){return vu(e)&&Gt(e.dom.host)},Rs=Zt(Element.prototype.attachShadow)&&Zt(Node.prototype.getRootNode),qc=Ve(Rs),Gc=Rs?function(e){return L.fromDom(e.dom.getRootNode())}:Ua,gf=function(e){return pv(e)?e:gc(Ua(e))},Cd=function(e){var n=Gc(e);return pv(n)?ee.some(n):ee.none()},Ml=function(e){return L.fromDom(e.dom.host)},Zm=function(e){if(qc()&&Gt(e.target)){var n=L.fromDom(e.target);if(ri(n)&&bi(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return vn(a)}}return ee.from(e.target)},bi=function(e){return Gt(e.dom.shadowRoot)},ou=function(e,n){var a=pi(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},bv=function(e,n){var a=Bs(e);a.fold(function(){var i=pi(e);i.each(function(s){Mo(s,n)})},function(i){ou(i,n)})},Sd=function(e,n){var a=Eu(e);a.fold(function(){Mo(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},Mo=function(e,n){e.dom.appendChild(n.dom)},vs=function(e,n){ou(e,n),Mo(n,e)},Eo=function(e,n){ke(n,function(a){ou(e,a)})},hf=function(e,n){ke(n,function(a){Mo(e,a)})},yv=function(e){e.dom.textContent="",ke(ro(e),function(n){ci(n)})},ci=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Qm=function(e){var n=ro(e);n.length>0&&Eo(e,n),ci(e)},hc=function(e){var n=hi(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Cd(L.fromDom(n)).fold(function(){return a.body.contains(n)},qe(hc,Ml))},xd=function(e,n){var a=function(i,s){return xd(e+i,n+s)};return{left:e,top:n,translate:a}},pc=xd,eg=function(e){var n=e.getBoundingClientRect();return pc(n.left,n.top)},bc=function(e,n){return e!==void 0?e:n!==void 0?n:0},kd=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,s=n.documentElement;if(a===e.dom)return pc(a.offsetLeft,a.offsetTop);var f=bc(i==null?void 0:i.pageYOffset,s.scrollTop),g=bc(i==null?void 0:i.pageXOffset,s.scrollLeft),b=bc(s.clientTop,a.clientTop),y=bc(s.clientLeft,a.clientLeft);return wv(e).translate(g-y,f-b)},wv=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?pc(i.offsetLeft,i.offsetTop):hc(e)?eg(n):pc(0,0)},Ou=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return pc(a,i)},Ri=function(e,n,a){var i=a!==void 0?a.dom:document,s=i.defaultView;s&&s.scrollTo(e,n)},Au=function(e,n){var a=Er().browser.isSafari();a&&Zt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Pi=function(e){var n=e===void 0?window:e;return ee.from(n.visualViewport)},pf=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},tg=function(e){var n=e===void 0?window:e,a=n.document,i=Ou(L.fromDom(a));return Pi(n).fold(function(){var s=n.document.documentElement,f=s.clientWidth,g=s.clientHeight;return pf(i.left,i.top,f,g)},function(s){return pf(Math.max(s.pageLeft,i.left),Math.max(s.pageTop,i.top),s.width,s.height)})},ds=function(e){return function(n){return!!n&&n.nodeType===e}},Nl=function(e){return!!e&&!Object.getPrototypeOf(e)},Ur=ds(1),Ku=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return We(n,i)}return!1}},Kc=function(e,n){var a=n.toLowerCase().split(" ");return function(i){var s,f;if(Ur(i))for(s=0;s<a.length;s++){var g=i.ownerDocument.defaultView.getComputedStyle(i,null);if(f=g?g.getPropertyValue(e):null,f===a[s])return!0}return!1}},$h=function(e){return function(n){return Ur(n)&&n.hasAttribute(e)}},Ih=function(e,n){return function(a){return Ur(a)&&a.getAttribute(e)===n}},bf=function(e){return Ur(e)&&e.hasAttribute("data-mce-bogus")},zh=function(e){return Ur(e)&&e.getAttribute("data-mce-bogus")==="all"},Mi=function(e){return Ur(e)&&e.tagName==="TABLE"},Lh=function(e){return function(n){return!!(Ur(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},ng=Ku(["textarea","input"]),$t=ds(3),Hh=ds(8),yf=ds(9),Td=ds(11),Go=Ku(["br"]),Cv=Ku(["img"]),Ps=Lh("true"),lo=Lh("false"),Ko=Ku(["td","th"]),Xu=Ku(["video","audio","object","embed"]),Ed=function(e){return e.style!==void 0&&Zt(e.style.getPropertyValue)},Sv=function(e,n,a){if(ct(a)||ar(a)||Vt(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},ms=function(e,n,a){Sv(e.dom,n,a)},T=function(e,n){var a=e.dom;Gr(n,function(i,s){Sv(a,s,i)})},$=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},U=function(e,n){return ee.from($(e,n))},me=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},Ae=function(e,n){e.dom.removeAttribute(n)},xt=function(e){return Jn(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},sr=function(e,n,a){if(!ct(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Ed(e)&&e.style.setProperty(n,a)},Zr=function(e,n){var a=e.dom;Gr(n,function(i,s){sr(a,s,i)})},Nr=function(e,n){var a=e.dom,i=window.getComputedStyle(a),s=i.getPropertyValue(n);return s===""&&!hc(e)?Xr(a,n):s},Xr=function(e,n){return Ed(e)?e.style.getPropertyValue(n):""},Wa=function(e,n){var a=e.dom,i=Xr(a,n);return ee.from(i).filter(function(s){return s.length>0})},fo=function(e){var n={},a=e.dom;if(Ed(a))for(var i=0;i<a.style.length;i++){var s=a.style.item(i);n[s]=a.style[s]}return n},Vh=function(e){return e.dom.offsetWidth},js=Er().browser,xv=function(e){return Ut(e,ri)},Od=function(e){return js.isFirefox()&&ni(e)==="table"?xv(ro(e)).filter(function(n){return ni(n)==="caption"}).bind(function(n){return xv(mc(n)).map(function(a){var i=a.dom.offsetTop,s=n.dom.offsetTop,f=n.dom.offsetHeight;return i<=s?-f:0})}).getOr(0):0},rg=function(e,n){return e.children&&We(e.children,n)},wf=function(e,n,a){var i=0,s=0,f,g=e.ownerDocument,b;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&Nr(L.fromDom(e),"position")==="static")return b=n.getBoundingClientRect(),i=b.left+(g.documentElement.scrollLeft||e.scrollLeft)-g.documentElement.clientLeft,s=b.top+(g.documentElement.scrollTop||e.scrollTop)-g.documentElement.clientTop,{x:i,y:s};for(f=n;f&&f!==a&&f.nodeType&&!rg(f,a);)i+=f.offsetLeft||0,s+=f.offsetTop||0,f=f.offsetParent;for(f=n.parentNode;f&&f!==a&&f.nodeType&&!rg(f,a);)i-=f.scrollLeft||0,s-=f.scrollTop||0,f=f.parentNode;s+=Od(L.fromDom(n))}return{x:i,y:s}},Fl={},ag={exports:Fl};(function(e,n,a,i){(function(s){if(typeof n=="object"&&typeof a!="undefined")a.exports=s();else if(typeof e=="function"&&e.amd)e([],s);else{var f;typeof window!="undefined"?f=window:typeof BB!="undefined"?f=BB:typeof self!="undefined"?f=self:f=this,f.EphoxContactWrapper=s()}})(function(){return function(){function s(f,g,b){function y(R,M){if(!g[R]){if(!f[R]){var W=typeof i=="function"&&i;if(!M&&W)return W(R,!0);if(O)return O(R,!0);var K=new Error("Cannot find module '"+R+"'");throw K.code="MODULE_NOT_FOUND",K}var J=g[R]={exports:{}};f[R][0].call(J.exports,function(V){var ge=f[R][1][V];return y(ge||V)},J,J.exports,s,f,g,b)}return g[R].exports}for(var O=typeof i=="function"&&i,P=0;P<b.length;P++)y(b[P]);return y}return s}()({1:[function(s,f,g){var b=f.exports={},y,O;function P(){throw new Error("setTimeout has not been defined")}function R(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?y=setTimeout:y=P}catch{y=P}try{typeof clearTimeout=="function"?O=clearTimeout:O=R}catch{O=R}})();function M(gt){if(y===setTimeout)return setTimeout(gt,0);if((y===P||!y)&&setTimeout)return y=setTimeout,setTimeout(gt,0);try{return y(gt,0)}catch{try{return y.call(null,gt,0)}catch{return y.call(this,gt,0)}}}function W(gt){if(O===clearTimeout)return clearTimeout(gt);if((O===R||!O)&&clearTimeout)return O=clearTimeout,clearTimeout(gt);try{return O(gt)}catch{try{return O.call(null,gt)}catch{return O.call(this,gt)}}}var K=[],J=!1,V,ge=-1;function le(){!J||!V||(J=!1,V.length?K=V.concat(K):ge=-1,K.length&&pe())}function pe(){if(!J){var gt=M(le);J=!0;for(var Xt=K.length;Xt;){for(V=K,K=[];++ge<Xt;)V&&V[ge].run();ge=-1,Xt=K.length}V=null,J=!1,W(gt)}}b.nextTick=function(gt){var Xt=new Array(arguments.length-1);if(arguments.length>1)for(var en=1;en<arguments.length;en++)Xt[en-1]=arguments[en];K.push(new we(gt,Xt)),K.length===1&&!J&&M(pe)};function we(gt,Xt){this.fun=gt,this.array=Xt}we.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.browser=!0,b.env={},b.argv=[],b.version="",b.versions={};function Ne(){}b.on=Ne,b.addListener=Ne,b.once=Ne,b.off=Ne,b.removeListener=Ne,b.removeAllListeners=Ne,b.emit=Ne,b.prependListener=Ne,b.prependOnceListener=Ne,b.listeners=function(gt){return[]},b.binding=function(gt){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(gt){throw new Error("process.chdir is not supported")},b.umask=function(){return 0}},{}],2:[function(s,f,g){(function(b){(function(y){var O=setTimeout;function P(){}function R(pe,we){return function(){pe.apply(we,arguments)}}function M(pe){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof pe!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],le(pe,this)}function W(pe,we){for(;pe._state===3;)pe=pe._value;if(pe._state===0){pe._deferreds.push(we);return}pe._handled=!0,M._immediateFn(function(){var Ne=pe._state===1?we.onFulfilled:we.onRejected;if(Ne===null){(pe._state===1?K:J)(we.promise,pe._value);return}var gt;try{gt=Ne(pe._value)}catch(Xt){J(we.promise,Xt);return}K(we.promise,gt)})}function K(pe,we){try{if(we===pe)throw new TypeError("A promise cannot be resolved with itself.");if(we&&(typeof we=="object"||typeof we=="function")){var Ne=we.then;if(we instanceof M){pe._state=3,pe._value=we,V(pe);return}else if(typeof Ne=="function"){le(R(Ne,we),pe);return}}pe._state=1,pe._value=we,V(pe)}catch(gt){J(pe,gt)}}function J(pe,we){pe._state=2,pe._value=we,V(pe)}function V(pe){pe._state===2&&pe._deferreds.length===0&&M._immediateFn(function(){pe._handled||M._unhandledRejectionFn(pe._value)});for(var we=0,Ne=pe._deferreds.length;we<Ne;we++)W(pe,pe._deferreds[we]);pe._deferreds=null}function ge(pe,we,Ne){this.onFulfilled=typeof pe=="function"?pe:null,this.onRejected=typeof we=="function"?we:null,this.promise=Ne}function le(pe,we){var Ne=!1;try{pe(function(gt){Ne||(Ne=!0,K(we,gt))},function(gt){Ne||(Ne=!0,J(we,gt))})}catch(gt){if(Ne)return;Ne=!0,J(we,gt)}}M.prototype.catch=function(pe){return this.then(null,pe)},M.prototype.then=function(pe,we){var Ne=new this.constructor(P);return W(this,new ge(pe,we,Ne)),Ne},M.all=function(pe){var we=Array.prototype.slice.call(pe);return new M(function(Ne,gt){if(we.length===0)return Ne([]);var Xt=we.length;function en(Yn,Nt){try{if(Nt&&(typeof Nt=="object"||typeof Nt=="function")){var Dr=Nt.then;if(typeof Dr=="function"){Dr.call(Nt,function(gn){en(Yn,gn)},gt);return}}we[Yn]=Nt,--Xt===0&&Ne(we)}catch(gn){gt(gn)}}for(var Vn=0;Vn<we.length;Vn++)en(Vn,we[Vn])})},M.resolve=function(pe){return pe&&typeof pe=="object"&&pe.constructor===M?pe:new M(function(we){we(pe)})},M.reject=function(pe){return new M(function(we,Ne){Ne(pe)})},M.race=function(pe){return new M(function(we,Ne){for(var gt=0,Xt=pe.length;gt<Xt;gt++)pe[gt].then(we,Ne)})},M._immediateFn=typeof b=="function"?function(pe){b(pe)}:function(pe){O(pe,0)},M._unhandledRejectionFn=function(we){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",we)},M._setImmediateFn=function(we){M._immediateFn=we},M._setUnhandledRejectionFn=function(we){M._unhandledRejectionFn=we},typeof f!="undefined"&&f.exports?f.exports=M:y.Promise||(y.Promise=M)})(this)}).call(this,s("timers").setImmediate)},{timers:3}],3:[function(s,f,g){(function(b,y){var O=s("process/browser.js").nextTick,P=Function.prototype.apply,R=Array.prototype.slice,M={},W=0;g.setTimeout=function(){return new K(P.call(setTimeout,window,arguments),clearTimeout)},g.setInterval=function(){return new K(P.call(setInterval,window,arguments),clearInterval)},g.clearTimeout=g.clearInterval=function(J){J.close()};function K(J,V){this._id=J,this._clearFn=V}K.prototype.unref=K.prototype.ref=function(){},K.prototype.close=function(){this._clearFn.call(window,this._id)},g.enroll=function(J,V){clearTimeout(J._idleTimeoutId),J._idleTimeout=V},g.unenroll=function(J){clearTimeout(J._idleTimeoutId),J._idleTimeout=-1},g._unrefActive=g.active=function(J){clearTimeout(J._idleTimeoutId);var V=J._idleTimeout;V>=0&&(J._idleTimeoutId=setTimeout(function(){J._onTimeout&&J._onTimeout()},V))},g.setImmediate=typeof b=="function"?b:function(J){var V=W++,ge=arguments.length<2?!1:R.call(arguments,1);return M[V]=!0,O(function(){M[V]&&(ge?J.apply(null,ge):J.call(null),g.clearImmediate(V))}),V},g.clearImmediate=typeof y=="function"?y:function(J){delete M[J]}}).call(this,s("timers").setImmediate,s("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(s,f,g){var b=s("promise-polyfill"),y=function(){return typeof window!="undefined"?window:Function("return this;")()}();f.exports={boltExport:y.Promise||b}},{"promise-polyfill":2}]},{},[4])(4)})})(void 0,Fl,ag,void 0);var og=ag.exports.boltExport,ub=function(e){var n=ee.none(),a=[],i=function(O){return ub(function(P){s(function(R){P(O(R))})})},s=function(O){g()?y(O):a.push(O)},f=function(O){g()||(n=ee.some(O),b(a),a=[])},g=function(){return n.isSome()},b=function(O){ke(O,y)},y=function(O){n.each(function(P){setTimeout(function(){O(P)},0)})};return e(f),{get:s,map:i,isReady:g}},Ad=function(e){return ub(function(n){n(e)})},ig={nu:ub,pure:Ad},ug=function(e){setTimeout(function(){throw e},0)},Cf=function(e){var n=function(y){e().then(y,ug)},a=function(y){return Cf(function(){return e().then(y)})},i=function(y){return Cf(function(){return e().then(function(O){return y(O).toPromise()})})},s=function(y){return Cf(function(){return e().then(function(){return y.toPromise()})})},f=function(){return ig.nu(n)},g=function(){var y=null;return Cf(function(){return y===null&&(y=e()),y})},b=e;return{map:a,bind:i,anonBind:s,toLazy:f,toCached:g,toPromise:b,get:n}},lx=function(e){return Cf(function(){return new og(e)})},Xo=function(e){return Cf(function(){return og.resolve(e)})},sb={nu:lx,pure:Xo},Xc=function(e,n){return n(function(a){var i=[],s=0,f=function(g){return function(b){i[g]=b,s++,s>=e.length&&a(i)}};e.length===0?a([]):ke(e,function(g,b){g.get(f(b))})})},cb=function(e){return Xc(e,sb.nu)},Yc=function(e){var n=function(M){return e===M},a=function(M){return Yc(e)},i=function(M){return Yc(e)},s=function(M){return Yc(M(e))},f=function(M){return Yc(e)},g=function(M){M(e)},b=function(M){return M(e)},y=function(M,W){return W(e)},O=function(M){return M(e)},P=function(M){return M(e)},R=function(){return ee.some(e)};return{is:n,isValue:or,isError:bt,getOr:Ve(e),getOrThunk:Ve(e),getOrDie:Ve(e),or:a,orThunk:i,fold:y,map:s,mapError:f,each:g,bind:b,exists:O,forall:P,toOptional:R}},gs=function(e){var n=function(O){return O()},a=function(){return E(String(e))()},i=function(O){return O},s=function(O){return O()},f=function(O){return gs(e)},g=function(O){return gs(O(e))},b=function(O){return gs(e)},y=function(O,P){return O(e)};return{is:bt,isValue:bt,isError:or,getOr:Ft,getOrThunk:n,getOrDie:a,or:i,orThunk:s,fold:y,map:f,mapError:g,each:se,bind:b,exists:bt,forall:or,toOptional:ee.none}},Du=function(e,n){return e.fold(function(){return gs(n)},Yc)},Dd={value:Yc,error:gs,fromOption:Du},_d=function(e){if(!re(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return ke(e,function(i,s){var f=Na(i);if(f.length!==1)throw new Error("one and only one name per case");var g=f[0],b=i[g];if(a[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!re(b))throw new Error("case arguments must be an array");n.push(g),a[g]=function(){for(var y=[],O=0;O<arguments.length;O++)y[O]=arguments[O];var P=y.length;if(P!==b.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+b.length+" ("+b+"), got "+P);var R=function(M){var W=Na(M);if(n.length!==W.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+W.join(","));var K=mt(n,function(J){return We(W,J)});if(!K)throw new Error("Not all branches were specified when using match. Specified: "+W.join(", ")+`
Required: `+n.join(", "));return M[g].apply(null,y)};return{fold:function(){for(var M=[],W=0;W<arguments.length;W++)M[W]=arguments[W];if(M.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+M.length);var K=M[s];return K.apply(null,y)},match:R,log:function(M){console.log(M,{constructors:n,constructor:g,params:y})}}}}),a},Sf={generate:_d};Sf.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var sg=function(e){return e.fold(Ft,Ft)};function cg(e,n,a,i,s){return e(a,i)?ee.some(a):Zt(s)&&s(a)?ee.none():n(a,i,s)}var xf=function(e,n,a){for(var i=e.dom,s=Zt(a)?a:bt;i.parentNode;){i=i.parentNode;var f=L.fromDom(i);if(n(f))return ee.some(f);if(s(f))break}return ee.none()},Uh=function(e,n,a){var i=function(s,f){return f(s)};return cg(i,xf,e,n,a)},$l=function(e,n){var a=e.dom;return a.parentNode?lg(L.fromDom(a.parentNode),function(i){return!oa(e,i)&&n(i)}):ee.none()},lg=function(e,n){var a=function(s){return n(L.fromDom(s))},i=Ut(e.dom.childNodes,a);return i.map(L.fromDom)},Il=function(e,n,a){return xf(e,function(i){return gi(i,n)},a)},Jc=function(e,n){return pa(n,e)},kv=function(e,n,a){var i=function(s,f){return gi(s,f)};return cg(i,Il,e,n,a)},Bd=function(){var e=function(P,R){return function(){for(var M=[],W=0;W<arguments.length;W++)M[W]=arguments[W];P.apply(R,M)}},n=Array.isArray||function(P){return Object.prototype.toString.call(P)==="[object Array]"},a=function(P){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof P!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],O(P,e(f,this),e(g,this))},i=a.immediateFn||typeof setImmediate=="function"&&setImmediate||function(P){return setTimeout(P,1)};function s(P){var R=this;if(this._state===null){this._deferreds.push(P);return}i(function(){var M=R._state?P.onFulfilled:P.onRejected;if(M===null){(R._state?P.resolve:P.reject)(R._value);return}var W;try{W=M(R._value)}catch(K){P.reject(K);return}P.resolve(W)})}function f(P){try{if(P===this)throw new TypeError("A promise cannot be resolved with itself.");if(P&&(typeof P=="object"||typeof P=="function")){var R=P.then;if(typeof R=="function"){O(e(R,P),e(f,this),e(g,this));return}}this._state=!0,this._value=P,b.call(this)}catch(M){g.call(this,M)}}function g(P){this._state=!1,this._value=P,b.call(this)}function b(){for(var P=0,R=this._deferreds.length;P<R;P++)s.call(this,this._deferreds[P]);this._deferreds=null}function y(P,R,M,W){this.onFulfilled=typeof P=="function"?P:null,this.onRejected=typeof R=="function"?R:null,this.resolve=M,this.reject=W}var O=function(P,R,M){var W=!1;try{P(function(K){W||(W=!0,R(K))},function(K){W||(W=!0,M(K))})}catch(K){if(W)return;W=!0,M(K)}};return a.prototype.catch=function(P){return this.then(null,P)},a.prototype.then=function(P,R){var M=this;return new a(function(W,K){s.call(M,new y(P,R,W,K))})},a.all=function(){for(var P=[],R=0;R<arguments.length;R++)P[R]=arguments[R];var M=Array.prototype.slice.call(P.length===1&&n(P[0])?P[0]:P);return new a(function(W,K){if(M.length===0)return W([]);for(var J=M.length,V=function(le,pe){try{if(pe&&(typeof pe=="object"||typeof pe=="function")){var we=pe.then;if(typeof we=="function"){we.call(pe,function(Ne){V(le,Ne)},K);return}}M[le]=pe,--J===0&&W(M)}catch(Ne){K(Ne)}},ge=0;ge<M.length;ge++)V(ge,M[ge])})},a.resolve=function(P){return P&&typeof P=="object"&&P.constructor===a?P:new a(function(R){R(P)})},a.reject=function(P){return new a(function(R,M){M(P)})},a.race=function(P){return new a(function(R,M){for(var W=0,K=P.length;W<K;W++)P[W].then(R,M)})},a},Ni=window.Promise?window.Promise:Bd(),Wh,jh=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],s=function(g){window.setTimeout(g,0)},f=0;f<i.length&&!a;f++)a=window[i[f]+"RequestAnimationFrame"];a||(a=s),a(e,n)},fg=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},kf=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},mw=function(e){return clearTimeout(e)},lb=function(e){return clearInterval(e)},va=function(e,n){var a,i=function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];clearTimeout(a),a=fg(function(){e.apply(this,s)},n)};return i.stop=function(){clearTimeout(a)},i},Hn={requestAnimationFrame:function(e,n){if(Wh){Wh.then(e);return}Wh=new Ni(function(a){n||(n=document.body),jh(a,n)}).then(e)},setTimeout:fg,setInterval:kf,setEditorTimeout:function(e,n,a){return fg(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=kf(function(){e.removed?clearInterval(i):n()},a);return i},debounce:va,throttle:va,clearInterval:lb,clearTimeout:mw},Tf=function(e,n){n===void 0&&(n={});var a=0,i={},s=L.fromDom(e),f=Ua(s),g=n.maxLoadTime||5e3,b=function(V){n.referrerPolicy=V},y=function(V){Mo(gf(s),V)},O=function(V){var ge=gf(s);Jc(ge,"#"+V).each(ci)},P=function(V){return Rr(i,V).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},R=function(V,ge,le){var pe,we=Q._addCacheSuffix(V),Ne=P(we);i[we]=Ne,Ne.count++;var gt=function(gn,Un){for(var rn=gn.length;rn--;)gn[rn]();Ne.status=Un,Ne.passed=[],Ne.failed=[],pe&&(pe.onload=null,pe.onerror=null,pe=null)},Xt=function(){return gt(Ne.passed,2)},en=function(){return gt(Ne.failed,3)},Vn=function(gn,Un){gn()||(Date.now()-Dr<g?Hn.setTimeout(Un):en())},Yn=function(){Vn(function(){for(var gn=e.styleSheets,Un=gn.length;Un--;){var rn=gn[Un],kn=rn.ownerNode;if(kn&&kn.id===pe.id)return Xt(),!0}return!1},Yn)};if(ge&&Ne.passed.push(ge),le&&Ne.failed.push(le),Ne.status!==1){if(Ne.status===2){Xt();return}if(Ne.status===3){en();return}Ne.status=1;var Nt=L.fromTag("link",f.dom);T(Nt,{rel:"stylesheet",type:"text/css",id:Ne.id});var Dr=Date.now();n.contentCssCors&&ms(Nt,"crossOrigin","anonymous"),n.referrerPolicy&&ms(Nt,"referrerpolicy",n.referrerPolicy),pe=Nt.dom,pe.onload=Yn,pe.onerror=en,y(Nt),ms(Nt,"href",we)}},M=function(V){return sb.nu(function(ge){R(V,Z(ge,Ve(Dd.value(V))),Z(ge,Ve(Dd.error(V))))})},W=function(V,ge,le){cb(pt(V,M)).get(function(pe){var we=br(pe,function(Ne){return Ne.isValue()});we.fail.length>0?le(we.fail.map(sg)):ge(we.pass.map(sg))})},K=function(V){var ge=Q._addCacheSuffix(V);Rr(i,ge).each(function(le){var pe=--le.count;pe===0&&(delete i[ge],O(le.id))})},J=function(V){ke(V,function(ge){K(ge)})};return{load:R,loadAll:W,unload:K,unloadAll:J,_setReferrerPolicy:b}},qh=function(){var e=new WeakMap,n=function(a,i){var s=Gc(a),f=s.dom;return ee.from(e.get(f)).getOrThunk(function(){var g=Tf(f,i);return e.set(f,g),g})};return{forElement:n}},vg=qh(),yi=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,s){var f,g;if(n){if(!s&&n[a])return n[a];if(n!==this.rootNode){if(f=n[i],f)return f;for(g=n.parentNode;g&&g!==this.rootNode;g=g.parentNode)if(f=g[i],f)return f}}},e.prototype.findPreviousNode=function(n,a,i,s){var f,g,b;if(n){if(f=n[i],this.rootNode&&f===this.rootNode)return;if(f){if(!s){for(b=f[a];b;b=b[a])if(!b[a])return b}return f}if(g=n.parentNode,g&&g!==this.rootNode)return g}},e}(),ba=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Gh=["td","th"],fb=["thead","tbody","tfoot"],vb=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Et=["h1","h2","h3","h4","h5","h6"],db=["li","dd","dt"],gw=["ul","ol","dl"],Kh=["pre","script","textarea","style"],zl=function(e){var n;return function(a){return n=n||gr(e,or),n.hasOwnProperty(ni(a))}},Ll=zl(Et),Ms=zl(ba),Ef=function(e){return ni(e)==="table"},yc=function(e){return ri(e)&&!Ms(e)},wc=function(e){return ri(e)&&ni(e)==="br"},Oo=zl(vb),Yu=zl(gw),dg=zl(db),Zc=zl(fb),hs=zl(Gh),mg=zl(Kh),gg=function(e,n,a){return Il(e,n,a).isSome()},Qc="\uFEFF",Fi="\xA0",mb=function(e){return e===Qc},fx=function(e){return e.replace(/\uFEFF/g,"")},Ao=Qc,Of=mb,el=fx,Rd=Ur,$i=$t,Pd=function(e){return $i(e)&&(e=e.parentNode),Rd(e)&&e.hasAttribute("data-mce-caret")},Hl=function(e){return $i(e)&&Of(e.data)},_u=function(e){return Pd(e)||Hl(e)},qs=function(e){return e.firstChild!==e.lastChild||!Go(e.firstChild)},gb=function(e,n){var a,i=e.ownerDocument,s=i.createTextNode(Ao),f=e.parentNode;if(n){if(a=e.previousSibling,$i(a)){if(_u(a))return a;if(Tv(a))return a.splitText(a.data.length-1)}f.insertBefore(s,e)}else{if(a=e.nextSibling,$i(a)){if(_u(a))return a;if(li(a))return a.splitText(1),a}e.nextSibling?f.insertBefore(s,e.nextSibling):f.appendChild(s)}return s},hb=function(e){var n=e.container();return $t(n)?n.data.charAt(e.offset())===Ao||e.isAtStart()&&Hl(n.previousSibling):!1},hg=function(e){var n=e.container();return $t(n)?n.data.charAt(e.offset()-1)===Ao||e.isAtEnd()&&Hl(n.nextSibling):!1},pb=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},vx=function(e,n,a){var i=n.ownerDocument,s=i.createElement(e);s.setAttribute("data-mce-caret",a?"before":"after"),s.setAttribute("data-mce-bogus","all"),s.appendChild(pb());var f=n.parentNode;return a?f.insertBefore(s,n):n.nextSibling?f.insertBefore(s,n.nextSibling):f.appendChild(s),s},li=function(e){return $i(e)&&e.data[0]===Ao},Tv=function(e){return $i(e)&&e.data[e.data.length-1]===Ao},dx=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];bf(a)&&a.parentNode.removeChild(a)},Xh=function(e){return e&&e.hasAttribute("data-mce-caret")?(dx(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},bb=function(e){return Pd(e.startContainer)},pg=Ps,yb=lo,Yh=Go,hw=$t,pw=Ku(["script","style","textarea"]),Bu=Ku(["img","input","textarea","hr","iframe","video","audio","object","embed"]),mx=Ku(["table"]),gx=_u,Cc=function(e){return gx(e)?!1:hw(e)?!pw(e.parentNode):Bu(e)||Yh(e)||mx(e)||tl(e)},wb=function(e){return Ur(e)&&e.getAttribute("unselectable")==="true"},tl=function(e){return wb(e)===!1&&yb(e)},Ev=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(tl(e))return!1;if(pg(e))return!0}return!0},bw=function(e){return tl(e)?Jn(qr(e.getElementsByTagName("*")),function(n,a){return n||pg(a)},!1)!==!0:!1},Cb=function(e){return Bu(e)||bw(e)},Af=function(e,n){return Cc(e)&&Ev(e,n)},hx=/^[ \t\r\n]*$/,Df=function(e){return hx.test(e)},ya=function(e,n){var a=L.fromDom(n),i=L.fromDom(e);return gg(i,"pre,code",st(oa,a))},yw=function(e,n){return $t(e)&&Df(e.data)&&ya(e,n)===!1},du=function(e){return Ur(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},nl=function(e,n){return Cc(e)&&yw(e,n)===!1||du(e)||ww(e)},ww=$h("data-mce-bookmark"),Ju=$h("data-mce-bogus"),px=Ih("data-mce-bogus","all"),bx=function(e,n){var a,i=0;if(nl(e,e))return!1;if(a=e.firstChild,!a)return!0;var s=new yi(a,e);do{if(n){if(px(a)){a=s.next(!0);continue}if(Ju(a)){a=s.next();continue}}if(Go(a)){i++,a=s.next();continue}if(nl(a,e))return!1;a=s.next()}while(a);return i<=1},ps=function(e,n){return n===void 0&&(n=!0),bx(e.dom,n)},_f=function(e){return e.nodeName.toLowerCase()==="span"},Cw=function(e,n){return Gt(e)&&(nl(e,n)||yc(L.fromDom(e)))},Sw=function(e,n){var a=new yi(e,n).prev(!1),i=new yi(e,n).next(!1),s=qn(a)||Cw(a,n),f=qn(i)||Cw(i,n);return s&&f},Sb=function(e){return _f(e)&&e.getAttribute("data-mce-type")==="bookmark"},xw=function(e,n){return $t(e)&&e.data.length>0&&Sw(e,n)},Qn=function(e){return Ur(e)?e.childNodes.length>0:!1},yx=function(e){return Td(e)||yf(e)},Jh=function(e,n,a){var i=a||n;if(Ur(n)&&Sb(n))return n;for(var s=n.childNodes,f=s.length-1;f>=0;f--)Jh(e,s[f],i);if(Ur(n)){var g=n.childNodes;g.length===1&&Sb(g[0])&&n.parentNode.insertBefore(g[0],n)}return!yx(n)&&!nl(n,i)&&!Qn(n)&&!xw(n,i)&&e.remove(n),n},wx=Q.makeMap,Ov=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Md=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zh=/[<>&\"\']/g,bg=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,yg={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},Vl={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},wg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Cx=function(e){var n=L.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},kw=function(e,n){var a,i,s,f={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),Vl[i]||(s="&"+e[a+1]+";",f[i]=s,f[s]=i);return f}},mu=kw("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Cg=function(e,n){return e.replace(n?Ov:Md,function(a){return Vl[a]||a})},Tw=function(e){return(""+e).replace(Zh,function(n){return Vl[n]||n})},Sg=function(e,n){return e.replace(n?Ov:Md,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":Vl[a]||"&#"+a.charCodeAt(0)+";"})},Qh=function(e,n,a){return a=a||mu,e.replace(n?Ov:Md,function(i){return Vl[i]||a[i]||i})},Sx=function(e,n){var a=kw(n)||mu,i=function(g,b){return g.replace(b?Ov:Md,function(y){return Vl[y]!==void 0?Vl[y]:a[y]!==void 0?a[y]:y.length>1?"&#"+((y.charCodeAt(0)-55296)*1024+(y.charCodeAt(1)-56320)+65536)+";":"&#"+y.charCodeAt(0)+";"})},s=function(g,b){return Qh(g,b,a)},f=wx(e.replace(/\+/g,","));return f.named&&f.numeric?i:f.named?n?s:Qh:f.numeric?Sg:Cg},Ul=function(e){return e.replace(bg,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):yg[a]||String.fromCharCode(a)):wg[n]||mu[n]||Cx(n)})},gu={encodeRaw:Cg,encodeAllRaw:Tw,encodeNumeric:Sg,encodeNamed:Qh,getEncodeFunc:Sx,decode:Ul},Ii={},xx={},Nd=Q.makeMap,hu=Q.each,ep=Q.extend,Ns=Q.explode,Ew=Q.inArray,zo=function(e,n){return e=Q.trim(e),e?e.split(n||" "):[]},kx=function(e){var n={},a,i,s,f,g,b,y=function(P,R,M){var W,K,J,V=function(le,pe){var we={},Ne,gt;for(Ne=0,gt=le.length;Ne<gt;Ne++)we[le[Ne]]=pe||{};return we};M=M||[],R=R||"",typeof M=="string"&&(M=zo(M));var ge=zo(P);for(W=ge.length;W--;)K=zo([a,R].join(" ")),J={attributes:V(K),attributesOrder:K,children:V(M,xx)},n[ge[W]]=J},O=function(P,R){var M,W,K,J,V=zo(P);M=V.length;for(var ge=zo(R);M--;)for(W=n[V[M]],K=0,J=ge.length;K<J;K++)W.attributes[ge[K]]={},W.attributesOrder.push(ge[K])};return Ii[e]?Ii[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",s="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",s+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",b="acronym applet basefont big font strike tt",s=[s,b].join(" "),hu(zo(b),function(P){y(P,"",s)}),g="center dir isindex noframes",i=[i,g].join(" "),f=[i,s].join(" "),hu(zo(g),function(P){y(P,"",f)})),f=f||[i,s].join(" "),y("html","manifest","head body"),y("head","","base command link meta noscript script style title"),y("title hr noscript br"),y("base","href target"),y("link","href rel media hreflang type sizes hreflang"),y("meta","name http-equiv content charset"),y("style","media type scoped"),y("script","src async defer type charset"),y("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),y("address dt dd div caption","",f),y("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",s),y("blockquote","cite",f),y("ol","reversed start type","li"),y("ul","","li"),y("li","value",f),y("dl","","dt dd"),y("a","href target rel media hreflang type",s),y("q","cite",s),y("ins del","cite datetime",f),y("img","src sizes srcset alt usemap ismap width height"),y("iframe","src name width height",f),y("embed","src type width height"),y("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),y("param","name value"),y("map","name",[f,"area"].join(" ")),y("area","alt coords shape href target rel media hreflang type"),y("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),y("colgroup","span","col"),y("col","span"),y("tbody thead tfoot","","tr"),y("tr","","td th"),y("td","colspan rowspan headers",f),y("th","colspan rowspan headers scope abbr",f),y("form","accept-charset action autocomplete enctype method name novalidate target",f),y("fieldset","disabled form name",[f,"legend"].join(" ")),y("label","form for",s),y("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),y("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?f:s),y("select","disabled form multiple name required size","option optgroup"),y("optgroup","disabled label","option"),y("option","disabled label selected value"),y("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),y("menu","type label",[f,"li"].join(" ")),y("noscript","",f),e!=="html4"&&(y("wbr"),y("ruby","",[s,"rt rp"].join(" ")),y("figcaption","",f),y("mark rt rp summary bdi","",s),y("canvas","width height",f),y("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),y("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),y("picture","","img source"),y("source","src srcset type media sizes"),y("track","kind src srclang label default"),y("datalist","",[s,"option"].join(" ")),y("article section nav aside main header footer","",f),y("hgroup","","h1 h2 h3 h4 h5 h6"),y("figure","",[f,"figcaption"].join(" ")),y("time","datetime",s),y("dialog","open",f),y("command","type label icon disabled checked radiogroup command"),y("output","for form name",s),y("progress","value max",s),y("meter","value min max low high optimum",s),y("details","open",[f,"summary"].join(" ")),y("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(O("script","language xml:space"),O("style","xml:space"),O("object","declare classid code codebase codetype archive standby align border hspace vspace"),O("embed","align name hspace vspace"),O("param","valuetype type"),O("a","charset name rev shape coords"),O("br","clear"),O("applet","codebase archive code object alt name width height align hspace vspace"),O("img","name longdesc align border hspace vspace"),O("iframe","longdesc frameborder marginwidth marginheight scrolling align"),O("font basefont","size color face"),O("input","usemap align"),O("select"),O("textarea"),O("h1 h2 h3 h4 h5 h6 div p legend caption","align"),O("ul","type compact"),O("li","type"),O("ol dl menu dir","compact"),O("pre","width xml:space"),O("hr","align noshade size width"),O("isindex","prompt"),O("table","summary width frame rules cellspacing cellpadding align bgcolor"),O("col","width align char charoff valign"),O("colgroup","width align char charoff valign"),O("thead","align char charoff valign"),O("tr","align char charoff valign bgcolor"),O("th","axis align char charoff valign nowrap bgcolor width height"),O("form","accept"),O("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),O("tfoot","align char charoff valign"),O("tbody","align char charoff valign"),O("area","nohref"),O("body","background bgcolor text link vlink alink")),e!=="html4"&&(O("input button select textarea","autofocus"),O("input textarea","placeholder"),O("a","download"),O("link script img","crossorigin"),O("img","loading"),O("iframe","sandbox seamless allowfullscreen loading")),hu(zo("a form meter progress dfn"),function(P){n[P]&&delete n[P].children[P]}),delete n.caption.children.table,delete n.script,Ii[e]=n,n)},xb=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),hu(e,function(i,s){a[s]=a[s.toUpperCase()]=n==="map"?Nd(i,/[, ]/):Ns(i,/[, ]/)})),a},Wl=function(e){var n={},a={},i=[],s={},f={},g=function(Bt,at,kt){var rt=e[Bt];return rt?rt=Nd(rt,/[, ]/,Nd(rt.toUpperCase(),/[, ]/)):(rt=Ii[Bt],rt||(rt=Nd(at," ",Nd(at.toUpperCase()," ")),rt=ep(rt,kt),Ii[Bt]=rt)),rt};e=e||{};var b=kx(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var y=xb(e.valid_styles),O=xb(e.invalid_styles,"map"),P=xb(e.valid_classes,"map"),R=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),M=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),W=g("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),K=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),J="td th iframe video audio object script code",V=g("non_empty_elements",J+" pre",W),ge=g("move_caret_before_on_enter_elements",J+" table",W),le=g("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),pe=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",le),we=g("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");hu((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Bt){f[Bt]=new RegExp("</"+Bt+"[^>]*>","gi")});var Ne=function(Bt){return new RegExp("^"+Bt.replace(/([?+*])/g,".$1")+"$")},gt=function(Bt){var at,kt,rt,Tn,An,_r,ra,yo,au,ss,bd,Ki,Xi,Vo,ff,As,uo,no,lu=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,vf=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,sc=/[*?+]/;if(Bt){var cc=zo(Bt,",");for(n["@"]&&(As=n["@"].attributes,uo=n["@"].attributesOrder),at=0,kt=cc.length;at<kt;at++)if(An=lu.exec(cc[at]),An){if(Vo=An[1],au=An[2],ff=An[3],yo=An[5],Ki={},Xi=[],_r={attributes:Ki,attributesOrder:Xi},Vo==="#"&&(_r.paddEmpty=!0),Vo==="-"&&(_r.removeEmpty=!0),An[4]==="!"&&(_r.removeEmptyAttrs=!0),As&&(Gr(As,function(yd,Mh){Ki[Mh]=yd}),Xi.push.apply(Xi,uo)),yo){for(yo=zo(yo,"|"),rt=0,Tn=yo.length;rt<Tn;rt++)if(An=vf.exec(yo[rt]),An){if(ra={},bd=An[1],ss=An[2].replace(/[\\:]:/g,":"),Vo=An[3],no=An[4],bd==="!"&&(_r.attributesRequired=_r.attributesRequired||[],_r.attributesRequired.push(ss),ra.required=!0),bd==="-"){delete Ki[ss],Xi.splice(Ew(Xi,ss),1);continue}Vo&&(Vo==="="&&(_r.attributesDefault=_r.attributesDefault||[],_r.attributesDefault.push({name:ss,value:no}),ra.defaultValue=no),Vo===":"&&(_r.attributesForced=_r.attributesForced||[],_r.attributesForced.push({name:ss,value:no}),ra.forcedValue=no),Vo==="<"&&(ra.validValues=Nd(no,"?"))),sc.test(ss)?(_r.attributePatterns=_r.attributePatterns||[],ra.pattern=Ne(ss),_r.attributePatterns.push(ra)):(Ki[ss]||Xi.push(ss),Ki[ss]=ra)}}!As&&au==="@"&&(As=Ki,uo=Xi),ff&&(_r.outputName=au,n[ff]=_r),sc.test(au)?(_r.pattern=Ne(au),i.push(_r)):n[au]=_r}}},Xt=function(Bt){n={},i=[],gt(Bt),hu(b,function(at,kt){a[kt]=at.children})},en=function(Bt){var at=/^(~)?(.+)$/;Bt&&(Ii.text_block_elements=Ii.block_elements=null,hu(zo(Bt,","),function(kt){var rt=at.exec(kt),Tn=rt[1]==="~",An=Tn?"span":"div",_r=rt[2];if(a[_r]=a[An],s[_r]=An,Tn||(pe[_r.toUpperCase()]={},pe[_r]={}),!n[_r]){var ra=n[An];ra=ep({},ra),delete ra.removeEmptyAttrs,delete ra.removeEmpty,n[_r]=ra}hu(a,function(yo,au){yo[An]&&(a[au]=yo=ep({},a[au]),yo[_r]=yo[An])})}))},Vn=function(Bt){var at=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Ii[e.schema]=null,Bt&&hu(zo(Bt,","),function(kt){var rt=at.exec(kt),Tn,An;rt&&(An=rt[1],An?Tn=a[rt[2]]:Tn=a[rt[2]]={"#comment":{}},Tn=a[rt[2]],hu(zo(rt[3],"|"),function(_r){An==="-"?delete Tn[_r]:Tn[_r]={}}))})},Yn=function(Bt){var at=n[Bt],kt;if(at)return at;for(kt=i.length;kt--;)if(at=i[kt],at.pattern.test(Bt))return at};e.valid_elements?Xt(e.valid_elements):(hu(b,function(Bt,at){n[at]={attributes:Bt.attributes,attributesOrder:Bt.attributesOrder},a[at]=Bt.children}),e.schema!=="html5"&&hu(zo("strong/b em/i"),function(Bt){var at=zo(Bt,"/");n[at[1]].outputName=at[0]}),hu(zo("ol ul sub sup blockquote span font a table tbody strong em b i"),function(Bt){n[Bt]&&(n[Bt].removeEmpty=!0)}),hu(zo("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Bt){n[Bt].paddEmpty=!0}),hu(zo("span"),function(Bt){n[Bt].removeEmptyAttrs=!0})),en(e.custom_elements),Vn(e.valid_children),gt(e.extended_valid_elements),Vn("+ol[ul|ol],+ul[ul|ol]"),hu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Bt,at){n[at]&&(n[at].parentsRequired=zo(Bt))}),e.invalid_elements&&hu(Ns(e.invalid_elements),function(Bt){n[Bt]&&delete n[Bt]}),Yn("span")||gt("span[!data-mce-type|*]");var Nt=function(){return y},Dr=function(){return O},gn=function(){return P},Un=function(){return K},rn=function(){return pe},kn=function(){return le},In=function(){return we},It=function(){return W},Fn=function(){return M},Sa=function(){return V},to=function(){return ge},za=function(){return R},vi=function(){return f},Jo=function(Bt,at){var kt=a[Bt.toLowerCase()];return!!(kt&&kt[at.toLowerCase()])},us=function(Bt,at){var kt,rt,Tn=Yn(Bt);if(Tn)if(at){if(Tn.attributes[at])return!0;if(kt=Tn.attributePatterns,kt){for(rt=kt.length;rt--;)if(kt[rt].pattern.test(Bt))return!0}}else return!0;return!1},Uu=function(){return s};return{children:a,elements:n,getValidStyles:Nt,getValidClasses:gn,getBlockElements:rn,getInvalidStyles:Dr,getShortEndedElements:It,getTextBlockElements:kn,getTextInlineElements:In,getBoolAttrs:Un,getElementRule:Yn,getSelfClosingElements:Fn,getNonEmptyElements:Sa,getMoveCaretBeforeOnEnterElements:to,getWhiteSpaceElements:za,getSpecialElements:vi,isValidChild:Jo,isValid:us,getCustomElements:Uu,addValidElements:gt,setValidElements:Xt,addCustomElements:en,addValidChildren:Vn}},xg=function(e,n,a,i){var s=function(f){return f=parseInt(f,10).toString(16),f.length>1?f:"0"+f};return"#"+s(n)+s(a)+s(i)},Av=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,g=/\s+$/,b,y={},O,P,R=Qc;e=e||{},n&&(O=n.getValidStyles(),P=n.getInvalidStyles());var M=(`\\" \\' \\; \\: ; : `+R).split(" ");for(b=0;b<M.length;b++)y[M[b]]=R+b,y[R+b]=M[b];return{toHex:function(W){return W.replace(i,xg)},parse:function(W){var K={},J,V,ge,le,pe=e.url_converter,we=e.url_converter_scope||a,Ne=function(gn,Un,rn){var kn=K[gn+"-top"+Un];if(!!kn){var In=K[gn+"-right"+Un];if(!!In){var It=K[gn+"-bottom"+Un];if(!!It){var Fn=K[gn+"-left"+Un];if(!!Fn){var Sa=[kn,In,It,Fn];for(b=Sa.length-1;b--&&Sa[b]===Sa[b+1];);b>-1&&rn||(K[gn+Un]=b===-1?Sa[0]:Sa.join(" "),delete K[gn+"-top"+Un],delete K[gn+"-right"+Un],delete K[gn+"-bottom"+Un],delete K[gn+"-left"+Un])}}}}},gt=function(gn){var Un=K[gn],rn;if(!!Un){for(Un=Un.split(" "),rn=Un.length;rn--;)if(Un[rn]!==Un[0])return!1;return K[gn]=Un[0],!0}},Xt=function(gn,Un,rn,kn){!gt(Un)||!gt(rn)||!gt(kn)||(K[gn]=K[Un]+" "+K[rn]+" "+K[kn],delete K[Un],delete K[rn],delete K[kn])},en=function(gn){return le=!0,y[gn]},Vn=function(gn,Un){return le&&(gn=gn.replace(/\uFEFF[0-9]/g,function(rn){return y[rn]})),Un||(gn=gn.replace(/\\([\'\";:])/g,"$1")),gn},Yn=function(gn){return String.fromCharCode(parseInt(gn.slice(1),16))},Nt=function(gn){return gn.replace(/\\[0-9a-f]+/gi,Yn)},Dr=function(gn,Un,rn,kn,In,It){if(In=In||It,In)return In=Vn(In),"'"+In.replace(/\'/g,"\\'")+"'";if(Un=Vn(Un||rn||kn),!e.allow_script_urls){var Fn=Un.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Fn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Fn))return""}return pe&&(Un=pe.call(we,Un,"style")),"url('"+Un.replace(/\'/g,"\\'")+"')"};if(W){for(W=W.replace(/[\u0000-\u001F]/g,""),W=W.replace(/\\[\"\';:\uFEFF]/g,en).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(gn){return gn.replace(/[;:]/g,en)});J=f.exec(W);)if(f.lastIndex=J.index+J[0].length,V=J[1].replace(g,"").toLowerCase(),ge=J[2].replace(g,""),V&&ge){if(V=Nt(V),ge=Nt(ge),V.indexOf(R)!==-1||V.indexOf('"')!==-1||!e.allow_script_urls&&(V==="behavior"||/expression\s*\(|\/\*|\*\//.test(ge)))continue;V==="font-weight"&&ge==="700"?ge="bold":(V==="color"||V==="background-color")&&(ge=ge.toLowerCase()),ge=ge.replace(i,xg),ge=ge.replace(s,Dr),K[V]=le?Vn(ge,!0):ge}Ne("border","",!0),Ne("border","-width"),Ne("border","-color"),Ne("border","-style"),Ne("padding",""),Ne("margin",""),Xt("border","border-width","border-style","border-color"),K.border==="medium none"&&delete K.border,K["border-image"]==="none"&&delete K["border-image"]}return K},serialize:function(W,K){var J="",V=function(le){var pe,we=O[le];if(we)for(var Ne=0,gt=we.length;Ne<gt;Ne++)le=we[Ne],pe=W[le],pe&&(J+=(J.length>0?" ":"")+le+": "+pe+";")},ge=function(le,pe){var we=P["*"];return we&&we[le]?!1:(we=P[pe],!(we&&we[le]))};return K&&O?(V("*"),V(K)):Gr(W,function(le,pe){le&&(!P||ge(pe,K))&&(J+=(J.length>0?" ":"")+pe+": "+le+";")}),J}}},Tx="mce-data-",Ex=/^(?:mouse|contextmenu)|click/,kb={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Ox=function(e){return e.isDefaultPrevented===Fd||e.isDefaultPrevented===kg},kg=bt,Fd=or,Tb=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},Tg=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},Dv=function(e){return Ex.test(e.type)},$d=function(e,n){var a,i=n||{};for(a in e)kb[a]||(i[a]=e[a]);if(i.target||(i.target=i.srcElement||document),i.composedPath&&(i.composedPath=function(){return e.composedPath()}),e&&Dv(e)&&e.pageX===void 0&&e.clientX!==void 0){var s=i.target.ownerDocument||document,f=s.documentElement,g=s.body;i.pageX=e.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),i.pageY=e.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}return i.preventDefault=function(){i.defaultPrevented=!0,i.isDefaultPrevented=Fd,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},i.stopPropagation=function(){i.cancelBubble=!0,i.isPropagationStopped=Fd,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=Fd,i.stopPropagation()},Ox(i)===!1&&(i.isDefaultPrevented=i.defaultPrevented===!0?Fd:kg,i.isPropagationStopped=i.cancelBubble===!0?Fd:kg,i.isImmediatePropagationStopped=kg),typeof i.metaKey=="undefined"&&(i.metaKey=!1),i},Eb=function(e,n,a){var i=e.document,s={type:"ready"};if(a.domLoaded){n(s);return}var f=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},g=function(){Tg(e,"DOMContentLoaded",g),Tg(e,"load",g),a.domLoaded||(a.domLoaded=!0,n(s)),e=null};f()?g():Tb(e,"DOMContentLoaded",g),a.domLoaded||Tb(e,"load",g)},_v=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Tx+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,s){var f=this,g,b,y,O,P,R,M,W=window,K=function(V){f.executeHandlers($d(V||W.event),g)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[f.expando]?g=n[f.expando]:(g=f.count++,n[f.expando]=g,f.events[g]={}),s=s||n;var J=a.split(" ");for(y=J.length;y--;){if(O=J[y],R=K,P=M=!1,O==="DOMContentLoaded"&&(O="ready"),f.domLoaded&&O==="ready"&&n.readyState==="complete"){i.call(s,$d({type:O}));continue}f.hasMouseEnterLeave||(P=f.mouseEnterLeave[O],P&&(R=function(V){var ge=V.currentTarget,le=V.relatedTarget;if(le&&ge.contains)le=ge.contains(le);else for(;le&&le!==ge;)le=le.parentNode;le||(V=$d(V||W.event),V.type=V.type==="mouseout"?"mouseleave":"mouseenter",V.target=ge,f.executeHandlers(V,g))})),!f.hasFocusIn&&(O==="focusin"||O==="focusout")&&(M=!0,P=O==="focusin"?"focus":"blur",R=function(V){V=$d(V||W.event),V.type=V.type==="focus"?"focusin":"focusout",f.executeHandlers(V,g)}),b=f.events[g][O],b?O==="ready"&&f.domLoaded?i($d({type:O})):b.push({func:i,scope:s}):(f.events[g][O]=b=[{func:i,scope:s}],b.fakeName=P,b.capture=M,b.nativeHandler=R,O==="ready"?Eb(n,R,f):Tb(n,P||O,R,M))}return n=b=null,i}},e.prototype.unbind=function(n,a,i){var s,f,g,b,y;if(!n||n.nodeType===3||n.nodeType===8)return this;var O=n[this.expando];if(O){if(y=this.events[O],a){var P=a.split(" ");for(f=P.length;f--;)if(b=P[f],s=y[b],s){if(i){for(g=s.length;g--;)if(s[g].func===i){var R=s.nativeHandler,M=s.fakeName,W=s.capture;s=s.slice(0,g).concat(s.slice(g+1)),s.nativeHandler=R,s.fakeName=M,s.capture=W,y[b]=s}}(!i||s.length===0)&&(delete y[b],Tg(n,s.fakeName||b,s.nativeHandler,s.capture))}}else Gr(y,function(K,J){Tg(n,K.fakeName||J,K.nativeHandler,K.capture)}),y={};for(b in y)if(Or(y,b))return this;delete this.events[O];try{delete n[this.expando]}catch{n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var s;if(!n||n.nodeType===3||n.nodeType===8)return this;var f=$d(null,i);f.type=a,f.target=n;do s=n[this.expando],s&&this.executeHandlers(f,s),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!f.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],s=i&&i[n.type];if(s)for(var f=0,g=s.length;f<g;f++){var b=s[f];if(b&&b.func.call(b.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),zi,Qa,jl,Bf,ql,tp,Bv,np,ja,Gs,vo,fi,Rf,bo,Zu,Ru,Gl,Pf,Li="sizzle"+-new Date,Ks=window.document,Ir=0,Id=0,zd=Nv(),Fs=Nv(),Ob=Nv(),Bo=function(e,n){return e===n&&(Gs=!0),0},rp="undefined",Rv=1<<31,mo={}.hasOwnProperty,Xs=[],Mf=Xs.pop,Eg=Xs.push,Nf=Xs.push,Ow=Xs.slice,Pv=Xs.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},Ld="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ai="[\\x20\\t\\r\\n\\f]",Mv="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ab="\\["+ai+"*("+Mv+")(?:"+ai+"*([*^$|!~]?=)"+ai+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Mv+"))|)"+ai+"*\\]",Aw=":("+Mv+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ab+")*)|.*)\\)|)",ap=new RegExp("^"+ai+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ai+"+$","g"),Ff=new RegExp("^"+ai+"*,"+ai+"*"),Db=new RegExp("^"+ai+"*([>+~]|"+ai+")"+ai+"*"),Ax=new RegExp("="+ai+`*([^\\]'"]*?)`+ai+"*\\]","g"),pu=new RegExp(Aw),Pu=new RegExp("^"+Mv+"$"),Hd={ID:new RegExp("^#("+Mv+")"),CLASS:new RegExp("^\\.("+Mv+")"),TAG:new RegExp("^("+Mv+"|[*])"),ATTR:new RegExp("^"+Ab),PSEUDO:new RegExp("^"+Aw),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ai+"*(even|odd|(([+-]|)(\\d*)n|)"+ai+"*(?:([+-]|)"+ai+"*(\\d+)|))"+ai+"*\\)|)","i"),bool:new RegExp("^(?:"+Ld+")$","i"),needsContext:new RegExp("^"+ai+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ai+"*((?:-\\d)?\\d*)"+ai+"*\\)|)(?=[^-]|$)","i")},_b=/^(?:input|select|textarea|button)$/i,bu=/^h\d$/i,Kl=/^[^{]+\{\s*\[native \w/,op=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Og=/[+~]/,Ro=/'|\\/g,Sc=new RegExp("\\\\([\\da-f]{1,6}"+ai+"?|("+ai+")|.)","ig"),xc=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{Nf.apply(Xs=Ow.call(Ks.childNodes),Ks.childNodes),Xs[Ks.childNodes.length].nodeType}catch{Nf={apply:Xs.length?function(n,a){Eg.apply(n,Ow.call(a))}:function(n,a){for(var i=n.length,s=0;n[i++]=a[s++];);n.length=i-1}}}var ka=function(e,n,a,i){var s,f,g,b,y,O,P,R,M,W;if((n?n.ownerDocument||n:Ks)!==fi&&vo(n),n=n||fi,a=a||[],!e||typeof e!="string")return a;if((b=n.nodeType)!==1&&b!==9)return[];if(bo&&!i){if(s=op.exec(e))if(g=s[1]){if(b===9)if(f=n.getElementById(g),f&&f.parentNode){if(f.id===g)return a.push(f),a}else return a;else if(n.ownerDocument&&(f=n.ownerDocument.getElementById(g))&&Pf(n,f)&&f.id===g)return a.push(f),a}else{if(s[2])return Nf.apply(a,n.getElementsByTagName(e)),a;if((g=s[3])&&zi.getElementsByClassName)return Nf.apply(a,n.getElementsByClassName(g)),a}if(zi.qsa&&(!Zu||!Zu.test(e))){if(R=P=Li,M=n,W=b===9&&e,b===1&&n.nodeName.toLowerCase()!=="object"){for(O=ql(e),(P=n.getAttribute("id"))?R=P.replace(Ro,"\\$&"):n.setAttribute("id",R),R="[id='"+R+"'] ",y=O.length;y--;)O[y]=R+rl(O[y]);M=Og.test(e)&&ip(n.parentNode)||n,W=O.join(",")}if(W)try{return Nf.apply(a,M.querySelectorAll(W)),a}catch{}finally{P||n.removeAttribute("id")}}}return Bv(e.replace(ap,"$1"),n,a,i)};function Nv(){var e=[];function n(a,i){return e.push(a+" ")>Qa.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function bs(e){return e[Li]=!0,e}function Dw(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||Rv)-(~e.sourceIndex||Rv);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function Mu(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function Fv(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function kc(e){return bs(function(n){return n=+n,bs(function(a,i){for(var s,f=e([],a.length,n),g=f.length;g--;)a[s=f[g]]&&(a[s]=!(i[s]=a[s]))})})}function ip(e){return e&&typeof e.getElementsByTagName!==rp&&e}zi=ka.support={},Bf=ka.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},vo=ka.setDocument=function(e){var n,a=e?e.ownerDocument||e:Ks,i=a.defaultView;function s(f){try{return f.top}catch{}return null}return a===fi||a.nodeType!==9||!a.documentElement?fi:(fi=a,Rf=a.documentElement,bo=!Bf(a),i&&i!==s(i)&&(i.addEventListener?i.addEventListener("unload",function(){vo()},!1):i.attachEvent&&i.attachEvent("onunload",function(){vo()})),zi.attributes=!0,zi.getElementsByTagName=!0,zi.getElementsByClassName=Kl.test(a.getElementsByClassName),zi.getById=!0,Qa.find.ID=function(f,g){if(typeof g.getElementById!==rp&&bo){var b=g.getElementById(f);return b&&b.parentNode?[b]:[]}},Qa.filter.ID=function(f){var g=f.replace(Sc,xc);return function(b){return b.getAttribute("id")===g}},Qa.find.TAG=zi.getElementsByTagName?function(f,g){if(typeof g.getElementsByTagName!==rp)return g.getElementsByTagName(f)}:function(f,g){var b,y=[],O=0,P=g.getElementsByTagName(f);if(f==="*"){for(;b=P[O++];)b.nodeType===1&&y.push(b);return y}return P},Qa.find.CLASS=zi.getElementsByClassName&&function(f,g){if(bo)return g.getElementsByClassName(f)},Ru=[],Zu=[],zi.disconnectedMatch=!0,Zu=Zu.length&&new RegExp(Zu.join("|")),Ru=Ru.length&&new RegExp(Ru.join("|")),n=Kl.test(Rf.compareDocumentPosition),Pf=n||Kl.test(Rf.contains)?function(f,g){var b=f.nodeType===9?f.documentElement:f,y=g&&g.parentNode;return f===y||!!(y&&y.nodeType===1&&(b.contains?b.contains(y):f.compareDocumentPosition&&f.compareDocumentPosition(y)&16))}:function(f,g){if(g){for(;g=g.parentNode;)if(g===f)return!0}return!1},Bo=n?function(f,g){if(f===g)return Gs=!0,0;var b=!f.compareDocumentPosition-!g.compareDocumentPosition;return b||(b=(f.ownerDocument||f)===(g.ownerDocument||g)?f.compareDocumentPosition(g):1,b&1||!zi.sortDetached&&g.compareDocumentPosition(f)===b?f===a||f.ownerDocument===Ks&&Pf(Ks,f)?-1:g===a||g.ownerDocument===Ks&&Pf(Ks,g)?1:ja?Pv.call(ja,f)-Pv.call(ja,g):0:b&4?-1:1)}:function(f,g){if(f===g)return Gs=!0,0;var b,y=0,O=f.parentNode,P=g.parentNode,R=[f],M=[g];if(!O||!P)return f===a?-1:g===a?1:O?-1:P?1:ja?Pv.call(ja,f)-Pv.call(ja,g):0;if(O===P)return Dw(f,g);for(b=f;b=b.parentNode;)R.unshift(b);for(b=g;b=b.parentNode;)M.unshift(b);for(;R[y]===M[y];)y++;return y?Dw(R[y],M[y]):R[y]===Ks?-1:M[y]===Ks?1:0},a)},ka.matches=function(e,n){return ka(e,null,null,n)},ka.matchesSelector=function(e,n){if((e.ownerDocument||e)!==fi&&vo(e),n=n.replace(Ax,"='$1']"),zi.matchesSelector&&bo&&(!Ru||!Ru.test(n))&&(!Zu||!Zu.test(n)))try{var a=Gl.call(e,n);if(a||zi.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return ka(n,fi,null,[e]).length>0},ka.contains=function(e,n){return(e.ownerDocument||e)!==fi&&vo(e),Pf(e,n)},ka.attr=function(e,n){(e.ownerDocument||e)!==fi&&vo(e);var a=Qa.attrHandle[n.toLowerCase()],i=a&&mo.call(Qa.attrHandle,n.toLowerCase())?a(e,n,!bo):void 0;return i!==void 0?i:zi.attributes||!bo?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},ka.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ka.uniqueSort=function(e){var n,a=[],i=0,s=0;if(Gs=!zi.detectDuplicates,ja=!zi.sortStable&&e.slice(0),e.sort(Bo),Gs){for(;n=e[s++];)n===e[s]&&(i=a.push(s));for(;i--;)e.splice(a[i],1)}return ja=null,e},jl=ka.getText=function(e){var n,a="",i=0,s=e.nodeType;if(s){if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=jl(e)}else if(s===3||s===4)return e.nodeValue}else for(;n=e[i++];)a+=jl(n);return a},Qa=ka.selectors={cacheLength:50,createPseudo:bs,match:Hd,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Sc,xc),e[3]=(e[3]||e[4]||e[5]||"").replace(Sc,xc),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ka.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ka.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return Hd.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&pu.test(a)&&(n=ql(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(Sc,xc).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=zd[e+" "];return n||(n=new RegExp("(^|"+ai+")"+e+"("+ai+"|$)"))&&zd(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==rp&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var s=ka.attr(i,e);return s==null?n==="!=":n?(s+="",n==="="?s===a:n==="!="?s!==a:n==="^="?a&&s.indexOf(a)===0:n==="*="?a&&s.indexOf(a)>-1:n==="$="?a&&s.slice(-a.length)===a:n==="~="?(" "+s+" ").indexOf(a)>-1:n==="|="?s===a||s.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,s){var f=e.slice(0,3)!=="nth",g=e.slice(-4)!=="last",b=n==="of-type";return i===1&&s===0?function(y){return!!y.parentNode}:function(y,O,P){var R,M,W,K,J,V,ge=f!==g?"nextSibling":"previousSibling",le=y.parentNode,pe=b&&y.nodeName.toLowerCase(),we=!P&&!b;if(le){if(f){for(;ge;){for(W=y;W=W[ge];)if(b?W.nodeName.toLowerCase()===pe:W.nodeType===1)return!1;V=ge=e==="only"&&!V&&"nextSibling"}return!0}if(V=[g?le.firstChild:le.lastChild],g&&we){for(M=le[Li]||(le[Li]={}),R=M[e]||[],J=R[0]===Ir&&R[1],K=R[0]===Ir&&R[2],W=J&&le.childNodes[J];W=++J&&W&&W[ge]||(K=J=0)||V.pop();)if(W.nodeType===1&&++K&&W===y){M[e]=[Ir,J,K];break}}else if(we&&(R=(y[Li]||(y[Li]={}))[e])&&R[0]===Ir)K=R[1];else for(;(W=++J&&W&&W[ge]||(K=J=0)||V.pop())&&!((b?W.nodeName.toLowerCase()===pe:W.nodeType===1)&&++K&&(we&&((W[Li]||(W[Li]={}))[e]=[Ir,K]),W===y)););return K-=s,K===i||K%i===0&&K/i>=0}}},PSEUDO:function(e,n){var a,i=Qa.pseudos[e]||Qa.setFilters[e.toLowerCase()]||ka.error("unsupported pseudo: "+e);return i[Li]?i(n):i.length>1?(a=[e,e,"",n],Qa.setFilters.hasOwnProperty(e.toLowerCase())?bs(function(s,f){for(var g,b=i(s,n),y=b.length;y--;)g=Pv.call(s,b[y]),s[g]=!(f[g]=b[y])}):function(s){return i(s,0,a)}):i}},pseudos:{not:bs(function(e){var n=[],a=[],i=tp(e.replace(ap,"$1"));return i[Li]?bs(function(s,f,g,b){for(var y,O=i(s,null,b,[]),P=s.length;P--;)(y=O[P])&&(s[P]=!(f[P]=y))}):function(s,f,g){return n[0]=s,i(n,null,g,a),n[0]=null,!a.pop()}}),has:bs(function(e){return function(n){return ka(e,n).length>0}}),contains:bs(function(e){return e=e.replace(Sc,xc),function(n){return(n.textContent||n.innerText||jl(n)).indexOf(e)>-1}}),lang:bs(function(e){return Pu.test(e||"")||ka.error("unsupported lang: "+e),e=e.replace(Sc,xc).toLowerCase(),function(n){var a;do if(a=bo?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===Rf},focus:function(e){return e===fi.activeElement&&(!fi.hasFocus||fi.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Qa.pseudos.empty(e)},header:function(e){return bu.test(e.nodeName)},input:function(e){return _b.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:kc(function(){return[0]}),last:kc(function(e,n){return[n-1]}),eq:kc(function(e,n,a){return[a<0?a+n:a]}),even:kc(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:kc(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:kc(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:kc(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},Qa.pseudos.nth=Qa.pseudos.eq,ke(["radio","checkbox","file","password","image"],function(e){Qa.pseudos[e]=Mu(e)}),ke(["submit","reset"],function(e){Qa.pseudos[e]=Fv(e)});function Bb(){}Bb.prototype=Qa.filters=Qa.pseudos,Qa.setFilters=new Bb,ql=ka.tokenize=function(e,n){var a,i,s,f,g,b,y,O=Fs[e+" "];if(O)return n?0:O.slice(0);for(g=e,b=[],y=Qa.preFilter;g;){(!a||(i=Ff.exec(g)))&&(i&&(g=g.slice(i[0].length)||g),b.push(s=[])),a=!1,(i=Db.exec(g))&&(a=i.shift(),s.push({value:a,type:i[0].replace(ap," ")}),g=g.slice(a.length));for(f in Qa.filter)!Qa.filter.hasOwnProperty(f)||(i=Hd[f].exec(g))&&(!y[f]||(i=y[f](i)))&&(a=i.shift(),s.push({value:a,type:f,matches:i}),g=g.slice(a.length));if(!a)break}return n?g.length:g?ka.error(e):Fs(e,b).slice(0)};function rl(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function up(e,n,a){var i=n.dir,s=a&&i==="parentNode",f=Id++;return n.first?function(g,b,y){for(;g=g[i];)if(g.nodeType===1||s)return e(g,b,y)}:function(g,b,y){var O,P,R=[Ir,f];if(y){for(;g=g[i];)if((g.nodeType===1||s)&&e(g,b,y))return!0}else for(;g=g[i];)if(g.nodeType===1||s){if(P=g[Li]||(g[Li]={}),(O=P[i])&&O[0]===Ir&&O[1]===f)return R[2]=O[2];if(P[i]=R,R[2]=e(g,b,y))return!0}}}function Rb(e){return e.length>1?function(n,a,i){for(var s=e.length;s--;)if(!e[s](n,a,i))return!1;return!0}:e[0]}function Dx(e,n,a){for(var i=0,s=n.length;i<s;i++)ka(e,n[i],a);return a}function sp(e,n,a,i,s){for(var f,g=[],b=0,y=e.length,O=n!=null;b<y;b++)(f=e[b])&&(!a||a(f,i,s))&&(g.push(f),O&&n.push(b));return g}function Ys(e,n,a,i,s,f){return i&&!i[Li]&&(i=Ys(i)),s&&!s[Li]&&(s=Ys(s,f)),bs(function(g,b,y,O){var P,R,M,W=[],K=[],J=b.length,V=g||Dx(n||"*",y.nodeType?[y]:y,[]),ge=e&&(g||!n)?sp(V,W,e,y,O):V,le=a?s||(g?e:J||i)?[]:b:ge;if(a&&a(ge,le,y,O),i)for(P=sp(le,K),i(P,[],y,O),R=P.length;R--;)(M=P[R])&&(le[K[R]]=!(ge[K[R]]=M));if(g){if(s||e){if(s){for(P=[],R=le.length;R--;)(M=le[R])&&P.push(ge[R]=M);s(null,le=[],P,O)}for(R=le.length;R--;)(M=le[R])&&(P=s?Pv.call(g,M):W[R])>-1&&(g[P]=!(b[P]=M))}}else le=sp(le===b?le.splice(J,le.length):le),s?s(null,b,le,O):Nf.apply(b,le)})}function Vd(e){for(var n,a,i,s=e.length,f=Qa.relative[e[0].type],g=f||Qa.relative[" "],b=f?1:0,y=up(function(R){return R===n},g,!0),O=up(function(R){return Pv.call(n,R)>-1},g,!0),P=[function(R,M,W){var K=!f&&(W||M!==np)||((n=M).nodeType?y(R,M,W):O(R,M,W));return n=null,K}];b<s;b++)if(a=Qa.relative[e[b].type])P=[up(Rb(P),a)];else{if(a=Qa.filter[e[b].type].apply(null,e[b].matches),a[Li]){for(i=++b;i<s&&!Qa.relative[e[i].type];i++);return Ys(b>1&&Rb(P),b>1&&rl(e.slice(0,b-1).concat({value:e[b-2].type===" "?"*":""})).replace(ap,"$1"),a,b<i&&Vd(e.slice(b,i)),i<s&&Vd(e=e.slice(i)),i<s&&rl(e))}P.push(a)}return Rb(P)}function _x(e,n){var a=n.length>0,i=e.length>0,s=function(f,g,b,y,O){var P,R,M,W=0,K="0",J=f&&[],V=[],ge=np,le=f||i&&Qa.find.TAG("*",O),pe=Ir+=ge==null?1:Math.random()||.1,we=le.length;for(O&&(np=g!==fi&&g);K!==we&&(P=le[K])!=null;K++){if(i&&P){for(R=0;M=e[R++];)if(M(P,g,b)){y.push(P);break}O&&(Ir=pe)}a&&((P=!M&&P)&&W--,f&&J.push(P))}if(W+=K,a&&K!==W){for(R=0;M=n[R++];)M(J,V,g,b);if(f){if(W>0)for(;K--;)J[K]||V[K]||(V[K]=Mf.call(y));V=sp(V)}Nf.apply(y,V),O&&!f&&V.length>0&&W+n.length>1&&ka.uniqueSort(y)}return O&&(Ir=pe,np=ge),J};return a?bs(s):s}tp=ka.compile=function(e,n){var a,i=[],s=[],f=Ob[e+" "];if(!f){for(n||(n=ql(e)),a=n.length;a--;)f=Vd(n[a]),f[Li]?i.push(f):s.push(f);f=Ob(e,_x(s,i)),f.selector=e}return f},Bv=ka.select=function(e,n,a,i){var s,f,g,b,y,O=typeof e=="function"&&e,P=!i&&ql(e=O.selector||e);if(a=a||[],P.length===1){if(f=P[0]=P[0].slice(0),f.length>2&&(g=f[0]).type==="ID"&&zi.getById&&n.nodeType===9&&bo&&Qa.relative[f[1].type]){if(n=(Qa.find.ID(g.matches[0].replace(Sc,xc),n)||[])[0],n)O&&(n=n.parentNode);else return a;e=e.slice(f.shift().value.length)}for(s=Hd.needsContext.test(e)?0:f.length;s--&&(g=f[s],!Qa.relative[b=g.type]);)if((y=Qa.find[b])&&(i=y(g.matches[0].replace(Sc,xc),Og.test(f[0].type)&&ip(n.parentNode)||n))){if(f.splice(s,1),e=i.length&&rl(f),!e)return Nf.apply(a,i),a;break}}return(O||tp(e,P))(i,n,!bo,a,Og.test(e)&&ip(n.parentNode)||n),a},zi.sortStable=Li.split("").sort(Bo).join("")===Li,zi.detectDuplicates=!!Gs,vo(),zi.sortDetached=!0;var Pb=document,cp=Array.prototype.push,_w=Array.prototype.slice,Bx=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ag=_v.Event,Rx=Q.makeMap("children,contents,next,prev"),Ud=function(e){return typeof e!="undefined"},Wd=function(e){return typeof e=="string"},Bw=function(e){return e&&e===e.window},Mb=function(e,n){n=n||Pb;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var s;s=a.firstChild;)i.appendChild(s);return i},iu=function(e,n,a,i){var s;if(Wd(n))n=Mb(n,Ec(e[0]));else if(n.length&&!n.nodeType){if(n=Wr.makeArray(n),i)for(s=n.length-1;s>=0;s--)iu(e,n[s],a,i);else for(s=0;s<n.length;s++)iu(e,n[s],a,i);return e}if(n.nodeType)for(s=e.length;s--;)a.call(e[s],n);return e},ys=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},Xl=function(e,n,a){var i,s;return n=Wr(n)[0],e.each(function(){var f=this;(!a||i!==f.parentNode)&&(i=f.parentNode,s=n.cloneNode(!1),f.parentNode.insertBefore(s,f)),s.appendChild(f)}),e},Ji=Q.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),$f=Q.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Rw={for:"htmlFor",class:"className",readonly:"readOnly"},jd={float:"cssFloat"},Nb={},lp={},Nu=function(e,n){return new Wr.fn.init(e,n)},Zi=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},Tc=/^\s*|\s*$/g,Pw=function(e){return e==null?"":(""+e).replace(Tc,"")},al=function(e,n){var a,i,s,f;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(f=e[i],n.call(f,i,f)===!1))break}else for(s=0;s<a&&(f=e[s],n.call(f,s,f)!==!1);s++);return e},Mw=function(e,n){var a=[];return al(e,function(i,s){n(s,i)&&a.push(s)}),a},Ec=function(e){return e?e.nodeType===9?e:e.ownerDocument:Pb};Nu.fn=Nu.prototype={constructor:Nu,selector:"",context:null,length:0,init:function(e,n){var a=this,i,s;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return Wr(e).attr(n);a.context=n=document}if(Wd(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Bx.exec(e),i)if(i[1])for(s=Mb(e,Ec(n)).firstChild;s;)cp.call(a,s),s=s.nextSibling;else{if(s=Ec(n).getElementById(i[2]),!s)return a;if(s.id!==i[2])return a.find(e);a.length=1,a[0]=s}else return Wr(n).find(e);else this.add(e,!1);return a},toArray:function(){return Q.toArray(this)},add:function(e,n){var a=this,i,s;if(Wd(e))return a.add(Wr(e));if(n!==!1)for(i=Wr.unique(a.toArray().concat(Wr.makeArray(e))),a.length=i.length,s=0;s<i.length;s++)a[s]=i[s];else cp.apply(a,Wr.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")al(e,function(s,f){a.attr(s,f)});else if(Ud(n))this.each(function(){var s;if(this.nodeType===1){if(s=Nb[e],s&&s.set){s.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=Nb[e],i&&i.get)return i.get(a[0],e);if($f[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=Rw[e]||e,typeof e=="object")al(e,function(i,s){a.prop(i,s)});else if(Ud(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,s,f=function(b){return b.replace(/-(\D)/g,function(y,O){return O.toUpperCase()})},g=function(b){return b.replace(/[A-Z]/g,function(y){return"-"+y})};if(typeof e=="object")al(e,function(b,y){a.css(b,y)});else if(Ud(n))e=f(e),typeof n=="number"&&!Ji[e]&&(n=n.toString()+"px"),a.each(function(){var b=this.style;if(s=lp[e],s&&s.set){s.set(this,n);return}try{this.style[jd[e]||e]=n}catch{}(n===null||n==="")&&(b.removeProperty?b.removeProperty(g(e)):b.removeAttribute(e))});else{if(i=a[0],s=lp[e],s&&s.get)return s.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(g(e))}catch{return}else return i.currentStyle?i.currentStyle[f(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],Ag.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(Ud(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch{Wr(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(Ud(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return iu(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return iu(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?iu(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?iu(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return Wr(e).append(this),this},prependTo:function(e){return Wr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Xl(this,e)},wrapAll:function(e){return Xl(this,e,!0)},wrapInner:function(e){return this.each(function(){Wr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Wr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Wr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?al(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,s){var f=ys(s,e);if(f!==n){var g=s.className;f?s.className=Pw((" "+g+" ").replace(" "+e+" "," ")):s.className+=g?" "+e:e}})),a},hasClass:function(e){return ys(this[0],e)},each:function(e){return al(this,e)},on:function(e,n){return this.each(function(){Ag.bind(this,e,n)})},off:function(e,n){return this.each(function(){Ag.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?Ag.fire(this,e.type,e):Ag.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Wr(_w.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)Wr.find(e,this[n],i);return Wr(i)},filter:function(e){return Wr(typeof e=="function"?Mw(this.toArray(),function(n,a){return e(a,n)}):Wr.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof Wr&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&Wr(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),Wr(n)},offset:function(e){var n,a,i,s=0,f=0,g;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(g=n.getBoundingClientRect(),s=g.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,f=g.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:s,top:f})},push:cp,sort:Array.prototype.sort,splice:Array.prototype.splice},Q.extend(Nu,{extend:Q.extend,makeArray:function(e){return Bw(e)||e.nodeType?[e]:Q.toArray(e)},inArray:Zi,isArray:Q.isArray,each:al,trim:Pw,grep:Mw,find:ka,expr:ka.selectors,unique:ka.uniqueSort,text:ka.getText,contains:ka.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=Wr.find.matchesSelector(n[0],e)?[n[0]]:[]:n=Wr.find.matches(e,n),n}});var Fb=function(e,n,a){var i=[],s=e[n];for(typeof a!="string"&&a instanceof Wr&&(a=a[0]);s&&s.nodeType!==9&&!(a!==void 0&&(s===a||typeof a=="string"&&Wr(s).is(a)));)s.nodeType===1&&i.push(s),s=s[n];return i},If=function(e,n,a,i){var s=[];for(i instanceof Wr&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&Wr(e).is(i)))break;s.push(e)}return s},fp=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};al({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return Fb(e,"parentNode")},next:function(e){return fp(e,"nextSibling",1)},prev:function(e){return fp(e,"previousSibling",1)},children:function(e){return If(e.firstChild,"nextSibling",1)},contents:function(e){return Q.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){Nu.fn[e]=function(a){var i=this,s=[];i.each(function(){var g=n.call(s,this,a,s);g&&(Wr.isArray(g)?s.push.apply(s,g):s.push(g))}),this.length>1&&(Rx[e]||(s=Wr.unique(s)),e.indexOf("parents")===0&&(s=s.reverse()));var f=Wr(s);return a?f.filter(a):f}}),al({parentsUntil:function(e,n){return Fb(e,"parentNode",n)},nextUntil:function(e,n){return If(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return If(e,"previousSibling",1,n).slice(1)}},function(e,n){Nu.fn[e]=function(a,i){var s=this,f=[];s.each(function(){var b=n.call(f,this,a,f);b&&(Wr.isArray(b)?f.push.apply(f,b):f.push(b))}),this.length>1&&(f=Wr.unique(f),(e.indexOf("parents")===0||e==="prevUntil")&&(f=f.reverse()));var g=Wr(f);return i?g.filter(i):g}}),Nu.fn.is=function(e){return!!e&&this.filter(e).length>0},Nu.fn.init.prototype=Nu.fn,Nu.overrideDefaults=function(e){var n,a=function(i,s){return n=n||e(),arguments.length===0&&(i=n.element),s||(s=n.context),new a.fn.init(i,s)};return Wr.extend(a,this),a},Nu.attrHooks=Nb,Nu.cssHooks=lp;var Wr=Nu,Dg=Q.each,Px=Q.grep,Nw=Mr.ie,Mx=/^([a-z0-9],?)+$/i,vp=function(e,n,a){var i=n.keep_values,s={set:function(g,b,y){n.url_converter&&(b=n.url_converter.call(n.url_converter_scope||a(),b,y,g[0])),g.attr("data-mce-"+y,b).attr(y,b)},get:function(g,b){return g.attr("data-mce-"+b)||g.attr(b)}},f={style:{set:function(g,b){if(b!==null&&typeof b=="object"){g.css(b);return}i&&g.attr("data-mce-style",b),b!==null&&typeof b=="string"?(g.removeAttr("style"),g.css(e.parse(b))):g.attr("style",b)},get:function(g){var b=g.attr("data-mce-style")||g.attr("style");return b=e.serialize(e.parse(b),g[0].nodeName),b}}};return i&&(f.href=f.src=s),f},Fw=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},$v=function(e,n){var a=0,i,s;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)s=e.nodeType,!(n&&s===3&&(s===i||!e.nodeValue.length))&&(a++,i=s);return a},eo=function(e,n){n===void 0&&(n={});var a={},i=window,s={},f=0,g=!0,b=!0,y=vg.forElement(L.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),O=[],P=n.schema?n.schema:Wl({}),R=Av({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),M=n.ownEvents?new _v:_v.Event,W=P.getBlockElements(),K=Wr.overrideDefaults(function(){return{context:e,element:Nh.getRoot()}}),J=function(Te){if(typeof Te=="string")return!!W[Te];if(Te){var ot=Te.nodeType;if(ot)return!!(ot===1&&W[Te.nodeName])}return!1},V=function(Te){return Te&&e&&ct(Te)?e.getElementById(Te):Te},ge=function(Te){return K(typeof Te=="string"?V(Te):Te)},le=function(Te,ot,tn){var hn,jr,Da=ge(Te);return Da.length&&(hn=gB[ot],hn&&hn.get?jr=hn.get(Da,ot):jr=Da.attr(ot)),typeof jr=="undefined"&&(jr=tn||""),jr},pe=function(Te){var ot=V(Te);return ot?ot.attributes:[]},we=function(Te,ot,tn){tn===""&&(tn=null);var hn=ge(Te),jr=hn.attr(ot);if(!!hn.length){var Da=gB[ot];Da&&Da.set?Da.set(hn,tn,ot):hn.attr(ot,tn),jr!==tn&&n.onSetAttrib&&n.onSetAttrib({attrElm:hn,attrName:ot,attrValue:tn})}},Ne=function(Te,ot){if(!Nw||Te.nodeType!==1||ot)return Te.cloneNode(ot);var tn=e.createElement(Te.nodeName);return Dg(pe(Te),function(hn){we(tn,hn.nodeName,le(Te,hn.nodeName))}),tn},gt=function(){return n.root_element||e.body},Xt=function(Te){var ot=tg(Te);return{x:ot.x,y:ot.y,w:ot.width,h:ot.height}},en=function(Te,ot){return wf(e.body,V(Te),ot)},Vn=function(Te,ot,tn){var hn=ct(ot)?ge(Te).css(ot,tn):ge(Te).css(ot);n.update_styles&&Fw(R,hn)},Yn=function(Te,ot){var tn=ge(Te).css(ot);n.update_styles&&Fw(R,tn)},Nt=function(Te,ot,tn){var hn=ge(Te);return tn?hn.css(ot):(ot=ot.replace(/-(\D)/g,function(jr,Da){return Da.toUpperCase()}),ot==="float"&&(ot=Mr.browser.isIE()?"styleFloat":"cssFloat"),hn[0]&&hn[0].style?hn[0].style[ot]:void 0)},Dr=function(Te){var ot,tn;return Te=V(Te),ot=Nt(Te,"width"),tn=Nt(Te,"height"),ot.indexOf("px")===-1&&(ot=0),tn.indexOf("px")===-1&&(tn=0),{w:parseInt(ot,10)||Te.offsetWidth||Te.clientWidth,h:parseInt(tn,10)||Te.offsetHeight||Te.clientHeight}},gn=function(Te){Te=V(Te);var ot=en(Te),tn=Dr(Te);return{x:ot.x,y:ot.y,w:tn.w,h:tn.h}},Un=function(Te,ot){var tn;if(!Te)return!1;if(!Array.isArray(Te)){if(ot==="*")return Te.nodeType===1;if(Mx.test(ot)){var hn=ot.toLowerCase().split(/,/),jr=Te.nodeName.toLowerCase();for(tn=hn.length-1;tn>=0;tn--)if(hn[tn]===jr)return!0;return!1}if(Te.nodeType&&Te.nodeType!==1)return!1}var Da=Array.isArray(Te)?Te:[Te];return ka(ot,Da[0].ownerDocument||Da[0],null,Da).length>0},rn=function(Te,ot,tn,hn){var jr=[],Da,wo=V(Te);for(hn=hn===void 0,tn=tn||(gt().nodeName!=="BODY"?gt().parentNode:null),Q.is(ot,"string")&&(Da=ot,ot==="*"?ot=function(vv){return vv.nodeType===1}:ot=function(vv){return Un(vv,Da)});wo&&!(wo===tn||Qt(wo.nodeType)||yf(wo)||Td(wo));){if(!ot||typeof ot=="function"&&ot(wo))if(hn)jr.push(wo);else return[wo];wo=wo.parentNode}return hn?jr:null},kn=function(Te,ot,tn){var hn=rn(Te,ot,tn,!1);return hn&&hn.length>0?hn[0]:null},In=function(Te,ot,tn){var hn=ot;if(Te){for(typeof ot=="string"&&(hn=function(jr){return Un(jr,ot)}),Te=Te[tn];Te;Te=Te[tn])if(typeof hn=="function"&&hn(Te))return Te}return null},It=function(Te,ot){return In(Te,ot,"nextSibling")},Fn=function(Te,ot){return In(Te,ot,"previousSibling")},Sa=function(Te,ot){return ka(Te,V(ot)||n.root_element||e,[])},to=function(Te,ot,tn){var hn,jr=typeof Te=="string"?V(Te):Te;if(!jr)return!1;if(Q.isArray(jr)&&(jr.length||jr.length===0))return hn=[],Dg(jr,function(wo,vv){wo&&hn.push(ot.call(tn,typeof wo=="string"?V(wo):wo,vv))}),hn;var Da=tn||this;return ot.call(Da,jr)},za=function(Te,ot){ge(Te).each(function(tn,hn){Dg(ot,function(jr,Da){we(hn,Da,jr)})})},vi=function(Te,ot){var tn=ge(Te);Nw?tn.each(function(hn,jr){if(jr.canHaveHTML!==!1){for(;jr.firstChild;)jr.removeChild(jr.firstChild);try{jr.innerHTML="<br>"+ot,jr.removeChild(jr.firstChild)}catch{Wr("<div></div>").html("<br>"+ot).contents().slice(1).appendTo(jr)}return ot}}):tn.html(ot)},Jo=function(Te,ot,tn,hn,jr){return to(Te,function(Da){var wo=typeof ot=="string"?e.createElement(ot):ot;return za(wo,tn),hn&&(typeof hn!="string"&&hn.nodeType?wo.appendChild(hn):typeof hn=="string"&&vi(wo,hn)),jr?wo:Da.appendChild(wo)})},us=function(Te,ot,tn){return Jo(e.createElement(Te),Te,ot,tn,!0)},Uu=gu.decode,Bt=gu.encodeAllRaw,at=function(Te,ot,tn){var hn="",jr;hn+="<"+Te;for(jr in ot)ot.hasOwnProperty(jr)&&ot[jr]!==null&&typeof ot[jr]!="undefined"&&(hn+=" "+jr+'="'+Bt(ot[jr])+'"');return typeof tn!="undefined"?hn+">"+tn+"</"+Te+">":hn+" />"},kt=function(Te){var ot,tn=e.createElement("div"),hn=e.createDocumentFragment();for(hn.appendChild(tn),Te&&(tn.innerHTML=Te);ot=tn.firstChild;)hn.appendChild(ot);return hn.removeChild(tn),hn},rt=function(Te,ot){var tn=ge(Te);return ot?tn.each(function(){for(var hn;hn=this.firstChild;)hn.nodeType===3&&hn.data.length===0?this.removeChild(hn):this.parentNode.insertBefore(hn,this)}).remove():tn.remove(),tn.length>1?tn.toArray():tn[0]},Tn=function(Te){return to(Te,function(ot){var tn,hn=ot.attributes;for(tn=hn.length-1;tn>=0;tn--)ot.removeAttributeNode(hn.item(tn))})},An=function(Te){return R.parse(Te)},_r=function(Te,ot){return R.serialize(Te,ot)},ra=function(Te){var ot,tn;if(Nh!==eo.DOM&&e===document){if(a[Te])return;a[Te]=!0}tn=e.getElementById("mceDefaultStyles"),tn||(tn=e.createElement("style"),tn.id="mceDefaultStyles",tn.type="text/css",ot=e.getElementsByTagName("head")[0],ot.firstChild?ot.insertBefore(tn,ot.firstChild):ot.appendChild(tn)),tn.styleSheet?tn.styleSheet.cssText+=Te:tn.appendChild(e.createTextNode(Te))},yo=function(Te){Te||(Te=""),ke(Te.split(","),function(ot){s[ot]=!0,y.load(ot,se)})},au=function(Te,ot,tn){ge(Te).toggleClass(ot,tn).each(function(){this.className===""&&Wr(this).attr("class",null)})},ss=function(Te,ot){ge(Te).addClass(ot)},bd=function(Te,ot){au(Te,ot,!1)},Ki=function(Te,ot){return ge(Te).hasClass(ot)},Xi=function(Te){ge(Te).show()},Vo=function(Te){ge(Te).hide()},ff=function(Te){return ge(Te).css("display")==="none"},As=function(Te){return(Te||"mce_")+f++},uo=function(Te){var ot=typeof Te=="string"?V(Te):Te;return Ur(ot)?ot.outerHTML:Wr("<div></div>").append(Wr(ot).clone()).html()},no=function(Te,ot){ge(Te).each(function(){try{if("outerHTML"in this){this.outerHTML=ot;return}}catch{}rt(Wr(this).html(ot),!0)})},lu=function(Te,ot){var tn=V(ot);return to(Te,function(hn){var jr=tn.parentNode,Da=tn.nextSibling;return Da?jr.insertBefore(hn,Da):jr.appendChild(hn),hn})},vf=function(Te,ot,tn){return to(ot,function(hn){return Q.is(hn,"array")&&(Te=Te.cloneNode(!0)),tn&&Dg(Px(hn.childNodes),function(jr){Te.appendChild(jr)}),hn.parentNode.replaceChild(Te,hn)})},sc=function(Te,ot){var tn;return Te.nodeName!==ot.toUpperCase()&&(tn=us(ot),Dg(pe(Te),function(hn){we(tn,hn.nodeName,le(Te,hn.nodeName))}),vf(tn,Te,!0)),tn||Te},cc=function(Te,ot){for(var tn=Te,hn;tn;){for(hn=ot;hn&&tn!==hn;)hn=hn.parentNode;if(tn===hn)break;tn=tn.parentNode}return!tn&&Te.ownerDocument?Te.ownerDocument.documentElement:tn},yd=function(Te){return R.toHex(Q.trim(Te))},Mh=function(Te){if(Ur(Te)){var ot=Te.nodeName.toLowerCase()==="a"&&!le(Te,"href")&&le(Te,"id");if(le(Te,"name")||le(Te,"data-mce-bookmark")||ot)return!0}return!1},Gm=function(Te,ot){var tn,hn,jr=0;if(Mh(Te))return!1;if(Te=Te.firstChild,Te){var Da=new yi(Te,Te.parentNode),wo=P?P.getWhiteSpaceElements():{};ot=ot||(P?P.getNonEmptyElements():null);do{if(tn=Te.nodeType,Ur(Te)){var vv=Te.getAttribute("data-mce-bogus");if(vv){Te=Da.next(vv==="all");continue}if(hn=Te.nodeName.toLowerCase(),ot&&ot[hn]){if(hn==="br"){jr++,Te=Da.next();continue}return!1}if(Mh(Te))return!1}if(tn===8||tn===3&&!Df(Te.nodeValue)||tn===3&&Te.parentNode&&wo[Te.parentNode.nodeName]&&Df(Te.nodeValue))return!1;Te=Da.next()}while(Te)}return jr<=1},nx=function(){return e.createRange()},Q$=function(Te,ot,tn){var hn=nx(),jr,Da,wo;if(Te&&ot)return hn.setStart(Te.parentNode,$v(Te)),hn.setEnd(ot.parentNode,$v(ot)),jr=hn.extractContents(),hn=nx(),hn.setStart(ot.parentNode,$v(ot)+1),hn.setEnd(Te.parentNode,$v(Te)+1),Da=hn.extractContents(),wo=Te.parentNode,wo.insertBefore(Jh(Nh,jr),Te),tn?wo.insertBefore(tn,Te):wo.insertBefore(ot,Te),wo.insertBefore(Jh(Nh,Da),Te),rt(Te),tn||ot},dB=function(Te,ot,tn,hn){if(Q.isArray(Te)){for(var jr=Te.length,Da=[];jr--;)Da[jr]=dB(Te[jr],ot,tn,hn);return Da}n.collect&&(Te===e||Te===i)&&O.push([Te,ot,tn,hn]);var wo=M.bind(Te,ot,tn,hn||Nh);return wo},mB=function(Te,ot,tn){if(Q.isArray(Te)){for(var hn=Te.length,jr=[];hn--;)jr[hn]=mB(Te[hn],ot,tn);return jr}else{if(O.length>0&&(Te===e||Te===i))for(var hn=O.length;hn--;){var Da=O[hn];Te===Da[0]&&(!ot||ot===Da[1])&&(!tn||tn===Da[2])&&M.unbind(Da[0],Da[1],Da[2])}return M.unbind(Te,ot,tn)}},Ds=function(Te,ot,tn){return M.fire(Te,ot,tn)},Km=function(Te){if(Te&&Ur(Te)){var ot=Te.getAttribute("data-mce-contenteditable");return ot&&ot!=="inherit"?ot:Te.contentEditable!=="inherit"?Te.contentEditable:null}else return null},eI=function(Te){for(var ot=gt(),tn=null;Te&&Te!==ot&&(tn=Km(Te),tn===null);Te=Te.parentNode);return tn},tI=function(){if(O.length>0)for(var Te=O.length;Te--;){var ot=O[Te];M.unbind(ot[0],ot[1],ot[2])}Gr(s,function(tn,hn){y.unload(hn),delete s[hn]}),ka.setDocument&&ka.setDocument()},nI=function(Te,ot){for(;Te;){if(ot===Te)return!0;Te=Te.parentNode}return!1},rI=function(Te){return"startContainer: "+Te.startContainer.nodeName+", startOffset: "+Te.startOffset+", endContainer: "+Te.endContainer.nodeName+", endOffset: "+Te.endOffset},Nh={doc:e,settings:n,win:i,files:s,stdMode:g,boxModel:b,styleSheetLoader:y,boundEvents:O,styles:R,schema:P,events:M,isBlock:J,$:K,$$:ge,root:null,clone:Ne,getRoot:gt,getViewPort:Xt,getRect:gn,getSize:Dr,getParent:kn,getParents:rn,get:V,getNext:It,getPrev:Fn,select:Sa,is:Un,add:Jo,create:us,createHTML:at,createFragment:kt,remove:rt,setStyle:Vn,getStyle:Nt,setStyles:Yn,removeAllAttribs:Tn,setAttrib:we,setAttribs:za,getAttrib:le,getPos:en,parseStyle:An,serializeStyle:_r,addStyle:ra,loadCSS:yo,addClass:ss,removeClass:bd,hasClass:Ki,toggleClass:au,show:Xi,hide:Vo,isHidden:ff,uniqueId:As,setHTML:vi,getOuterHTML:uo,setOuterHTML:no,decode:Uu,encode:Bt,insertAfter:lu,replace:vf,rename:sc,findCommonAncestor:cc,toHex:yd,run:to,getAttribs:pe,isEmpty:Gm,createRng:nx,nodeIndex:$v,split:Q$,bind:dB,unbind:mB,fire:Ds,getContentEditable:Km,getContentEditableParent:eI,destroy:tI,isChildOf:nI,dumpRng:rI},gB=vp(R,n,function(){return Nh});return Nh};eo.DOM=eo(document),eo.nodeIndex=$v;var Nx=eo.DOM,$b=Q.each,qd=Q.grep,zf=0,ol=1,Iv=2,wa=3,Lo=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var s=Nx,f,g=function(){s.remove(O),f&&(f.onerror=f.onload=f=null)},b=function(){g(),a()},y=function(){g(),Zt(i)?i():typeof console!="undefined"&&console.log&&console.log("Failed to load script: "+n)},O=s.uniqueId();f=document.createElement("script"),f.id=O,f.type="text/javascript",f.src=Q._addCacheSuffix(n),this.settings.referrerPolicy&&s.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=b,f.onerror=y,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)},e.prototype.isDone=function(n){return this.states[n]===Iv},e.prototype.markDone=function(n){this.states[n]=Iv},e.prototype.add=function(n,a,i,s){var f=this.states[n];this.queue.push(n),f===void 0&&(this.states[n]=zf),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:s,scope:i||this}))},e.prototype.load=function(n,a,i,s){return this.add(n,a,i,s)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,s){var f=this,g=[],b=function(O,P){$b(f.scriptLoadedCallbacks[P],function(R){Zt(R[O])&&R[O].call(R.scope)}),f.scriptLoadedCallbacks[P]=void 0};f.queueLoadedCallbacks.push({success:a,failure:s,scope:i||this});var y=function(){var O=qd(n);if(n.length=0,$b(O,function(R){if(f.states[R]===Iv){b("success",R);return}if(f.states[R]===wa){b("failure",R);return}f.states[R]!==ol&&(f.states[R]=ol,f.loading++,f.loadScript(R,function(){f.states[R]=Iv,f.loading--,b("success",R),y()},function(){f.states[R]=wa,f.loading--,g.push(R),b("failure",R),y()}))}),!f.loading){var P=f.queueLoadedCallbacks.slice(0);f.queueLoadedCallbacks.length=0,$b(P,function(R){g.length===0?Zt(R.success)&&R.success.call(R.scope):Zt(R.failure)&&R.failure.call(R.scope,g)})}};y()},e.ScriptLoader=new e,e}(),No=function(e){var n=e,a=function(){return n},i=function(s){n=s};return{get:a,set:i}},Ib=function(e){return tr(e)&&Or(e,"raw")},ao=function(e){return re(e)&&e.length>1},ws={},dp=No("en"),Qi=function(){return Rr(ws,dp.get())},il=function(){return Fa(ws,function(e){return Gn({},e)})},$w=function(e){e&&dp.set(e)},Fx=function(){return dp.get()},Iw=function(e,n){var a=ws[e];a||(ws[e]=a={}),Gr(n,function(i,s){a[s.toLowerCase()]=i})},mp=function(e){var n=Qi().getOr({}),a=function(y){return Zt(y)?Object.prototype.toString.call(y):i(y)?"":""+y},i=function(y){return y===""||y===null||y===void 0},s=function(y){var O=a(y);return Rr(n,O.toLowerCase()).map(a).getOr(O)},f=function(y){return y.replace(/{context:\w+}$/,"")};if(i(e))return"";if(Ib(e))return a(e.raw);if(ao(e)){var g=e.slice(1),b=s(e[0]).replace(/\{([0-9]+)\}/g,function(y,O){return Or(g,O)?a(g[O]):y});return f(b)}return f(s(e))},zb=function(){return Qi().bind(function(e){return Rr(e,"_dir")}).exists(function(e){return e==="rtl"})},Lb=function(e){return Or(ws,e)},$s={getData:il,setCode:$w,getCode:Fx,add:Iw,translate:mp,isRtl:zb,hasCode:Lb},Qu=function(){var e=[],n={},a={},i=[],s=function(J,V){var ge=on(i,function(le){return le.name===J&&le.state===V});ke(ge,function(le){return le.callback()})},f=function(J){if(a[J])return a[J].instance},g=function(J){var V;return a[J]&&(V=a[J].dependencies),V||[]},b=function(J,V){Qu.languageLoad!==!1&&K(J,function(){var ge=$s.getCode(),le=","+(V||"")+",";!ge||V&&le.indexOf(","+ge+",")===-1||Lo.ScriptLoader.add(n[J]+"/langs/"+ge+".js")},"loaded")},y=function(J,V,ge){var le=V;return e.push(le),a[J]={instance:le,dependencies:ge},s(J,"added"),le},O=function(J){delete n[J],delete a[J]},P=function(J,V){return typeof V=="object"?V:typeof J=="string"?{prefix:"",resource:V,suffix:""}:{prefix:J.prefix,resource:V,suffix:J.suffix}},R=function(J,V){var ge=n[J];ke(V,function(le){Lo.ScriptLoader.add(ge+"/"+le)})},M=function(J,V,ge,le){var pe=g(J);ke(pe,function(we){var Ne=P(V,we);W(Ne.resource,Ne,void 0,void 0)}),ge&&(le?ge.call(le):ge.call(Lo))},W=function(J,V,ge,le,pe){if(!n[J]){var we=typeof V=="string"?V:V.prefix+V.resource+V.suffix;we.indexOf("/")!==0&&we.indexOf("://")===-1&&(we=Qu.baseURL+"/"+we),n[J]=we.substring(0,we.lastIndexOf("/"));var Ne=function(){s(J,"loaded"),M(J,V,ge,le)};a[J]?Ne():Lo.ScriptLoader.add(we,Ne,le,pe)}},K=function(J,V,ge){ge===void 0&&(ge="added"),Or(a,J)&&ge==="added"||Or(n,J)&&ge==="loaded"?V():i.push({name:J,state:ge,callback:V})};return{items:e,urls:n,lookup:a,_listeners:i,get:f,dependencies:g,requireLangPack:b,add:y,remove:O,createUrl:P,addComponents:R,load:W,waitFor:K}};Qu.languageLoad=!0,Qu.baseURL="",Qu.PluginManager=Qu(),Qu.ThemeManager=Qu();var gp=function(e,n){var a=null,i=function(){a!==null&&(clearTimeout(a),a=null)},s=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];a===null&&(a=setTimeout(function(){e.apply(null,f),a=null},n))};return{cancel:i,throttle:s}},zw=function(e,n){var a=null,i=function(){a!==null&&(clearTimeout(a),a=null)},s=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];a!==null&&clearTimeout(a),a=setTimeout(function(){e.apply(null,f),a=null},n)};return{cancel:i,throttle:s}},Hb=function(e,n){var a=$(e,n);return a===void 0||a===""?[]:a.split(" ")},$x=function(e,n,a){var i=Hb(e,n),s=i.concat([a]);return ms(e,n,s.join(" ")),!0},uu=function(e,n,a){var i=on(Hb(e,n),function(s){return s!==a});return i.length>0?ms(e,n,i.join(" ")):Ae(e,n),!1},zv=function(e){return e.dom.classList!==void 0},Lw=function(e){return Hb(e,"class")},Hw=function(e,n){return $x(e,"class",n)},Vw=function(e,n){return uu(e,"class",n)},Gd=function(e,n){zv(e)?e.dom.classList.add(n):Hw(e,n)},_g=function(e){var n=zv(e)?e.dom.classList:Lw(e);n.length===0&&Ae(e,"class")},Vb=function(e,n){if(zv(e)){var a=e.dom.classList;a.remove(n)}else Vw(e,n);_g(e)},Ub=function(e,n){return zv(e)&&e.dom.classList.contains(n)},Wb=function(e,n){var a=[];return ke(ro(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(Wb(i,n))}),a},oo=function(e,n){return fu(n,e)},Ei=Ve("mce-annotation"),wi=Ve("data-mce-annotation"),Hi=Ve("data-mce-annotation-uid"),Fu=function(e,n){var a=e.selection.getRng(),i=L.fromDom(a.startContainer),s=L.fromDom(e.getBody()),f=n.fold(function(){return"."+Ei()},function(O){return"["+wi()+'="'+O+'"]'}),g=yn(i,a.startOffset).getOr(i),b=kv(g,f,function(O){return oa(O,s)}),y=function(O,P){return me(O,P)?ee.some($(O,P)):ee.none()};return b.bind(function(O){return y(O,""+Hi()).bind(function(P){return y(O,""+wi()).map(function(R){var M=jb(e,P);return{uid:P,name:R,elements:M}})})})},eu=function(e){return ri(e)&&Ub(e,Ei())},jb=function(e,n){var a=L.fromDom(e.getBody());return oo(a,"["+Hi()+'="'+n+'"]')},Kd=function(e,n){var a=L.fromDom(e.getBody()),i=oo(a,"["+wi()+'="'+n+'"]'),s={};return ke(i,function(f){var g=$(f,Hi()),b=s.hasOwnProperty(g)?s[g]:[];s[g]=b.concat([f])}),s},qb=function(e,n){var a=No({}),i=function(){return{listeners:[],previous:No(ee.none())}},s=function(P,R){f(P,function(M){return R(M),M})},f=function(P,R){var M=a.get(),W=M.hasOwnProperty(P)?M[P]:i(),K=R(W);M[P]=K,a.set(M)},g=function(P,R,M){s(P,function(W){ke(W.listeners,function(K){return K(!0,P,{uid:R,nodes:pt(M,function(J){return J.dom})})})})},b=function(P){s(P,function(R){ke(R.listeners,function(M){return M(!1,P)})})},y=zw(function(){var P=a.get(),R=Lr(Na(P));ke(R,function(M){f(M,function(W){var K=W.previous.get();return Fu(e,ee.some(M)).fold(function(){K.isSome()&&(b(M),W.previous.set(ee.none()))},function(J){var V=J.uid,ge=J.name,le=J.elements;K.is(V)||(g(ge,V,le),W.previous.set(ee.some(V)))}),{previous:W.previous,listeners:W.listeners}})})},30);e.on("remove",function(){y.cancel()}),e.on("NodeChange",function(){y.throttle()});var O=function(P,R){f(P,function(M){return{previous:M.previous,listeners:M.listeners.concat([R])}})};return{addListener:O}},Uw=function(e,n){var a=function(i){return ee.from(i.attr(wi())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){ke(i,function(s){a(s).each(function(f){f.persistent===!1&&s.unwrap()})})})})},Ww=function(){var e={},n=function(i,s){e[i]={name:i,settings:s}},a=function(i){return e.hasOwnProperty(i)?ee.from(e[i]).map(function(s){return s.settings}):ee.none()};return{register:n,lookup:a}},Gb=0,hp=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return Gb++,e+"_"+i+Gb+String(a)},Kb=function(e,n){ke(n,function(a){Gd(e,a)})},Ix=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,ro(L.fromDom(i))},zx=function(e){return e.dom.innerHTML},jw=function(e,n){var a=Aa(e),i=a.dom,s=L.fromDom(i.createDocumentFragment()),f=Ix(n,i);hf(s,f),yv(e),Mo(e,s)},Xb=function(e,n){return L.fromDom(e.dom.cloneNode(n))},Lf=function(e){return Xb(e,!1)},pp=function(e){return Xb(e,!0)},qw=function(e,n,a){a===void 0&&(a=bt);var i=new yi(e,n),s=function(f){var g;do g=i[f]();while(g&&!$t(g)&&!a(g));return ee.from(g).filter($t)};return{current:function(){return ee.from(i.current()).filter($t)},next:function(){return s("next")},prev:function(){return s("prev")},prev2:function(){return s("prev2")}}},Gw=function(e,n){var a=n||function(g){return e.isBlock(g)||Go(g)||lo(g)},i=function(g,b,y,O){if($t(g)){var P=O(g,b,g.data);if(P!==-1)return ee.some({container:g,offset:P})}return y().bind(function(R){return i(R.container,R.offset,y,O)})},s=function(g,b,y,O){var P=qw(g,O,a);return i(g,b,function(){return P.prev().map(function(R){return{container:R,offset:R.length}})},y).getOrNull()},f=function(g,b,y,O){var P=qw(g,O,a);return i(g,b,function(){return P.next().map(function(R){return{container:R,offset:0}})},y).getOrNull()};return{backwards:s,forwards:f}},Lx=function(e){for(var n=[],a=function(s){n.push(s)},i=0;i<e.length;i++)e[i].each(a);return n},Ci=function(e,n,a){return e.isSome()&&n.isSome()?ee.some(a(e.getOrDie(),n.getOrDie())):ee.none()},Yb=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?ee.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):ee.none()},Lt=function(e,n){return e?ee.some(n):ee.none()},Xd=Math.round,Do=function(e){return e?{left:Xd(e.left),top:Xd(e.top),bottom:Xd(e.bottom),right:Xd(e.right),width:Xd(e.width),height:Xd(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Kw=function(e,n){return e=Do(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Xw=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},Jb=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},tu=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:Jb(n.top-e.bottom,e,n)},Lv=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:Jb(n.bottom-e.top,e,n)},bp=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},Yd=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},Is=function(e,n){return e.nodeType===1&&e.hasChildNodes()&&(n>=e.childNodes.length&&(n=e.childNodes.length-1),e=e.childNodes[n]),e},Hx=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),yp=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&Hx.test(e)},Oc=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},yu=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},Zb=Ur,Ac=Cc,Hv=Kc("display","block table"),Qb=Kc("float","left right"),Jd=yu(Zb,Ac,Xn(Qb)),Vx=Xn(Kc("white-space","pre pre-line pre-wrap")),Yl=$t,Vv=Go,Zd=eo.nodeIndex,wp=Is,e0=function(e){return"createRange"in e?e.createRange():eo.DOM.createRng()},Cp=function(e){return e&&/[\r\n\t ]/.test(e)},Sp=function(e){return!!e.setStart&&!!e.setEnd},xp=function(e){var n=e.startContainer,a=e.startOffset,i;return!!(Cp(e.toString())&&Vx(n.parentNode)&&$t(n)&&(i=n.data,Cp(i[a-1])||Cp(i[a+1])))},Uv=function(e){var n=e.ownerDocument,a=e0(n),i=n.createTextNode(Fi),s=e.parentNode;s.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var f=Do(a.getBoundingClientRect());return s.removeChild(i),f},ul=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,s=e.endOffset;if(n===a&&$t(a)&&i===0&&s===1){var f=e.cloneRange();return f.setEndAfter(a),Dc(f)}else return null},Hf=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},Dc=function(e){var n,a=e.getClientRects();return a.length>0?n=Do(a[0]):n=Do(e.getBoundingClientRect()),!Sp(e)&&Vv(e)&&Hf(n)?Uv(e):Hf(n)&&Sp(e)?ul(e):n},sl=function(e,n){var a=Kw(e,n);return a.width=1,a.right=a.left+1,a},Ux=function(e){var n=[],a,i,s=function(g){g.height!==0&&(n.length>0&&Xw(g,n[n.length-1])||n.push(g))},f=function(g,b){var y=e0(g.ownerDocument);if(b<g.data.length){if(yp(g.data[b]))return n;if(yp(g.data[b-1])&&(y.setStart(g,b),y.setEnd(g,b+1),!xp(y)))return s(sl(Dc(y),!1)),n}b>0&&(y.setStart(g,b-1),y.setEnd(g,b),xp(y)||s(sl(Dc(y),!1))),b<g.data.length&&(y.setStart(g,b),y.setEnd(g,b+1),xp(y)||s(sl(Dc(y),!0)))};if(Yl(e.container()))return f(e.container(),e.offset()),n;if(Zb(e.container()))if(e.isAtEnd())i=wp(e.container(),e.offset()),Yl(i)&&f(i,i.data.length),Jd(i)&&!Vv(i)&&s(sl(Dc(i),!1));else{if(i=wp(e.container(),e.offset()),Yl(i)&&f(i,0),Jd(i)&&e.isAtEnd())return s(sl(Dc(i),!1)),n;a=wp(e.container(),e.offset()-1),Jd(a)&&!Vv(a)&&(Hv(a)||Hv(i)||!Jd(i))&&s(sl(Dc(a),!1)),Jd(i)&&s(sl(Dc(i),!0))}return n},ft=function(e,n,a){var i=function(){return Yl(e),n===0},s=function(){return Yl(e)?n>=e.data.length:n>=e.childNodes.length},f=function(){var P=e0(e.ownerDocument);return P.setStart(e,n),P.setEnd(e,n),P},g=function(){return a||(a=Ux(ft(e,n))),a},b=function(){return g().length>0},y=function(P){return P&&e===P.container()&&n===P.offset()},O=function(P){return wp(e,P?n-1:n)};return{container:Ve(e),offset:Ve(n),toRange:f,getClientRects:g,isVisible:b,isAtStart:i,isAtEnd:s,isEqual:y,getNode:O}};ft.fromRangeStart=function(e){return ft(e.startContainer,e.startOffset)},ft.fromRangeEnd=function(e){return ft(e.endContainer,e.endOffset)},ft.after=function(e){return ft(e.parentNode,Zd(e)+1)},ft.before=function(e){return ft(e.parentNode,Zd(e))},ft.isAbove=function(e,n){return Ci(vn(n.getClientRects()),Br(e.getClientRects()),tu).getOr(!1)},ft.isBelow=function(e,n){return Ci(Br(n.getClientRects()),vn(e.getClientRects()),Lv).getOr(!1)},ft.isAtStart=function(e){return e?e.isAtStart():!1},ft.isAtEnd=function(e){return e?e.isAtEnd():!1},ft.isTextPosition=function(e){return e?$t(e.container()):!1},ft.isElementPosition=function(e){return ft.isTextPosition(e)===!1};var kp=function(e,n){$t(n)&&n.data.length===0&&e.remove(n)},Bg=function(e,n,a){n.insertNode(a),kp(e,a.previousSibling),kp(e,a.nextSibling)},t0=function(e,n,a){var i=ee.from(a.firstChild),s=ee.from(a.lastChild);n.insertNode(a),i.each(function(f){return kp(e,f.previousSibling)}),s.each(function(f){return kp(e,f.nextSibling)})},Tp=function(e,n,a){Td(a)?t0(e,n,a):Bg(e,n,a)},_c=$t,n0=bf,Yw=eo.nodeIndex,Rg=function(e){var n=e.parentNode;return n0(n)?Rg(n):n},Qd=function(e){return e?Oa(e.childNodes,function(n,a){return n0(a)&&a.nodeName!=="BR"?n=n.concat(Qd(a)):n.push(a),n},[]):[]},Jw=function(e,n){for(;(e=e.previousSibling)&&_c(e);)n+=e.data.length;return n},Zw=function(e){return function(n){return e===n}},Pg=function(e){var n,a;n=Qd(Rg(e)),a=La(n,Zw(e),e),n=n.slice(0,a+1);var i=Oa(n,function(s,f,g){return _c(f)&&_c(n[g-1])&&s++,s},0);return n=io(n,Ku([e.nodeName])),a=La(n,Zw(e),e),a-i},Wv=function(e){var n;return _c(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+Pg(e)+"]"},Mg=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},em=function(e,n){var a,i,s=[],f,g,b;return a=n.container(),i=n.offset(),_c(a)?f=Jw(a,i):(g=a.childNodes,i>=g.length?(f="after",i=g.length-1):f="before",a=g[i]),s.push(Wv(a)),b=Mg(e,a),b=io(b,Xn(bf)),s=s.concat(xo(b,function(y){return Wv(y)})),s.reverse().join("/")+","+f},r0=function(e,n,a){var i=Qd(e);return i=io(i,function(s,f){return!_c(s)||!_c(i[f-1])}),i=io(i,Ku([n])),i[a]},Wx=function(e,n){for(var a=e,i=0,s;_c(a);){if(s=a.data.length,n>=i&&n<=i+s){e=a,n=n-i;break}if(!_c(a.nextSibling)){e=a,n=s;break}i+=s,a=a.nextSibling}return _c(e)&&n>e.data.length&&(n=e.data.length),ft(e,n)},cl=function(e,n){var a;if(!n)return null;var i=n.split(","),s=i[0].split("/");a=i.length>1?i[1]:"before";var f=Oa(s,function(g,b){var y=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return y?(y[1]==="text()"&&(y[1]="#text"),r0(g,y[1],parseInt(y[2],10))):null},e);return f?_c(f)?Wx(f,parseInt(a,10)):(a==="after"?a=Yw(f)+1:a=Yw(f),ft(f.parentNode,a)):null},tm=lo,Ng=function(e,n,a){var i,s;for(s=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&$t(i);i=i.previousSibling)s+=e(i.data).length;return s},ll=function(e,n,a,i,s){var f=i[s?"startContainer":"endContainer"],g=i[s?"startOffset":"endOffset"],b=[],y,O=0,P=e.getRoot();for($t(f)?b.push(a?Ng(n,f,g):g):(y=f.childNodes,g>=y.length&&y.length&&(O=1,g=Math.max(0,y.length-1)),b.push(e.nodeIndex(y[g],a)+O));f&&f!==P;f=f.parentNode)b.push(e.nodeIndex(f,a));return b},Ep=function(e,n,a,i){var s=n.dom,f={};return f.start=ll(s,e,a,i,!0),n.isCollapsed()||(f.end=ll(s,e,a,i,!1)),f},a0=function(e,n,a){var i=0;return Q.each(e.select(n),function(s){if(s.getAttribute("data-mce-bogus")!=="all"){if(s===a)return!1;i++}}),i},Qw=function(e,n){var a,i,s,f=n?"start":"end";a=e[f+"Container"],i=e[f+"Offset"],Ur(a)&&a.nodeName==="TR"&&(s=a.childNodes,a=s[Math.min(n?i:i-1,s.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},e2=function(e){return Qw(e,!0),Qw(e,!1),e},t2=function(e,n){var a;if(Ur(e)&&(e=Is(e,n),tm(e)))return e;if(_u(e)&&($t(e)&&Pd(e)&&(e=e.parentNode),a=e.previousSibling,tm(a)||(a=e.nextSibling,tm(a))))return a},o0=function(e){return t2(e.startContainer,e.startOffset)||t2(e.endContainer,e.endOffset)},n2=function(e,n,a){var i=a.getNode(),s=i?i.nodeName:null,f=a.getRng();if(tm(i)||s==="IMG")return{name:s,index:a0(a.dom,s,i)};var g=o0(f);return g?(s=g.tagName,{name:s,index:a0(a.dom,s,g)}):Ep(e,a,n,f)},jx=function(e){var n=e.getRng();return{start:em(e.dom.getRoot(),ft.fromRangeStart(n)),end:em(e.dom.getRoot(),ft.fromRangeEnd(n))}},nm=function(e){return{rng:e.getRng()}},r2=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},i0=function(e,n){var a=e.dom,i=e.getRng(),s=a.uniqueId(),f=e.isCollapsed(),g=e.getNode(),b=g.nodeName;if(b==="IMG")return{name:b,index:a0(a,b,g)};var y=e2(i.cloneRange());if(!f){y.collapse(!1);var O=r2(a,s+"_end",n);Tp(a,y,O)}i=e2(i),i.collapse(!0);var P=r2(a,s+"_start",n);return Tp(a,i,P),e.moveToBookmark({id:s,keep:!0}),{id:s}},Op=function(e,n,a){return n===2?n2(el,a,e):n===3?jx(e):n?nm(e):i0(e,!1)},Ap=st(n2,Ft,!0),u0=eo.DOM,$u="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",s0=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var s=e.getParam(n,"","hash");return s.hasOwnProperty(e.id)?s[e.id]:a}else return i},Dp=function(e){return e.getParam("iframe_attrs",{})},qx=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Gx=function(e){return e.getParam("document_base_url","")},Vf=function(e){return s0(e,"body_id","tinymce")},_p=function(e){return s0(e,"body_class","")},a2=function(e){return e.getParam("content_security_policy","")},Bp=function(e){return e.getParam("br_in_pre",!0)},Oi=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},rm=function(e){return e.getParam("forced_root_block_attrs",{})},Kx=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},o2=function(e){return e.getParam("no_newline_selector","")},Xx=function(e){return e.getParam("keep_styles",!0)},Yx=function(e){return e.getParam("end_container_on_empty_block",!1)},Jx=function(e){return Q.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Jl=function(e){return Q.explode(e.getParam("font_size_classes",""))},Fg=function(e){return e.getParam("images_dataimg_filter",or,"function")},i2=function(e){return e.getParam("automatic_uploads",!0,"boolean")},u2=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},Zx=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},c0=function(e){return e.getParam("icons","","string")},s2=function(e){return e.getParam("icons_url","","string")},l0=function(e){return e.getParam("images_upload_url","","string")},$g=function(e){return e.getParam("images_upload_base_path","","string")},Qx=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},ek=function(e){return e.getParam("images_upload_handler",null,"function")},am=function(e){return e.getParam("content_css_cors",!1,"boolean")},f0=function(e){return e.getParam("referrer_policy","","string")},c2=function(e){return e.getParam("language","en","string")},tk=function(e){return e.getParam("language_url","","string")},jv=function(e){return e.getParam("indent_use_margin",!1)},l2=function(e){return e.getParam("indentation","40px","string")},f2=function(e){var n=e.getParam("content_css");return ct(n)?pt(n.split(","),Ln):re(n)?n:n===!1||e.inline?[]:["default"]},v0=function(e){var n=e.getParam("font_css",[]);return re(n)?n:pt(n.split(","),Ln)},v2=function(e){return e.getParam("directionality",$s.isRtl()?"rtl":void 0)},nk=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},d0=function(e){var n=e.getParam("object_resizing");return n===!1||Mr.iOS?!1:ct(n)?n:"table,img,figure.image,div,video,iframe"},d2=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},rk=function(e){return e.getParam("placeholder",u0.getAttrib(e.getElement(),"placeholder"),"string")},m0=function(e){return e.getParam("event_root")},ak=function(e){return e.getParam("service_message")},Ig=function(e){return e.getParam("theme")},m2=function(e){return e.getParam("validate")},fl=function(e){return e.getParam("inline_boundaries")!==!1},ok=function(e){return e.getParam("formats")},ik=function(e){var n=e.getParam("preview_styles",$u);return ct(n)?n:""},Iu=function(e){return e.getParam("format_empty_lines",!1,"boolean")},g2=function(e){return e.getParam("custom_ui_selector","","string")},uk=function(e){return e.getParam("theme_url")},es=function(e){return e.getParam("inline")},h2=function(e){return e.getParam("hidden_input")},sk=function(e){return e.getParam("submit_patch")},ck=function(e){return e.getParam("encoding")==="xml"},g0=function(e){return e.getParam("add_form_submit_trigger")},om=function(e){return e.getParam("add_unload_trigger")},h0=function(e){return Oi(e)!==""},p2=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},b2=function(e){return e.getParam("disable_nodechange")},lk=function(e){return e.getParam("readonly")},y2=function(e){return e.getParam("content_css_cors")},Cs=function(e){return e.getParam("plugins","","string")},Uf=function(e){return e.getParam("external_plugins")},Rp=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},qv=function(e){return e.getParam("visual",!0,"boolean")},Pp=function(e){return e.getParam("visual_table_class","mce-item-table","string")},w2=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},C2=Ur,p0=$t,b0=function(e){var n=e.parentNode;n&&n.removeChild(e)},y0=function(e){var n=el(e);return{count:e.length-n.length,text:n}},S2=function(e){for(var n;(n=e.data.lastIndexOf(Ao))!==-1;)e.deleteData(n,1)},x2=function(e,n){return Wf(e),n},fk=function(e,n){var a=y0(e.data.substr(0,n.offset())),i=y0(e.data.substr(n.offset())),s=a.text+i.text;return s.length>0?(S2(e),ft(e,n.offset()-a.count)):n},vk=function(e,n){var a=n.container(),i=de(qr(a.childNodes),e).map(function(s){return s<n.offset()?ft(a,n.offset()-1):n}).getOr(n);return Wf(e),i},dk=function(e,n){return p0(e)&&n.container()===e?fk(e,n):x2(e,n)},mk=function(e,n){return n.container()===e.parentNode?vk(e,n):x2(e,n)},Mp=function(e,n){return ft.isTextPosition(n)?dk(e,n):mk(e,n)},Wf=function(e){C2(e)&&_u(e)&&(qs(e)?e.removeAttribute("data-mce-caret"):b0(e)),p0(e)&&(S2(e),e.data.length===0&&b0(e))},Np=Er().browser,gk=lo,hk=Xu,pk=Ko,wu="*[contentEditable=false],video,audio,embed,object",Gv=function(e,n,a){var i=Kw(n.getBoundingClientRect(),a),s,f,g,b,y;return e.tagName==="BODY"?(s=e.ownerDocument.documentElement,f=e.scrollLeft||s.scrollLeft,g=e.scrollTop||s.scrollTop):(y=e.getBoundingClientRect(),f=e.scrollLeft-y.left,g=e.scrollTop-y.top),i.left+=f,i.right+=f,i.top+=g,i.bottom+=g,i.width=1,b=n.offsetWidth-n.clientWidth,b>0&&(a&&(b*=-1),i.left+=b,i.right+=b),i},im=function(e){for(var n=oo(L.fromDom(e),wu),a=0;a<n.length;a++){var i=n[a].dom,s=i.previousSibling;if(Tv(s)){var f=s.data;f.length===1?s.parentNode.removeChild(s):s.deleteData(f.length-1,1)}if(s=i.nextSibling,li(s)){var f=s.data;f.length===1?s.parentNode.removeChild(s):s.deleteData(0,1)}}},w0=function(e,n,a,i){var s=No(ee.none()),f,g,b=Oi(e),y=b.length>0?b:"p",O=function(J,V){var ge,le;if(P(),pk(V))return null;if(a(V)){g=vx(y,V,J),ge=Gv(n,V,J),Wr(g).css("top",ge.top);var pe=Wr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(ge).appendTo(n)[0];s.set(ee.some({caret:pe,element:V,before:J})),s.get().each(function(we){J&&Wr(we.caret).addClass("mce-visual-caret-before")}),R(),le=V.ownerDocument.createRange(),le.setStart(g,0),le.setEnd(g,0)}else return g=gb(V,J),le=V.ownerDocument.createRange(),Kv(g.nextSibling)?(le.setStart(g,0),le.setEnd(g,0)):(le.setStart(g,1),le.setEnd(g,1)),le;return le},P=function(){im(n),g&&(Wf(g),g=null),s.get().each(function(J){Wr(J.caret).remove(),s.set(ee.none())}),f&&(Hn.clearInterval(f),f=null)},R=function(){f=Hn.setInterval(function(){i()?Wr("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):Wr("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},M=function(){s.get().each(function(J){var V=Gv(n,J.element,J.before);Wr(J.caret).css(Gn({},V))})},W=function(){return Hn.clearInterval(f)},K=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:O,hide:P,getCss:K,reposition:M,destroy:W}},C0=function(){return Np.isIE()||Np.isEdge()||Np.isFirefox()},Kv=function(e){return gk(e)||hk(e)},Ss=function(e){return Kv(e)||Mi(e)&&C0()},Fp=lo,S0=Xu,Xv=Kc("display","block table table-cell table-caption list-item"),x0=_u,$p=Pd,k2=Ur,T2=Cc,Yv=function(e){return e>0},jf=function(e){return e<0},zg=function(e,n){for(var a;a=e(n);)if(!$p(a))return a;return null},um=function(e,n,a,i,s){var f=new yi(e,i),g=Fp(e)||$p(e);if(jf(n)){if(g&&(e=zg(f.prev.bind(f),!0),a(e)))return e;for(;e=zg(f.prev.bind(f),s);)if(a(e))return e}if(Yv(n)){if(g&&(e=zg(f.next.bind(f),!0),a(e)))return e;for(;e=zg(f.next.bind(f),s);)if(a(e))return e}return null},qf=function(e,n){for(;e&&e!==n;){if(Xv(e))return e;e=e.parentNode}return null},Bc=function(e,n,a){return qf(e.container(),a)===qf(n.container(),a)},Ip=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return k2(a)?a.childNodes[i+e]:null},E2=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},bk=function(e,n,a){return qf(n,e)===qf(a,e)},O2=function(e,n,a){var i,s;for(e?s="previousSibling":s="nextSibling";a&&a!==n;){if(i=a[s],x0(i)&&(i=i[s]),Fp(i)||S0(i)){if(bk(n,i,a))return i;break}if(T2(i))break;a=a.parentNode}return null},Lg=st(E2,!0),Jv=st(E2,!1),k0=function(e,n,a){var i,s,f,g=st(O2,!0,n),b=st(O2,!1,n);s=a.startContainer;var y=a.startOffset;if(Pd(s)){if(k2(s)||(s=s.parentNode),f=s.getAttribute("data-mce-caret"),f==="before"&&(i=s.nextSibling,Ss(i)))return Lg(i);if(f==="after"&&(i=s.previousSibling,Ss(i)))return Jv(i)}if(!a.collapsed)return a;if($t(s)){if(x0(s)){if(e===1){if(i=b(s),i)return Lg(i);if(i=g(s),i)return Jv(i)}if(e===-1){if(i=g(s),i)return Jv(i);if(i=b(s),i)return Lg(i)}return a}if(Tv(s)&&y>=s.data.length-1)return e===1&&(i=b(s),i)?Lg(i):a;if(li(s)&&y<=1)return e===-1&&(i=g(s),i)?Jv(i):a;if(y===s.data.length)return i=b(s),i?Lg(i):a;if(y===0)return i=g(s),i?Jv(i):a}return a},zp=function(e,n){return ee.from(Ip(e?0:-1,n)).filter(Fp)},sm=function(e,n,a){var i=k0(e,n,a);return e===-1?ft.fromRangeStart(i):ft.fromRangeEnd(i)},Hg=function(e){return ee.from(e.getNode()).map(L.fromDom)},yk=function(e){return ee.from(e.getNode(!0)).map(L.fromDom)},Lp=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},cm=function(e,n){var a=Bc(e,n);return!a&&Go(e.getNode())?!0:a},Ai;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ai||(Ai={}));var ua=lo,zu=$t,vl=Ur,Zv=Go,Zl=Cc,lm=Cb,Hp=Af,T0=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},Vp=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},E0=function(e,n){if(Yv(e)){if(Zl(n.previousSibling)&&!zu(n.previousSibling))return ft.before(n);if(zu(n))return ft(n,0)}if(jf(e)){if(Zl(n.nextSibling)&&!zu(n.nextSibling))return ft.after(n);if(zu(n))return ft(n,n.data.length)}return jf(e)?Zv(n)?ft.before(n):ft.after(n):ft.before(n)},wk=function(e,n){var a=n.nextSibling;return a&&Zl(a)?zu(a)?ft(a,0):ft.before(a):O0(Ai.Forwards,ft.after(n),e)},O0=function(e,n,a){var i,s,f,g;if(!vl(a)||!n)return null;if(n.isEqual(ft.after(a))&&a.lastChild){if(g=ft.after(a.lastChild),jf(e)&&Zl(a.lastChild)&&vl(a.lastChild))return Zv(a.lastChild)?ft.before(a.lastChild):g}else g=n;var b=g.container(),y=g.offset();if(zu(b)){if(jf(e)&&y>0)return ft(b,--y);if(Yv(e)&&y<b.length)return ft(b,++y);i=b}else{if(jf(e)&&y>0&&(s=Vp(b,y-1),Zl(s)))return!lm(s)&&(f=um(s,e,Hp,s),f)?zu(f)?ft(f,f.data.length):ft.after(f):zu(s)?ft(s,s.data.length):ft.before(s);if(Yv(e)&&y<b.childNodes.length&&(s=Vp(b,y),Zl(s)))return Zv(s)?wk(a,s):!lm(s)&&(f=um(s,e,Hp,s),f)?zu(f)?ft(f,0):ft.before(f):zu(s)?ft(s,0):ft.after(s);i=s||g.getNode()}if((Yv(e)&&g.isAtEnd()||jf(e)&&g.isAtStart())&&(i=um(i,e,or,a,!0),Hp(i,a)))return E0(e,i);s=um(i,e,Hp,a);var O=so(on(T0(b,a),ua));return O&&(!s||!O.contains(s))?(Yv(e)?g=ft.after(O):g=ft.before(O),g):s?E0(e,s):null},Rc=function(e){return{next:function(n){return O0(Ai.Forwards,n,e)},prev:function(n){return O0(Ai.Backwards,n,e)}}},A2=function(e,n,a){var i=e?ft.before(a):ft.after(a);return zs(e,n,i)},Ck=function(e){return Go(e)?ft.before(e):ft.after(e)},D2=function(e){return ft.isTextPosition(e)?e.offset()===0:Cc(e.getNode())},A0=function(e){if(ft.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return Cc(e.getNode(!0))},_2=function(e,n){return!ft.isTextPosition(e)&&!ft.isTextPosition(n)&&e.getNode()===n.getNode(!0)},B2=function(e){return!ft.isTextPosition(e)&&Go(e.getNode())},Sk=function(e,n,a){return e?!_2(n,a)&&!B2(n)&&A0(n)&&D2(a):!_2(a,n)&&D2(n)&&A0(a)},zs=function(e,n,a){var i=Rc(n);return ee.from(e?i.next(a):i.prev(a))},fm=function(e,n,a){return zs(e,n,a).bind(function(i){return Bc(a,i,n)&&Sk(e,a,i)?zs(e,n,i):ee.some(i)})},D0=function(e,n,a,i){return fm(e,n,a).bind(function(s){return i(s)?D0(e,n,s,i):ee.some(s)})},Qv=function(e,n){var a=e?n.firstChild:n.lastChild;return $t(a)?ee.some(ft(a,e?0:a.data.length)):a?Cc(a)?ee.some(e?ft.before(a):Ck(a)):A2(e,n,a):ee.none()},Js=st(zs,!0),dl=st(zs,!1),Lu=st(Qv,!0),Pc=st(Qv,!1),R2="_mce_caret",ml=function(e){return Ur(e)&&e.id===R2},ed=function(e,n){for(;n&&n!==e;){if(n.id===R2)return n;n=n.parentNode}return null},xk=function(e){return ct(e.start)},P2=function(e){return e.hasOwnProperty("rng")},_0=function(e){return e.hasOwnProperty("id")},B0=function(e){return e.hasOwnProperty("name")},kk=function(e){return Q.isArray(e.start)},wn=function(e,n){return Ur(n)&&e.isBlock(n)&&!n.innerHTML&&!Mr.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},Si=function(e,n){var a,i=e.createRng();return a=cl(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=cl(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},Up=function(e,n){var a=e.ownerDocument.createTextNode(Ao);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},oi=function(e){return e.hasChildNodes()===!1},ts=function(e,n){return Pc(e).fold(bt,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},Vg=function(e,n,a){return oi(n)&&ed(e,n)?(Up(n,a),!0):!1},vm=function(e,n,a,i){var s=a[n?"start":"end"],f,g,b,y,O=e.getRoot();if(s){for(b=s[0],g=O,f=s.length-1;f>=1;f--){if(y=g.childNodes,Vg(O,g,i))return!0;if(s[f]>y.length-1)return Vg(O,g,i)?!0:ts(g,i);g=y[s[f]]}g.nodeType===3&&(b=Math.min(s[0],g.nodeValue.length)),g.nodeType===1&&(b=Math.min(s[0],g.childNodes.length)),n?i.setStart(g,b):i.setEnd(g,b)}return!0},td=function(e){return $t(e)&&e.data.length>0},R0=function(e,n,a){var i=e.get(a.id+"_"+n),s,f,g,b,y=a.keep,O,P;if(i){if(s=i.parentNode,n==="start"?(y?i.hasChildNodes()?(s=i.firstChild,f=1):td(i.nextSibling)?(s=i.nextSibling,f=0):td(i.previousSibling)?(s=i.previousSibling,f=i.previousSibling.data.length):(s=i.parentNode,f=e.nodeIndex(i)+1):f=e.nodeIndex(i),O=s,P=f):(y?i.hasChildNodes()?(s=i.firstChild,f=1):td(i.previousSibling)?(s=i.previousSibling,f=i.previousSibling.data.length):(s=i.parentNode,f=e.nodeIndex(i)):f=e.nodeIndex(i),O=s,P=f),!y){for(b=i.previousSibling,g=i.nextSibling,Q.each(Q.grep(i.childNodes),function(R){$t(R)&&(R.nodeValue=R.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);b&&g&&b.nodeType===g.nodeType&&$t(b)&&!Mr.opera&&(f=b.nodeValue.length,b.appendData(g.nodeValue),e.remove(g),O=b,P=f)}return ee.some(ft(O,P))}else return ee.none()},P0=function(e,n){var a=e.createRng();return vm(e,!0,n,a)&&vm(e,!1,n,a)?ee.some(a):ee.none()},M2=function(e,n){var a=R0(e,"start",n),i=R0(e,"end",n);return Ci(a,i.or(a),function(s,f){var g=e.createRng();return g.setStart(wn(e,s.container()),s.offset()),g.setEnd(wn(e,f.container()),f.offset()),g})},Tk=function(e,n){return ee.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},Ek=function(e,n){var a=e.dom;if(n){if(kk(n))return P0(a,n);if(xk(n))return ee.some(Si(a,n));if(_0(n))return M2(a,n);if(B0(n))return Tk(a,n);if(P2(n))return ee.some(n.rng)}return ee.none()},Ok=function(e,n,a){return Op(e,n,a)},N2=function(e,n){Ek(e,n).each(function(a){e.setRng(a)})},xs=function(e){return Ur(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},F2=function(e){return function(n){return e===n}},Ql=F2(Fi),gl=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},Mc=function(e){return!gl(e)&&!Ql(e)},nd=function(e){return!!e.nodeType},M0=function(e){return e&&/^(IMG)$/.test(e.nodeName)},$2=function(e,n,a){var i=a.startOffset,s=a.startContainer,f,g,b;if(!(a.startContainer===a.endContainer&&M0(a.startContainer.childNodes[a.startOffset]))&&s.nodeType===1){for(b=s.childNodes,i<b.length?(s=b[i],f=new yi(s,e.getParent(s,e.isBlock))):(s=b[b.length-1],f=new yi(s,e.getParent(s,e.isBlock)),f.next(!0)),g=f.current();g;g=f.next())if(g.nodeType===3&&!N0(g)){a.setStart(g,0),n.setRng(a);return}}},dm=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(e.nodeType===1||!N0(e))return e}},mm=function(e,n){return nd(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},gm=function(e,n,a){return e.schema.isValidChild(n,a)},N0=function(e,n){if(n===void 0&&(n=!1),Gt(e)&&$t(e)){var a=n?e.data.replace(/ /g,"\xA0"):e.data;return Df(a)}else return!1},Ak=function(e){return Gt(e)&&$t(e)&&e.length===0},ef=function(e,n){return typeof e!="string"?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},Ug=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},Wp=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},jp=function(e,n,a){return Wp(e,e.getStyle(n,a),a)},Wg=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},xi=function(e,n,a){return e.getParents(n,a,e.getRoot())},Zs=function(e,n){var a=function(i){var s=function(f){return f.length>1&&f.charAt(0)==="%"};return Be(["styles","attributes"],function(f){return Rr(i,f).exists(function(g){var b=re(g)?g:Ka(g);return Be(b,s)})})};return Be(e.formatter.get(n),a)},Qs=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],s=function(f){return cn(f,function(g,b){return Be(i,function(y){return y===b})})};return Be(e.formatter.get(n),function(f){var g=s(f);return Be(e.formatter.get(a),function(b){var y=s(b);return Co(g,y)})})},jg=function(e){return go(e,"block")},rd=function(e){return go(e,"selector")},F0=function(e){return go(e,"inline")},qp=function(e,n){return Be(n.childNodes,e.isBlock)},ad=xs,qg=xi,Gg=N0,$0=mm,I2=function(e){return Go(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},I0=function(e,n){for(var a=n;a;){if(Ur(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},Gp=function(e,n,a,i){for(var s=n.data,f=a;e?f>=0:f<s.length;e?f--:f++)if(i(s.charAt(f)))return e?f+1:f;return-1},z0=function(e,n,a){return Gp(e,n,a,function(i){return Ql(i)||gl(i)})},qa=function(e,n,a){return Gp(e,n,a,Mc)},Nc=function(e,n,a,i,s,f){var g,b=e.getParent(a,e.isBlock)||n,y=function(P,R,M){var W=Gw(e),K=s?W.backwards:W.forwards;return ee.from(K(P,R,function(J,V){return ad(J.parentNode)?-1:(g=J,M(s,J,V))},b))},O=y(a,i,z0);return O.bind(function(P){return f?y(P.container,P.offset+(s?-1:0),qa):ee.some(P)}).orThunk(function(){return g?ee.some({container:g,offset:s?0:g.length}):ee.none()})},Gf=function(e,n,a,i,s){$t(i)&&i.nodeValue.length===0&&i[s]&&(i=i[s]);for(var f=qg(e,i),g=0;g<f.length;g++)for(var b=0;b<n.length;b++){var y=n[b];if(!("collapsed"in y&&y.collapsed!==a.collapsed)&&e.is(f[g],y.selector))return f[g]}return i},Kp=function(e,n,a,i){var s,f=e.dom,g=f.getRoot();if(n[0].wrapper||(s=f.getParent(a,n[0].block,g)),!s){var b=f.getParent(a,"LI,TD,TH");s=f.getParent($t(a)?a.parentNode:a,function(y){return y!==g&&$0(e,y)},b)}if(s&&n[0].wrapper&&(s=qg(f,s,"ul,ol").reverse()[0]||s),!s)for(s=a;s[i]&&!f.isBlock(s[i])&&(s=s[i],!Ug(s,"br")););return s||a},L0=function(e,n,a,i){var s=a.parentNode;return Gt(a[i])?!1:s===n||Qt(s)||e.isBlock(s)?!0:L0(e,n,s,i)},hm=function(e,n,a,i,s){var f=a,g,b=s?"previousSibling":"nextSibling",y=e.getRoot();if($t(a)&&!Gg(a)&&(s?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(f))return f;for(g=f[b];g;g=g[b]){var O=$t(g)&&!L0(e,y,g,b);if(!ad(g)&&!I2(g)&&!Gg(g,O))return f}if(f===y||f.parentNode===y){a=f;break}f=f.parentNode}return a},H0=function(e){return ad(e.parentNode)||ad(e)},ec=function(e,n,a,i){i===void 0&&(i=!1);var s=n.startContainer,f=n.startOffset,g=n.endContainer,b=n.endOffset,y=e.dom;if(Ur(s)&&s.hasChildNodes()&&(s=Is(s,f),$t(s)&&(f=0)),Ur(g)&&g.hasChildNodes()&&(g=Is(g,n.collapsed?b:b-1),$t(g)&&(b=g.nodeValue.length)),s=I0(y,s),g=I0(y,g),H0(s)&&(s=ad(s)?s:s.parentNode,n.collapsed?s=s.previousSibling||s:s=s.nextSibling||s,$t(s)&&(f=n.collapsed?s.length:0)),H0(g)&&(g=ad(g)?g:g.parentNode,n.collapsed?g=g.nextSibling||g:g=g.previousSibling||g,$t(g)&&(b=n.collapsed?0:g.length)),n.collapsed){var O=Nc(y,e.getBody(),s,f,!0,i);O.each(function(R){var M=R.container,W=R.offset;s=M,f=W});var P=Nc(y,e.getBody(),g,b,!1,i);P.each(function(R){var M=R.container,W=R.offset;g=M,b=W})}return(a[0].inline||a[0].block_expand)&&((!a[0].inline||!$t(s)||f===0)&&(s=hm(y,a,s,f,!0)),(!a[0].inline||!$t(g)||b===g.nodeValue.length)&&(g=hm(y,a,g,b,!1))),a[0].selector&&a[0].expand!==!1&&!a[0].inline&&(s=Gf(y,a,n,s,"previousSibling"),g=Gf(y,a,n,g,"nextSibling")),(a[0].block||a[0].selector)&&(s=Kp(e,a,s,"previousSibling"),g=Kp(e,a,g,"nextSibling"),a[0].block&&(y.isBlock(s)||(s=hm(y,a,s,f,!0)),y.isBlock(g)||(g=hm(y,a,g,b,!1)))),Ur(s)&&(f=y.nodeIndex(s),s=s.parentNode),Ur(g)&&(b=y.nodeIndex(g)+1,g=g.parentNode),{startContainer:s,startOffset:f,endContainer:g,endOffset:b}},Xp=function(e,n){var a=e.childNodes;return n>=a.length?n=a.length-1:n<0&&(n=0),a[n]||e},Dk=function(e,n){return Xp(e,n-1)},pm=function(e,n,a){var i=n.startContainer,s=n.startOffset,f=n.endContainer,g=n.endOffset,b=function(V){var ge;return ge=V[0],ge.nodeType===3&&ge===i&&s>=ge.nodeValue.length&&V.splice(0,1),ge=V[V.length-1],g===0&&V.length>0&&ge===f&&ge.nodeType===3&&V.splice(V.length-1,1),V},y=function(V,ge,le){for(var pe=[];V&&V!==le;V=V[ge])pe.push(V);return pe},O=function(V,ge){do{if(V.parentNode===ge)return V;V=V.parentNode}while(V)},P=function(V,ge,le){for(var pe=le?"nextSibling":"previousSibling",we=V,Ne=we.parentNode;we&&we!==ge;we=Ne){Ne=we.parentNode;var gt=y(we===V?we:we[pe],pe);gt.length&&(le||gt.reverse(),a(b(gt)))}};if(i.nodeType===1&&i.hasChildNodes()&&(i=Xp(i,s)),f.nodeType===1&&f.hasChildNodes()&&(f=Dk(f,g)),i===f)return a(b([i]));for(var R=e.findCommonAncestor(i,f),M=i;M;M=M.parentNode){if(M===f)return P(i,R,!0);if(M===R)break}for(var M=f;M;M=M.parentNode){if(M===i)return P(f,R);if(M===R)break}var W=O(i,R)||i,K=O(f,R)||f;P(i,W,!0);var J=y(W===i?W:W.nextSibling,"nextSibling",K===f?K.nextSibling:K);J.length&&a(b(J)),P(f,K)},V0=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},U0=function(e){return He(e,function(n){var a=Yd(n);return a?[L.fromDom(a)]:[]})},_k=function(e){return V0(e).length>1},su=function(e){return on(U0(e),hs)},Yp=function(e){return oo(e,"td[data-mce-selected],th[data-mce-selected]")},z2=function(e,n){var a=Yp(n);return a.length>0?a:su(e)},bm=function(e){return z2(V0(e.selection.getSel()),L.fromDom(e.getBody()))},Ls=function(e){var n=e.startContainer,a=e.startOffset;return $t(n)?a===0?ee.some(L.fromDom(n)):ee.none():ee.from(n.childNodes[a]).map(L.fromDom)},Cu=function(e){var n=e.endContainer,a=e.endOffset;return $t(n)?a===n.data.length?ee.some(L.fromDom(n)):ee.none():ee.from(n.childNodes[a-1]).map(L.fromDom)},od=function(e){return Eu(e).fold(Ve([e]),function(n){return[e].concat(od(n))})},W0=function(e){return jc(e).fold(Ve([e]),function(n){return ni(n)==="br"?Ws(n).map(function(a){return[e].concat(W0(a))}).getOr([]):[e].concat(W0(n))})},j0=function(e,n){return Ci(Ls(n),Cu(n),function(a,i){var s=Ut(od(e),st(oa,a)),f=Ut(W0(e),st(oa,i));return s.isSome()&&f.isSome()}).getOr(!1)},hl=function(e,n,a,i){var s=a,f=new yi(a,s),g=cn(e.schema.getMoveCaretBeforeOnEnterElements(),function(b,y){return!We(["td","th","table"],y.toLowerCase())});do{if($t(a)&&Q.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(g[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?f.next():f.prev());s.nodeName==="BODY"&&(i?n.setStart(s,0):n.setEnd(s,s.childNodes.length))},Jp=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},Zp=function(e,n){var a=bm(e);a.length>0?ke(a,function(i){var s=i.dom,f=e.dom.createRng();f.setStartBefore(s),f.setEndAfter(s),n(f,!0)}):n(e.selection.getRng(),!1)},Kf=function(e,n,a){var i=i0(e,n);a(i),e.moveToBookmark(i)},Bk=function(e,n){var a=function(f){if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return i(f).getOr("")},i=function(f){return e(f)?ee.from(f.dom.nodeValue):ee.none()},s=function(f,g){if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=g};return{get:a,getOption:i,set:s}},L2=Bk(hi,"text"),ym=function(e){return L2.get(e)},da=function(e){return hi(e)&&ym(e)===Ao},H2=function(e,n,a,i){return pi(n).fold(function(){return"skipping"},function(s){return i==="br"||da(n)?"valid":eu(n)?"existing":ml(n.dom)?"caret":!gm(e,a,i)||!gm(e,ni(s),a)?"invalid-child":"valid"})},Kg=function(e,n){var a=ec(e,n,[{inline:!0}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},q0=function(e,n,a,i){var s=n.uid,f=s===void 0?hp("mce-annotation"):s,g=ho(n,["uid"]),b=L.fromTag("span",e);Gd(b,Ei()),ms(b,""+Hi(),f),ms(b,""+wi(),a);var y=i(f,g),O=y.attributes,P=O===void 0?{}:O,R=y.classes,M=R===void 0?[]:R;return T(b,P),Kb(b,M),b},Xg=function(e,n,a,i,s){var f=[],g=q0(e.getDoc(),s,a,i),b=No(ee.none()),y=function(){b.set(ee.none())},O=function(){return b.get().getOrThunk(function(){var W=Lf(g);return f.push(W),b.set(ee.some(W)),W})},P=function(W){ke(W,R)},R=function(W){var K=H2(e,W,"span",ni(W));switch(K){case"invalid-child":{y();var J=ro(W);P(J),y();break}case"valid":{var V=O();vs(W,V);break}}},M=function(W){var K=pt(W,L.fromDom);P(K)};return pm(e.dom,n,function(W){y(),M(W)}),f},Rk=function(e,n,a,i){e.undoManager.transact(function(){var s=e.selection,f=s.getRng(),g=bm(e).length>0;if(f.collapsed&&!g&&Kg(e,f),s.getRng().collapsed&&!g){var b=q0(e.getDoc(),i,n,a.decorate);jw(b,Fi),s.getRng().insertNode(b.dom),s.select(b.dom)}else Kf(s,!1,function(){Zp(e,function(y){Xg(e,y,n,a.decorate,i)})})})},Qp=function(e){var n=Ww();Uw(e,n);var a=qb(e);return{register:function(i,s){n.register(i,s)},annotate:function(i,s){n.lookup(i).each(function(f){Rk(e,i,f,s)})},annotationChanged:function(i,s){a.addListener(i,s)},remove:function(i){Fu(e,ee.some(i)).each(function(s){var f=s.elements;ke(f,Qm)})},getAll:function(i){var s=Kd(e,i);return Fa(s,function(f){return pt(f,function(g){return g.dom})})}}},id=function(e){return{getBookmark:st(Ok,e),moveToBookmark:st(N2,e)}};id.isBookmarkNode=xs;var Yg=function(e,n){for(;n&&n!==e;){if(Ps(n)||lo(n))return n;n=n.parentNode}return null},wm=function(e,n,a){if(a.collapsed)return!1;if(Mr.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(Ur(i))return Be(i.getClientRects(),function(s){return bp(s,e,n)})}return Be(a.getClientRects(),function(s){return bp(s,e,n)})},Pk=function(e,n){return e.fire("PreProcess",n)},Mk=function(e,n){return e.fire("PostProcess",n)},V2=function(e){return e.fire("remove")},G0=function(e){return e.fire("detach")},U2=function(e,n){return e.fire("SwitchMode",{mode:n})},W2=function(e,n,a,i,s){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:s})},Nk=function(e,n,a,i,s){e.fire("ObjectResized",{target:n,width:a,height:i,origin:s})},K0=function(e){return e.fire("PreInit")},j2=function(e){return e.fire("PostRender")},Fk=function(e){return e.fire("Init")},Ba=function(e,n){return e.fire("PlaceholderToggle",{state:n})},q2=function(e,n,a){return e.fire(n,a)},fr={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||fr.metaKeyPressed(e)},metaKeyPressed:function(e){return Mr.mac?e.metaKey:e.ctrlKey&&!e.altKey}},pl=lo,Jg=function(e,n){var a="data-mce-selected",i=n.dom,s=Q.each,f,g,b,y,O,P,R,M,W,K,J,V,ge,le,pe,we=n.getDoc(),Ne=document,gt=Math.abs,Xt=Math.round,en=n.getBody(),Vn,Yn,Nt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Dr=function(rt){return rt&&(rt.nodeName==="IMG"||n.dom.is(rt,"figure.image"))},gn=function(rt){return Xu(rt)||i.hasClass(rt,"mce-preview-object")},Un=function(rt,Tn){if(rt.type==="longpress"||rt.type.indexOf("touch")===0){var An=rt.touches[0];return Dr(rt.target)&&!wm(An.clientX,An.clientY,Tn)}else return Dr(rt.target)&&!wm(rt.clientX,rt.clientY,Tn)},rn=function(rt){var Tn=rt.target;Un(rt,n.selection.getRng())&&!rt.isDefaultPrevented()&&n.selection.select(Tn)},kn=function(rt){return i.is(rt,"figure.image")?[rt.querySelector("img")]:i.hasClass(rt,"mce-preview-object")&&Gt(rt.firstElementChild)?[rt,rt.firstElementChild]:[rt]},In=function(rt){var Tn=d0(n);return!Tn||rt.getAttribute("data-mce-resize")==="false"||rt===n.getBody()?!1:i.hasClass(rt,"mce-preview-object")?gi(L.fromDom(rt.firstElementChild),Tn):gi(L.fromDom(rt),Tn)},It=function(rt){return gn(rt)?i.create("img",{src:Mr.transparentSrc}):rt.cloneNode(!0)},Fn=function(rt,Tn,An){if(Gt(An)){var _r=kn(rt);ke(_r,function(ra){ra.style[Tn]||!n.schema.isValid(ra.nodeName.toLowerCase(),Tn)?i.setStyle(ra,Tn,An):i.setAttrib(ra,Tn,""+An)})}},Sa=function(rt,Tn,An){Fn(rt,"width",Tn),Fn(rt,"height",An)},to=function(rt){var Tn,An,_r,ra,yo;Tn=rt.screenX-P,An=rt.screenY-R,le=Tn*y[2]+K,pe=An*y[3]+J,le=le<5?5:le,pe=pe<5?5:pe,(Dr(f)||gn(f))&&d2(n)!==!1?_r=!fr.modifierPressed(rt):_r=fr.modifierPressed(rt),_r&&(gt(Tn)>gt(An)?(pe=Xt(le*V),le=Xt(pe/V)):(le=Xt(pe/V),pe=Xt(le*V))),Sa(g,le,pe),ra=y.startPos.x+Tn,yo=y.startPos.y+An,ra=ra>0?ra:0,yo=yo>0?yo:0,i.setStyles(b,{left:ra,top:yo,display:"block"}),b.innerHTML=le+" &times; "+pe,y[2]<0&&g.clientWidth<=le&&i.setStyle(g,"left",M+(K-le)),y[3]<0&&g.clientHeight<=pe&&i.setStyle(g,"top",W+(J-pe)),Tn=en.scrollWidth-Vn,An=en.scrollHeight-Yn,Tn+An!==0&&i.setStyles(b,{left:ra-Tn,top:yo-An}),ge||(W2(n,f,K,J,"corner-"+y.name),ge=!0)},za=function(){var rt=ge;ge=!1,rt&&(Fn(f,"width",le),Fn(f,"height",pe)),i.unbind(we,"mousemove",to),i.unbind(we,"mouseup",za),Ne!==we&&(i.unbind(Ne,"mousemove",to),i.unbind(Ne,"mouseup",za)),i.remove(g),i.remove(b),i.remove(O),vi(f),rt&&(Nk(n,f,le,pe,"corner-"+y.name),i.setAttrib(f,"style",i.getAttrib(f,"style"))),n.nodeChanged()},vi=function(rt){Bt();var Tn=i.getPos(rt,en),An=Tn.x,_r=Tn.y,ra=rt.getBoundingClientRect(),yo=ra.width||ra.right-ra.left,au=ra.height||ra.bottom-ra.top;f!==rt&&(Jo(),f=rt,le=pe=0);var ss=n.fire("ObjectSelected",{target:rt}),bd=i.getAttrib(f,a,"1");In(rt)&&!ss.isDefaultPrevented()?s(Nt,function(Ki,Xi){var Vo,ff=function(As){var uo=kn(f)[0];P=As.screenX,R=As.screenY,K=uo.clientWidth,J=uo.clientHeight,V=J/K,y=Ki,y.name=Xi,y.startPos={x:yo*Ki[0]+An,y:au*Ki[1]+_r},Vn=en.scrollWidth,Yn=en.scrollHeight,O=i.add(en,"div",{class:"mce-resize-backdrop"}),i.setStyles(O,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=It(f),i.addClass(g,"mce-clonedresizable"),i.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",i.setStyles(g,{left:An,top:_r,margin:0}),Sa(g,yo,au),g.removeAttribute(a),en.appendChild(g),i.bind(we,"mousemove",to),i.bind(we,"mouseup",za),Ne!==we&&(i.bind(Ne,"mousemove",to),i.bind(Ne,"mouseup",za)),b=i.add(en,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},K+" &times; "+J)};Vo=i.get("mceResizeHandle"+Xi),Vo&&i.remove(Vo),Vo=i.add(en,"div",{id:"mceResizeHandle"+Xi,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Xi+"-resize; margin:0; padding:0"}),Mr.ie===11&&(Vo.contentEditable=!1),i.bind(Vo,"mousedown",function(As){As.stopImmediatePropagation(),As.preventDefault(),ff(As)}),Ki.elm=Vo,i.setStyles(Vo,{left:yo*Ki[0]+An-Vo.offsetWidth/2,top:au*Ki[1]+_r-Vo.offsetHeight/2})}):Jo(),i.getAttrib(f,a)||f.setAttribute(a,bd)},Jo=function(){Bt(),f&&f.removeAttribute(a),Gr(Nt,function(rt,Tn){var An=i.get("mceResizeHandle"+Tn);An&&(i.unbind(An),i.remove(An))})},us=function(rt){var Tn,An,_r=function(ra,yo){if(ra)do if(ra===yo)return!0;while(ra=ra.parentNode)};if(!(ge||n.removed)){if(s(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(ra){ra.removeAttribute(a)}),An=rt.type==="mousedown"?rt.target:e.getNode(),An=i.$(An).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],_r(An,en)&&(at(),Tn=e.getStart(!0),_r(Tn,An)&&_r(e.getEnd(!0),An))){vi(An);return}Jo()}},Uu=function(rt){return pl(Yg(n.getBody(),rt))},Bt=function(){Gr(Nt,function(rt){rt.elm&&(i.unbind(rt.elm),delete rt.elm)})},at=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};n.on("init",function(){if(at(),Mr.browser.isIE()||Mr.browser.isEdge()){n.on("mousedown click",function(An){var _r=An.target,ra=_r.nodeName;!ge&&/^(TABLE|IMG|HR)$/.test(ra)&&!Uu(_r)&&(An.button!==2&&n.selection.select(_r,ra==="TABLE"),An.type==="mousedown"&&n.nodeChanged())});var rt=function(An){var _r=function(ra){Hn.setEditorTimeout(n,function(){return n.selection.select(ra)})};if(Uu(An.target)||Xu(An.target)){An.preventDefault(),_r(An.target);return}/^(TABLE|IMG|HR)$/.test(An.target.nodeName)&&(An.preventDefault(),An.target.tagName==="IMG"&&_r(An.target))};i.bind(en,"mscontrolselect",rt),n.on("remove",function(){return i.unbind(en,"mscontrolselect",rt)})}var Tn=Hn.throttle(function(An){n.composing||us(An)});n.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",Tn),n.on("keyup compositionend",function(An){f&&f.nodeName==="TABLE"&&Tn(An)}),n.on("hide blur",Jo),n.on("contextmenu longpress",rn,!0)}),n.on("remove",Bt);var kt=function(){f=g=O=null};return{isResizable:In,showResizeRect:vi,hideResizeRect:Jo,updateResizeRect:us,destroy:kt}},ns=function(e){return Ps(e)||lo(e)},e1=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Zg=function(e,n,a){var i,s=a.elementFromPoint(e,n),f=a.body.createTextRange();if((!s||s.tagName==="HTML")&&(s=a.body),f.moveToElementText(s),i=Q.toArray(f.getClientRects()),i=i.sort(function(g,b){return g=Math.abs(Math.max(g.top-n,g.bottom-n)),b=Math.abs(Math.max(b.top-n,b.bottom-n)),g-b}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return f.moveToPoint(e,n),f.collapse(!0),f}catch{}}return null},ud=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return lo(e1(a,n,ns))?null:e},tf=function(e,n,a){var i,s,f=a;if(f.caretPositionFromPoint)s=f.caretPositionFromPoint(e,n),s&&(i=a.createRange(),i.setStart(s.offsetNode,s.offset),i.collapse(!0));else if(a.caretRangeFromPoint)i=a.caretRangeFromPoint(e,n);else if(f.body.createTextRange){i=f.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch{i=Zg(e,n,a)}return ud(i,a.body)}return i},Qg=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},$k=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},G2=function(e,n,a){return $k(e,n,a)!==null},Ik=function(e,n,a){return G2(e,n,function(i){return i.nodeName===a})},ea=function(e){return e&&e.nodeName==="TABLE"},tc=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Xf=function(e,n){return _u(e)&&G2(e,n,ml)===!1},K2=function(e,n,a){for(var i=new yi(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(Go(n))return!0},Cm=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},sa=function(e,n){for(;n&&n!==e;){if(lo(n))return!0;n=n.parentNode}return!1},t1=function(e,n,a,i,s){var f,g=e.getRoot(),b,y=e.schema.getNonEmptyElements(),O=e.getParent(s.parentNode,e.isBlock)||g;if(i&&Go(s)&&n&&e.isEmpty(O))return ee.some(ft(s.parentNode,e.nodeIndex(s)));for(var P=new yi(s,O);b=P[i?"prev":"next"]();){if(e.getContentEditableParent(b)==="false"||Xf(b,g))return ee.none();if($t(b)&&b.nodeValue.length>0)return Ik(b,g,"A")===!1?ee.some(ft(b,i?b.nodeValue.length:0)):ee.none();if(e.isBlock(b)||y[b.nodeName.toLowerCase()])return ee.none();f=b}return a&&f?ee.some(ft(f,0)):ee.none()},X0=function(e,n,a,i){var s,f,g=e.getRoot(),b,y,O=!1;s=i[(a?"start":"end")+"Container"],f=i[(a?"start":"end")+"Offset"];var P=Ur(s)&&f===s.childNodes.length,R=e.schema.getNonEmptyElements();if(y=a,_u(s))return ee.none();if(Ur(s)&&f>s.childNodes.length-1&&(y=!1),yf(s)&&(s=g,f=0),s===g){if(y&&(b=s.childNodes[f>0?f-1:0],b&&(_u(b)||R[b.nodeName]||ea(b))))return ee.none();if(s.hasChildNodes()){if(f=Math.min(!y&&f>0?f-1:f,s.childNodes.length-1),s=s.childNodes[f],f=$t(s)&&P?s.data.length:0,!n&&s===g.lastChild&&ea(s)||sa(g,s)||_u(s))return ee.none();if(s.hasChildNodes()&&ea(s)===!1){b=s;var M=new yi(s,g);do{if(lo(b)||_u(b)){O=!1;break}if($t(b)&&b.nodeValue.length>0){f=y?0:b.nodeValue.length,s=b,O=!0;break}if(R[b.nodeName.toLowerCase()]&&!tc(b)){f=e.nodeIndex(b),s=b.parentNode,y||f++,O=!0;break}}while(b=y?M.next():M.prev())}}}return n&&($t(s)&&f===0&&t1(e,P,n,!0,s).each(function(W){s=W.container(),f=W.offset(),O=!0}),Ur(s)&&(b=s.childNodes[f],b||(b=s.childNodes[f-1]),b&&Go(b)&&!Cm(b,"A")&&!K2(e,b,!1)&&!K2(e,b,!0)&&t1(e,P,n,!0,b).each(function(W){s=W.container(),f=W.offset(),O=!0}))),y&&!n&&$t(s)&&f===s.nodeValue.length&&t1(e,P,n,!1,s).each(function(W){s=W.container(),f=W.offset(),O=!0}),O?ee.some(ft(s,f)):ee.none()},Yf=function(e,n){var a=n.collapsed,i=n.cloneRange(),s=ft.fromRangeStart(n);return X0(e,a,!0,i).each(function(f){(!a||!ft.isAbove(s,f))&&i.setStart(f.container(),f.offset())}),a||X0(e,a,!1,i).each(function(f){i.setEnd(f.container(),f.offset())}),a&&i.collapse(!0),Qg(n,i)?ee.none():ee.some(i)},eh=function(e,n){return e.splitText(n)},sd=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,s=e.endOffset;return n===i&&$t(n)?a>0&&a<n.nodeValue.length&&(i=eh(n,a),n=i.previousSibling,s>a?(s=s-a,n=i=eh(i,s).previousSibling,s=i.nodeValue.length,a=0):s=0):($t(n)&&a>0&&a<n.nodeValue.length&&(n=eh(n,a),a=0),$t(i)&&s>0&&s<i.nodeValue.length&&(i=eh(i,s).previousSibling,s=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:s}},Fc=function(e){var n=function(s,f){return pm(e,s,f)},a=sd,i=function(s){return Yf(e,s).fold(bt,function(f){return s.setStart(f.startContainer,f.startOffset),s.setEnd(f.endContainer,f.endOffset),!0})};return{walk:n,split:a,normalize:i}};Fc.compareRanges=Qg,Fc.getCaretRangeFromPoint=tf,Fc.getSelectedNode=Yd,Fc.getNode=Is;var Y0=function(e,n){var a=function(b,y){if(!Vt(y)&&!y.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+y);var O=b.dom;Ed(O)&&(O.style[e]=y+"px")},i=function(b){var y=n(b);if(y<=0||y===null){var O=Nr(b,e);return parseFloat(O)||0}return y},s=i,f=function(b,y){return Jn(y,function(O,P){var R=Nr(b,P),M=R===void 0?0:parseInt(R,10);return isNaN(M)?O:O+M},0)},g=function(b,y,O){var P=f(b,O),R=y>P?y-P:0;return R};return{set:a,get:i,getOuter:s,aggregate:f,max:g}},zk=Y0("height",function(e){var n=e.dom;return hc(e)?n.getBoundingClientRect().height:n.offsetHeight}),Lk=function(e){return zk.get(e)},X2=function(e,n){var a=e.view(n);return a.fold(Ve([]),function(i){var s=e.owner(i),f=X2(e,s);return[i].concat(f)})},th=function(e,n){var a=n.owner(e);return X2(n,a)},Sm=function(e){var n,a=e.dom===document?ee.none():ee.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(L.fromDom)},Hk=function(e){return Ua(e)},J0=Object.freeze({__proto__:null,view:Sm,owner:Hk}),Vk=function(e){var n=L.fromDom(document),a=Ou(n),i=th(e,J0),s=wv(e),f=zr(i,function(g,b){var y=wv(b);return{left:g.left+y.left,top:g.top+y.top}},{left:0,top:0});return pc(f.left+s.left+a.left,f.top+s.top+a.top)},n1=function(e){return ni(e)==="textarea"},Uk=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},Y2=function(e,n){e.fire("AfterScrollIntoView",n)},Wk=function(e,n){var a=ro(e);if(a.length===0||n1(e))return{element:e,offset:n};if(n<a.length&&!n1(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return n1(i)?{element:e,offset:n}:ni(i)==="img"?{element:i,offset:1}:hi(i)?{element:i,offset:ym(i).length}:{element:i,offset:ro(i).length}},cd=function(e,n){var a=kd(e),i=Lk(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},J2=function(e,n){var a=Wk(e,n),i=L.fromHtml('<span data-mce-bogus="all">'+Ao+"</span>");return ou(a.element,i),cd(i,function(){return ci(i)})},r1=function(e){return cd(L.fromDom(e),se)},nh=function(e,n,a,i){Q2(e,function(s,f){return Z2(e,n,a,i)},a)},ld=function(e,n,a,i,s){var f={elm:i.element.dom,alignToTop:s};if(!Uk(e,f)){var g=Ou(n).top;a(n,g,i,s),Y2(e,f)}},Z2=function(e,n,a,i){var s=L.fromDom(e.getBody()),f=L.fromDom(e.getDoc());Vh(s);var g=J2(L.fromDom(a.startContainer),a.startOffset);ld(e,f,n,g,i),g.cleanup()},a1=function(e,n,a,i){var s=L.fromDom(e.getDoc());ld(e,s,a,r1(n),i)},Q2=function(e,n,a){var i=a.startContainer,s=a.startOffset,f=a.endContainer,g=a.endOffset;n(L.fromDom(i),L.fromDom(f));var b=e.dom.createRng();b.setStart(i,s),b.setEnd(f,g),e.selection.setRng(a)},Jf=function(e,n,a,i){var s=e.pos;if(a)Ri(s.left,s.top,i);else{var f=s.top-n+e.height;Ri(s.left,f,i)}},Z0=function(e,n,a,i,s){var f=a+n,g=i.pos.top,b=i.bottom,y=b-g>=a;if(g<n)Jf(i,a,s!==!1,e);else if(g>f){var O=y?s!==!1:s===!0;Jf(i,a,O,e)}else b>f&&!y&&Jf(i,a,s===!0,e)},Zf=function(e,n,a,i){var s=e.dom.defaultView.innerHeight;Z0(e,n,s,a,i)},xm=function(e,n,a,i){var s=e.dom.defaultView.innerHeight;Z0(e,n,s,a,i);var f=Vk(a.element),g=tg(window);f.top<g.y?Au(a.element,i!==!1):f.top>g.bottom&&Au(a.element,i===!0)},eC=function(e,n,a){return nh(e,Zf,n,a)},Q0=function(e,n,a){return a1(e,n,Zf,a)},tC=function(e,n,a){return nh(e,xm,n,a)},nC=function(e,n,a){return a1(e,n,xm,a)},ey=function(e,n,a){var i=e.inline?Q0:nC;i(e,n,a)},km=function(e,n,a){var i=e.inline?eC:tC;i(e,n,a)},jk=function(){return L.fromDom(document)},qk=function(e){return e.dom.focus()},ty=function(e){var n=Gc(e).dom;return e.dom===n.activeElement},ny=function(e){return e===void 0&&(e=jk()),ee.from(e.dom.activeElement).map(L.fromDom)},Gk=function(e){return ny(Gc(e)).filter(function(n){return e.dom.contains(n.dom)})},rC=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},aC={create:rC},nf=Sf.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ry=function(e,n,a,i){return e.fold(n,a,i)},oC=function(e){return e.fold(Ft,Ft,Ft)},iC=nf.before,uC=nf.on,Kk=nf.after,o1={before:iC,on:uC,after:Kk,cata:ry,getStart:oC},i1=Sf.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Xk=function(e){return i1.exact(e.start,e.soffset,e.finish,e.foffset)},Yk=function(e){return e.match({domRange:function(n){return L.fromDom(n.startContainer)},relative:function(n,a){return o1.getStart(n)},exact:function(n,a,i,s){return n}})},u1=i1.domRange,Tm=i1.relative,Jk=i1.exact,ay=function(e){var n=Yk(e);return dc(n)},Zk=aC.create,rh={domRange:u1,relative:Tm,exact:Jk,exactFromRange:Xk,getWin:ay,range:Zk},s1=Er().browser,oy=function(e,n){var a=hi(n)?ym(n).length:ro(n).length+1;return e>a?a:e<0?0:e},Qk=function(e){return rh.range(e.start,oy(e.soffset,e.start),e.finish,oy(e.foffset,e.finish))},sC=function(e,n){return!Nl(n.dom)&&(ti(e,n)||oa(e,n))},iy=function(e){return function(n){return sC(e,n.start)&&sC(e,n.finish)}},cC=function(e){return e.inline===!0||s1.isIE()},Qf=function(e){return rh.range(L.fromDom(e.startContainer),e.startOffset,L.fromDom(e.endContainer),e.endOffset)},ah=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?ee.none():ee.from(n.getRangeAt(0));return a.map(Qf)},uy=function(e){var n=dc(e);return ah(n.dom).filter(iy(e))},lC=function(e,n){return ee.from(n).filter(iy(e)).map(Qk)},fC=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),ee.some(n)}catch{return ee.none()}},c1=function(e){var n=cC(e)?uy(L.fromDom(e.getBody())):ee.none();e.bookmark=n.isSome()?n:e.bookmark},l1=function(e,n){var a=L.fromDom(e.getBody()),i=cC(e)?ee.from(n):ee.none(),s=i.map(Qf).filter(iy(a));e.bookmark=s.isSome()?s:e.bookmark},f1=function(e){var n=e.bookmark?e.bookmark:ee.none();return n.bind(function(a){return lC(L.fromDom(e.getBody()),a)}).bind(fC)},vC=function(e){f1(e).each(function(n){return e.selection.setRng(n)})},dC=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},bl={isEditorUIElement:dC},eT=function(e){return e.type==="nodechange"&&e.selectionChange},yl=function(e,n){var a=function(){n.throttle()};eo.DOM.bind(document,"mouseup",a),e.on("remove",function(){eo.DOM.unbind(document,"mouseup",a)})},tT=function(e){e.on("focusout",function(){c1(e)})},mC=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},nT=function(e,n){var a=Er().browser;a.isIE()?tT(e):mC(e,n),e.on("keyup NodeChange",function(i){eT(i)||c1(e)})},rT=function(e){var n=gp(function(){c1(e)},0);e.on("init",function(){e.inline&&yl(e,n),nT(e,n)}),e.on("remove",function(){n.cancel()})},ev,v1=eo.DOM,gC=function(e){return bl.isEditorUIElement(e)},aT=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Em=function(e,n){var a=g2(e),i=v1.getParent(n,function(s){return gC(s)||(a?e.dom.is(s,a):!1)});return i!==null},oT=function(e){try{var n=Gc(L.fromDom(e.getElement()));return ny(n).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},iT=function(e,n){var a=n.editor;rT(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Hn.setEditorTimeout(a,function(){var i=e.focusedEditor;!Em(a,oT(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),ev||(ev=function(i){var s=e.activeEditor;s&&Zm(i).each(function(f){f.ownerDocument===document&&f!==document.body&&!Em(s,f)&&e.focusedEditor===s&&(s.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},v1.bind(document,"focusin",ev))},uT=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(v1.unbind(document,"focusin",ev),ev=null)},hC=function(e){e.on("AddEditor",st(iT,e)),e.on("RemoveEditor",st(uT,e))},Om=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},sT=function(e){return e.collapsed?ee.from(Is(e.startContainer,e.startOffset)).map(L.fromDom):ee.none()},pC=function(e,n){return sT(n).bind(function(a){return Zc(a)?ee.some(a):ti(e,a)===!1?ee.some(e):ee.none()})},oh=function(e,n){pC(L.fromDom(e.getBody()),n).bind(function(a){return Lu(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},d1=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},bC=function(e){return ty(e)||Gk(e).isSome()},cT=function(e){return e.iframeElement&&ty(L.fromDom(e.iframeElement))},lT=function(e){var n=e.getBody();return n&&bC(L.fromDom(n))},fT=function(e){var n=Gc(L.fromDom(e.getElement()));return ny(n).filter(function(a){return!aT(a.dom)&&Em(e,a.dom)}).isSome()},tv=function(e){return e.inline?lT(e):cT(e)},yC=function(e){return tv(e)||fT(e)},vT=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&tv(e)===!1&&f1(e).each(function(f){e.selection.setRng(f),i=f});var s=Om(e,n.getNode());if(e.$.contains(a,s)){d1(s),oh(e,i),sy(e);return}e.inline||(Mr.opera||d1(a),e.getWin().focus()),(Mr.gecko||e.inline)&&(d1(a),oh(e,i)),sy(e)},sy=function(e){return e.editorManager.setActive(e)},wC=function(e,n){e.removed||(n?sy(e):vT(e))},CC=function(e,n,a,i,s){var f=a?n.startContainer:n.endContainer,g=a?n.startOffset:n.endOffset;return ee.from(f).map(L.fromDom).map(function(b){return!i||!n.collapsed?yn(b,s(b,g)).getOr(b):b}).bind(function(b){return ri(b)?ee.some(b):pi(b).filter(ri)}).map(function(b){return b.dom}).getOr(e)},cy=function(e,n,a){return CC(e,n,!0,a,function(i,s){return Math.min(Gu(i),s)})},SC=function(e,n,a){return CC(e,n,!1,a,function(i,s){return s>0?s-1:s})},ly=function(e,n){for(var a=e;e&&$t(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},xC=function(e,n){var a,i,s;if(!n)return e;i=n.startContainer,s=n.endContainer;var f=n.startOffset,g=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===s&&g-f<2&&i.hasChildNodes()&&(a=i.childNodes[f]),i.nodeType===3&&s.nodeType===3&&(i.length===f?i=ly(i.nextSibling,!0):i=i.parentNode,g===0?s=ly(s.previousSibling,!1):s=s.parentNode,i&&i===s))?i:a&&a.nodeType===3?a.parentNode:a},Am=function(e,n,a,i){var s,f=[],g=e.getRoot();if(a=e.getParent(a||cy(g,n,n.collapsed),e.isBlock),i=e.getParent(i||SC(g,n,n.collapsed),e.isBlock),a&&a!==g&&f.push(a),a&&i&&a!==i){s=a;for(var b=new yi(a,g);(s=b.next())&&s!==i;)e.isBlock(s)&&f.push(s)}return i&&a!==i&&i!==g&&f.push(i),f},fy=function(e,n,a){return ee.from(n).map(function(i){var s=e.nodeIndex(i),f=e.createRng();return f.setStart(i.parentNode,s),f.setEnd(i.parentNode,s+1),a&&(hl(e,f,i,!0),hl(e,f,i,!1)),f})},Dm=function(e,n){return pt(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},vy={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},vr=function(e,n,a){var i=a?"lastChild":"firstChild",s=a?"prev":"next";if(e[i])return e[i];if(e!==n){var f=e[s];if(f)return f;for(var g=e.parent;g&&g!==n;g=g.parent)if(f=g[s],f)return f}},dT=function(e){if(!Df(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},m1=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},nc=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,vy[n]||1);return a&&Gr(a,function(s,f){i.attr(f,s)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,s;if(typeof n!="string")return n!=null&&Gr(n,function(g,b){i.attr(b,g)}),i;if(s=i.attributes){if(a!==void 0){if(a===null){if(n in s.map){delete s.map[n];for(var f=s.length;f--;)if(s[f].name===n)return s.splice(f,1),i}return i}if(n in s.map){for(var f=s.length;f--;)if(s[f].name===n){s[f].value=a;break}}else s.push({name:n,value:a});return s.map[n]=a,i}return s.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var s=[];s.map={};for(var f=0,g=i.length;f<g;f++){var b=i[f];b.name!=="id"&&(s[s.length]={name:b.name,value:b.value},s.map[b.name]=b.value)}a.attributes=s}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,s=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):s.next=i,a.lastChild===n?(a.lastChild=s,s&&(s.next=null)):i.prev=s,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var s=a.parent||this;return i?(a===s.firstChild?s.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===s.lastChild?s.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=s,n},e.prototype.getAll=function(n){for(var a=this,i=[],s=a.firstChild;s;s=vr(s,a))s.name===n&&i.push(s);return i},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=vr(i,n))a.push(i);for(var s=a.length;s--;){var i=a[s];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var s=this,f=s.firstChild;if(m1(s))return!1;if(f)do{if(f.type===1){if(f.attr("data-mce-bogus"))continue;if(n[f.name]||m1(f))return!1}if(f.type===8||f.type===3&&!dT(f)||f.type===3&&f.parent&&a[f.parent.name]&&Df(f.value)||i&&i(f))return!1}while(f=vr(f,s));return!0},e.prototype.walk=function(n){return vr(this,null,n)},e}(),dy=function(e){for(var n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,a=[],i={},s=hp("img"),f,g=0,b=0;f=n.exec(e);){var y=f[0],O=s+"_"+b++;i[O]=y,g<f.index&&a.push(e.substr(g,f.index-g)),a.push(O),g=f.index+y.length}var P=new RegExp(s+"_[0-9]+","g");return g===0?{prefix:s,uris:i,html:e,re:P}:(g<e.length&&a.push(e.substr(g)),{prefix:s,uris:i,html:a.join(""),re:P})},rf=function(e,n){return e.replace(n.re,function(a){return Rr(n.uris,a).getOr(a)})},g1=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return n?ee.some({type:n[1],data:decodeURIComponent(n[2])}):ee.none()},kC=["img","video"],mT=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},gT=function(e,n){var a=Qt(e)?We(kC,n):e;return!a},Fr=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?gT(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},my=function(e,n,a){var i=1,s,f,g=e.getShortEndedElements(),b=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;for(b.lastIndex=s=a;f=b.exec(n);){if(s=b.lastIndex,f[1]==="/")i--;else if(!f[1]){if(f[2]in g)continue;i++}if(i===0)break}return s},Yr=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},TC=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&Yr(i,a)){var s=i.indexOf("[endif]",a);return i.indexOf(">",s)}else if(n){var f=i.indexOf(">",a);return f!==-1?f:i.length}else{var g=/--!?>/g;g.lastIndex=a;var b=g.exec(e);return b?b.index+b[0].length:i.length}},hT=function(e,n){var a=e.exec(n);if(a){var i=a[1],s=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?s:null}else return null},h1=function(e,n){n===void 0&&(n=Wl()),e=e||{},e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var a=e.comment?e.comment:se,i=e.cdata?e.cdata:se,s=e.text?e.text:se,f=e.start?e.start:se,g=e.end?e.end:se,b=e.pi?e.pi:se,y=e.doctype?e.doctype:se,O=function(R,M){M===void 0&&(M="html");for(var W=R.html,K,J=0,V,ge,le=[],pe,we,Ne,gt,Xt,en,Vn,Yn,Nt,Dr,gn,Un,rn,kn,In,It,Fn,Sa=0,to=gu.decode,za=Q.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),vi=/((java|vb)script|mhtml):/i,Jo=M==="html"?0:1,us=function(uo){var no,lu;for(no=le.length;no--&&le[no].name!==uo;);if(no>=0){for(lu=le.length-1;lu>=no;lu--)uo=le[lu],uo.valid&&g(uo.name);le.length=no}},Uu=function(uo,no){return s(rf(uo,R),no)},Bt=function(uo){uo!==""&&(uo.charAt(0)===">"&&(uo=" "+uo),!e.allow_conditional_comments&&uo.substr(0,3).toLowerCase()==="[if"&&(uo=" "+uo),a(rf(uo,R)))},at=function(uo){return rf(uo,R)},kt=function(uo,no){var lu=uo||"",vf=!zt(lu,"--"),sc=TC(W,vf,no);return uo=W.substr(no,sc-no),Bt(vf?lu+uo:uo),sc+1},rt=function(uo,no,lu,vf,sc){var cc,yd,Mh=/[\s\u0000-\u001F]+/g;if(no=no.toLowerCase(),lu=at(no in yo?no:to(lu||vf||sc||"")),au&&!Xt&&mT(no)===!1){if(cc=gn[no],!cc&&Un){for(yd=Un.length;yd--&&(cc=Un[yd],!cc.pattern.test(no)););yd===-1&&(cc=null)}if(!cc||cc.validValues&&!(lu in cc.validValues))return}if(za[no]&&!e.allow_script_urls){var Gm=lu.replace(Mh,"");try{Gm=decodeURIComponent(Gm)}catch{Gm=unescape(Gm)}if(vi.test(Gm)||Fr(e,Gm,uo))return}Xt&&(no in za||no.indexOf("on")===0)||(pe.map[no]=lu,pe.push({name:no,value:lu}))},Tn=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),An=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,_r=n.getShortEndedElements(),ra=e.self_closing_elements||n.getSelfClosingElements(),yo=n.getBoolAttrs(),au=e.validate,ss=e.remove_internals,bd=e.fix_self_closing,Ki=n.getSpecialElements(),Xi=W+">";K=Tn.exec(Xi);){var Vo=K[0];if(J<K.index&&Uu(to(W.substr(J,K.index-J))),V=K[7])V=V.toLowerCase(),V.charAt(0)===":"&&(V=V.substr(1)),us(V);else if(V=K[8]){if(K.index+Vo.length>W.length){Uu(to(W.substr(K.index))),J=K.index+Vo.length;continue}V=V.toLowerCase(),V.charAt(0)===":"&&(V=V.substr(1)),en=V in _r,bd&&ra[V]&&le.length>0&&le[le.length-1].name===V&&us(V);var ff=hT(An,K[9]);if(ff!==null){if(ff==="all"){J=my(n,W,Tn.lastIndex),Tn.lastIndex=J;continue}Yn=!1}if(!au||(Vn=n.getElementRule(V))){if(Yn=!0,au&&(gn=Vn.attributes,Un=Vn.attributePatterns),(Dr=K[9])?(Xt=Dr.indexOf("data-mce-type")!==-1,Xt&&ss&&(Yn=!1),pe=[],pe.map={},Dr.replace(An,function(uo,no,lu,vf,sc){return rt(V,no,lu,vf,sc),""})):(pe=[],pe.map={}),au&&!Xt){if(rn=Vn.attributesRequired,kn=Vn.attributesDefault,In=Vn.attributesForced,It=Vn.removeEmptyAttrs,It&&!pe.length&&(Yn=!1),In)for(we=In.length;we--;)Nt=In[we],gt=Nt.name,Fn=Nt.value,Fn==="{$uid}"&&(Fn="mce_"+Sa++),pe.map[gt]=Fn,pe.push({name:gt,value:Fn});if(kn)for(we=kn.length;we--;)Nt=kn[we],gt=Nt.name,gt in pe.map||(Fn=Nt.value,Fn==="{$uid}"&&(Fn="mce_"+Sa++),pe.map[gt]=Fn,pe.push({name:gt,value:Fn}));if(rn){for(we=rn.length;we--&&!(rn[we]in pe.map););we===-1&&(Yn=!1)}if(Nt=pe.map["data-mce-bogus"]){if(Nt==="all"){J=my(n,W,Tn.lastIndex),Tn.lastIndex=J;continue}Yn=!1}}Yn&&f(V,pe,en)}else Yn=!1;if(ge=Ki[V]){ge.lastIndex=J=K.index+Vo.length,(K=ge.exec(W))?(Yn&&(Ne=W.substr(J,K.index-J)),J=K.index+K[0].length):(Ne=W.substr(J),J=W.length),Yn&&(Ne.length>0&&Uu(Ne,!0),g(V)),Tn.lastIndex=J;continue}en||(!Dr||Dr.indexOf("/")!==Dr.length-1?le.push({name:V,valid:Yn}):Yn&&g(V))}else if(V=K[1])Bt(V);else if(V=K[2]){var As=Jo===1||e.preserve_cdata||le.length>0&&n.isValidChild(le[le.length-1].name,"#cdata");if(As)i(V);else{J=kt("",K.index+2),Tn.lastIndex=J;continue}}else if(V=K[3])y(V);else if((V=K[4])||Vo==="<!"){J=kt(V,K.index+Vo.length),Tn.lastIndex=J;continue}else if(V=K[5])if(Jo===1)b(V,K[6]);else{J=kt("?",K.index+2),Tn.lastIndex=J;continue}J=K.index+Vo.length}for(J<W.length&&Uu(to(W.substr(J))),we=le.length-1;we>=0;we--)V=le[we],V.valid&&g(V.name)},P=function(R,M){M===void 0&&(M="html"),O(dy(R),M)};return{parse:P}};h1.findEndTag=my;var pT=function(e,n){var a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(a,"")},EC=function(e,n){var a=n,i=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s,f,g,b,y=e.schema;a=pT(e.getTempAttrs(),a);for(var O=y.getShortEndedElements();b=i.exec(a);)f=i.lastIndex,g=b[0].length,O[b[1]]?s=f:s=h1.findEndTag(y,a,f),a=a.substring(0,f-g)+a.substring(s),i.lastIndex=f-g;return el(a)},gy=EC,bT=function(e,n){var a=Oi(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},yT=function(e,n,a,i){var s;return n.format=a,n.get=!0,n.getInner=!0,n.no_events||e.fire("BeforeGetContent",n),n.format==="raw"?s=Q.trim(gy(e.serializer,i.innerHTML)):n.format==="text"?s=e.dom.isEmpty(i)?"":el(i.innerText||i.textContent):n.format==="tree"?s=e.serializer.serialize(i,n):s=bT(e,e.serializer.serialize(i,n)),!We(["text","tree"],n.format)&&!mg(L.fromDom(i))?n.content=Q.trim(s):n.content=s,n.no_events||e.fire("GetContent",n),n.content},Ar=function(e,n,a){return ee.from(e.getBody()).fold(Ve(n.format==="tree"?new nc("body",11):""),function(i){return yT(e,n,a,i)})},wT=Q.each,hy=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var s=function(g){var b={};return wT(e.getAttribs(g),function(y){var O=y.nodeName.toLowerCase();O.indexOf("_")!==0&&O!=="style"&&O.indexOf("data-")!==0&&(b[O]=e.getAttrib(g,O))}),b},f=function(g,b){var y,O;for(O in g)if(g.hasOwnProperty(O)){if(y=b[O],typeof y=="undefined"||g[O]!==y)return!1;delete b[O]}for(O in b)if(b.hasOwnProperty(O))return!1;return!0};return!f(s(a),s(i))||!f(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!xs(a)&&!xs(i)};return{compare:n}},py=Q.makeMap,by=function(e){var n=[];e=e||{};var a=e.indent,i=py(e.indent_before||""),s=py(e.indent_after||""),f=gu.getEncodeFunc(e.entity_encoding||"raw",e.entities),g=e.element_format==="html";return{start:function(b,y,O){var P,R,M,W;if(a&&i[b]&&n.length>0&&(W=n[n.length-1],W.length>0&&W!==`
`&&n.push(`
`)),n.push("<",b),y)for(P=0,R=y.length;P<R;P++)M=y[P],n.push(" ",M.name,'="',f(M.value,!0),'"');!O||g?n[n.length]=">":n[n.length]=" />",O&&a&&s[b]&&n.length>0&&(W=n[n.length-1],W.length>0&&W!==`
`&&n.push(`
`))},end:function(b){var y;n.push("</",b,">"),a&&s[b]&&n.length>0&&(y=n[n.length-1],y.length>0&&y!==`
`&&n.push(`
`))},text:function(b,y){b.length>0&&(n[n.length]=y?b:f(b))},cdata:function(b){n.push("<![CDATA[",b,"]]>")},comment:function(b){n.push("<!--",b,"-->")},pi:function(b,y){y?n.push("<?",b," ",f(y),"?>"):n.push("<?",b,"?>"),a&&n.push(`
`)},doctype:function(b){n.push("<!DOCTYPE",b,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},u=function(e,n){n===void 0&&(n=Wl());var a=by(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(s){var f=e.validate,g={3:function(y){a.text(y.value,y.raw)},8:function(y){a.comment(y.value)},7:function(y){a.pi(y.name,y.value)},10:function(y){a.doctype(y.value)},4:function(y){a.cdata(y.value)},11:function(y){if(y=y.firstChild)do b(y);while(y=y.next)}};a.reset();var b=function(y){var O=g[y.type],P,R,M,W,K,J,V,ge,le;if(O)O(y);else{if(P=y.name,R=y.shortEnded,M=y.attributes,f&&M&&M.length>1&&(J=[],J.map={},le=n.getElementRule(y.name),le)){for(V=0,ge=le.attributesOrder.length;V<ge;V++)W=le.attributesOrder[V],W in M.map&&(K=M.map[W],J.map[W]=K,J.push({name:W,value:K}));for(V=0,ge=M.length;V<ge;V++)W=M[V].name,W in J.map||(K=M.map[W],J.map[W]=K,J.push({name:W,value:K}));M=J}if(a.start(y.name,M,R),!R){if(y=y.firstChild)do b(y);while(y=y.next);a.end(P)}}};return s.type===1&&!e.inner?b(s):g[11](s),a.getContent()};return{serialize:i}},l=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];ke(e,function(n){l.add(n)})})();var d=["font","text-decoration","text-emphasis"],h=function(e,n){return Na(e.parseStyle(e.getAttrib(n,"style")))},w=function(e){return l.has(e)},x=function(e,n){return mt(h(e,n),function(a){return!w(a)})},_=function(e){return on(e,function(n){return Be(d,function(a){return zt(n,a)})})},z=function(e,n,a){var i=h(e,n),s=h(e,a),f=function(g){var b=e.getStyle(n,g),y=e.getStyle(a,g);return Vr(b)&&Vr(y)&&b!==y};return Be(i,function(g){var b=function(O){return Be(O,function(P){return P===g})};if(!b(s)&&b(d)){var y=_(s);return Be(y,f)}else return f(g)})},I=function(e,n,a){return ee.from(a.container()).filter($t).exists(function(i){var s=e?0:-1;return n(i.data.charAt(a.offset()+s))})},oe=st(I,!0,gl),ye=st(I,!1,gl),Ot=function(e){var n=e.container();return $t(n)&&(n.data.length===0||Of(n.data)&&id.isBookmarkNode(n.parentNode))},ht=function(e,n){return function(a){return ee.from(Ip(e?0:-1,a)).filter(n).isSome()}},Pt=function(e){return Cv(e)&&Nr(L.fromDom(e),"display")==="block"},ze=function(e){return lo(e)&&!zh(e)},Qe=ht(!0,Pt),Mt=ht(!1,Pt),Kn=ht(!0,Xu),Jr=ht(!1,Xu),xr=ht(!0,Mi),ca=ht(!1,Mi),$a=ht(!0,ze),Ia=ht(!1,ze),fd=function(e){for(var n=[],a=e.dom;a;)n.push(L.fromDom(a)),a=a.lastChild;return n},ih=function(e){var n=oo(e,"br"),a=on(fd(e).slice(-1),wc);n.length===a.length&&ke(a,ci)},Hs=function(e){yv(e),Mo(e,L.fromHtml('<br data-mce-bogus="1">'))},Ta=function(e){jc(e).each(function(n){Ws(n).each(function(a){Ms(e)&&wc(n)&&Ms(a)&&ci(n)})})},nu=function(e){return e.slice(0,-1)},Vi=function(e,n,a){return ti(n,e)?nu(si(e,function(i){return a(i)||oa(i,n)})):[]},rs=function(e,n){return Vi(e,n,bt)},Ra=function(e,n){return[e].concat(rs(e,n))},Ui=function(e,n,a){return D0(e,n,a,Ot)},Wi=function(e,n){return Ut(Ra(L.fromDom(n.container()),e),Ms)},wl=function(e,n,a){return Ui(e,n.dom,a).forall(function(i){return Wi(n,a).fold(function(){return Bc(i,a,n.dom)===!1},function(s){return Bc(i,a,n.dom)===!1&&ti(s,L.fromDom(i.container()))})})},nv=function(e,n,a){return Wi(n,a).fold(function(){return Ui(e,n.dom,a).forall(function(i){return Bc(i,a,n.dom)===!1})},function(i){return Ui(e,i.dom,a).isNone()})},af=st(nv,!1),p1=st(nv,!0),OC=st(wl,!1),CT=st(wl,!0),rv=function(e){return Hg(e).exists(wc)},b1=function(e,n,a){var i=on(Ra(L.fromDom(a.container()),n),Ms),s=vn(i).getOr(n);return zs(e,s.dom,a).filter(rv)},y1=function(e,n){return Hg(n).exists(wc)||b1(!0,e,n).isSome()},uh=function(e,n){return yk(n).exists(wc)||b1(!1,e,n).isSome()},sh=st(b1,!1),ch=st(b1,!0),lh=function(e){return ft.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},JO=function(e,n){var a=on(Ra(L.fromDom(n.container()),e),Ms);return vn(a).getOr(e)},ZO=function(e,n){return lh(n)?ye(n):ye(n)||dl(JO(e,n).dom,n).exists(ye)},QO=function(e,n){return lh(n)?oe(n):oe(n)||Js(JO(e,n).dom,n).exists(oe)},RB=function(e){return We(["pre","pre-wrap"],e)},ST=function(e){return Hg(e).bind(function(n){return Uh(n,ri)}).exists(function(n){return RB(Nr(n,"white-space"))})},fh=function(e,n){return dl(e.dom,n).isNone()},PB=function(e,n){return Js(e.dom,n).isNone()},MB=function(e,n){return fh(e,n)||PB(e,n)||af(e,n)||p1(e,n)||uh(e,n)||y1(e,n)},Ho=function(e,n){return ST(n)?!1:MB(e,n)||ZO(e,n)||QO(e,n)},yy=function(e,n){return ST(n)?!1:af(e,n)||OC(e,n)||uh(e,n)||ZO(e,n)},e4=function(e){var n=e.container(),a=e.offset();return $t(n)&&a<n.data.length?ft(n,a+1):e},wy=function(e,n){return ST(n)?!1:p1(e,n)||CT(e,n)||y1(e,n)||QO(e,n)},AC=function(e,n){return yy(e,n)||wy(e,e4(n))},DC=function(e,n){return Ql(e.charAt(n))},w1=function(e){var n=e.container();return $t(n)&&Xe(n.data,Fi)},C1=function(e){var n=e.split("");return pt(n,function(a,i){return Ql(a)&&i>0&&i<n.length-1&&Mc(n[i-1])&&Mc(n[i+1])?" ":a}).join("")},vh=function(e,n){var a=n.data,i=ft(n,0);return DC(a,0)&&!AC(e,i)?(n.data=" "+a.slice(1),!0):!1},dh=function(e){var n=e.data,a=C1(n);return a!==n?(e.data=a,!0):!1},vd=function(e,n){var a=n.data,i=ft(n,a.length-1);return DC(a,a.length-1)&&!AC(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},mh=function(e,n){return ee.some(n).filter(w1).bind(function(a){var i=a.container(),s=vh(e,i)||dh(i)||vd(e,i);return s?ee.some(a):ee.none()})},Cl=function(e){var n=L.fromDom(e.getBody());e.selection.isCollapsed()&&mh(n,ft.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},NB=function(e,n,a){var i=Jn(e,function(s,f){return gl(f)||Ql(f)?s.previousCharIsSpace||s.str===""&&n||s.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:s.str+Fi}:{previousCharIsSpace:!0,str:s.str+" "}:{previousCharIsSpace:!1,str:s.str+f}},{previousCharIsSpace:!1,str:""});return i.str},Hu=function(e,n,a){if(a!==0){var i=L.fromDom(e),s=xf(i,Ms).getOr(i),f=e.data.slice(n,n+a),g=n+a>=e.data.length&&wy(s,ft(e,e.data.length)),b=n===0&&yy(s,ft(e,0));e.replaceData(n,a,NB(f,b,g))}},Ca=function(e,n){var a=e.data.slice(n),i=a.length-Sr(a).length;return Hu(e,n,i)},Cy=function(e,n){var a=e.data.slice(0,n),i=a.length-lt(a).length;return Hu(e,n-i,i)},Vu=function(e,n,a,i){i===void 0&&(i=!0);var s=lt(e.data).length,f=i?e:n,g=i?n:e;return i?f.appendData(g.data):f.insertData(0,g.data),ci(L.fromDom(g)),a&&Ca(f,s),f},FB=function(e,n){var a=e.container(),i=e.offset();return ft.isTextPosition(e)===!1&&a===n.parentNode&&i>ft.before(n).offset()},$B=function(e,n){return FB(n,e)?ft(n.container(),n.offset()-1):n},IB=function(e){return $t(e)?ft(e,0):ft.before(e)},zB=function(e){return $t(e)?ft(e,e.data.length):ft.after(e)},_C=function(e){return Cc(e.previousSibling)?ee.some(zB(e.previousSibling)):e.previousSibling?Pc(e.previousSibling):ee.none()},t4=function(e){return Cc(e.nextSibling)?ee.some(IB(e.nextSibling)):e.nextSibling?Lu(e.nextSibling):ee.none()},LB=function(e,n){var a=ft.before(n.previousSibling?n.previousSibling:n.parentNode);return dl(e,a).fold(function(){return Js(e,ft.after(n))},ee.some)},n4=function(e,n){return Js(e,ft.after(n)).fold(function(){return dl(e,ft.before(n))},ee.some)},HB=function(e,n){return _C(n).orThunk(function(){return t4(n)}).orThunk(function(){return LB(e,n)})},VB=function(e,n){return t4(n).orThunk(function(){return _C(n)}).orThunk(function(){return n4(e,n)})},r4=function(e,n,a){return e?VB(n,a):HB(n,a)},UB=function(e,n,a){return r4(e,n,a).map(st($B,a))},a4=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},BC=function(e){return function(n){return n.dom===e}},WB=function(e,n){return n&&Or(e.schema.getBlockElements(),ni(n))},o4=function(e){if(ps(e)){var n=L.fromHtml('<br data-mce-bogus="1">');return yv(e),Mo(e,n),ee.some(ft.before(n.dom))}else return ee.none()},i4=function(e,n,a){var i=Ws(e).filter(hi),s=Bs(e).filter(hi);return ci(e),Yb(i,s,n,function(f,g,b){var y=f.dom,O=g.dom,P=y.data.length;return Vu(y,O,a),b.container()===O?ft(y,P):b}).orThunk(function(){return a&&(i.each(function(f){return Cy(f.dom,f.dom.length)}),s.each(function(f){return Ca(f.dom,0)})),n})},xT=function(e,n){return Or(e.schema.getTextInlineElements(),ni(n))},gh=function(e,n,a,i){i===void 0&&(i=!0);var s=UB(n,e.getBody(),a.dom),f=xf(a,st(WB,e),BC(e.getBody())),g=i4(a,s,xT(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(o4).fold(function(){i&&a4(e,n,g)},function(b){i&&a4(e,n,ee.some(b))})},Sy=function(e,n){return{start:e,end:n}},kT=function(e,n,a){return{rng:e,table:n,cells:a}},TT=Sf.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),jB=function(e){return function(n){return oa(e,n)}},_m=function(e,n){return kv(L.fromDom(e),"td,th",n)},hh=function(e,n){return Il(e,"table",n)},u4=function(e){return!oa(e.start,e.end)},ET=function(e,n){return hh(e.start,n).bind(function(a){return hh(e.end,n).bind(function(i){return Lt(oa(a,i),a)})})},s4=function(e,n){return!u4(e)&&ET(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},xy=function(e){return oo(e,"td,th")},qB=function(e,n){var a=_m(e.startContainer,n),i=_m(e.endContainer,n);return Ci(a,i,Sy)},GB=function(e,n){return hh(e.start,n).bind(function(a){return Br(xy(a)).map(function(i){return Sy(e.start,i)})})},KB=function(e,n){var a=_m(n.startContainer,e),i=_m(n.endContainer,e);return n.collapsed?ee.none():Ci(a,i,Sy).fold(function(){return a.fold(function(){return i.bind(function(s){return hh(s,e).bind(function(f){return vn(xy(f)).map(function(g){return Sy(g,s)})})})},function(s){return hh(s,e).bind(function(f){return Br(xy(f)).map(function(g){return Sy(s,g)})})})},function(s){return c4(e,s)?ee.none():GB(s,e)})},c4=function(e,n){return ET(n,e).isSome()},l4=function(e,n){return ET(e,n).map(function(a){return kT(e,a,xy(a))})},f4=function(e,n,a){return e.filter(function(i){return u4(i)&&c4(a,i)}).orThunk(function(){return KB(a,n)}).bind(function(i){return l4(i,a)})},v4=function(e,n){return xn(e,function(a){return oa(a,n)})},XB=function(e){return Ci(v4(e.cells,e.rng.start),v4(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},YB=function(e,n,a){return e.filter(function(i){return s4(i,a)&&j0(i.start,n)}).map(function(i){return i.start})},JB=function(e){return XB(e).map(function(n){var a=e.cells;return n.length===a.length?TT.removeTable(e.table):TT.emptyCells(n)})},ZB=function(e,n){var a=jB(e),i=qB(n,a);return YB(i,n,a).map(function(s){return TT.deleteCellSelection(n,s)}).orThunk(function(){return f4(i,n,a).bind(JB)})},d4=function(e){var n=Me(e)?Ws(e):jc(e);return n.bind(d4).orThunk(function(){return ee.some(e)})},S1=function(e,n){return ke(n,Hs),e.selection.setCursorLocation(n[0].dom,0),!0},m4=function(e,n,a){n.deleteContents();var i=d4(a).getOr(a),s=L.fromDom(e.dom.getParent(i.dom,e.dom.isBlock));if(ps(s)&&(Hs(s),e.selection.setCursorLocation(s.dom,0)),!oa(a,s)){var f=pi(s).is(a)?[]:nn(s);ke(f.concat(ro(a)),function(g){!oa(g,s)&&!ti(g,s)&&ci(g)})}return!0},g4=function(e,n){return gh(e,!1,n),!0},OT=function(e,n,a){return ZB(n,a).map(function(i){return i.fold(st(g4,e),st(S1,e),st(m4,e))})},QB=function(e,n){return RC(e,n)},h4=function(e,n,a,i){return AT(n,i).fold(function(){return OT(e,n,a)},function(s){return QB(e,s)}).getOr(!1)},p4=function(e,n){var a=L.fromDom(e.getBody()),i=e.selection.getRng(),s=bm(e);return s.length!==0?S1(e,s):h4(e,a,i,n)},b4=function(e,n){return Ut(Ra(n,e),hs)},AT=function(e,n){return Ut(Ra(n,e),function(a){return ni(a)==="caption"})},eR=function(e,n,a,i,s){return fm(a,e.getBody(),s).bind(function(f){return b4(n,L.fromDom(f.getNode())).map(function(g){return oa(g,i)===!1})})},RC=function(e,n){return Hs(n),e.selection.setCursorLocation(n.dom,0),ee.some(!0)},tR=function(e,n,a,i){return Lu(e.dom).bind(function(s){return Pc(e.dom).map(function(f){return n?a.isEqual(s)&&i.isEqual(f):a.isEqual(f)&&i.isEqual(s)})}).getOr(!0)},nR=function(e,n){return RC(e,n)},rR=function(e,n,a){return AT(e,L.fromDom(a.getNode())).map(function(i){return oa(i,n)===!1})},aR=function(e,n,a,i,s){return fm(a,e.getBody(),s).bind(function(f){return tR(i,a,s,f)?nR(e,i):rR(n,i,f)}).or(ee.some(!0))},oR=function(e,n,a,i){var s=ft.fromRangeStart(e.selection.getRng());return b4(a,i).bind(function(f){return ps(f)?RC(e,f):eR(e,a,n,f,s)}).getOr(!1)},iR=function(e,n,a,i){var s=ft.fromRangeStart(e.selection.getRng());return ps(i)?RC(e,i):aR(e,a,n,i,s)},y4=function(e,n){return e?xr(n):ca(n)},DT=function(e,n){var a=ft.fromRangeStart(e.selection.getRng());return y4(n,a)||zs(n,e.getBody(),a).exists(function(i){return y4(n,i)})},of=function(e,n,a){var i=L.fromDom(e.getBody());return AT(i,a).fold(function(){return oR(e,n,i,a)||DT(e,n)},function(s){return iR(e,n,i,s).getOr(!1)})},x1=function(e,n){var a=L.fromDom(e.selection.getStart(!0)),i=bm(e);return e.selection.isCollapsed()&&i.length===0?of(e,n,a):p4(e,a)},_T=function(e,n,a,i){var s=document.createRange();return s.setStart(e,n),s.setEnd(a,i),s},BT=function(e){var n=ft.fromRangeStart(e),a=ft.fromRangeEnd(e),i=e.commonAncestorContainer;return zs(!1,i,a).map(function(s){return!Bc(n,a,i)&&Bc(n,s,i)?_T(n.container(),n.offset(),s.container(),s.offset()):e}).getOr(e)},RT=function(e){return e.collapsed?e:BT(e)},w4=function(e){return e.firstChild&&e.firstChild===e.lastChild},uR=function(e){return e.name==="br"||e.value===Fi},sR=function(e,n){var a=e.getBlockElements();return a[n.name]&&w4(n)&&uR(n.firstChild)},PT=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||sR(e,n))},cR=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),PT(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},C4=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},lR=function(e,n,a){var i=n.serialize(a),s=e.createFragment(i);return C4(s)},ky=function(e){return Q.grep(e.childNodes,function(n){return n.nodeName==="LI"})},fR=function(e){return e.data===Fi||Go(e)},S4=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&fR(e.firstChild)},vR=function(e){return!e.firstChild||S4(e)},x4=function(e){return e.length>0&&vR(e[e.length-1])?e.slice(0,-1):e},MT=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},dR=function(e,n){return!!MT(e,n)},mR=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},gR=function(e,n){var a=ft.before(e),i=Rc(n),s=i.next(a);return s?s.toRange():null},k4=function(e,n){var a=ft.after(e),i=Rc(n),s=i.prev(a);return s?s.toRange():null},T4=function(e,n,a,i){var s=mR(e,i),f=e.parentNode;return f.insertBefore(s[0],e),Q.each(n,function(g){f.insertBefore(g,e)}),f.insertBefore(s[1],e),f.removeChild(e),k4(n[n.length-1],a)},hR=function(e,n,a){var i=e.parentNode;return Q.each(n,function(s){i.insertBefore(s,e)}),gR(e,a)},NT=function(e,n,a,i){return i.insertAfter(n.reverse(),e),k4(n[0],a)},k1=function(e,n,a,i){var s=lR(n,e,i),f=MT(n,a.startContainer),g=x4(ky(s.firstChild)),b=1,y=2,O=n.getRoot(),P=function(R){var M=ft.fromRangeStart(a),W=Rc(n.getRoot()),K=R===b?W.prev(M):W.next(M);return K?MT(n,K.getNode())!==f:!0};return P(b)?hR(f,g,O):P(y)?NT(f,g,O,n):T4(f,g,O,a)},pR=function(e,n,a){var i=L.fromDom(e.getRoot());return yy(i,ft.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),wy(i,ft.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},FT=Ko,PC=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,FT);return a===i&&j0(L.fromDom(a),n)}else return!1},$T=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,s=a.lastChild;!i||i===s&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},bR=function(e,n){ee.from(e.getParent(n,"td,th")).map(L.fromDom).each(Ta)},yR=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var s=e.getBody(),f=hy(i);Q.each(i.select("*[data-mce-fragment]"),function(g){var b=Gt(a[g.nodeName.toLowerCase()]);if(b&&x(i,g))for(var y=g.parentNode;Gt(y)&&y!==s;y=y.parentNode){var O=z(i,g,y);if(O)break;if(f.compare(y,g)){i.remove(g,!0);break}}})}},E4=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},IT=function(e){Q.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},wR=function(e){return!!e.getAttribute("data-mce-fragment")},MC=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},dd=function(e,n){var a,i=e.dom,s=e.selection,f,g=function(M){for(var W=e.getBody();M&&M!==W;M=M.parentNode)if(i.getContentEditable(M)==="false")return M;return null};if(!!n){s.scrollIntoView(n);var b=g(n);if(b){i.remove(n),s.select(b);return}var y=i.createRng(),O=n.previousSibling;O&&O.nodeType===3?(y.setStart(O,O.nodeValue.length),Mr.ie||(f=n.nextSibling,f&&f.nodeType===3&&(O.appendData(f.data),f.parentNode.removeChild(f)))):(y.setStartBefore(n),y.setEndBefore(n));var P=function(M){var W=ft.fromRangeStart(M),K=Rc(e.getBody());if(W=K.next(W),W)return W.toRange()},R=i.getParent(n,i.isBlock);i.remove(n),R&&i.isEmpty(R)&&(e.$(R).empty(),y.setStart(R,0),y.setEnd(R,0),!FT(R)&&!wR(R)&&(a=P(y))?(y=a,i.remove(R)):i.add(R,i.create("br",{"data-mce-bogus":"1"}))),s.setRng(y)}},CR=function(e){var n=e.dom,a=RT(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,FT);PC(n,a,i)?m4(e,a,L.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},zT=function(e,n,a){var i,s,f,g,b,y,O=e.selection,P=e.dom;/^ | $/.test(n)&&(n=pR(P,O.getRng(),n));var R=e.parser,M=a.merge,W=u({validate:m2(e)},e.schema),K='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(f={content:n,format:"html",selection:!0,paste:a.paste},f=e.fire("BeforeSetContent",f),f.isDefaultPrevented()){e.fire("SetContent",{content:f.content,format:"html",selection:!0,paste:a.paste});return}n=f.content,n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,K),b=O.getRng();var J=b.startContainer||(b.parentElement?b.parentElement():null),V=e.getBody();J===V&&O.isCollapsed()&&P.isBlock(V.firstChild)&&MC(e,V.firstChild)&&P.isEmpty(V.firstChild)&&(b=P.createRng(),b.setStart(V.firstChild,0),b.setEnd(V.firstChild,0),O.setRng(b)),O.isCollapsed()||CR(e),i=O.getNode();var ge={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},le=R.parse(n,ge);if(a.paste===!0&&cR(e.schema,le)&&dR(P,i)){b=k1(W,P,O.getRng(),le),O.setRng(b),e.fire("SetContent",f);return}if(E4(le),y=le.lastChild,y.attr("id")==="mce_marker"){for(g=y,y=y.prev;y;y=y.walk(!0))if(y.type===3||!P.isBlock(y.name)){e.schema.isValidChild(y.parent.name,"span")&&y.parent.insert(g,y,y.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!ge.invalid)n=W.serialize(le),$T(e,n,i);else{for(e.selection.setContent(K),i=O.getNode(),s=e.getBody(),i.nodeType===9?i=y=s:y=i;y!==s;)i=y,y=y.parentNode;n=i===s?s.innerHTML:P.getOuterHTML(i),n=W.serialize(R.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return W.serialize(le)}))),i===s?P.setHTML(s,n):P.setOuterHTML(i,n)}yR(e,M),dd(e,P.get("mce_marker")),IT(e.getBody()),bR(P,O.getStart()),e.fire("SetContent",f),e.addVisual()},LT=function(e,n){n(e),e.firstChild&&LT(e.firstChild,n),e.next&&LT(e.next,n)},SR=function(e,n,a){var i={},s={},f=[];a.firstChild&&LT(a.firstChild,function(y){ke(e,function(O){O.name===y.name&&(i[O.name]?i[O.name].nodes.push(y):i[O.name]={filter:O,nodes:[y]})}),ke(n,function(O){typeof y.attr(O.name)=="string"&&(s[O.name]?s[O.name].nodes.push(y):s[O.name]={filter:O,nodes:[y]})})});for(var g in i)i.hasOwnProperty(g)&&f.push(i[g]);for(var b in s)s.hasOwnProperty(b)&&f.push(s[b]);return f},xR=function(e,n,a){var i=SR(e,n,a);ke(i,function(s){ke(s.filter.callbacks,function(f){f(s.nodes,s.filter.name,{})})})},kR="html",NC=function(e){return e instanceof nc},TR=function(e){tv(e)&&Lu(e.getBody()).each(function(n){var a=n.getNode(),i=Mi(a)?Lu(a).getOr(n):n;e.selection.setRng(i.toRange())})},Bm=function(e,n){e.dom.setHTML(e.getBody(),n),TR(e)},ER=function(e,n,a,i){var s,f;return a.length===0||/^\s+$/.test(a)?(f='<br data-mce-bogus="1">',n.nodeName==="TABLE"?a="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+f+"</li>"),s=Oi(e),s&&e.schema.isValidChild(n.nodeName.toLowerCase(),s.toLowerCase())?(a=f,a=e.dom.createHTML(s,rm(e),a)):a||(a='<br data-mce-bogus="1">'),Bm(e,a),e.fire("SetContent",i)):(i.format!=="raw"&&(a=u({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=mg(L.fromDom(n))?a:Q.trim(a),Bm(e,i.content),i.no_events||e.fire("SetContent",i)),i.content},OR=function(e,n,a,i){xR(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var s=u({validate:e.validate},e.schema).serialize(a);return i.content=mg(L.fromDom(n))?s:Q.trim(s),Bm(e,i.content),i.no_events||e.fire("SetContent",i),a},AR=function(e,n,a){return a.format=a.format?a.format:kR,a.set=!0,a.content=NC(n)?"":n,a.no_events||e.fire("BeforeSetContent",a),NC(n)||(n=a.content),ee.from(e.getBody()).fold(Ve(n),function(i){return NC(n)?OR(e,i,n,a):ER(e,i,n,a)})},DR=function(e,n){return $l(e,n).isSome()},O4=function(e){return Zt(e)?e:bt},_R=function(e,n,a){for(var i=e.dom,s=O4(a);i.parentNode;){i=i.parentNode;var f=L.fromDom(i),g=n(f);if(g.isSome())return g;if(s(f))break}return ee.none()},HT=function(e,n,a){var i=n(e),s=O4(a);return i.orThunk(function(){return s(e)?ee.none():_R(e,n,s)})},VT=Ug,A4=function(e,n,a){var i=e.formatter.get(a);if(i){for(var s=0;s<i.length;s++)if(i[s].inherit===!1&&e.dom.is(n,i[s].selector))return!0}return!1},UT=function(e,n,a,i){var s=e.dom.getRoot();return n===s?!1:(n=e.dom.getParent(n,function(f){return A4(e,f,a)?!0:f.parentNode===s||!!av(e,f,a,i,!0)}),av(e,n,a,i))},D4=function(e,n,a){if(VT(n,a.inline)||VT(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},_4=function(e,n,a,i,s,f){var g,b,y=a[i],O;if(a.onmatch)return a.onmatch(n,a,i);if(y){if(typeof y.length=="undefined"){for(g in y)if(y.hasOwnProperty(g)&&(i==="attributes"?b=e.getAttrib(n,g):b=jp(e,n,g),s&&!b&&!a.exact||(!s||a.exact)&&!VT(b,Wp(e,ef(y[g],f),g))))return}else for(O=0;O<y.length;O++)if(i==="attributes"?e.getAttrib(n,y[O]):jp(e,n,y[O]))return a}return a},av=function(e,n,a,i,s){var f=e.formatter.get(a),g,b,y,O,P=e.dom;if(f&&n){for(b=0;b<f.length;b++)if(g=f[b],D4(e.dom,n,g)&&_4(P,n,g,"attributes",s,i)&&_4(P,n,g,"styles",s,i)){if(O=g.classes){for(y=0;y<O.length;y++)if(!e.dom.hasClass(n,ef(O[y],i)))return}return g}}},Ty=function(e,n,a,i){if(i)return UT(e,i,n,a);if(i=e.selection.getNode(),UT(e,i,n,a))return!0;var s=e.selection.getStart();return!!(s!==i&&UT(e,s,n,a))},B4=function(e,n,a){var i=[],s={},f=e.selection.getStart();return e.dom.getParent(f,function(g){for(var b=0;b<n.length;b++){var y=n[b];!s[y]&&av(e,g,y,a)&&(s[y]=!0,i.push(y))}},e.dom.getRoot()),i},BR=function(e,n){var a=function(s){return oa(s,L.fromDom(e.getBody()))},i=function(s,f){return av(e,s.dom,f)?ee.some(f):ee.none()};return ee.from(e.selection.getStart(!0)).bind(function(s){return HT(L.fromDom(s),function(f){return Ma(n,function(g){return i(f,g)})},a)}).getOrNull()},FC=function(e,n){var a=e.formatter.get(n),i,s,f,g,b,y=e.dom;if(a)for(i=e.selection.getStart(),s=xi(y,i),g=a.length-1;g>=0;g--){if(b=a[g].selector,!b||a[g].defaultBlock)return!0;for(f=s.length-1;f>=0;f--)if(y.is(s[f],b))return!0}return!1},R4=function(e,n,a){return Jn(a,function(i,s){var f=Zs(e,s);return e.formatter.matchNode(n,s,{},f)?i.concat([s]):i},[])},ov=Ao,T1="_mce_caret",P4=function(e,n){return e.importNode(n,!0)},RR=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==ov||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},M4=function(e){return RR(e).length>0},N4=function(e){if(e){var n=new yi(e,e);for(e=n.current();e;e=n.next())if($t(e))return e}return null},WT=function(e){var n=L.fromTag("span");return T(n,{id:T1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Mo(n,L.fromText(ov)),n},PR=function(e){var n=N4(e);return n&&n.nodeValue.charAt(0)===ov&&n.deleteData(0,1),n},jT=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,s=e.selection;if(M4(n))gh(e,!1,L.fromDom(n),a);else{var f=s.getRng(),g=i.getParent(n,i.isBlock),b=f.startContainer,y=f.startOffset,O=f.endContainer,P=f.endOffset,R=PR(n);i.remove(n,!0),b===R&&y>0&&f.setStart(R,y-1),O===R&&P>0&&f.setEnd(R,P-1),g&&i.isEmpty(g)&&Hs(L.fromDom(g)),s.setRng(f)}},qT=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,s=e.selection;if(n)jT(e,n,a);else if(n=ed(e.getBody(),s.getStart()),!n)for(;n=i.get(T1);)jT(e,n,!1)},F4=function(e,n,a){var i=e.dom,s=i.getParent(a,st(mm,e));s&&i.isEmpty(s)?a.parentNode.replaceChild(n,a):(ih(L.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},$4=function(e,n){return e.appendChild(n),n},E1=function(e,n){var a=zr(e,function(i,s){return $4(i,s.cloneNode(!1))},n);return $4(a,a.ownerDocument.createTextNode(ov))},$c=function(e,n,a,i,s,f){var g=e.formatter,b=e.dom,y=on(Na(g.get()),function(M){return M!==i&&!Xe(M,"removeformat")}),O=R4(e,a,y),P=on(O,function(M){return!Qs(e,M,i)});if(P.length>0){var R=a.cloneNode(!1);return b.add(n,R),g.remove(i,s,R,f),b.remove(R),ee.some(R)}else return ee.none()},MR=function(e,n,a){var i,s,f=e.selection,g=f.getRng(),b=g.startOffset,y=g.startContainer,O=y.nodeValue;i=ed(e.getBody(),f.getStart()),i&&(s=N4(i));var P=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(O&&b>0&&b<O.length&&P.test(O.charAt(b))&&P.test(O.charAt(b-1))){var R=f.getBookmark();g.collapse(!0);var M=ec(e,g,e.formatter.get(n));M=sd(M),e.formatter.apply(n,a,M),f.moveToBookmark(R)}else(!i||s.nodeValue!==ov)&&(i=P4(e.getDoc(),WT(!0).dom),s=i.firstChild,g.insertNode(i),b=1),e.formatter.apply(n,a,i),f.setCursorLocation(s,b)},I4=function(e,n,a,i){var s=e.dom,f=e.selection,g,b,y,O=[],P=f.getRng(),R=P.startContainer,M=P.startOffset;for(b=R,R.nodeType===3&&(M!==R.nodeValue.length&&(g=!0),b=b.parentNode);b;){if(av(e,b,n,a,i)){y=b;break}b.nextSibling&&(g=!0),O.push(b),b=b.parentNode}if(!!y)if(g){var W=f.getBookmark();P.collapse(!0);var K=ec(e,P,e.formatter.get(n),!0);K=sd(K),e.formatter.remove(n,a,K,i),f.moveToBookmark(W)}else{var J=ed(e.getBody(),y),V=WT(!1).dom;F4(e,V,J!==null?J:y);var ge=$c(e,V,y,n,a,i),le=E1(O.concat(ge.toArray()),V);jT(e,J,!1),f.setCursorLocation(le,1),s.isEmpty(y)&&s.remove(y)}},GT=function(e,n){var a=e.selection,i=e.getBody();qT(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===ov&&qT(e,ed(i,a.getStart())),(n===37||n===39)&&qT(e,ed(i,a.getStart()))},NR=function(e){e.on("mouseup keydown",function(n){GT(e,n.keyCode)})},FR=function(e,n){var a=WT(!1),i=E1(n,a.dom);return ou(L.fromDom(e),a),ci(L.fromDom(e)),ft(i,0)},$R=function(e,n){var a=e.schema.getTextInlineElements();return a.hasOwnProperty(ni(n))&&!ml(n.dom)&&!bf(n.dom)},IR=function(e){return ml(e.dom)&&M4(e.dom)},$C={},z4=io,IC=Ja,KT=function(e,n){var a=$C[e];a||($C[e]=[]),$C[e].push(n)},L4=function(e,n){IC($C[e],function(a){a(n)})};KT("pre",function(e){var n=e.selection.getRng(),a,i=function(g){return f(g.previousSibling)&&Pn(a,g.previousSibling)!==-1},s=function(g,b){Wr(b).remove(),Wr(g).append("<br><br>").append(b.childNodes)},f=Ku(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),IC(z4(z4(a,f),i),function(g){s(g.previousSibling,g)}))});var XT=Q.each,YT=function(e){return Ur(e)&&!xs(e)&&!ml(e)&&!bf(e)},H4=function(e,n){var a;for(a=e;a;a=a[n]){if($t(a)&&a.nodeValue.length!==0)return e;if(Ur(a)&&!xs(a))return a}return e},V4=function(e,n,a){var i,s,f=hy(e);if(n&&a&&(n=H4(n,"previousSibling"),a=H4(a,"nextSibling"),f.compare(n,a))){for(i=n.nextSibling;i&&i!==a;)s=i,i=i.nextSibling,n.appendChild(s);return e.remove(a),Q.each(Q.grep(a.childNodes),function(g){n.appendChild(g)}),n}return a},U4=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var s=V4(e,dm(i),i);V4(e,s,dm(s,!0))}},zR=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";XT(e.select(i,a),function(s){YT(s)&&XT(n.styles,function(f,g){e.setStyle(s,g,"")})})}},pr=function(e,n,a){XT(e.childNodes,function(i){YT(i)&&(n(i)&&a(i),i.hasChildNodes()&&pr(i,n,a))})},LR=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},W4=function(e,n){return function(a){return!!(a&&jp(e,a,n))}},j4=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),LR(e,i)}},Ey=Sf.generate([{keep:[]},{rename:["name"]},{removed:[]}]),q4=/^(src|href|style)$/,zC=Q.each,ph=Ug,G4=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},LC=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},JT=function(e,n,a){var i,s;if(i=n[a?"startContainer":"endContainer"],s=n[a?"startOffset":"endOffset"],Ur(i)){var f=i.childNodes.length-1;!a&&s&&s--,i=i.childNodes[s>f?f:s]}return $t(i)&&a&&s>=i.nodeValue.length&&(i=new yi(i,e.getBody()).next()||i),$t(i)&&!a&&s===0&&(i=new yi(i,e.getBody()).prev()||i),i},K4=function(e,n){var a=n?"firstChild":"lastChild";if(G4(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},ZT=function(e,n,a,i){var s=e.create(a,i);return n.parentNode.insertBefore(s,n),s.appendChild(n),s},X4=function(e,n,a,i,s){var f=L.fromDom(n),g=L.fromDom(e.create(i,s)),b=a?mc(f):hv(f);return hf(g,b),a?(ou(f,g),Sd(g,f)):(bv(f,g),Mo(g,f)),g.dom},HR=function(e,n,a){if(ph(n,a.inline)||ph(n,a.block))return!0;if(a.selector)return Ur(n)&&e.is(n,a.selector)},QT=function(e,n){return n.links&&e.nodeName==="A"},O1=function(e,n,a,i){return n=dm(n,a,i),!n||n.nodeName==="BR"||e.isBlock(n)},Y4=function(e,n,a){var i=n.parentNode,s,f=e.dom,g=Oi(e);a.block&&(g?i===f.getRoot()&&(!a.list_block||!ph(n,a.list_block))&&ke(qr(n.childNodes),function(b){gm(e,g,b.nodeName.toLowerCase())?s?s.appendChild(b):(s=ZT(f,b,g),f.setAttribs(s,e.settings.forced_root_block_attrs)):s=0}):f.isBlock(n)&&!f.isBlock(i)&&(!O1(f,n,!1)&&!O1(f,n.firstChild,!0,!0)&&n.insertBefore(f.create("br"),n.firstChild),!O1(f,n,!0)&&!O1(f,n.lastChild,!1,!0)&&n.appendChild(f.create("br")))),!(a.selector&&a.inline&&!ph(a.inline,n))&&f.remove(n,!0)},Oy=function(e,n,a,i,s){var f,g=e.dom;if(!HR(g,i,n)&&!QT(i,n))return Ey.keep();var b=i;if(n.inline&&n.remove==="all"&&re(n.preserve_attributes)){var y=on(g.getAttribs(b),function(M){return We(n.preserve_attributes,M.name.toLowerCase())});if(g.removeAllAttribs(b),ke(y,function(M){return g.setAttrib(b,M.name,M.value)}),y.length>0)return Ey.rename("span")}if(n.remove!=="all"){zC(n.styles,function(M,W){M=Wp(g,ef(M,a),W+""),Vt(W)&&(W=M,s=null),(n.remove_similar||!s||ph(jp(g,s,W),M))&&g.setStyle(b,W,""),f=!0}),f&&g.getAttrib(b,"style")===""&&(b.removeAttribute("style"),b.removeAttribute("data-mce-style")),zC(n.attributes,function(M,W){var K;if(M=ef(M,a),Vt(W)&&(W=M,s=null),n.remove_similar||!s||ph(g.getAttrib(s,W),M)){if(W==="class"&&(M=g.getAttrib(b,W),M&&(K="",ke(M.split(/\s+/),function(J){/mce\-\w+/.test(J)&&(K+=(K?" ":"")+J)}),K))){g.setAttrib(b,W,K);return}if(q4.test(W)&&b.removeAttribute("data-mce-"+W),W==="style"&&Ku(["li"])(b)&&g.getStyle(b,"list-style-type")==="none"){b.removeAttribute(W),g.setStyle(b,"list-style-type","none");return}W==="class"&&b.removeAttribute("className"),b.removeAttribute(W)}}),zC(n.classes,function(M){M=ef(M,a),(!s||g.hasClass(s,M))&&g.removeClass(b,M)});for(var O=g.getAttribs(b),P=0;P<O.length;P++){var R=O[P].nodeName;if(R.indexOf("_")!==0&&R.indexOf("data-")!==0)return Ey.keep()}}return n.remove!=="none"?(Y4(e,b,n),Ey.removed()):Ey.keep()},cu=function(e,n,a,i,s){return Oy(e,n,a,i,s).fold(bt,function(f){return e.dom.rename(i,f),!0},or)},Ay=function(e,n,a,i,s){var f;return ke(xi(e.dom,n.parentNode).reverse(),function(g){if(!f&&g.id!=="_start"&&g.id!=="_end"){var b=av(e,g,a,i,s);b&&b.split!==!1&&(f=g)}}),f},bh=function(e,n,a,i){return Oy(e,n,a,i,i).fold(Ve(i),function(s){var f=e.dom.createFragment();return f.appendChild(i),e.dom.rename(i,s)},Ve(null))},VR=function(e,n,a,i,s,f,g,b){var y,O,P,R=e.dom;if(a){for(var M=a.parentNode,W=i.parentNode;W&&W!==M;W=W.parentNode){y=R.clone(W,!1);for(var K=0;K<n.length&&(y=bh(e,n[K],b,y),y!==null);K++);y&&(O&&y.appendChild(O),P||(P=y),O=y)}f&&(!g.mixed||!R.isBlock(a))&&(i=R.split(a,i)),O&&(s.parentNode.insertBefore(O,s),P.appendChild(s),g.inline&&U4(R,g,b,O))}return i},eE=function(e,n,a,i,s){var f=e.formatter.get(n),g=f[0],b=!0,y=e.dom,O=e.selection,P=function(ge){var le=Ay(e,ge,n,a,s);return VR(e,f,le,ge,ge,!0,g,a)},R=function(ge){return xs(ge)&&Ur(ge)&&(ge.id==="_start"||ge.id==="_end")},M=function(ge){var le,pe,we=ge.parentNode;$t(ge)&&qp(y,we)&&cu(e,g,a,we,we),Ur(ge)&&y.getContentEditable(ge)&&(le=b,b=y.getContentEditable(ge)==="true",pe=!0);var Ne=qr(ge.childNodes);if(b&&!pe)for(var gt=0;gt<f.length&&!cu(e,f[gt],a,ge,ge);gt++);if(g.deep&&Ne.length){for(var gt=0;gt<Ne.length;gt++)M(Ne[gt]);pe&&(b=le)}},W=function(ge){var le=y.get(ge?"_start":"_end"),pe=le[ge?"firstChild":"lastChild"];return R(pe)&&(pe=pe[ge?"firstChild":"lastChild"]),$t(pe)&&pe.data.length===0&&(pe=ge?le.previousSibling||le.nextSibling:le.nextSibling||le.previousSibling),y.remove(le,!0),pe},K=function(ge){var le,pe,we=ec(e,ge,f,ge.collapsed);if(g.split){if(we=sd(we),le=JT(e,we,!0),pe=JT(e,we),le!==pe){if(le=K4(le,!0),pe=K4(pe,!1),LC(y,le,pe)){var Ne=ee.from(le.firstChild).getOr(le);P(X4(y,Ne,!0,"span",{id:"_start","data-mce-type":"bookmark"})),W(!0);return}if(LC(y,pe,le)){var Ne=ee.from(pe.lastChild).getOr(pe);P(X4(y,Ne,!1,"span",{id:"_end","data-mce-type":"bookmark"})),W(!1);return}le=ZT(y,le,"span",{id:"_start","data-mce-type":"bookmark"}),pe=ZT(y,pe,"span",{id:"_end","data-mce-type":"bookmark"});var gt=y.createRng();gt.setStartAfter(le),gt.setEndBefore(pe),pm(y,gt,function(Xt){ke(Xt,function(en){!xs(en)&&!xs(en.parentNode)&&P(en)})}),P(le),P(pe),le=W(!0),pe=W()}else le=pe=P(le);we.startContainer=le.parentNode?le.parentNode:le,we.startOffset=y.nodeIndex(le),we.endContainer=pe.parentNode?pe.parentNode:pe,we.endOffset=y.nodeIndex(pe)+1}pm(y,we,function(Xt){ke(Xt,function(en){M(en);var Vn=["underline","line-through","overline"];ke(Vn,function(Yn){Ur(en)&&e.dom.getStyle(en,"text-decoration")===Yn&&en.parentNode&&Wg(y,en.parentNode)===Yn&&cu(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Yn}},null,en)})})})};if(i){if(nd(i)){var J=y.createRng();J.setStartBefore(i),J.setEndAfter(i),K(J)}else K(i);return}if(y.getContentEditable(O.getNode())==="false"){i=O.getNode();for(var V=0;V<f.length&&!(f[V].ceFalseOverride&&cu(e,f[V],a,i,i));V++);return}!O.isCollapsed()||!g.inline||bm(e).length?(Kf(O,!0,function(){Zp(e,K)}),g.inline&&Ty(e,n,a,O.getStart())&&$2(y,O,O.getRng()),e.nodeChanged()):I4(e,n,a,s)},tE=Q.each,UR=function(e,n,a,i){var s=function(f){if(f.nodeType===1&&f.parentNode&&f.parentNode.nodeType===1){var g=Wg(e,f.parentNode);e.getStyle(f,"color")&&g?e.setStyle(f,"text-decoration",g):e.getStyle(f,"text-decoration")===g&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Q.walk(i,s,"childNodes"),s(i))},WR=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&pr(i,W4(e,"fontSize"),j4(e,"backgroundColor",ef(n.styles.backgroundColor,a)))},jR=function(e,n,a,i){(n.inline==="sub"||n.inline==="sup")&&(pr(i,W4(e,"fontSize"),j4(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},J4=function(e,n,a,i){tE(n,function(s){tE(e.dom.select(s.inline,i),function(f){!YT(f)||cu(e,s,a,f,s.exact?f:null)}),zR(e.dom,s,i)})},HC=function(e,n,a,i,s){av(e,s.parentNode,a,i)&&cu(e,n,i,s)||n.merge_with_parents&&e.dom.getParent(s.parentNode,function(f){if(av(e,f,a,i))return cu(e,n,i,s),!0})},Sl=Q.each,nE=function(e,n){return go(e,n)},VC=function(e){return e&&e.nodeType===1&&!xs(e)&&!ml(e)&&!bf(e)},qR=function(e,n,a,i){if(Iu(e)&&F0(n)){var s=Gn(Gn({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),f=DR(L.fromDom(a),function(g){return ml(g.dom)});return go(s,i)&&ps(L.fromDom(a.parentNode),!1)&&!f}else return!1},rE=function(e,n,a,i){var s=e.formatter.get(n),f=s[0],g=!i&&e.selection.isCollapsed(),b=e.dom,y=e.selection,O=function(le,pe){if(pe=pe||f,le){if(pe.onformat&&pe.onformat(le,pe,a,i),Sl(pe.styles,function(Ne,gt){b.setStyle(le,gt,ef(Ne,a))}),pe.styles){var we=b.getAttrib(le,"style");we&&b.setAttrib(le,"data-mce-style",we)}Sl(pe.attributes,function(Ne,gt){b.setAttrib(le,gt,ef(Ne,a))}),Sl(pe.classes,function(Ne){Ne=ef(Ne,a),b.hasClass(le,Ne)||b.addClass(le,Ne)})}},P=function(le,pe){var we=!1;return rd(f)?(Sl(le,function(Ne){if(!("collapsed"in Ne&&Ne.collapsed!==g)&&b.is(pe,Ne.selector)&&!ml(pe))return O(pe,Ne),we=!0,!1}),we):!1},R=function(le,pe,we,Ne){var gt=[],Xt=!0,en=f.inline||f.block,Vn=le.create(en);O(Vn),pm(le,pe,function(Yn){var Nt,Dr=function(gn){var Un=!1,rn=Xt,kn=gn.nodeName.toLowerCase(),In=gn.parentNode.nodeName.toLowerCase();if(Ur(gn)&&le.getContentEditable(gn)&&(rn=Xt,Xt=le.getContentEditable(gn)==="true",Un=!0),Go(gn)&&!qR(e,f,gn,In)){Nt=null,jg(f)&&le.remove(gn);return}if(f.wrapper&&av(e,gn,n,a)){Nt=null;return}if(Xt&&!Un&&jg(f)&&!f.wrapper&&mm(e,kn)&&gm(e,In,en)){var It=le.rename(gn,en);O(It),gt.push(It),Nt=null;return}if(rd(f)){var Fn=P(s,gn);if($t(gn)&&qp(le,gn.parentNode)&&P(s,gn.parentNode),!nE(f,"inline")||Fn){Nt=null;return}}Xt&&!Un&&gm(e,en,kn)&&gm(e,In,en)&&!(!Ne&&gn.nodeType===3&&gn.nodeValue.length===1&&gn.nodeValue.charCodeAt(0)===65279)&&!ml(gn)&&(!nE(f,"inline")||!le.isBlock(gn))?(Nt||(Nt=le.clone(Vn,!1),gn.parentNode.insertBefore(Nt,gn),gt.push(Nt)),Nt.appendChild(gn)):(Nt=null,Sl(Q.grep(gn.childNodes),Dr),Un&&(Xt=rn),Nt=null)};Sl(Yn,Dr)}),f.links===!0&&Sl(gt,function(Yn){var Nt=function(Dr){Dr.nodeName==="A"&&O(Dr,f),Sl(Q.grep(Dr.childNodes),Nt)};Nt(Yn)}),Sl(gt,function(Yn){var Nt=function(rn){var kn=0;return Sl(rn.childNodes,function(In){!Ak(In)&&!xs(In)&&kn++}),kn},Dr=function(rn){var kn=!1;return Sl(rn.childNodes,function(In){if(VC(In))return kn=In,!1}),kn},gn=function(rn){var kn,In=Dr(rn);return In&&!xs(In)&&D4(le,In,f)&&(kn=le.clone(In,!1),O(kn),le.replace(kn,rn,!0),le.remove(In,!0)),kn||rn},Un=Nt(Yn);if((gt.length>1||!le.isBlock(Yn))&&Un===0){le.remove(Yn,!0);return}(F0(f)||f.wrapper)&&(!f.exact&&Un===1&&(Yn=gn(Yn)),J4(e,s,a,Yn),HC(e,f,n,a,Yn),WR(le,f,a,Yn),UR(le,f,a,Yn),jR(le,f,a,Yn),U4(le,f,a,Yn))})};if(b.getContentEditable(y.getNode())==="false"){i=y.getNode();for(var M=0,W=s.length;M<W;M++){var K=s[M];if(K.ceFalseOverride&&rd(K)&&b.is(i,K.selector)){O(i,K);return}}return}if(f){if(i)if(nd(i)){if(!P(s,i)){var J=b.createRng();J.setStartBefore(i),J.setEndAfter(i),R(b,ec(e,J,s),null,!0)}}else R(b,i,null,!0);else if(!g||!F0(f)||bm(e).length){var V=y.getNode(),ge=s[0];!e.settings.forced_root_block&&ge.defaultBlock&&!b.getParent(V,b.isBlock)&&rE(e,ge.defaultBlock),y.setRng(RT(y.getRng())),Kf(y,!0,function(le){Zp(e,function(pe,we){var Ne=we?pe:ec(e,pe,s);R(b,Ne)})}),$2(b,y,y.getRng()),e.nodeChanged()}else MR(e,n,a);L4(n,e)}},GR=function(e,n){var a=No({});e.set({}),n.on("NodeChange",function(i){KR(n,i.element,a,e.get())})},KR=function(e,n,a,i){var s=Na(a.get()),f={},g={},b=on(xi(e.dom,n),function(O){return O.nodeType===1&&!O.getAttribute("data-mce-bogus")});Gr(i,function(O,P){Q.each(b,function(R){if(e.formatter.matchNode(R,P,{},O.similar))return s.indexOf(P)===-1&&(ke(O.callbacks,function(M){M(!0,{node:R,format:P,parents:b})}),f[P]=O.callbacks),g[P]=O.callbacks,!1;if(A4(e,R,P))return!1})});var y=XR(a.get(),g,n,b);a.set(Gn(Gn({},f),y))},XR=function(e,n,a,i){return zn(e,function(s,f){return Or(n,f)?!0:(ke(s,function(g){g(!1,{node:a,format:f,parents:i})}),!1)}).t},YR=function(e,n,a,i){var s=e.get();ke(n.split(","),function(f){s[f]||(s[f]={similar:i,callbacks:[]}),s[f].callbacks.push(a)}),e.set(s)},JR=function(e,n,a){var i=e.get();ke(n.split(","),function(s){i[s].callbacks=on(i[s].callbacks,function(f){return f!==a}),i[s].callbacks.length===0&&delete i[s]}),e.set(i)},ZR=function(e,n,a,i,s){return n.get()===null&&GR(n,e),YR(n,a,i,s),{unbind:function(){return JR(n,a,i)}}},QR=function(e,n,a,i){var s=e.formatter.get(n);Ty(e,n,a,i)&&(!("toggle"in s[0])||s[0].toggle)?eE(e,n,a,i):rE(e,n,a,i)},aE=function(e,n){var a=n||document,i=a.createDocumentFragment();return ke(e,function(s){i.appendChild(s.dom)}),L.fromDom(i)},oE=function(e,n,a){return{element:e,width:n,rows:a}},UC=function(e,n){return{element:e,cells:n}},eP=function(e,n){return{x:e,y:n}},yh=function(e,n){var a=parseInt($(e,n),10);return isNaN(a)?1:a},Z4=function(e,n,a,i,s){for(var f=yh(s,"rowspan"),g=yh(s,"colspan"),b=e.rows,y=a;y<a+f;y++){b[y]||(b[y]=UC(pp(i),[]));for(var O=n;O<n+g;O++){var P=b[y].cells;P[O]=y===a&&O===n?s:Lf(s)}}},ki=function(e,n,a){var i=e.rows,s=i[a]?i[a].cells:[];return!!s[n]},tP=function(e,n,a){for(;ki(e,n,a);)n++;return n},Q4=function(e){return Jn(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},e3=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var s=a[i].cells,f=0;f<s.length;f++)if(oa(s[f],n))return ee.some(eP(f,i));return ee.none()},t3=function(e,n,a,i,s){for(var f=[],g=e.rows,b=a;b<=s;b++){var y=g[b].cells,O=n<i?y.slice(n,i+1):y.slice(i,n+1);f.push(UC(g[b].element,O))}return f},xl=function(e,n,a){var i=n.x,s=n.y,f=a.x,g=a.y,b=s<g?t3(e,i,s,f,g):t3(e,i,g,f,s);return oE(e.element,Q4(b),b)},WC=function(e,n){var a=Lf(e.element),i=L.fromTag("tbody");return hf(i,n),Mo(a,i),a},Dy=function(e){return pt(e.rows,function(n){var a=pt(n.cells,function(s){var f=pp(s);return Ae(f,"colspan"),Ae(f,"rowspan"),f}),i=Lf(n.element);return hf(i,a),i})},_y=function(e){var n=oE(Lf(e),0,[]);return ke(oo(e,"tr"),function(a,i){ke(oo(a,"td,th"),function(s,f){Z4(n,tP(n,f,i),i,a,s)})}),oE(n.element,Q4(n.rows),n.rows)},iE=function(e){return WC(e,Dy(e))},nP=function(e,n,a){return e3(e,n).bind(function(i){return e3(e,a).map(function(s){return xl(e,i,s)})})},rP=function(e){return Ut(e,function(n){return ni(n)==="ul"||ni(n)==="ol"})},A1=function(e,n){return Ut(e,function(a){return ni(a)==="li"&&j0(a,n)}).fold(Ve([]),function(a){return rP(e).map(function(i){var s=L.fromTag(ni(i)),f=cn(fo(i),function(g,b){return zt(b,"list-style")});return Zr(s,f),[L.fromTag("li"),s]}).getOr([])})},D1=function(e,n){var a=Jn(n,function(i,s){return Mo(s,i),s},e);return n.length>0?aE([a]):a},_1=function(e){return dg(e)?pi(e).filter(Yu).fold(Ve([]),function(n){return[e,n]}):Yu(e)?[e]:[]},uE=function(e,n){var a=L.fromDom(n.commonAncestorContainer),i=Ra(a,e),s=on(i,function(b){return yc(b)||Ll(b)}),f=A1(i,n),g=s.concat(f.length?f:_1(a));return pt(g,Lf)},n3=function(){return aE([])},aP=function(e,n){return D1(L.fromDom(n.cloneContents()),uE(e,n))},r3=function(e,n){return Il(n,"table",st(oa,e))},a3=function(e,n){return r3(e,n[0]).bind(function(a){var i=n[0],s=n[n.length-1],f=_y(a);return nP(f,i,s).map(function(g){return aE([iE(g)])})}).getOrThunk(n3)},oP=function(e,n){return n.length>0&&n[0].collapsed?n3():aP(e,n[0])},iP=function(e,n){var a=z2(n,e);return a.length>0?a3(e,a):oP(e,n)},o3=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},jC=function(e,n){return n>=0&&n<e.length&&gl(e.charAt(n))},i3=function(e,n){var a=el(e.innerText);return n?o3(a):a},uP=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},sP=function(e){return ee.from(e.selection.getRng()).map(function(n){var a=ee.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),s=uP(a),f=Mr.browser.isIE()&&s!=="pre",g=e.dom.add(i,s,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),b=i3(g,f),y=el(g.textContent);if(e.dom.remove(g),jC(y,0)||jC(y,y.length-1)){var O=a.getOr(i),P=i3(O,f),R=P.indexOf(b);if(R===-1)return b;var M=jC(P,R-1),W=jC(P,R+b.length);return(M?" ":"")+b+(W?" ":"")}else return b}).getOr("")},cP=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),s=e.selection.getSel(),f=Dm(e,V0(s)),g=n.contextual?iP(L.fromDom(e.getBody()),f).dom:a.cloneContents();return g&&i.appendChild(g),e.selection.serializer.serialize(i,n)},u3=function(e,n,a){if(a===void 0&&(a={}),a.get=!0,a.format=n,a.selection=!0,a=e.fire("BeforeGetContent",a),a.isDefaultPrevented())return e.fire("GetContent",a),a.content;if(a.format==="text")return sP(e);a.getInner=!0;var i=cP(e,a);return a.format==="tree"?i:(a.content=e.selection.isCollapsed()?"":i,e.fire("GetContent",a),a.content)},sE=0,s3=1,c3=2,By=function(e,n){var a=e.length+n.length+2,i=new Array(a),s=new Array(a),f=function(P,R,M){return{start:P,end:R,diag:M}},g=function(P,R,M,W,K){var J=y(P,R,M,W);if(J===null||J.start===R&&J.diag===R-W||J.end===P&&J.diag===P-M)for(var V=P,ge=M;V<R||ge<W;)V<R&&ge<W&&e[V]===n[ge]?(K.push([sE,e[V]]),++V,++ge):R-P>W-M?(K.push([c3,e[V]]),++V):(K.push([s3,n[ge]]),++ge);else{g(P,J.start,M,J.start-J.diag,K);for(var le=J.start;le<J.end;++le)K.push([sE,e[le]]);g(J.end,R,J.end-J.diag,W,K)}},b=function(P,R,M,W){for(var K=P;K-R<W&&K<M&&e[K]===n[K-R];)++K;return f(P,K,R)},y=function(P,R,M,W){var K=R-P,J=W-M;if(K===0||J===0)return null;var V=K-J,ge=J+K,le=(ge%2===0?ge:ge+1)/2;i[1+le]=P,s[1+le]=R+1;var pe,we,Ne,gt,Xt;for(pe=0;pe<=le;++pe){for(we=-pe;we<=pe;we+=2){for(Ne=we+le,we===-pe||we!==pe&&i[Ne-1]<i[Ne+1]?i[Ne]=i[Ne+1]:i[Ne]=i[Ne-1]+1,gt=i[Ne],Xt=gt-P+M-we;gt<R&&Xt<W&&e[gt]===n[Xt];)i[Ne]=++gt,++Xt;if(V%2!==0&&V-pe<=we&&we<=V+pe&&s[Ne-V]<=i[Ne])return b(s[Ne-V],we+P-M,R,W)}for(we=V-pe;we<=V+pe;we+=2){for(Ne=we+le-V,we===V-pe||we!==V+pe&&s[Ne+1]<=s[Ne-1]?s[Ne]=s[Ne+1]-1:s[Ne]=s[Ne-1],gt=s[Ne]-1,Xt=gt-P+M-we;gt>=P&&Xt>=M&&e[gt]===n[Xt];)s[Ne]=gt--,Xt--;if(V%2===0&&-pe<=we&&we<=pe&&s[Ne]<=i[Ne+V])return b(s[Ne],we+P-M,R,W)}}},O=[];return g(0,e.length,0,n.length,O),O},cE=function(e){return Ur(e)?e.outerHTML:$t(e)?gu.encodeRaw(e.data,!1):Hh(e)?"<!--"+e.data+"-->":""},lP=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},l3=function(e,n,a){var i=lP(n);if(e.hasChildNodes()&&a<e.childNodes.length){var s=e.childNodes[a];s.parentNode.insertBefore(i,s)}else e.appendChild(i)},fP=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},f3=function(e,n){var a=0;ke(e,function(i){i[0]===sE?a++:i[0]===s3?(l3(n,i[1],a),a++):i[0]===c3&&fP(n,a)})},vP=function(e){return on(pt(qr(e.childNodes),cE),function(n){return n.length>0})},dP=function(e,n){var a=pt(qr(n.childNodes),cE);return f3(By(a,e),n),n},lE=No(ee.none()),v3=function(){return lE.get().getOrThunk(function(){var e=document.implementation.createHTMLDocument("undo");return lE.set(ee.some(e)),e})},d3=function(e){return e.indexOf("</iframe>")!==-1},m3=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},mP=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},fE=function(e){var n=vP(e.getBody()),a=He(n,function(s){var f=EC(e.serializer,s);return f.length>0?[f]:[]}),i=a.join("");return d3(i)?m3(a):mP(i)},vE=function(e,n,a){n.type==="fragmented"?dP(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw"}),e.selection.moveToBookmark(a?n.beforeBookmark:n.bookmark)},Ry=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},qC=function(e){var n=L.fromTag("body",v3());return jw(n,Ry(e)),ke(oo(n,"*[data-mce-bogus]"),Qm),zx(n)},g3=function(e,n){return Ry(e)===Ry(n)},h3=function(e,n){return qC(e)===qC(n)},wh=function(e,n){return!e||!n?!1:g3(e,n)?!0:h3(e,n)},dE=function(e){return e.get()===0},GC=function(e,n,a){dE(a)&&(e.typing=n)},Rm=function(e,n){e.typing&&(GC(e,!1,n),e.add())},mE=function(e){e.typing&&(e.typing=!1,e.add())},p3=function(e,n,a){dE(n)&&a.set(ee.some(Ap(e.selection)))},Py=function(e,n,a,i,s,f,g){var b=fE(e);if(f=f||{},f=Q.extend(f,b),dE(i)===!1||e.removed)return null;var y=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:f,lastLevel:y,originalEvent:g}).isDefaultPrevented()||y&&wh(y,f))return null;n.data[a.get()]&&s.get().each(function(M){n.data[a.get()].beforeBookmark=M});var O=p2(e);if(O&&n.data.length>O){for(var P=0;P<n.data.length-1;P++)n.data[P]=n.data[P+1];n.data.length--,a.set(n.data.length)}f.bookmark=Ap(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(f),a.set(n.data.length-1);var R={level:f,lastLevel:y,originalEvent:g};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",R),e.fire("change",R)):e.fire("AddUndo",R),f},b3=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},gP=function(e,n,a,i,s){if(n.transact(i)){var f=n.data[a.get()].bookmark,g=n.data[a.get()-1];vE(e,g,!0),n.transact(s)&&(n.data[a.get()-1].beforeBookmark=f)}},y3=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],vE(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},w3=function(e,n,a,i){var s;return n.typing&&(n.add(),n.typing=!1,GC(n,!1,a)),i.get()>0&&(i.set(i.get()-1),s=n.data[i.get()],vE(e,s,!0),e.setDirty(!0),e.fire("Undo",{level:s})),s},hP=function(e){e.clear(),e.add()},pP=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!wh(fE(e),n.data[0])},bP=function(e,n){return n.get()<e.data.length-1&&!e.typing},gE=function(e,n,a){return Rm(e,n),e.beforeChange(),e.ignore(a),e.add()},yP=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},wP=function(e,n){var a=e.dom,i=Gt(n)?n:e.getBody();qn(e.hasVisual)&&(e.hasVisual=qv(e)),ke(a.select("table,a",i),function(s){switch(s.nodeName){case"TABLE":var f=Pp(e),g=a.getAttrib(s,"border");(!g||g==="0")&&e.hasVisual?a.addClass(s,f):a.removeClass(s,f);break;case"A":if(!a.getAttrib(s,"href")){var b=a.getAttrib(s,"name")||s.id,y=w2(e);b&&e.hasVisual?a.addClass(s,y):a.removeClass(s,y)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},My=function(e){return{undoManager:{beforeChange:function(n,a){return p3(e,n,a)},addUndoLevel:function(n,a,i,s,f,g){return Py(e,n,a,i,s,f,g)},undo:function(n,a,i){return w3(e,n,a,i)},redo:function(n,a){return y3(e,n,a)},clear:function(n,a){return b3(e,n,a)},reset:function(n){return hP(n)},hasUndo:function(n,a){return pP(e,n,a)},hasRedo:function(n,a){return bP(n,a)},transact:function(n,a,i){return gE(n,a,i)},ignore:function(n,a){return yP(n,a)},extra:function(n,a,i,s){return gP(e,n,a,i,s)}},formatter:{match:function(n,a,i){return Ty(e,n,a,i)},matchAll:function(n,a){return B4(e,n,a)},matchNode:function(n,a,i,s){return av(e,n,a,i,s)},canApply:function(n){return FC(e,n)},closest:function(n){return BR(e,n)},apply:function(n,a,i){return rE(e,n,a,i)},remove:function(n,a,i,s){return eE(e,n,a,i,s)},toggle:function(n,a,i){return QR(e,n,a,i)},formatChanged:function(n,a,i,s){return ZR(e,n,a,i,s)}},editor:{getContent:function(n,a){return Ar(e,n,a)},setContent:function(n,a){return AR(e,n,a)},insertContent:function(n,a){return zT(e,n,a)},addVisual:function(n){return wP(e,n)}},selection:{getContent:function(n,a){return u3(e,n,a)}},raw:{getModel:function(){return ee.none()}}}},C3=function(e){var n=function(O){return tr(O)?O:{}},a=E("Unimplemented feature for rtc"),i=e.undoManager,s=e.formatter,f=e.editor,g=e.selection,b=e.raw,y=se;return{undoManager:{beforeChange:y,addUndoLevel:a,undo:function(){return i.undo()},redo:function(){return i.redo()},clear:function(){return i.clear()},reset:function(){return i.reset()},hasUndo:function(){return i.hasUndo()},hasRedo:function(){return i.hasRedo()},transact:function(O,P,R){return i.transact(R)},ignore:function(O,P){return i.ignore(P)},extra:function(O,P,R,M){return i.extra(R,M)}},formatter:{match:function(O,P,R){return s.match(O,n(P))},matchAll:a,matchNode:a,canApply:function(O){return s.canApply(O)},closest:function(O){return s.closest(O)},apply:function(O,P,R){return s.apply(O,n(P))},remove:function(O,P,R,M){return s.remove(O,n(P))},toggle:function(O,P,R){return s.toggle(O,n(P))},formatChanged:function(O,P,R,M){return s.formatChanged(P,R,M)}},editor:{getContent:function(O,P){return f.getContent(O)},setContent:function(O,P){return f.setContent(O,P)},insertContent:function(O,P){return f.insertContent(O)},addVisual:y},selection:{getContent:function(O,P){return g.getContent(P)}},raw:{getModel:function(){return ee.some(b.getRawModel())}}}},CP=function(){var e=Ve(null),n=Ve("");return{undoManager:{beforeChange:se,addUndoLevel:e,undo:e,redo:e,clear:se,reset:se,hasUndo:bt,hasRedo:bt,transact:e,ignore:se,extra:se},formatter:{match:bt,matchAll:Ve([]),matchNode:bt,canApply:bt,closest:n,apply:se,remove:se,toggle:se,formatChanged:Ve({unbind:se})},editor:{getContent:n,setContent:n,insertContent:se,addVisual:se},selection:{getContent:n},raw:{getModel:Ve(ee.none())}}},Fo=function(e){return Or(e.plugins,"rtc")},SP=function(e){return Rr(e.plugins,"rtc").bind(function(n){return ee.from(n.setup)})},S3=function(e){var n=e;return SP(e).fold(function(){return n.rtcInstance=My(e),ee.none()},function(a){return ee.some(a().then(function(i){return n.rtcInstance=C3(i),i.rtc.isRemote},function(i){return n.rtcInstance=CP(),Ni.reject(i)}))})},hE=function(e){return e.rtcInstance?e.rtcInstance:My(e)},ji=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},x3=function(e,n,a){ji(e).undoManager.beforeChange(n,a)},xP=function(e,n,a,i,s,f,g){return ji(e).undoManager.addUndoLevel(n,a,i,s,f,g)},pE=function(e,n,a,i){return ji(e).undoManager.undo(n,a,i)},kP=function(e,n,a){return ji(e).undoManager.redo(n,a)},k3=function(e,n,a){ji(e).undoManager.clear(n,a)},TP=function(e,n){ji(e).undoManager.reset(n)},EP=function(e,n,a){return ji(e).undoManager.hasUndo(n,a)},OP=function(e,n,a){return ji(e).undoManager.hasRedo(n,a)},AP=function(e,n,a,i){return ji(e).undoManager.transact(n,a,i)},DP=function(e,n,a){ji(e).undoManager.ignore(n,a)},T3=function(e,n,a,i,s){ji(e).undoManager.extra(n,a,i,s)},_P=function(e,n,a,i){return ji(e).formatter.match(n,a,i)},bE=function(e,n,a){return ji(e).formatter.matchAll(n,a)},E3=function(e,n,a,i,s){return ji(e).formatter.matchNode(n,a,i,s)},O3=function(e,n){return ji(e).formatter.canApply(n)},A3=function(e,n){return ji(e).formatter.closest(n)},D3=function(e,n,a,i){ji(e).formatter.apply(n,a,i)},_3=function(e,n,a,i,s){ji(e).formatter.remove(n,a,i,s)},B3=function(e,n,a,i){ji(e).formatter.toggle(n,a,i)},BP=function(e,n,a,i,s){return s===void 0&&(s=!1),ji(e).formatter.formatChanged(n,a,i,s)},yE=function(e,n,a){return hE(e).editor.getContent(n,a)},RP=function(e,n,a){return hE(e).editor.setContent(n,a)},KC=function(e,n,a){return hE(e).editor.insertContent(n,a)},PP=function(e,n,a){return ji(e).selection.getContent(n,a)},MP=function(e,n){return ji(e).editor.addVisual(n)},R3=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return PP(e,a,n)},wE=function(e){return e.dom.length===0?(ci(e),ee.none()):ee.some(e)},NP=function(e,n){return e.filter(function(a){return id.isBookmarkNode(a.dom)}).bind(n?Bs:Ws)},FP=function(e,n,a,i){var s=e.dom,f=n.dom,g=i?s.length:f.length;i?(Vu(s,f,!1,!i),a.setStart(f,g)):(Vu(f,s,!1,!i),a.setEnd(f,g))},$P=function(e,n){pi(e).each(function(a){var i=e.dom;n&&yy(a,ft(i,0))?Ca(i,0):!n&&wy(a,ft(i,i.length))&&Cy(i,i.length)})},P3=function(e,n,a,i){e.bind(function(s){var f=i?Cy:Ca;return f(s.dom,i?s.dom.length:0),n.filter(hi).map(function(g){return FP(s,g,a,i)})}).orThunk(function(){var s=NP(n,i).or(n).filter(hi);return s.map(function(f){return $P(f,i)})})},IP=function(e,n){var a=ee.from(n.firstChild).map(L.fromDom),i=ee.from(n.lastChild).map(L.fromDom);e.deleteContents(),e.insertNode(n);var s=a.bind(Ws).filter(hi).bind(wE),f=i.bind(Bs).filter(hi).bind(wE);P3(s,a,e,!0),P3(f,i,e,!1),e.collapse(!1)},zP=function(e,n){return Gn(Gn({format:"html"},e),{set:!0,selection:!0,content:n})},LP=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),s=i?{context:i.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,Gn(Gn({isRootContent:!0,forced_root_block:!1},s),n));return u({validate:e.validate},e.schema).serialize(f)}else return n.content},HP=function(e,n,a){a===void 0&&(a={});var i=zP(a,n);if(!i.no_events&&(i=e.fire("BeforeSetContent",i),i.isDefaultPrevented())){e.fire("SetContent",i);return}a.content=LP(e,i);var s=e.selection.getRng();IP(s,s.createContextualFragment(a.content)),e.selection.setRng(s),km(e,s),i.no_events||e.fire("SetContent",i)},M3=function(e,n,a){if(e&&e.hasOwnProperty(n)){var i=on(e[n],function(s){return s!==a});i.length===0?delete e[n]:e[n]=i}};function VP(e,n){var a,i;return{selectorChangedWithUnbind:function(s,f){return a||(a={},i={},n.on("NodeChange",function(g){var b=g.element,y=e.getParents(b,null,e.getRoot()),O={};Q.each(a,function(P,R){Q.each(y,function(M){if(e.is(M,R))return i[R]||(Q.each(P,function(W){W(!0,{node:M,selector:R,parents:y})}),i[R]=P),O[R]=P,!1})}),Q.each(i,function(P,R){O[R]||(delete i[R],Q.each(P,function(M){M(!1,{node:b,selector:R,parents:y})}))})})),a[s]||(a[s]=[]),a[s].push(f),{unbind:function(){M3(a,s,f),M3(i,s,f)}}}}}var N3=function(e){return!!e.select},F3=function(e){return!!(e&&e.ownerDocument)&&ti(L.fromDom(e.ownerDocument),L.fromDom(e))},UP=function(e){return e?N3(e)?!0:F3(e.startContainer)&&F3(e.endContainer):!1},$3=function(e,n,a,i){var s,f,g=VP(e,i).selectorChangedWithUnbind,b=function(It,Fn){var Sa=e.createRng();Gt(It)&&Gt(Fn)?(Sa.setStart(It,Fn),Sa.setEnd(It,Fn),pe(Sa),V(!1)):(hl(e,Sa,i.getBody(),!0),pe(Sa))},y=function(It){return R3(i,It)},O=function(It,Fn){return HP(i,It,Fn)},P=function(It){return cy(i.getBody(),le(),It)},R=function(It){return SC(i.getBody(),le(),It)},M=function(It,Fn){return kn.getBookmark(It,Fn)},W=function(It){return kn.moveToBookmark(It)},K=function(It,Fn){return fy(e,It,Fn).each(pe),It},J=function(){var It=le(),Fn=ge();return!It||It.item?!1:It.compareEndPoints?It.compareEndPoints("StartToEnd",It)===0:!Fn||It.collapsed},V=function(It){var Fn=le();Fn.collapse(!!It),pe(Fn)},ge=function(){return n.getSelection?n.getSelection():n.document.selection},le=function(){var It,Fn,Sa,to=function(Jo,us,Uu){try{return us.compareBoundaryPoints(Jo,Uu)}catch{return-1}},za=n.document;if(i.bookmark!==void 0&&tv(i)===!1){var vi=f1(i);if(vi.isSome())return vi.map(function(Jo){return Dm(i,[Jo])[0]}).getOr(za.createRange())}try{(It=ge())&&!Nl(It.anchorNode)&&(It.rangeCount>0?Fn=It.getRangeAt(0):Fn=It.createRange?It.createRange():za.createRange(),Fn=Dm(i,[Fn])[0])}catch{}return Fn||(Fn=za.createRange?za.createRange():za.body.createTextRange()),Fn.setStart&&Fn.startContainer.nodeType===9&&Fn.collapsed&&(Sa=e.getRoot(),Fn.setStart(Sa,0),Fn.setEnd(Sa,0)),s&&f&&(to(Fn.START_TO_START,Fn,s)===0&&to(Fn.END_TO_END,Fn,s)===0?Fn=f:(s=null,f=null)),Fn},pe=function(It,Fn){var Sa;if(!!UP(It)){var to=N3(It)?It:null;if(to){f=null;try{to.select()}catch{}return}var za=ge(),vi=i.fire("SetSelectionRange",{range:It,forward:Fn});if(It=vi.range,za){f=It;try{za.removeAllRanges(),za.addRange(It)}catch{}Fn===!1&&za.extend&&(za.collapse(It.endContainer,It.endOffset),za.extend(It.startContainer,It.startOffset)),s=za.rangeCount>0?za.getRangeAt(0):null}!It.collapsed&&It.startContainer===It.endContainer&&za.setBaseAndExtent&&!Mr.ie&&It.endOffset-It.startOffset<2&&It.startContainer.hasChildNodes()&&(Sa=It.startContainer.childNodes[It.startOffset],Sa&&Sa.tagName==="IMG"&&(za.setBaseAndExtent(It.startContainer,It.startOffset,It.endContainer,It.endOffset),(za.anchorNode!==It.startContainer||za.focusNode!==It.endContainer)&&za.setBaseAndExtent(Sa,0,Sa,1))),i.fire("AfterSetSelectionRange",{range:It,forward:Fn})}},we=function(It){return O(e.getOuterHTML(It)),It},Ne=function(){return xC(i.getBody(),le())},gt=function(It,Fn){return Am(e,le(),It,Fn)},Xt=function(){var It=ge(),Fn=It==null?void 0:It.anchorNode,Sa=It==null?void 0:It.focusNode;if(!It||!Fn||!Sa||Nl(Fn)||Nl(Sa))return!0;var to=e.createRng();to.setStart(Fn,It.anchorOffset),to.collapse(!0);var za=e.createRng();return za.setStart(Sa,It.focusOffset),za.collapse(!0),to.compareBoundaryPoints(to.START_TO_START,za)<=0},en=function(){var It=le(),Fn=ge();if(!_k(Fn)&&Jp(i)){var Sa=Yf(e,It);return Sa.each(function(to){pe(to,Xt())}),Sa.getOr(It)}return It},Vn=function(It,Fn){return g(It,Fn),rn},Yn=function(){for(var It,Fn=e.getRoot();Fn&&Fn.nodeName!=="BODY";){if(Fn.scrollHeight>Fn.clientHeight){It=Fn;break}Fn=Fn.parentNode}return It},Nt=function(It,Fn){return ey(i,It,Fn)},Dr=function(It,Fn){return pe(tf(It,Fn,i.getDoc()))},gn=function(){var It=le();return It.collapsed?ft.fromRangeStart(It).getClientRects()[0]:It.getBoundingClientRect()},Un=function(){n=s=f=null,In.destroy()},rn={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:V,setCursorLocation:b,getContent:y,setContent:O,getBookmark:M,moveToBookmark:W,select:K,isCollapsed:J,isForward:Xt,setNode:we,getNode:Ne,getSel:ge,setRng:pe,getRng:le,getStart:P,getEnd:R,getSelectedBlocks:gt,normalize:en,selectorChanged:Vn,selectorChangedWithUnbind:g,getScrollContainer:Yn,scrollIntoView:Nt,placeCaretAt:Dr,getBoundingClientRect:gn,destroy:Un},kn=id(rn),In=Jg(rn,i);return rn.bookmarkManager=kn,rn.controlSelection=In,rn},I3=function(e,n){ke(n,function(a){e.attr(a,null)})},WP=function(e,n,a){e.addNodeFilter("font",function(i){ke(i,function(s){var f=n.parse(s.attr("style")),g=s.attr("color"),b=s.attr("face"),y=s.attr("size");g&&(f.color=g),b&&(f["font-family"]=b),y&&(f["font-size"]=a[parseInt(s.attr("size"),10)-1]),s.name="span",s.attr("style",n.serialize(f)),I3(s,["color","face","size"])})})},jP=function(e,n){e.addNodeFilter("strike",function(a){ke(a,function(i){var s=n.parse(i.attr("style"));s["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(s))})})},qP=function(e,n){var a=Av();n.convert_fonts_to_spans&&WP(e,a,Q.explode(n.font_size_legacy_values)),jP(e,a)},GP=function(e,n){n.inline_styles&&qP(e,n)},KP=function(e){return new Ni(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="blob",s.onload=function(){s.status===200?n(s.response):i()},s.onerror=i,s.send()}catch{i()}})},Ch=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},z3=function(e,n){var a;try{a=atob(n)}catch{return ee.none()}for(var i=new Uint8Array(a.length),s=0;s<i.length;s++)i[s]=a.charCodeAt(s);return ee.some(new Blob([i],{type:e}))},XP=function(e){return new Ni(function(n){var a=Ch(e),i=a.type,s=a.data;z3(i,s).fold(function(){return n(new Blob([]))},n)})},CE=function(e){return e.indexOf("blob:")===0?KP(e):e.indexOf("data:")===0?XP(e):null},L3=function(e){return new Ni(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},YP=0,SE=function(e){return(e||"blobid")+YP++},JP=function(e,n,a,i){var s,f;if(n.src.indexOf("blob:")===0){f=e.getByUri(n.src),f?a({image:n,blobInfo:f}):CE(n.src).then(function(O){L3(O).then(function(P){s=Ch(P).data,f=e.create(SE(),O,s),e.add(f),a({image:n,blobInfo:f})})},function(O){i(O)});return}var g=Ch(n.src),b=g.data,y=g.type;s=b,f=e.getByData(s,y),f?a({image:n,blobInfo:f}):CE(n.src).then(function(O){f=e.create(SE(),O,s),e.add(f),a({image:n,blobInfo:f})},function(O){i(O)})},H3=function(e){return e?qr(e.getElementsByTagName("img")):[]},kl=function(e,n){var a={},i=function(s,f){f||(f=or);var g=on(H3(s),function(y){var O=y.src;return!Mr.fileApi||y.hasAttribute("data-mce-bogus")||y.hasAttribute("data-mce-placeholder")||!O||O===Mr.transparentSrc?!1:O.indexOf("blob:")===0?!e.isUploaded(O)&&f(y):O.indexOf("data:")===0?f(y):!1}),b=pt(g,function(y){if(a[y.src]!==void 0)return new Ni(function(P){a[y.src].then(function(R){if(typeof R=="string")return R;P({image:y,blobInfo:R.blobInfo})})});var O=new Ni(function(P,R){JP(n,y,P,R)}).then(function(P){return delete a[P.image.src],P}).catch(function(P){return delete a[y.src],P});return a[y.src]=O,O});return Ni.all(b)};return{findAll:i}},Ny=function(e,n,a,i){var s=e.padd_empty_with_br||n.insert;s&&a[i.name]?i.empty().append(new nc("br",1)).shortEnded=!0:i.empty().append(new nc("#text",3)).value=Fi},V3=function(e){return B1(e,"#text")&&e.firstChild.value===Fi},B1=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},U3=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},R1=function(e,n,a,i){return i.isEmpty(n,a,function(s){return U3(e,s)})},ZP=function(e,n){return e&&(n[e.name]||e.name==="br")},W3=function(e){return e.attr("data-mce-bogus")},QP=function(e){return e.attr("src")===Mr.transparentSrc||e.attr("data-mce-placeholder")},e5=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),Gr(e.attributes.map,function(i,s){a.setAttribute(s,i)}),n.images_dataimg_filter(a)}else return!0},t5=function(e,n){var a=n.blob_cache,i=function(s){var f=s.attr("src");QP(s)||W3(s)||g1(f).filter(function(){return e5(s,n)}).bind(function(g){var b=g.type,y=g.data;return ee.from(a.getByData(y,b)).orThunk(function(){return z3(b,y).map(function(O){var P=a.create(SE(),O,y);return a.add(P),P})})}).each(function(g){s.attr("src",g.blobUri())})};a&&e.addAttributeFilter("src",function(s){return ke(s,i)})},j3=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,s,f){var g,b=i.length,y,O=Q.extend({},a.getBlockElements()),P=a.getNonEmptyElements(),R,M,W,K,J=a.getWhiteSpaceElements(),V,ge;for(O.body=1,g=0;g<b;g++)if(y=i[g],R=y.parent,O[y.parent.name]&&y===R.lastChild){for(W=y.prev;W;){if(K=W.name,K!=="span"||W.attr("data-mce-type")!=="bookmark"){K==="br"&&(y=null);break}W=W.prev}y&&(y.remove(),R1(a,P,J,R)&&(V=a.getElementRule(R.name),V&&(V.removeEmpty?R.remove():V.paddEmpty&&Ny(n,f,O,R))))}else{for(M=y;R&&R.firstChild===M&&R.lastChild===M&&(M=R,!O[R.name]);)R=R.parent;M===R&&n.padd_empty_with_br!==!0&&(ge=new nc("#text",3),ge.value=Fi,y.replace(ge))}}),e.addAttributeFilter("href",function(i){var s=i.length,f=function(y){var O=y.split(" ").filter(function(P){return P.length>0});return O.concat(["noopener"]).sort().join(" ")},g=function(y){var O=y?Q.trim(y):"";return/\b(noopener)\b/g.test(O)?O:f(O)};if(!n.allow_unsafe_link_target)for(;s--;){var b=i[s];b.name==="a"&&b.attr("target")==="_blank"&&b.attr("rel",g(b.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var s=i.length,f,g,b,y;s--;)if(y=i[s],y.name==="a"&&y.firstChild&&!y.attr("href")){b=y.parent,f=y.lastChild;do g=f.prev,b.insert(f,y),f=g;while(f)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var s=i.length,f,g;s--;)if(f=i[s],g=f.parent,g.name==="ul"||g.name==="ol")if(f.prev&&f.prev.name==="li")f.prev.append(f);else{var b=new nc("li",1);b.attr("style","list-style-type: none"),f.wrap(b)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var s=i.length,f,g,b,y,O,P=a.getValidClasses(),R,M;s--;){for(f=i[s],g=f.attr("class").split(" "),O="",b=0;b<g.length;b++)y=g[b],M=!1,R=P["*"],R&&R[y]&&(M=!0),R=P[f.name],!M&&R&&R[y]&&(M=!0),M&&(O&&(O+=" "),O+=y);O.length||(O=null),f.attr("class",O)}}),t5(e,n)},q3=Q.makeMap,G3=Q.each,K3=Q.explode,n5=Q.extend,XC=function(e,n){n===void 0&&(n=Wl());var a={},i=[],s={},f={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var g=function(K){var J,V,ge,le,pe,we,Ne,gt,Xt,en,Vn,Yn=q3("tr,td,th,tbody,thead,tfoot,table"),Nt=n.getNonEmptyElements(),Dr=n.getWhiteSpaceElements(),gn=n.getTextBlockElements(),Un=n.getSpecialElements();for(J=0;J<K.length;J++)if(V=K[J],!(!V.parent||V.fixed)){if(gn[V.name]&&V.parent.name==="li"){for(en=V.next;en&&gn[en.name];){en.name="li",en.fixed=!0,V.parent.insert(en,V.parent);en=en.next}V.unwrap(V);continue}for(le=[V],ge=V.parent;ge&&!n.isValidChild(ge.name,V.name)&&!Yn[ge.name];ge=ge.parent)le.push(ge);if(ge&&le.length>1){for(le.reverse(),pe=we=b(le[0].clone()),Xt=0;Xt<le.length-1;Xt++){for(n.isValidChild(we.name,le[Xt].name)?(Ne=b(le[Xt].clone()),we.append(Ne)):Ne=we,gt=le[Xt].firstChild;gt&&gt!==le[Xt+1];)Vn=gt.next,Ne.append(gt),gt=Vn;we=Ne}R1(n,Nt,Dr,pe)?ge.insert(V,le[0],!0):(ge.insert(pe,le[0],!0),ge.insert(V,pe)),ge=le[0],(R1(n,Nt,Dr,ge)||B1(ge,"br"))&&ge.empty().remove()}else if(V.parent){if(V.name==="li"){if(en=V.prev,en&&(en.name==="ul"||en.name==="ol")){en.append(V);continue}if(en=V.next,en&&(en.name==="ul"||en.name==="ol")){en.insert(V,en.firstChild,!0);continue}V.wrap(b(new nc("ul",1)));continue}n.isValidChild(V.parent.name,"div")&&n.isValidChild("div",V.name)?V.wrap(b(new nc("div",1))):Un[V.name]?V.empty().remove():V.unwrap()}}},b=function(K){var J,V,ge;for(V=K.name,(V in a)&&(ge=s[V],ge?ge.push(K):s[V]=[K]),J=i.length;J--;)V=i[J].name,V in K.attributes.map&&(ge=f[V],ge?ge.push(K):f[V]=[K]);return K},y=function(K,J){G3(K3(K),function(V){var ge=a[V];ge||(a[V]=ge=[]),ge.push(J)})},O=function(){var K=[];for(var J in a)a.hasOwnProperty(J)&&K.push({name:J,callbacks:a[J]});return K},P=function(K,J){G3(K3(K),function(V){var ge;for(ge=0;ge<i.length;ge++)if(i[ge].name===V){i[ge].callbacks.push(J);return}i.push({name:V,callbacks:[J]})})},R=function(){return[].concat(i)},M=function(K,J){var V,ge,le,pe,we,Ne,gt,Xt=[],en,Vn,Yn=function(at){return at===!1?"":at===!0?"p":at};J=J||{},s={},f={};var Nt=n5(q3("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Dr=n.getNonEmptyElements(),gn=n.children,Un=e.validate,rn="forced_root_block"in J?J.forced_root_block:e.forced_root_block,kn=Yn(rn),In=n.getWhiteSpaceElements(),It=/^[ \t\r\n]+/,Fn=/[ \t\r\n]+$/,Sa=/[ \t\r\n]+/g,to=/^[ \t\r\n]+$/;en=In.hasOwnProperty(J.context)||In.hasOwnProperty(e.root_name);var za=function(){var at=Bt.firstChild,kt,rt,Tn=function(An){An&&(at=An.firstChild,at&&at.type===3&&(at.value=at.value.replace(It,"")),at=An.lastChild,at&&at.type===3&&(at.value=at.value.replace(Fn,"")))};if(!!n.isValidChild(Bt.name,kn.toLowerCase())){for(;at;)kt=at.next,at.type===3||at.type===1&&at.name!=="p"&&!Nt[at.name]&&!at.attr("data-mce-type")?(rt||(rt=vi(kn,1),rt.attr(e.forced_root_block_attrs),Bt.insert(rt,at)),rt.append(at)):(Tn(rt),rt=null),at=kt;Tn(rt)}},vi=function(at,kt){var rt=new nc(at,kt),Tn;return at in a&&(Tn=s[at],Tn?Tn.push(rt):s[at]=[rt]),rt},Jo=function(at){var kt,rt,Tn,An,_r=n.getBlockElements();for(kt=at.prev;kt&&kt.type===3;){if(Tn=kt.value.replace(Fn,""),Tn.length>0){kt.value=Tn;return}if(rt=kt.next,rt){if(rt.type===3&&rt.value.length){kt=kt.prev;continue}if(!_r[rt.name]&&rt.name!=="script"&&rt.name!=="style"){kt=kt.prev;continue}}An=kt.prev,kt.remove(),kt=An}},us=function(at){var kt,rt={};for(kt in at)kt!=="li"&&kt!=="p"&&(rt[kt]=at[kt]);return rt},Uu=h1({validate:Un,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:us(n.getSelfClosingElements()),cdata:function(at){Vn.append(vi("#cdata",4)).value=at},text:function(at,kt){var rt;en||(at=at.replace(Sa," "),ZP(Vn.lastChild,Nt)&&(at=at.replace(It,""))),at.length!==0&&(rt=vi("#text",3),rt.raw=!!kt,Vn.append(rt).value=at)},comment:function(at){Vn.append(vi("#comment",8)).value=at},pi:function(at,kt){Vn.append(vi(at,7)).value=kt,Jo(Vn)},doctype:function(at){var kt=Vn.append(vi("#doctype",10));kt.value=at,Jo(Vn)},start:function(at,kt,rt){var Tn,An,_r,ra,yo=Un?n.getElementRule(at):{};if(yo){for(Tn=vi(yo.outputName||at,1),Tn.attributes=kt,Tn.shortEnded=rt,Vn.append(Tn),ra=gn[Vn.name],ra&&gn[Tn.name]&&!ra[Tn.name]&&Xt.push(Tn),An=i.length;An--;)_r=i[An].name,_r in kt.map&&(Ne=f[_r],Ne?Ne.push(Tn):f[_r]=[Tn]);Nt[at]&&Jo(Tn),rt||(Vn=Tn),!en&&In[at]&&(en=!0)}},end:function(at){var kt,rt,Tn,An,_r=Un?n.getElementRule(at):{};if(_r){if(Nt[at]&&!en){if(kt=Vn.firstChild,kt&&kt.type===3)if(rt=kt.value.replace(It,""),rt.length>0)kt.value=rt,kt=kt.next;else for(Tn=kt.next,kt.remove(),kt=Tn;kt&&kt.type===3;)rt=kt.value,Tn=kt.next,(rt.length===0||to.test(rt))&&(kt.remove(),kt=Tn),kt=Tn;if(kt=Vn.lastChild,kt&&kt.type===3)if(rt=kt.value.replace(Fn,""),rt.length>0)kt.value=rt,kt=kt.prev;else for(Tn=kt.prev,kt.remove(),kt=Tn;kt&&kt.type===3;)rt=kt.value,Tn=kt.prev,(rt.length===0||to.test(rt))&&(kt.remove(),kt=Tn),kt=Tn}if(en&&In[at]&&(en=!1),_r.removeEmpty&&R1(n,Dr,In,Vn)){An=Vn.parent,Nt[Vn.name]?Vn.empty().remove():Vn.unwrap(),Vn=An;return}_r.paddEmpty&&(V3(Vn)||R1(n,Dr,In,Vn))&&Ny(e,J,Nt,Vn),Vn=Vn.parent}}},n),Bt=Vn=new nc(J.context||e.root_name,11);if(Uu.parse(K,J.format),Un&&Xt.length&&(J.context?J.invalid=!0:g(Xt)),kn&&(Bt.name==="body"||J.isRootContent)&&za(),!J.invalid){for(gt in s)if(!!s.hasOwnProperty(gt)){for(Ne=a[gt],V=s[gt],pe=V.length;pe--;)V[pe].parent||V.splice(pe,1);for(ge=0,le=Ne.length;ge<le;ge++)Ne[ge](V,gt,J)}for(ge=0,le=i.length;ge<le;ge++)if(Ne=i[ge],Ne.name in f){for(V=f[Ne.name],pe=V.length;pe--;)V[pe].parent||V.splice(pe,1);for(pe=0,we=Ne.callbacks.length;pe<we;pe++)Ne.callbacks[pe](V,Ne.name,J)}}return Bt},W={schema:n,addAttributeFilter:P,getAttributeFilters:R,addNodeFilter:y,getNodeFilters:O,filterNode:b,parse:M};return j3(W,e),GP(W,e),W},r5=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,s){for(var f=i.length,g;f--;)g=i[f],g.attr("tabindex",g.attr("data-mce-tabindex")),g.attr(s,null)}),e.addAttributeFilter("src,href,style",function(i,s){for(var f=i.length,g,b,y="data-mce-"+s,O=n.url_converter,P=n.url_converter_scope;f--;)g=i[f],b=g.attr(y),b!==void 0?(g.attr(s,b.length>0?b:null),g.attr(y,null)):(b=g.attr(s),s==="style"?b=a.serializeStyle(a.parseStyle(b),g.name):O&&(b=O.call(P,b,s,g.name)),g.attr(s,b.length>0?b:null))}),e.addAttributeFilter("class",function(i){for(var s=i.length,f,g;s--;)f=i[s],g=f.attr("class"),g&&(g=f.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",g.length>0?g:null))}),e.addAttributeFilter("data-mce-type",function(i,s,f){for(var g=i.length,b;g--;)if(b=i[g],b.attr("data-mce-type")==="bookmark"&&!f.cleanup){var y=ee.from(b.firstChild).exists(function(O){return!Of(O.value)});y?b.unwrap():b.remove()}}),e.addNodeFilter("noscript",function(i){for(var s=i.length,f;s--;)f=i[s].firstChild,f&&(f.value=gu.decode(f.value))}),e.addNodeFilter("script,style",function(i,s){for(var f=i.length,g,b,y,O=function(P){return P.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};f--;)g=i[f],b=g.firstChild?g.firstChild.value:"",s==="script"?(y=g.attr("type"),y&&g.attr("type",y==="mce-no/type"?null:y.replace(/^mce\-/,"")),n.element_format==="xhtml"&&b.length>0&&(g.firstChild.value=`// <![CDATA[
`+O(b)+`
// ]]>`)):n.element_format==="xhtml"&&b.length>0&&(g.firstChild.value=`<!--
`+O(b)+`
-->`)}),e.addNodeFilter("#comment",function(i){for(var s=i.length,f;s--;)f=i[s],n.preserve_cdata&&f.value.indexOf("[CDATA[")===0?(f.name="#cdata",f.type=4,f.value=a.decode(f.value.replace(/^\[CDATA\[|\]\]$/g,""))):f.value.indexOf("mce:protected ")===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(f.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(i,s){for(var f=i.length,g;f--;)g=i[f],g.type===7?g.remove():g.type===1&&s==="input"&&!g.attr("type")&&g.attr("type","text")}),e.addAttributeFilter("data-mce-type",function(i){ke(i,function(s){s.attr("data-mce-type")==="format-caret"&&(s.isEmpty(e.schema.getNonEmptyElements())?s.remove():s.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,s){for(var f=i.length;f--;)i[f].attr(s,null)})},a5=function(e){var n=function(s){return s&&s.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},Fy=function(e,n,a){var i,s,f=e.dom;n=n.cloneNode(!0);var g=document.implementation;return g.createHTMLDocument&&(i=g.createHTMLDocument(""),Q.each(n.nodeName==="BODY"?n.childNodes:[n],function(b){i.body.appendChild(i.importNode(b,!0))}),n.nodeName!=="BODY"?n=i.body.firstChild:n=i.body,s=f.doc,f.doc=i),Pk(e,Gn(Gn({},a),{node:n})),s&&(f.doc=s),n},X3=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},Y3=function(e,n,a){return X3(e,a)?Fy(e,n,a):n},o5=function(e,n,a){Q.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,s){for(var f=i.length;f--;)i[f].attr(s,null)}),n.push(a))},i5=function(e,n,a){if(!n.no_events&&e){var i=Mk(e,Gn(Gn({},n),{content:a}));return i.content}else return a},u5=function(e,n,a){var i=el(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||mg(L.fromDom(n))?i:Q.trim(i)},J3=function(e,n,a){var i=a.selection?Gn({forced_root_block:!1},a):a,s=e.parse(n,i);return a5(s),s},s5=function(e,n,a){var i=u(e,n);return i.serialize(a)},c5=function(e,n,a,i,s){var f=s5(n,a,i);return i5(e,s,f)},l5=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:eo.DOM,s=n&&n.schema?n.schema:Wl(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var f=XC(e,s);r5(f,e,i);var g=function(b,y){y===void 0&&(y={});var O=Gn({format:"html"},y),P=Y3(n,b,O),R=u5(i,P,O),M=J3(f,R,O);return O.format==="tree"?M:c5(n,e,s,M,O)};return{schema:s,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:g,addRules:function(b){s.addValidElements(b)},setRules:function(b){s.setValidElements(b)},addTempAttr:st(o5,f,a),getTempAttrs:Ve(a),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters}},Z3=function(e,n){var a=l5(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},f5="html",Su=function(e,n){n===void 0&&(n={});var a=n.format?n.format:f5;return yE(e,n,a)},YC=function(e,n,a){return a===void 0&&(a={}),RP(e,n,a)},JC=eo.DOM,v5=function(e){JC.setStyle(e.id,"display",e.orgDisplay)},ZC=function(e){return ee.from(e).each(function(n){return n.destroy()})},d5=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},Ea=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),JC.unbind(n,"submit reset",e.formEventDelegate))},m5=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),s=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&s&&JC.remove(s.nextSibling),V2(e),e.editorManager.remove(e),!e.inline&&i&&v5(e),G0(e),JC.remove(e.getContainer()),ZC(n),ZC(a),e.destroy()}},g5=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),ZC(a),ZC(i)),Ea(e),d5(e),e.destroyed=!0}},h5=Object.prototype.hasOwnProperty,Yo=function(e,n){var a=tr(e)&&tr(n);return a?P1(e,n):n},p5=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},s=0;s<n.length;s++){var f=n[s];for(var g in f)h5.call(f,g)&&(i[g]=e(i[g],f[g]))}return i}},P1=p5(Yo),b5=function(e,n){return{sections:Ve(e),settings:Ve(n)}},xE=Er().deviceType,y5=xE.isTouch(),kE=xE.isPhone(),Pm=xE.isTablet(),rc=["lists","autolink","autosave"],M1={table_grid:!1,object_resizing:!1,resize:!1},uf=function(e){var n=re(e)?e.join(" "):e,a=pt(ct(n)?n.split(" "):[],Ln);return on(a,function(i){return i.length>0})},iv=function(e){return on(e,st(We,rc))},$y=function(e,n){var a=zn(n,function(i,s){return We(e,s)});return b5(a.t,a.f)},TE=function(e,n,a){a===void 0&&(a={});var i=e.sections(),s=i.hasOwnProperty(n)?i[n]:{};return Q.extend({},a,s)},N1=function(e,n){return e.sections().hasOwnProperty(n)},Q3=function(e,n,a){var i=e.sections();return N1(e,n)&&i[n].theme===a},eA=function(e,n){return N1(e,n)?e.sections()[n]:{}},tA=function(e,n){return Rr(e,"toolbar_mode").orThunk(function(){return Rr(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},nA=function(e,n,a,i,s){var f={id:n,theme:"silver",toolbar_mode:tA(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:s.convertURL,url_converter_scope:s};return Gn(Gn({},f),i?M1:{})},rA=function(e,n){var a={resize:!1,toolbar_mode:tA(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return Gn(Gn(Gn({},M1),a),n?i:{})},w5=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?Q.extend({},e.external_plugins,a):a},aA=function(e,n){return[].concat(uf(e)).concat(uf(n))},C5=function(e,n,a,i){return e&&Q3(n,"mobile","mobile")?iv(i):e&&N1(n,"mobile")?i:a},Iy=function(e,n,a,i){var s=uf(a.forced_plugins),f=uf(i.plugins),g=eA(n,"mobile"),b=g.plugins?uf(g.plugins):f,y=C5(e,n,f,b),O=aA(s,y);if(Mr.browser.isIE()&&We(O,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Q.extend(i,{plugins:O.join(" ")})},oA=function(e,n){return e&&N1(n,"mobile")},iA=function(e,n,a,i,s){var f=e?{mobile:rA(s.mobile||{},n)}:{},g=$y(["mobile"],P1(f,s)),b=Q.extend(a,i,g.settings(),oA(e,g)?TE(g,"mobile"):{},{validate:!0,external_plugins:w5(i,g.settings())});return Iy(e,g,i,b)},uA=function(e,n,a,i,s){var f=nA(s,n,a,y5,e);return iA(kE||Pm,kE,f,i,s)},md=function(e,n,a){return ee.from(n.settings[a]).filter(e)},S5=function(e){var n={};return typeof e=="string"?ke(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[Q.trim(i[0])]=Q.trim(i[1]):n[Q.trim(i[0])]=Q.trim(i[0])}):n=e,n},x5=function(e){return function(n){return re(n)&&mt(n,e)}},k5=function(e,n,a,i){var s=n in e.settings?e.settings[n]:a;return i==="hash"?S5(s):i==="string"?md(ct,e,n).getOr(a):i==="number"?md(Vt,e,n).getOr(a):i==="boolean"?md(ar,e,n).getOr(a):i==="object"?md(tr,e,n).getOr(a):i==="array"?md(re,e,n).getOr(a):i==="string[]"?md(x5(ct),e,n).getOr(a):i==="function"?md(Zt,e,n).getOr(a):s},F1=function(){var e={},n=function(s,f){e[s]=f},a=function(s){return e[s]?e[s]:{icons:{}}},i=function(s){return Or(e,s)};return{add:n,get:a,has:i}},QC=F1(),sA=function(e,n){var a=n.dom;return a[e]},ru=function(e,n){return parseInt(Nr(n,e),10)},T5=st(sA,"clientWidth"),cA=st(sA,"clientHeight"),lA=st(ru,"margin-top"),fA=st(ru,"margin-left"),vA=function(e){return e.dom.getBoundingClientRect()},EE=function(e,n,a){var i=T5(e),s=cA(e);return n>=0&&a>=0&&n<=i&&a<=s},E5=function(e,n,a,i){var s=vA(n),f=e?s.left+n.dom.clientLeft+fA(n):0,g=e?s.top+n.dom.clientTop+lA(n):0,b=a-f,y=i-g;return{x:b,y}},dA=function(e,n,a){var i=L.fromDom(e.getBody()),s=e.inline?i:Ti(i),f=E5(e.inline,s,n,a);return EE(s,f.x,f.y)},O5=function(e){return ee.from(e).map(L.fromDom)},A5=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return O5(n).map(hc).getOr(!1)},D5=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},sf=function(e){var n=[],a=function(){var M=e.theme;return M&&M.getNotificationManagerImpl?M.getNotificationManagerImpl():D5()},i=function(){return ee.from(n[0])},s=function(M,W){return M.type===W.type&&M.text===W.text&&!M.progressBar&&!M.timeout&&!W.progressBar&&!W.timeout},f=function(){n.length>0&&a().reposition(n)},g=function(M){n.push(M)},b=function(M){xn(n,function(W){return W===M}).each(function(W){n.splice(W,1)})},y=function(M,W){if(W===void 0&&(W=!0),!(e.removed||!A5(e)))return W&&e.fire("BeforeOpenNotification",{notification:M}),Ut(n,function(K){return s(a().getArgs(K),M)}).getOrThunk(function(){e.editorManager.setActive(e);var K=a().open(M,function(){b(K),f(),i().fold(function(){return e.focus()},function(J){return qk(L.fromDom(J.getEl()))})});return g(K),f(),e.fire("OpenNotification",{notification:Gn({},K)}),K})},O=function(){i().each(function(M){a().close(M),b(M),f()})},P=function(){return n},R=function(M){M.on("SkinLoaded",function(){var W=ak(M);W&&y({text:W,type:"warning",timeout:0},!1)}),M.on("ResizeEditor ResizeWindow NodeChange",function(){Hn.requestAnimationFrame(f)}),M.on("remove",function(){ke(n.slice(),function(W){a().close(W)})})};return R(e),{open:y,close:O,getNotifications:P}},cf=Qu.PluginManager,Mm=Qu.ThemeManager;function _5(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var mA=function(e){var n=[],a=function(){var J=e.theme;return J&&J.getWindowManagerImpl?J.getWindowManagerImpl():_5()},i=function(J,V){return function(){for(var ge=[],le=0;le<arguments.length;le++)ge[le]=arguments[le];return V?V.apply(J,ge):void 0}},s=function(J){e.fire("OpenWindow",{dialog:J})},f=function(J){e.fire("CloseWindow",{dialog:J})},g=function(J){n.push(J),s(J)},b=function(J){f(J),n=on(n,function(V){return V!==J}),n.length===0&&e.focus()},y=function(){return ee.from(n[n.length-1])},O=function(J){e.editorManager.setActive(e),c1(e);var V=J();return g(V),V},P=function(J,V){return O(function(){return a().open(J,V,b)})},R=function(J){return O(function(){return a().openUrl(J,b)})},M=function(J,V,ge){var le=a();le.alert(J,i(ge||le,V))},W=function(J,V,ge){var le=a();le.confirm(J,i(ge||le,V))},K=function(){y().each(function(J){a().close(J),b(J)})};return e.on("remove",function(){ke(n,function(J){a().close(J)})}),{open:P,openUrl:R,alert:M,confirm:W,close:K}},gA=function(e,n){e.notificationManager.open({type:"error",text:n})},$o=function(e,n){e._skinLoaded?gA(e,n):e.on("SkinLoaded",function(){gA(e,n)})},hA=function(e,n){$o(e,$s.translate(["Failed to upload image: {0}",n]))},eS=function(e,n,a){q2(e,n,{message:a}),console.error(a)},Ic=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},tS=function(e,n,a){eS(e,"PluginLoadError",Ic("plugin",n,a))},B5=function(e,n,a){eS(e,"IconsLoadError",Ic("icons",n,a))},R5=function(e,n,a){eS(e,"LanguageLoadError",Ic("language",n,a))},OE=function(e,n,a){var i=$s.translate(["Failed to initialize plugin: {0}",n]);q2(e,"PluginLoadError",{message:i}),nS(i,a),$o(e,i)},nS=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,_o([e],n)):i.log.apply(i,_o([e],n)))},$1=function(e){return/^[a-z0-9\-]+$/i.test(e)},P5=function(e){return AE(e,f2(e))},pA=function(e){return AE(e,v0(e))},AE=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,s="content"+i+".css",f=e.inline===!0;return pt(n,function(g){return $1(g)&&!f?a+"/"+g+"/"+s:e.documentBaseURI.toAbsolute(g)})},DE=function(e){e.contentCSS=e.contentCSS.concat(P5(e),pA(e))},_E=function(){var e=1,n=2,a={},i=function(M,W){return{status:M,resultUri:W}},s=function(M){return M in a},f=function(M){var W=a[M];return W?W.resultUri:null},g=function(M){return s(M)?a[M].status===e:!1},b=function(M){return s(M)?a[M].status===n:!1},y=function(M){a[M]=i(e,null)},O=function(M,W){a[M]=i(n,W)},P=function(M){delete a[M]},R=function(){a={}};return{hasBlobUri:s,getResultUri:f,isPending:g,isUploaded:b,markPending:y,markUploaded:O,removeFailed:P,destroy:R}},BE=0,M5=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},bA=function(e){return e+BE+++M5()},N5=function(){var e=[],n=function(R){var M={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return M[R.toLowerCase()]||"dat"},a=function(R,M,W,K,J){if(ct(R)){var V=R;return i({id:V,name:K,filename:J,blob:M,base64:W})}else{if(tr(R))return i(R);throw new Error("Unknown input type")}},i=function(R){if(!R.blob||!R.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var M=R.id||bA("blobid"),W=R.name||M,K=R.blob;return{id:Ve(M),name:Ve(W),filename:Ve(R.filename||W+"."+n(K.type)),blob:Ve(K),base64:Ve(R.base64),blobUri:Ve(R.blobUri||URL.createObjectURL(K)),uri:Ve(R.uri)}},s=function(R){g(R.id())||e.push(R)},f=function(R){return Ut(e,R).getOrUndefined()},g=function(R){return f(function(M){return M.id()===R})},b=function(R){return f(function(M){return M.blobUri()===R})},y=function(R,M){return f(function(W){return W.base64()===R&&W.blob().type===M})},O=function(R){e=on(e,function(M){return M.blobUri()===R?(URL.revokeObjectURL(M.blobUri()),!1):!0})},P=function(){ke(e,function(R){URL.revokeObjectURL(R.blobUri())}),e=[]};return{create:a,add:s,get:g,getByUri:b,getByData:y,findFirst:f,removeByUri:O,destroy:P}},Tl=function(e,n){var a={},i=function(K,J){return K?K.replace(/\/$/,"")+"/"+J.replace(/^\//,""):J},s=function(K,J,V,ge){var le=new XMLHttpRequest;le.open("POST",n.url),le.withCredentials=n.credentials,le.upload.onprogress=function(we){ge(we.loaded/we.total*100)},le.onerror=function(){V("Image upload failed due to a XHR Transport error. Code: "+le.status)},le.onload=function(){if(le.status<200||le.status>=300){V("HTTP Error: "+le.status);return}var we=JSON.parse(le.responseText);if(!we||typeof we.location!="string"){V("Invalid JSON: "+le.responseText);return}J(i(n.basePath,we.location))};var pe=new FormData;pe.append("file",K.blob(),K.filename()),le.send(pe)},f=function(){return new Ni(function(K){K([])})},g=function(K,J){return{url:J,blobInfo:K,status:!0}},b=function(K,J,V){return{url:"",blobInfo:K,status:!1,error:{message:J,options:V}}},y=function(K,J){Q.each(a[K],function(V){V(J)}),delete a[K]},O=function(K,J,V){return e.markPending(K.blobUri()),new Ni(function(ge){var le,pe;try{var we=function(){le&&(le.close(),pe=se)},Ne=function(Xt){we(),e.markUploaded(K.blobUri(),Xt),y(K.blobUri(),g(K,Xt)),ge(g(K,Xt))},gt=function(Xt,en){var Vn=en||{};we(),e.removeFailed(K.blobUri()),y(K.blobUri(),b(K,Xt,Vn)),ge(b(K,Xt,Vn))};pe=function(Xt){Xt<0||Xt>100||ee.from(le).orThunk(function(){return ee.from(V).map(yt)}).each(function(en){le=en,en.progressBar.value(Xt)})},J(K,Ne,gt,pe)}catch(Xt){ge(b(K,Xt.message,{}))}})},P=function(K){return K===s},R=function(K){var J=K.blobUri();return new Ni(function(V){a[J]=a[J]||[],a[J].push(V)})},M=function(K,J){return K=Q.grep(K,function(V){return!e.isUploaded(V.blobUri())}),Ni.all(Q.map(K,function(V){return e.isPending(V.blobUri())?R(V):O(V,n.handler,J)}))},W=function(K,J){return!n.url&&P(n.handler)?f():M(K,J)};return Zt(n.handler)===!1&&(n.handler=s),{upload:W}},yA=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},wA=function(e,n){return Tl(n,{url:l0(e),basePath:$g(e),credentials:Qx(e),handler:ek(e)})},F5=function(e){var n=_E(),a=wA(e,n);return{upload:function(i,s){return s===void 0&&(s=!0),a.upload(i,s?yA(e):void 0)}}},zy=function(e){var n=No(null);e.on("change AddUndo",function(i){n.set(Gn({},i.level))});var a=function(){var i=e.undoManager.data;Br(i).filter(function(s){return!wh(n.get(),s)}).each(function(s){e.setDirty(!0),e.fire("change",{level:s,lastLevel:Cr(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},$5=function(e){var n=N5(),a,i,s=_E(),f=[],g=zy(e),b=function(we){return function(Ne){return e.selection?we(Ne):[]}},y=function(we){return we+(we.indexOf("?")===-1?"?":"&")+new Date().getTime()},O=function(we,Ne,gt){var Xt=0;do Xt=we.indexOf(Ne,Xt),Xt!==-1&&(we=we.substring(0,Xt)+gt+we.substr(Xt+Ne.length),Xt+=gt.length-Ne.length+1);while(Xt!==-1);return we},P=function(we,Ne,gt){var Xt='src="'+gt+'"'+(gt===Mr.transparentSrc?' data-mce-placeholder="1"':"");return we=O(we,'src="'+Ne+'"',Xt),we=O(we,'data-mce-src="'+Ne+'"','data-mce-src="'+gt+'"'),we},R=function(we,Ne){ke(e.undoManager.data,function(gt){gt.type==="fragmented"?gt.fragments=pt(gt.fragments,function(Xt){return P(Xt,we,Ne)}):gt.content=P(gt.content,we,Ne)})},M=function(we,Ne){var gt=e.convertURL(Ne,"src");R(we.src,Ne),e.$(we).attr({src:u2(e)?y(Ne):Ne,"data-mce-src":gt})},W=function(we){return a||(a=wA(e,s)),ge().then(b(function(Ne){var gt=pt(Ne,function(Xt){return Xt.blobInfo});return a.upload(gt,yA(e)).then(b(function(Xt){var en=[],Vn=pt(Xt,function(Yn,Nt){var Dr=Ne[Nt].blobInfo,gn=Ne[Nt].image;return Yn.status&&Zx(e)?(n.removeByUri(gn.src),M(gn,Yn.url)):Yn.error&&(Yn.error.options.remove&&(R(gn.getAttribute("src"),Mr.transparentSrc),en.push(gn)),hA(e,Yn.error.message)),{element:gn,status:Yn.status,uploadUri:Yn.url,blobInfo:Dr}});return Vn.length>0&&g.fireIfChanged(),en.length>0&&(Fo(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){ke(en,function(Yn){e.dom.remove(Yn),n.removeByUri(Yn.src)})})),we&&we(Vn),Vn}))}))},K=function(we){if(i2(e))return W(we)},J=function(we){if(mt(f,function(gt){return gt(we)})===!1)return!1;if(we.getAttribute("src").indexOf("data:")===0){var Ne=Fg(e);return Ne(we)}return!0},V=function(we){f.push(we)},ge=function(){return i||(i=kl(s,n)),i.findAll(e.getBody(),J).then(b(function(we){return we=on(we,function(Ne){return typeof Ne=="string"?($o(e,Ne),!1):!0}),ke(we,function(Ne){R(Ne.image.src,Ne.blobInfo.blobUri()),Ne.image.src=Ne.blobInfo.blobUri(),Ne.image.removeAttribute("data-mce-src")}),we}))},le=function(){n.destroy(),s.destroy(),i=a=null},pe=function(we){return we.replace(/src="(blob:[^"]+)"/g,function(Ne,gt){var Xt=s.getResultUri(gt);if(Xt)return'src="'+Xt+'"';var en=n.getByUri(gt);if(en||(en=Jn(e.editorManager.get(),function(Yn,Nt){return Yn||Nt.editorUpload&&Nt.editorUpload.blobCache.getByUri(gt)},null)),en){var Vn=en.blob();return'src="data:'+Vn.type+";base64,"+en.base64()+'"'}return Ne})};return e.on("SetContent",function(){i2(e)?K():ge()}),e.on("RawSaveContent",function(we){we.content=pe(we.content)}),e.on("GetContent",function(we){we.source_view||we.format==="raw"||we.format==="tree"||(we.content=pe(we.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(we){ke(we,function(Ne){var gt=Ne.attr("src");if(!n.getByUri(gt)){var Xt=s.getResultUri(gt);Xt&&Ne.attr("src",Xt)}})})}),{blobCache:n,addFilter:V,uploadImages:W,uploadImagesAuto:K,scanForImages:ge,destroy:le}},CA=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,s){return Ur(a)&&a.hasAttribute("href")},onformat:function(a,i,s){Q.each(s,function(f,g){e.setAttrib(a,g,f)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Q.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},SA=function(e){var n={},a=function(g){return g?n[g]:n},i=function(g){return Or(n,g)},s=function(g,b){g&&(typeof g!="string"?Q.each(g,function(y,O){s(O,y)}):(re(b)||(b=[b]),Q.each(b,function(y){typeof y.deep=="undefined"&&(y.deep=!y.selector),typeof y.split=="undefined"&&(y.split=!y.selector||y.inline),typeof y.remove=="undefined"&&y.selector&&!y.inline&&(y.remove="none"),y.selector&&y.inline&&(y.mixed=!0,y.block_expand=!0),typeof y.classes=="string"&&(y.classes=y.classes.split(/\s+/))}),n[g]=b))},f=function(g){return g&&n[g]&&delete n[g],n};return s(CA(e.dom)),s(ok(e)),{get:a,has:i,register:s,unregister:f}},Ly=Q.each,as=eo.DOM,xA=function(e,n){var a,i,s,f=n&&n.schema||Wl({}),g=function(P,R){R.classes.length&&as.addClass(P,R.classes.join(" ")),as.setAttribs(P,R.attrs)},b=function(P){i=typeof P=="string"?{name:P,classes:[],attrs:{}}:P;var R=as.create(i.name);return g(R,i),R},y=function(P,R){var M=typeof P!="string"?P.nodeName.toLowerCase():P,W=f.getElementRule(M),K=W&&W.parentsRequired;return K&&K.length?R&&Q.inArray(K,R)!==-1?R:K[0]:!1},O=function(P,R,M){var W,K,J=R.length>0&&R[0],V=J&&J.name,ge=y(P,V);if(ge)V===ge?(K=R[0],R=R.slice(1)):K=ge;else if(J)K=R[0],R=R.slice(1);else if(!M)return P;return K&&(W=b(K),W.appendChild(P)),M&&(W||(W=as.create("div"),W.appendChild(P)),Q.each(M,function(le){var pe=b(le);W.insertBefore(pe,P)})),O(W,R,K&&K.siblings)};return e&&e.length?(i=e[0],a=b(i),s=as.create("div"),s.appendChild(O(a,e.slice(1),i.siblings)),s):""},Nm=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=Q.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,s,f,g,b){switch(s){case"#":a.attrs.id=f;break;case".":a.classes.push(f);break;case":":Q.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(a.attrs[f]=f);break}if(g==="["){var y=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);y&&(a.attrs[y[1]]=y[2])}return""})),a.name=n||"div",a},I5=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Q.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=Q.map(n.split(/(?:~\+|~|\+)/),Nm),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},z5=function(e,n){var a,i,s="",f,g=ik(e);if(g==="")return"";var b=function(R){return R.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var y=Rr(n,"preview");if(y.is(!1))return"";g=y.getOr(g)}a=n.block||n.inline||"span";var O=I5(n.selector);O.length?(O[0].name||(O[0].name=a),a=n.selector,i=xA(O,e)):i=xA([a],e);var P=as.select(a,i)[0]||i.firstChild;return Ly(n.styles,function(R,M){var W=b(R);W&&as.setStyle(P,M,W)}),Ly(n.attributes,function(R,M){var W=b(R);W&&as.setAttrib(P,M,W)}),Ly(n.classes,function(R){var M=b(R);as.hasClass(P,M)||as.addClass(P,M)}),e.fire("PreviewFormats"),as.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),f=as.getStyle(e.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,Ly(g.split(" "),function(R){var M=as.getStyle(P,R,!0);if(!(R==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(M)&&(M=as.getStyle(e.getBody(),R,!0),as.toHex(M).toLowerCase()==="#ffffff"))&&!(R==="color"&&as.toHex(M).toLowerCase()==="#000000")){if(R==="font-size"&&/em|%$/.test(M)){if(f===0)return;var W=parseFloat(M)/(/%$/.test(M)?100:1);M=W*f+"px"}R==="border"&&M&&(s+="padding:0 2px;"),s+=R+":"+M+";"}}),e.fire("AfterPreviewFormats"),as.remove(i),s},L5=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},kA=function(e){var n=SA(e),a=No(null);return L5(e),NR(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,s,f){D3(e,i,s,f)},remove:function(i,s,f,g){_3(e,i,s,f,g)},toggle:function(i,s,f){B3(e,i,s,f)},match:function(i,s,f){return _P(e,i,s,f)},closest:function(i){return A3(e,i)},matchAll:function(i,s){return bE(e,i,s)},matchNode:function(i,s,f,g){return E3(e,i,s,f,g)},canApply:function(i){return O3(e,i)},formatChanged:function(i,s,f){return BP(e,a,i,s,f)},getCssText:st(z5,e)}},H5=function(e,n,a){var i=No(!1),s=function(y){GC(n,!1,a),n.add({},y)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(y){var O=y.command.toLowerCase();O!=="undo"&&O!=="redo"&&O!=="mcerepaint"&&(Rm(n,a),n.beforeChange())}),e.on("ExecCommand",function(y){var O=y.command.toLowerCase();O!=="undo"&&O!=="redo"&&O!=="mcerepaint"&&s(y)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",s),e.on("dragend",s),e.on("keyup",function(y){var O=y.keyCode;y.isDefaultPrevented()||((O>=33&&O<=36||O>=37&&O<=40||O===45||y.ctrlKey)&&(s(),e.nodeChanged()),(O===46||O===8)&&e.nodeChanged(),i.get()&&n.typing&&wh(fE(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(y){var O=y.keyCode;if(!y.isDefaultPrevented()){if(O>=33&&O<=36||O>=37&&O<=40||O===45){n.typing&&s(y);return}var P=y.ctrlKey&&!y.altKey||y.metaKey;(O<16||O>20)&&O!==224&&O!==91&&!n.typing&&!P&&(n.beforeChange(),GC(n,!0,a),n.add({},y),i.set(!0))}}),e.on("mousedown",function(y){n.typing&&s(y)});var f=function(y){return y.inputType==="insertReplacementText"},g=function(y){return y.inputType==="insertText"&&y.data===null},b=function(y){return y.inputType==="insertFromPaste"||y.inputType==="insertFromDrop"};e.on("input",function(y){y.inputType&&(f(y)||g(y)||b(y))&&s(y)}),e.on("AddUndo Undo Redo ClearUndos",function(y){y.isDefaultPrevented()||e.nodeChanged()})},V5=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},TA=function(e){var n=No(ee.none()),a=No(0),i=No(0),s={data:[],typing:!1,beforeChange:function(){x3(e,a,n)},add:function(f,g){return xP(e,s,i,a,n,f,g)},undo:function(){return pE(e,s,a,i)},redo:function(){return kP(e,i,s.data)},clear:function(){k3(e,s,i)},reset:function(){TP(e,s)},hasUndo:function(){return EP(e,s,i)},hasRedo:function(){return OP(e,s,i)},transact:function(f){return AP(e,s,a,f)},ignore:function(f){DP(e,a,f)},extra:function(f,g){T3(e,s,i,f,g)}};return Fo(e)||H5(e,s,a),V5(e),s},U5=[9,27,fr.HOME,fr.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,fr.DOWN,fr.UP,fr.LEFT,fr.RIGHT].concat(Mr.browser.isFirefox()?[224]:[]),EA="data-mce-placeholder",OA=function(e){return e.type==="keydown"||e.type==="keyup"},AA=function(e){var n=e.keyCode;return n===fr.BACKSPACE||n===fr.DELETE},W5=function(e){if(OA(e)){var n=e.keyCode;return!AA(e)&&(fr.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||We(U5,n))}else return!1},Hy=function(e){return OA(e)&&!(AA(e)||e.type==="keyup"&&e.keyCode===229)},j5=function(e,n,a){if(ps(L.fromDom(n),!1)){var i=a==="",s=n.firstElementChild;return s?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(s):a===s.nodeName.toLowerCase():!0}else return!1},RE=function(e){var n=e.dom,a=Oi(e),i=rk(e),s=function(f,g){if(!W5(f)){var b=e.getBody(),y=Hy(f)?!1:j5(n,b,a),O=n.getAttrib(b,EA)!=="";(O!==y||g)&&(n.setAttrib(b,EA,y?i:null),n.setAttrib(b,"aria-placeholder",y?i:null),Ba(e,y),e.on(y?"keydown":"keyup",s),e.off(y?"keyup":"keydown",s))}};i&&e.on("init",function(f){s(f,!0),e.on("change SetContent ExecCommand",s),e.on("paste",function(g){return Hn.setEditorTimeout(e,function(){return s(g)})})})},q5=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,G5=function(e){return q5.test(e)},Sh=function(e,n){return gi(L.fromDom(n),nk(e))},K5=function(e){return eo.DOM.getStyle(e,"direction",!0)==="rtl"||G5(e.textContent)},xh=function(e,n,a){return on(eo.DOM.getParents(a.container(),"*",n),e)},ac=function(e,n,a){var i=xh(e,n,a);return ee.from(i[i.length-1])},rS=function(e,n,a){var i=qf(n,e),s=qf(a,e);return i&&i===s},aS=function(e){return hb(e)||hg(e)},xu=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?Hl(a)?$t(a.nextSibling)?ft(a.nextSibling,0):ft.after(a):hb(n)?ft(a,i+1):n:Hl(a)?$t(a.previousSibling)?ft(a.previousSibling,a.previousSibling.data.length):ft.before(a):hg(n)?ft(a,i-1):n},Fm=st(xu,!0),Vy=st(xu,!1),oS=function(e){return function(n){return oa(e,L.fromDom(n.dom.parentNode))}},Uy=function(e,n){return ti(e,n)?Uh(n,function(a){return Oo(a)||dg(a)},oS(e)):ee.none()},PE=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},iS=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),PE(e))},DA=function(e,n,a){return Ci(Lu(a),Pc(a),function(i,s){var f=xu(!0,i),g=xu(!1,s),b=xu(!1,n);return e?Js(a,b).exists(function(y){return y.isEqual(g)&&n.isEqual(f)}):dl(a,b).exists(function(y){return y.isEqual(f)&&n.isEqual(g)})}).getOr(!0)},_A=function(e,n){return{block:e,position:n}},I1=function(e,n){return{from:e,to:n}},uS=function(e,n){var a=L.fromDom(e),i=L.fromDom(n.container());return Uy(a,i).map(function(s){return _A(s,n)})},BA=function(e){return oa(e.from.block,e.to.block)===!1},RA=function(e){return pi(e.from.block).bind(function(n){return pi(e.to.block).filter(function(a){return oa(n,a)})}).isSome()},sS=function(e){return lo(e.from.block.dom)===!1&&lo(e.to.block.dom)===!1},PA=function(e,n,a){return Go(a.position.getNode())&&ps(a.block)===!1?Qv(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?zs(n,e,i).bind(function(s){return uS(e,s)}):ee.some(a)}).getOr(a):a},MA=function(e,n,a){var i=uS(e,ft.fromRangeStart(a)),s=i.bind(function(f){return zs(n,e,f.position).bind(function(g){return uS(e,g).map(function(b){return PA(e,n,b)})})});return Ci(i,s,I1).filter(function(f){return BA(f)&&RA(f)&&sS(f)})},NA=function(e,n,a){return a.collapsed?MA(e,n,a):ee.none()},FA=function(e){var n=ro(e);return xn(n,Ms).fold(function(){return n},function(a){return n.slice(0,a)})},uv=function(e){var n=FA(e);return ke(n,ci),n},ME=function(e,n){var a=Ra(n,e);return Ut(a.reverse(),function(i){return ps(i)}).each(ci)},$A=function(e){return on(hv(e),function(n){return!ps(n)}).length===0},$m=function(e,n,a,i){if(ps(a))return Hs(a),Lu(a.dom);$A(i)&&ps(n)&&ou(i,L.fromTag("br"));var s=dl(a.dom,ft.before(i.dom));return ke(uv(n),function(f){ou(i,f)}),ME(e,n),s},El=function(e,n,a){if(ps(a))return ci(a),ps(n)&&Hs(n),Lu(n.dom);var i=Pc(a.dom);return ke(uv(n),function(s){Mo(a,s)}),ME(e,n),i},X5=function(e,n){var a=Ra(n,e);return ee.from(a[a.length-1])},Y5=function(e,n){return ti(n,e)?X5(n,e):ee.none()},IA=function(e,n){Qv(e,n.dom).map(function(a){return a.getNode()}).map(L.fromDom).filter(wc).each(ci)},zA=function(e,n,a){return IA(!0,n),IA(!1,a),Y5(n,a).fold(st(El,e,n,a),st($m,e,n,a))},LA=function(e,n,a,i){return n?zA(e,i,a):zA(e,a,i)},cS=function(e,n){var a=L.fromDom(e.getBody()),i=NA(a.dom,n,e.selection.getRng()).bind(function(s){return LA(a,n,s.from.block,s.to.block)});return i.each(function(s){e.selection.setRng(s.toRange())}),i.isSome()},J5=function(e,n){var a=n.getRng();return Ci(Uy(e,L.fromDom(a.startContainer)),Uy(e,L.fromDom(a.endContainer)),function(i,s){return oa(i,s)===!1?(a.deleteContents(),LA(e,!0,i,s).each(function(f){n.setRng(f.toRange())}),!0):!1}).getOr(!1)},HA=function(e,n){var a=L.fromDom(n),i=st(oa,e);return xf(a,hs,i).isSome()},Z5=function(e,n){return HA(e,n.startContainer)||HA(e,n.endContainer)},Q5=function(e,n){var a=dl(e.dom,ft.fromRangeStart(n)).isNone(),i=Js(e.dom,ft.fromRangeEnd(n)).isNone();return!Z5(e,n)&&a&&i},eM=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},tM=function(e){var n=L.fromDom(e.getBody()),a=e.selection.getRng();return Q5(n,a)?eM(e):J5(n,e.selection)},z1=function(e,n){return e.selection.isCollapsed()?!1:tM(e)},NE=Ps,VA=lo,gd=function(e,n,a,i,s){return ee.from(n._selectionOverrides.showCaret(e,a,i,s))},nM=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},kh=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?ee.none():ee.some(nM(n))},FE=function(e,n,a){var i=k0(1,e.getBody(),n),s=ft.fromRangeStart(i),f=s.getNode();if(Kv(f))return gd(1,e,f,!s.isAtEnd(),!1);var g=s.getNode(!0);if(Kv(g))return gd(1,e,g,!1,!1);var b=e.dom.getParent(s.getNode(),function(y){return VA(y)||NE(y)});return Kv(b)?gd(1,e,b,!1,a):ee.none()},Wy=function(e,n,a){return n.collapsed?FE(e,n,a).getOr(n):n},UA=function(e){return $a(e)||Kn(e)},WA=function(e){return Ia(e)||Jr(e)},$E=function(e,n){$t(n)&&n.data.length===0&&e.remove(n)},jA=function(e,n,a,i,s,f){return gd(i,e,f.getNode(!s),s,!0).each(function(g){if(n.collapsed){var b=n.cloneRange();s?b.setEnd(g.startContainer,g.startOffset):b.setStart(g.endContainer,g.endOffset),b.deleteContents()}else n.deleteContents();e.selection.setRng(g)}),$E(e.dom,a),!0},rM=function(e,n){var a=e.selection.getRng();if(!$t(a.commonAncestorContainer))return!1;var i=n?Ai.Forwards:Ai.Backwards,s=Rc(e.getBody()),f=st(Lp,n?s.next:s.prev),g=n?UA:WA,b=sm(i,e.getBody(),a),y=xu(n,f(b));if(!y||!cm(b,y))return!1;if(g(y))return jA(e,a,b.getNode(),i,n,y);var O=f(y);return O&&g(O)&&cm(y,O)?jA(e,a,b.getNode(),i,n,O):!1},zc=function(e,n){return rM(e,n)},Ol=function(e){return hs(L.fromDom(e))||dg(L.fromDom(e))},os=Sf.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),qA=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return Ur(a)&&a.getAttribute("data-mce-caret")===i},lS=function(e,n,a,i){var s=function(f){return yc(L.fromDom(f))&&!Bc(a,i,e)};return zp(!n,a).fold(function(){return zp(n,i).fold(bt,s)},s)},IE=function(e,n,a,i){var s=i.getNode(n===!1);return Uy(L.fromDom(e),L.fromDom(a.getNode())).map(function(f){return ps(f)?os.remove(f.dom):os.moveToElement(s)}).orThunk(function(){return ee.some(os.moveToElement(s))})},zE=function(e,n,a){return zs(n,e,a).bind(function(i){return Ol(i.getNode())||lS(e,n,a,i)?ee.none():n&&lo(i.getNode())||n===!1&&lo(i.getNode(!0))?IE(e,n,a,i):n&&Ia(a)||n===!1&&$a(a)?ee.some(os.moveToPosition(i)):ee.none()})},GA=function(e,n){return e&&lo(n.nextSibling)?ee.some(os.moveToElement(n.nextSibling)):e===!1&&lo(n.previousSibling)?ee.some(os.moveToElement(n.previousSibling)):ee.none()},KA=function(e,n,a){return a.fold(function(i){return ee.some(os.remove(i))},function(i){return ee.some(os.moveToElement(i))},function(i){return Bc(n,i,e)?ee.none():ee.some(os.moveToPosition(i))})},XA=function(e,n,a){return qA(n,a)?GA(n,a.getNode(n===!1)).fold(function(){return zE(e,n,a)},ee.some):zE(e,n,a).bind(function(i){return KA(e,a,i)})},YA=function(e,n,a){var i=k0(n?1:-1,e,a),s=ft.fromRangeStart(i),f=L.fromDom(e);return n===!1&&Ia(s)?ee.some(os.remove(s.getNode(!0))):n&&$a(s)?ee.some(os.remove(s.getNode())):n===!1&&$a(s)&&uh(f,s)?sh(f,s).map(function(g){return os.remove(g.getNode())}):n&&Ia(s)&&y1(f,s)?ch(f,s).map(function(g){return os.remove(g.getNode())}):XA(e,n,s)},fS=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),gh(e,n,L.fromDom(a)),!0}},vS=function(e,n){return function(a){var i=n?ft.before(a):ft.after(a);return e.selection.setRng(i.toRange()),!0}},LE=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},JA=function(e,n){return ee.from(Yg(e.getBody(),n))},aM=function(e,n){var a=e.selection.getNode();return JA(e,a).filter(lo).fold(function(){return YA(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(fS(e,n),vS(e,n),LE(e))})},or)},oM=function(e){ke(oo(e,".mce-offscreen-selection"),ci)},iM=function(e,n){var a=e.selection.getNode();if(lo(a)){var i=JA(e,a.parentNode).filter(lo);return i.fold(function(){return oM(L.fromDom(e.getBody())),gh(e,n,L.fromDom(e.selection.getNode())),iS(e),!0},or)}return!1},HE=function(e){var n=e.dom,a=e.selection,i=Yg(e.getBody(),a.getNode());if(Ps(i)&&n.isBlock(i)&&n.isEmpty(i)){var s=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(s),a.setRng(ft.before(s).toRange())}return!0},dS=function(e,n){return e.selection.isCollapsed()?aM(e,n):iM(e,n)},uM=function(e,n){var a=ft.fromRangeStart(e.selection.getRng());return zs(n,e.getBody(),a).filter(function(i){return n?Qe(i):Mt(i)}).bind(function(i){return ee.from(Ip(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},L1=function(e,n){return e.selection.isCollapsed()?uM(e,n):!1},H1=$t,ZA=function(e){return H1(e)&&e.data[0]===Ao},QA=function(e){return H1(e)&&e.data[e.data.length-1]===Ao},eD=function(e){return e.ownerDocument.createTextNode(Ao)},sM=function(e){if(H1(e.previousSibling))return QA(e.previousSibling)||e.previousSibling.appendData(Ao),e.previousSibling;if(H1(e))return ZA(e)||e.insertData(0,Ao),e;var n=eD(e);return e.parentNode.insertBefore(n,e),n},cM=function(e){if(H1(e.nextSibling))return ZA(e.nextSibling)||e.nextSibling.insertData(0,Ao),e.nextSibling;if(H1(e))return QA(e)||e.appendData(Ao),e;var n=eD(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},mS=function(e,n){return e?sM(n):cM(n)},gS=st(mS,!0),hS=st(mS,!1),pS=function(e,n){return $t(e.container())?mS(n,e.container()):mS(n,e.getNode())},tD=function(e,n){var a=n.get();return a&&e.container()===a&&Hl(a)},VE=function(e,n){return n.fold(function(a){Wf(e.get());var i=gS(a);return e.set(i),ee.some(ft(i,i.length-1))},function(a){return Lu(a).map(function(i){if(tD(i,e))return ft(e.get(),1);Wf(e.get());var s=pS(i,!0);return e.set(s),ft(s,1)})},function(a){return Pc(a).map(function(i){if(tD(i,e))return ft(e.get(),e.get().length-1);Wf(e.get());var s=pS(i,!1);return e.set(s),ft(s,s.length-1)})},function(a){Wf(e.get());var i=hS(a);return e.set(i),ee.some(ft(i,1))})},nD=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return ee.none()},is=Sf.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),UE=function(e,n){var a=qf(n,e);return a||e},lM=function(e,n,a){var i=Fm(a),s=UE(n,i.container());return ac(e,s,i).fold(function(){return Js(s,i).bind(st(ac,e,s)).map(function(f){return is.before(f)})},ee.none)},fM=function(e,n){return ed(e,n)===null},bS=function(e,n,a){return ac(e,n,a).filter(st(fM,n))},vM=function(e,n,a){var i=Vy(a);return bS(e,n,i).bind(function(s){var f=dl(s,i);return f.isNone()?ee.some(is.start(s)):ee.none()})},dM=function(e,n,a){var i=Fm(a);return bS(e,n,i).bind(function(s){var f=Js(s,i);return f.isNone()?ee.some(is.end(s)):ee.none()})},mM=function(e,n,a){var i=Vy(a),s=UE(n,i.container());return ac(e,s,i).fold(function(){return dl(s,i).bind(st(ac,e,s)).map(function(f){return is.after(f)})},ee.none)},rD=function(e){return K5(WE(e))===!1},sv=function(e,n,a){var i=nD([lM,vM,dM,mM],[e,n,a]);return i.filter(rD)},WE=function(e){return e.fold(Ft,Ft,Ft,Ft)},aD=function(e){return e.fold(Ve("before"),Ve("start"),Ve("end"),Ve("after"))},Th=function(e){return e.fold(is.before,is.before,is.after,is.after)},V1=function(e){return e.fold(is.start,is.start,is.end,is.end)},gM=function(e,n){return aD(e)===aD(n)&&WE(e)===WE(n)},hM=function(e,n,a,i,s,f){return Ci(ac(n,a,i),ac(n,a,s),function(g,b){return g!==b&&rS(a,g,b)?is.after(e?g:b):f}).getOr(f)},yS=function(e,n){return e.fold(or,function(a){return!gM(a,n)})},pM=function(e,n,a,i,s){var f=xu(e,s),g=zs(e,a,f).map(st(xu,e)),b=g.fold(function(){return i.map(Th)},function(y){return sv(n,a,y).map(st(hM,e,n,a,f,y)).filter(st(yS,i))});return b.filter(rD)},bM=function(e,n){return e?n.fold(Z(ee.some,is.start),ee.none,Z(ee.some,is.after),ee.none):n.fold(ee.none,Z(ee.some,is.before),ee.none,Z(ee.some,is.end))},jE=function(e,n,a,i){var s=xu(e,i),f=sv(n,a,s);return sv(n,a,s).bind(st(bM,e)).orThunk(function(){return pM(e,n,a,f,i)})};st(jE,!1),st(jE,!0);var yM=function(e){return Zt(e.selection.getSel().modify)},oD=function(e,n,a){var i=e?1:-1;return n.setRng(ft(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},wM=function(e,n){var a=n.selection.getRng(),i=e?ft.fromRangeEnd(a):ft.fromRangeStart(a);return yM(n)?e&&hb(i)?oD(!0,n.selection,i):!e&&hg(i)?oD(!1,n.selection,i):!1:!1},cv;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(cv||(cv={}));var wS=function(e,n){return e===Ai.Backwards?Wt(n):n},CM=function(e,n,a){return e===Ai.Forwards?n.next(a):n.prev(a)},SM=function(e,n,a,i){return Go(i.getNode(n===Ai.Forwards))?cv.Br:Bc(a,i)===!1?cv.Block:cv.Wrap},iD=function(e,n,a,i){for(var s=Rc(a),f=i,g,b=[];f&&(g=CM(n,s,f),!!g);){if(Go(g.getNode(!1)))return n===Ai.Forwards?{positions:wS(n,b).concat([g]),breakType:cv.Br,breakAt:ee.some(g)}:{positions:wS(n,b),breakType:cv.Br,breakAt:ee.some(g)};if(!g.isVisible()){f=g;continue}if(e(f,g)){var y=SM(a,n,f,g);return{positions:wS(n,b),breakType:y,breakAt:ee.some(g)}}b.push(g),f=g}return{positions:wS(n,b),breakType:cv.Eol,breakAt:ee.none()}},uD=function(e,n,a,i){return n(a,i).breakAt.map(function(s){var f=n(a,s).positions;return e===Ai.Backwards?f.concat(s):[s].concat(f)}).getOr([])},oc=function(e,n){return Jn(e,function(a,i){return a.fold(function(){return ee.some(i)},function(s){return Ci(vn(s.getClientRects()),vn(i.getClientRects()),function(f,g){var b=Math.abs(n-f.left),y=Math.abs(n-g.left);return y<=b?i:s}).or(a)})},ee.none())},U1=function(e,n){return vn(n.getClientRects()).bind(function(a){return oc(e,a.left)})},Eh=st(iD,ft.isAbove,-1),jy=st(iD,ft.isBelow,1),sD=function(e,n){return Eh(e,n).breakAt.isNone()},qE=function(e,n){return jy(e,n).breakAt.isNone()},cD=st(uD,-1,Eh),lD=st(uD,1,jy),xM=function(e){return Lu(e).map(function(n){return[n].concat(jy(e,n).positions)}).getOr([])},fD=function(e){return Pc(e).map(function(n){return Eh(e,n).positions.concat(n)}).getOr([])},kM=function(e){var n=function(i){return pt(i,function(s){return s=Do(s),s.node=e,s})};if(Ur(e))return n(e.getClientRects());if($t(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},CS=function(e){return He(e,kM)},Oh;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Oh||(Oh={}));var TM=function(e,n,a,i){for(;i=um(i,e,Af,n);)if(a(i))return},vD=function(e,n,a,i,s,f){var g=0,b=[],y=function(R){var M,W,K;for(K=CS([R]),e===-1&&(K=K.reverse()),M=0;M<K.length;M++)if(W=K[M],!a(W,O)){if(b.length>0&&n(W,so(b))&&g++,W.line=g,s(W))return!0;b.push(W)}},O=so(f.getClientRects());if(!O)return b;var P=f.getNode();return y(P),TM(e,i,y,P),b},W1=function(e,n){return n.line>e},dD=function(e,n){return n.line===e},mD=st(vD,Oh.Up,tu,Lv),gD=st(vD,Oh.Down,Lv,tu),GE=function(e,n,a,i){var s=Rc(n),f,g,b,y,O=[],P=0,R,M=function(K){return so(K.getClientRects())};e===1?(f=s.next,g=Lv,b=tu,y=ft.after(i)):(f=s.prev,g=tu,b=Lv,y=ft.before(i));var W=M(y);do if(!!y.isVisible()&&(R=M(y),!b(R,W))){if(O.length>0&&g(R,so(O))&&P++,R=Do(R),R.position=y,R.line=P,a(R))return O;O.push(R)}while(y=f(y));return O},hD=function(e){return function(n){return W1(e,n)}},KE=function(e){return function(n){return dD(e,n)}},EM=lo,pD=um,XE=function(e,n){return Math.abs(e.left-n)},YE=function(e,n){return Math.abs(e.right-n)},Al=function(e,n){return e>=n.left&&e<=n.right},OM=function(e,n){return e>=n.top&&e<=n.bottom},SS=function(e,n){return Oa(e,function(a,i){var s=Math.min(XE(a,n),YE(a,n)),f=Math.min(XE(i,n),YE(i,n));return Al(n,i)?i:Al(n,a)?a:f===s&&EM(i.node)||f<s?i:a})},bD=function(e,n,a,i,s){var f=pD(i,e,Af,n,!s);do if(!f||a(f))return;while(f=pD(f,e,Af,n))},AM=function(e,n,a){a===void 0&&(a=!0);var i=[],s=function(f,g){var b=on(CS([g]),function(y){return!f(y,n)});return i=i.concat(b),b.length===0};return i.push(n),bD(Oh.Up,e,st(s,tu),n.node,a),bD(Oh.Down,e,st(s,Lv),n.node,a),i},DM=function(e){return on(qr(e.getElementsByTagName("*")),Ss)},_M=function(e,n){return{node:e.node,before:XE(e,n)<YE(e,n)}},BM=function(e,n,a){var i=CS(DM(e)),s=on(i,st(OM,a)),f=SS(s,n);if(f){var g=!Mi(f.node)&&!Xu(f.node);if(f=SS(AM(e,f,g),n),f&&Ss(f.node))return _M(f,n)}return null},ii=function(e,n){e.selection.setRng(n),km(e,e.selection.getRng())},JE=function(e,n,a){return ee.some(Wy(e,n,a))},yD=function(e,n,a,i,s,f){var g=n===Ai.Forwards,b=Rc(e.getBody()),y=st(Lp,g?b.next:b.prev),O=g?i:s;if(!a.collapsed){var P=Yd(a);if(f(P))return gd(n,e,P,n===Ai.Backwards,!1)}var R=sm(n,e.getBody(),a);if(O(R))return kh(e,R.getNode(!g));var M=xu(g,y(R)),W=bb(a);if(!M)return W?ee.some(a):ee.none();if(O(M))return gd(n,e,M.getNode(!g),g,!1);var K=y(M);return K&&O(K)&&cm(M,K)?gd(n,e,K.getNode(!g),g,!1):W?JE(e,M.toRange(),!1):ee.none()},ZE=function(e,n,a,i,s,f){var g=sm(n,e.getBody(),a),b=so(g.getClientRects()),y=n===Oh.Down;if(!b)return ee.none();var O=y?gD:mD,P=O(e.getBody(),hD(1),g),R=on(P,KE(1)),M=b.left,W=SS(R,M);if(W&&f(W.node)){var K=Math.abs(M-W.left),J=Math.abs(M-W.right);return gd(n,e,W.node,K<J,!1)}var V;if(i(g)?V=g.getNode():s(g)?V=g.getNode(!0):V=Yd(a),V){var ge=GE(n,e.getBody(),hD(1),V),le=SS(on(ge,KE(1)),M);if(le||(le=so(on(ge,KE(0))),le))return JE(e,le.position.toRange(),!1)}return R.length===0?qy(e,y).filter(y?s:i).map(function(pe){return Wy(e,pe.toRange(),!1)}):ee.none()},qy=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var s=ft.fromRangeEnd(a),f=jy(i,s);return Br(f.positions)}else{var s=ft.fromRangeStart(a),f=Eh(i,s);return vn(f.positions)}},wD=function(e,n,a){return qy(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},xS=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},CD=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},Im=function(e,n,a){return VE(n,a).map(function(i){return xS(e,i),a})},RM=function(e,n,a){var i=e.getBody(),s=ft.fromRangeStart(e.selection.getRng()),f=st(Sh,e),g=jE(a,f,i,s);return g.bind(function(b){return Im(e,n,b)})},PM=function(e,n,a){var i=pt(oo(L.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(g){return g.dom}),s=on(i,e),f=on(a,e);ke(sn(s,f),st(CD,!1)),ke(sn(f,s),st(CD,!0))},MM=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=ft.fromRangeStart(e.selection.getRng());ft.isTextPosition(a)&&aS(a)===!1&&(xS(e,Mp(n.get(),a)),n.set(null))}},NM=function(e,n,a,i){if(n.selection.isCollapsed()){var s=on(i,e);ke(s,function(f){var g=ft.fromRangeStart(n.selection.getRng());sv(e,n.getBody(),g).bind(function(b){return Im(n,a,b)})})}},kS=function(e,n,a){return fl(e)?RM(e,n,a).isSome():!1},TS=function(e,n,a){return fl(n)?wM(e,n):!1},SD=function(e){var n=No(null),a=st(Sh,e);return e.on("NodeChange",function(i){fl(e)&&!(Mr.browser.isIE()&&i.initial)&&(PM(a,e.dom,i.parents),MM(e,n),NM(a,e,n,i.parents))}),n},xD=st(TS,!0),kD=st(TS,!1),ES=function(e,n,a){if(fl(e)){var i=qy(e,n).getOrThunk(function(){var s=e.selection.getRng();return n?ft.fromRangeEnd(s):ft.fromRangeStart(s)});return sv(st(Sh,e),e.getBody(),i).exists(function(s){var f=Th(s);return VE(a,f).exists(function(g){return xS(e,g),!0})})}else return!1},Gy=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},FM=function(e){return Ci(Lu(e),Pc(e),function(n,a){var i=xu(!0,n),s=xu(!1,a);return Js(e,i).forall(function(f){return f.isEqual(s)})}).getOr(!0)},TD=function(e,n){return function(a){return VE(n,a).exists(function(i){return xS(e,i),!0})}},ED=function(e,n,a,i){var s=e.getBody(),f=st(Sh,e);e.undoManager.ignore(function(){e.selection.setRng(Gy(a,i)),e.execCommand("Delete"),sv(f,s,ft.fromRangeStart(e.selection.getRng())).map(V1).map(TD(e,n))}),e.nodeChanged()},j1=function(e,n){var a=qf(n,e);return a||e},$M=function(e,n,a,i){var s=j1(e.getBody(),i.container()),f=st(Sh,e),g=sv(f,s,i);return g.bind(function(b){return a?b.fold(Ve(ee.some(V1(b))),ee.none,Ve(ee.some(Th(b))),ee.none):b.fold(ee.none,Ve(ee.some(Th(b))),ee.none,Ve(ee.some(V1(b))))}).map(TD(e,n)).getOrThunk(function(){var b=fm(a,s,i),y=b.bind(function(O){return sv(f,s,O)});return Ci(g,y,function(){return ac(f,s,i).exists(function(O){return FM(O)?(gh(e,a,L.fromDom(O)),!0):!1})}).orThunk(function(){return y.bind(function(O){return b.map(function(P){return a?ED(e,n,i,P):ED(e,n,P,i),!0})})}).getOr(!1)})},Dl=function(e,n,a){if(e.selection.isCollapsed()&&fl(e)){var i=ft.fromRangeStart(e.selection.getRng());return $M(e,n,a,i)}return!1},IM=function(e,n){var a=Ra(n,e);return xn(a,Ms).fold(Ve(a),function(i){return a.slice(0,i)})},QE=function(e){return ro(e).length===1},eO=function(e,n,a,i){var s=st($R,n),f=pt(on(i,s),function(b){return b.dom});if(f.length===0)gh(n,e,a);else{var g=FR(a.dom,f);n.selection.setRng(g.toRange())}},zM=function(e,n){var a=L.fromDom(e.getBody()),i=L.fromDom(e.selection.getStart()),s=on(IM(a,i),QE);return Br(s).exists(function(f){var g=ft.fromRangeStart(e.selection.getRng());return DA(n,g,f.dom)&&!IR(f)?(eO(n,e,f,s),!0):!1})},lv=function(e,n){return e.selection.isCollapsed()?zM(e,n):!1},tO=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),gh(e,n,L.fromDom(a)),!0},LM=function(e,n){var a=n?Kn:Jr,i=n?Ai.Forwards:Ai.Backwards,s=sm(i,e.getBody(),e.selection.getRng());return a(s)?tO(e,n,s.getNode(!n)):ee.from(xu(n,s)).filter(function(f){return a(f)&&cm(s,f)}).exists(function(f){return tO(e,n,f.getNode(!n))})},HM=function(e,n){var a=e.selection.getNode();return Xu(a)?tO(e,n,a):!1},Ky=function(e,n){return e.selection.isCollapsed()?LM(e,n):HM(e,n)},VM=function(e){return Uh(e,function(n){return Ps(n.dom)||lo(n.dom)}).exists(function(n){return Ps(n.dom)})},nO=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},OD=function(e,n){var a=e||Ef(n)?"margin":"padding",i=Nr(n,"direction")==="rtl"?"-right":"-left";return a+i},UM=function(e,n,a,i,s,f){var g=OD(a,L.fromDom(f));if(n==="outdent"){var b=Math.max(0,nO(f.style[g])-i);e.setStyle(f,g,b?b+s:"")}else{var b=nO(f.style[g])+i+s;e.setStyle(f,g,b)}},AD=function(e,n){return mt(n,function(a){var i=OD(jv(e),a),s=Wa(a,i).map(nO).getOr(0),f=e.dom.getContentEditable(a.dom);return f!=="false"&&s>0})},DD=function(e){var n=q1(e);return!e.mode.isReadOnly()&&(n.length>1||AD(e,n))},zm=function(e){return Yu(e)||dg(e)},WM=function(e){return pi(e).map(zm).getOr(!1)},q1=function(e){return on(pt(e.selection.getSelectedBlocks(),L.fromDom),function(n){return!zm(n)&&!WM(n)&&VM(n)})},rO=function(e,n){var a=e.dom,i=e.selection,s=e.formatter,f=l2(e),g=/[a-z%]+$/i.exec(f)[0],b=parseInt(f,10),y=jv(e),O=Oi(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&O===""&&!a.getParent(i.getNode(),a.isBlock)&&s.apply("div"),ke(q1(e),function(P){UM(a,n,y,b,g,P.dom)})},OS=function(e,n){if(e.selection.isCollapsed()&&DD(e)){var a=e.dom,i=e.selection.getRng(),s=ft.fromRangeStart(i),f=a.getParent(i.startContainer,a.isBlock);if(f!==null&&af(L.fromDom(f),s))return rO(e,"outdent"),!0}return!1},AS=function(e,n){e.getDoc().execCommand(n,!1,null)},jM=function(e,n){if(!OS(e)){if(dS(e,!1))return;if(zc(e,!1))return;if(Dl(e,n,!1))return;if(cS(e,!1))return;if(x1(e))return;if(L1(e,!1))return;if(Ky(e,!1))return;if(z1(e))return;if(lv(e,!1))return;AS(e,"Delete"),iS(e)}},qM=function(e,n){if(!dS(e,!0)){if(zc(e,!0))return;if(Dl(e,n,!0))return;if(cS(e,!0))return;if(x1(e))return;if(L1(e,!0))return;if(Ky(e,!0))return;if(z1(e))return;if(lv(e,!0))return;AS(e,"ForwardDelete")}},GM=function(e,n){e.addCommand("delete",function(){jM(e,n)}),e.addCommand("forwardDelete",function(){qM(e,n)})},DS=5,KM=400,_D=function(e){return e.touches===void 0||e.touches.length!==1?ee.none():ee.some(e.touches[0])},XM=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>DS||i>DS},YM=function(e){var n=No(ee.none()),a=No(!1),i=zw(function(s){e.fire("longpress",Gn(Gn({},s),{type:"longpress"})),a.set(!0)},KM);e.on("touchstart",function(s){_D(s).each(function(f){i.cancel();var g={x:f.clientX,y:f.clientY,target:s.target};i.throttle(s),a.set(!1),n.set(ee.some(g))})},!0),e.on("touchmove",function(s){i.cancel(),_D(s).each(function(f){n.get().each(function(g){XM(f,g)&&(n.set(ee.none()),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(s){i.cancel(),s.type!=="touchcancel"&&n.get().filter(function(f){return f.target.isEqualNode(s.target)}).each(function(){a.get()?s.preventDefault():e.fire("tap",Gn(Gn({},s),{type:"tap"}))})},!0)},_S=function(e,n){return e.hasOwnProperty(n.nodeName)},JM=function(e,n){return $t(n)?!0:Ur(n)?!_S(e,n)&&!xs(n):!1},ZM=function(e,n,a){return Be(rs(L.fromDom(a),L.fromDom(n)),function(i){return _S(e,i.dom)})},QM=function(e,n){if($t(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||_S(e,n.nextSibling)))return!0}return!1},eN=function(e){var n=e.dom,a=e.selection,i=e.schema,s=i.getBlockElements(),f=a.getStart(),g=e.getBody(),b,y,O,P=Oi(e);if(!(!f||!Ur(f)||!P)){var R=g.nodeName.toLowerCase();if(!(!i.isValidChild(R,P.toLowerCase())||ZM(s,g,f))){var M=a.getRng(),W=M.startContainer,K=M.startOffset,J=M.endContainer,V=M.endOffset,ge=tv(e);for(f=g.firstChild;f;)if(JM(s,f)){if(QM(s,f)){y=f,f=f.nextSibling,n.remove(y);continue}b||(b=n.create(P,rm(e)),f.parentNode.insertBefore(b,f),O=!0),y=f,f=f.nextSibling,b.appendChild(y)}else b=null,f=f.nextSibling;O&&ge&&(M.setStart(W,K),M.setEnd(J,V),a.setRng(M),e.nodeChanged())}}},tN=function(e){Oi(e)&&e.on("NodeChange",st(eN,e))},nN=function(e){return Jc(L.fromDom(e.getBody()),"*[data-mce-caret]").fold(Ve(null),function(n){return n.dom})},rN=function(e){e.selection.setRng(e.selection.getRng())},BD=function(e,n){n.hasAttribute("data-mce-caret")&&(Xh(n),rN(e),e.selection.scrollIntoView(n))},RD=function(e,n){var a=nN(e);if(!!a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),BD(e,a);return}qs(a)&&(BD(e,a),e.undoManager.add())}},aN=function(e){e.on("keyup compositionstart",st(RD,e))},aO=lo,oN=function(e,n,a){return yD(n,e,a,$a,Ia,aO)},iN=function(e,n,a){var i=function(f){return $a(f)||xr(f)},s=function(f){return Ia(f)||ca(f)};return ZE(n,e,a,i,s,aO)},uN=function(e){var n=e.dom.create(Oi(e));return(!Mr.ie||Mr.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},PD=function(e,n,a){var i=Rc(e.getBody()),s=st(Lp,n===1?i.next:i.prev);if(a.collapsed&&h0(e)){var f=e.dom.getParent(a.startContainer,"PRE");if(!f)return;var g=s(ft.fromRangeStart(a));if(!g){var b=uN(e);n===1?e.$(f).after(b):e.$(f).before(b),e.selection.select(b,!0),e.selection.collapse()}}},sN=function(e,n){var a=n?Ai.Forwards:Ai.Backwards,i=e.selection.getRng();return oN(a,e,i).orThunk(function(){return PD(e,a,i),ee.none()})},cN=function(e,n){var a=n?1:-1,i=e.selection.getRng();return iN(a,e,i).orThunk(function(){return PD(e,a,i),ee.none()})},MD=function(e,n){return sN(e,n).exists(function(a){return ii(e,a),!0})},ND=function(e,n){return cN(e,n).exists(function(a){return ii(e,a),!0})},FD=function(e,n){var a=n?Ia:$a;return wD(e,n,a)},lN=function(e){return We(["figcaption"],ni(e))},$D=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},ID=function(e,n,a){a?Mo(e,n):Sd(e,n)},fN=function(e,n){var a=L.fromTag("br");return ID(e,a,n),$D(a)},zD=function(e,n,a,i){var s=L.fromTag(a),f=L.fromTag("br");return T(s,i),Mo(s,f),ID(e,s,n),$D(f)},vN=function(e,n,a,i){return n===""?fN(e,i):zD(e,i,n,a)},dN=function(e,n){var a=st(oa,n);return Uh(L.fromDom(e.container()),Ms,a).filter(lN)},LD=function(e,n,a){return n?qE(e.dom,a):sD(e.dom,a)},HD=function(e,n){var a=L.fromDom(e.getBody()),i=ft.fromRangeStart(e.selection.getRng()),s=Oi(e),f=rm(e);return dN(i,a).exists(function(){if(LD(a,n,i)){var g=vN(a,s,f,n);return e.selection.setRng(g),!0}else return!1})},Xy=function(e,n){return e.selection.isCollapsed()?HD(e,n):!1},VD=function(e){return pt(e,function(n){return Gn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:se},n)})},oO=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},iO=function(e,n){return He(VD(e),function(a){return oO(a,n)?[a]:[]})},la=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},G1=function(e,n){return Ut(iO(e,n),function(a){return a.action()})},uO=function(e,n){var a=n?Ai.Forwards:Ai.Backwards,i=e.selection.getRng();return yD(e,a,i,Kn,Jr,Xu).exists(function(s){return ii(e,s),!0})},Ah=function(e,n){var a=n?1:-1,i=e.selection.getRng();return ZE(e,a,i,Kn,Jr,Xu).exists(function(s){return ii(e,s),!0})},sO=function(e,n){var a=n?Jr:Kn;return wD(e,n,a)},cO=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},mN=function(e,n){return He(n,function(a){var i=cO(Do(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},lO=function(e,n,a){return Jn(e,function(i,s){return i.fold(function(){return ee.some(s)},function(f){var g=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-a)),b=Math.sqrt(Math.abs(s.x-n)+Math.abs(s.y-a));return ee.some(b<g?s:f)})},ee.none())},UD=function(e,n,a,i,s){var f=oo(L.fromDom(a),"td,th,caption").map(function(b){return b.dom}),g=on(mN(e,f),function(b){return n(b,s)});return lO(g,i,s).map(function(b){return b.cell})},gN=function(e){return e.bottom},hN=function(e){return e.top},pN=function(e,n){return e.y<n},bN=function(e,n){return e.y>n},yN=st(UD,gN,pN),WD=st(UD,hN,bN),K1=function(e,n){return vn(n.getClientRects()).bind(function(a){return yN(e,a.left,a.top)}).bind(function(a){return U1(fD(a),n)})},wN=function(e,n){return Br(n.getClientRects()).bind(function(a){return WD(e,a.left,a.top)}).bind(function(a){return U1(xM(a),n)})},fO=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},CN=function(e){return e.breakType===cv.Wrap&&e.positions.length===0},jD=function(e){return e.breakType===cv.Br&&e.positions.length===1},vO=function(e,n,a){var i=e(n,a);return CN(i)||!Go(a.getNode())&&jD(i)?!fO(e,n,i):i.breakAt.isNone()},qD=st(vO,Eh),GD=st(vO,jy),dO=function(e,n,a){var i=ft.fromRangeStart(n);return Qv(!e,a).exists(function(s){return s.isEqual(i)})},KD=function(e,n,a,i){var s=e.selection.getRng(),f=n?1:-1;return C0()&&dO(n,s,a)?(gd(f,e,a,!n,!1).each(function(g){ii(e,g)}),!0):!1},SN=function(e,n,a){return K1(n,a).orThunk(function(){return vn(a.getClientRects()).bind(function(i){return oc(cD(e,ft.before(n)),i.left)})}).getOr(ft.before(n))},xN=function(e,n,a){return wN(n,a).orThunk(function(){return vn(a.getClientRects()).bind(function(i){return oc(lD(e,ft.after(n)),i.left)})}).getOr(ft.after(n))},Yy=function(e,n){var a=n.getNode(e);return Ur(a)&&a.nodeName==="TABLE"?ee.some(a):ee.none()},kN=function(e,n,a,i){var s=Oi(n);s?n.undoManager.transact(function(){var f=L.fromTag(s);T(f,rm(n)),Mo(f,L.fromTag("br")),e?bv(L.fromDom(a),f):ou(L.fromDom(a),f);var g=n.dom.createRng();g.setStart(f.dom,0),g.setEnd(f.dom,0),ii(n,g)}):ii(n,i.toRange())},XD=function(e,n,a){var i=Yy(!!n,a),s=n===!1;i.fold(function(){return ii(e,a.toRange())},function(f){return Qv(s,e.getBody()).filter(function(g){return g.isEqual(a)}).fold(function(){return ii(e,a.toRange())},function(g){return kN(n,e,f,a)})})},TN=function(e,n,a,i){var s=e.selection.getRng(),f=ft.fromRangeStart(s),g=e.getBody();if(!n&&qD(i,f)){var b=SN(g,a,f);return XD(e,n,b),!0}else if(n&&GD(i,f)){var b=xN(g,a,f);return XD(e,n,b),!0}else return!1},mO=function(e,n,a){return ee.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return ee.from(e.dom.getParent(i,"table")).map(function(s){return a(e,n,s,i)})}).getOr(!1)},YD=function(e,n){return mO(e,n,KD)},JD=function(e,n){return mO(e,n,TN)},ic=function(e,n,a){var i=Er().os;G1([{keyCode:fr.RIGHT,action:la(MD,e,!0)},{keyCode:fr.LEFT,action:la(MD,e,!1)},{keyCode:fr.UP,action:la(ND,e,!1)},{keyCode:fr.DOWN,action:la(ND,e,!0)},{keyCode:fr.RIGHT,action:la(YD,e,!0)},{keyCode:fr.LEFT,action:la(YD,e,!1)},{keyCode:fr.UP,action:la(JD,e,!1)},{keyCode:fr.DOWN,action:la(JD,e,!0)},{keyCode:fr.RIGHT,action:la(uO,e,!0)},{keyCode:fr.LEFT,action:la(uO,e,!1)},{keyCode:fr.UP,action:la(Ah,e,!1)},{keyCode:fr.DOWN,action:la(Ah,e,!0)},{keyCode:fr.RIGHT,action:la(kS,e,n,!0)},{keyCode:fr.LEFT,action:la(kS,e,n,!1)},{keyCode:fr.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:la(xD,e,n)},{keyCode:fr.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:la(kD,e,n)},{keyCode:fr.UP,action:la(Xy,e,!1)},{keyCode:fr.DOWN,action:la(Xy,e,!0)}],a).each(function(s){a.preventDefault()})},EN=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&ic(e,n,a)})},gO=function(e,n,a){G1([{keyCode:fr.BACKSPACE,action:la(OS,e,!1)},{keyCode:fr.BACKSPACE,action:la(dS,e,!1)},{keyCode:fr.DELETE,action:la(dS,e,!0)},{keyCode:fr.BACKSPACE,action:la(zc,e,!1)},{keyCode:fr.DELETE,action:la(zc,e,!0)},{keyCode:fr.BACKSPACE,action:la(Dl,e,n,!1)},{keyCode:fr.DELETE,action:la(Dl,e,n,!0)},{keyCode:fr.BACKSPACE,action:la(x1,e,!1)},{keyCode:fr.DELETE,action:la(x1,e,!0)},{keyCode:fr.BACKSPACE,action:la(L1,e,!1)},{keyCode:fr.DELETE,action:la(L1,e,!0)},{keyCode:fr.BACKSPACE,action:la(Ky,e,!1)},{keyCode:fr.DELETE,action:la(Ky,e,!0)},{keyCode:fr.BACKSPACE,action:la(z1,e,!1)},{keyCode:fr.DELETE,action:la(z1,e,!0)},{keyCode:fr.BACKSPACE,action:la(cS,e,!1)},{keyCode:fr.DELETE,action:la(cS,e,!0)},{keyCode:fr.BACKSPACE,action:la(lv,e,!1)},{keyCode:fr.DELETE,action:la(lv,e,!0)}],a).each(function(i){a.preventDefault()})},ZD=function(e,n){G1([{keyCode:fr.BACKSPACE,action:la(HE,e)},{keyCode:fr.DELETE,action:la(HE,e)}],n)},hO=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&gO(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&ZD(e,a)})},ON=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Jy=function(e,n){var a,i=n,s=e.dom,f=e.schema.getMoveCaretBeforeOnEnterElements();if(!!n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var g=ON(n.firstChild);g&&/^(UL|OL|DL)$/.test(g.nodeName)&&n.insertBefore(s.doc.createTextNode(Fi),n.firstChild)}var b=s.createRng();if(n.normalize(),n.hasChildNodes()){for(var y=new yi(n,n);a=y.current();){if($t(a)){b.setStart(a,0),b.setEnd(a,0);break}if(f[a.nodeName.toLowerCase()]){b.setStartBefore(a),b.setEndBefore(a);break}i=a,a=y.next()}a||(b.setStart(i,0),b.setEnd(i,0))}else Go(n)?n.nextSibling&&s.isBlock(n.nextSibling)?(b.setStartBefore(n),b.setEndBefore(n)):(b.setStartAfter(n),b.setEndAfter(n)):(b.setStart(n,0),b.setEnd(n,0));e.selection.setRng(b),km(e,b)}},QD=function(e,n){var a=e.getRoot(),i,s;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(s=i),i=i.parentNode;return i!==a?s:a},pO=function(e){return ee.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},AN=function(e){return pO(e).fold(Ve(""),function(n){return n.nodeName.toUpperCase()})},DN=function(e){return pO(e).filter(function(n){return dg(L.fromDom(n))}).isSome()},_N=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},BN=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},e_=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},t_=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},RN=function(e){return t_(e)&&t_(e.parentNode)},BS=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},qi=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!Ur(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},PN=function(e,n,a,i,s){var f=e.dom,g=e.selection.getRng();if(a!==e.getBody()){RN(a)&&(s="LI");var b=s?n(s):f.create("BR");if(qi(a,i,!0)&&qi(a,i,!1))if(e_(a,"LI")){var y=BS(a);f.insertAfter(b,y),BN(a)?f.remove(y):f.remove(a)}else f.replace(b,a);else if(qi(a,i,!0))e_(a,"LI")?(f.insertAfter(b,BS(a)),b.appendChild(f.doc.createTextNode(" ")),b.appendChild(a)):a.parentNode.insertBefore(b,a),f.remove(i);else if(qi(a,i,!1))f.insertAfter(b,BS(a)),f.remove(i);else{a=BS(a);var O=g.cloneRange();O.setStartAfter(i),O.setEndAfter(a);var P=O.extractContents();s==="LI"&&_N(P,"LI")?(b=P.firstChild,f.insertAfter(P,a)):(f.insertAfter(P,a),f.insertAfter(b,a)),f.remove(i)}Jy(e,b)}},MN=function(e){ke(Wb(L.fromDom(e),hi),function(n){var a=n.dom;a.nodeValue=el(a.nodeValue)})},NN=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},ks=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},bO=function(e){e.innerHTML='<br data-mce-bogus="1">'},RS=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},Ts=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},FN=function(e,n,a){var i=a,s=[],f;if(!!i){for(;i=i.firstChild;){if(e.isBlock(i))return;Ur(i)&&!n[i.nodeName.toLowerCase()]&&s.push(i)}for(f=s.length;f--;)i=s[f],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||NN(e,i))&&e.remove(i)}},Lm=function(e,n,a){return $t(n)===!1?a:e?a===1&&n.data.charAt(a-1)===Ao?0:a:a===n.data.length-1&&n.data.charAt(a)===Ao?n.data.length:a},$N=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,Lm(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,Lm(!1,e.endContainer,e.endOffset)),n},yO=function(e){do $t(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},n_=function(e,n){var a=e.getRoot(),i,s;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(s=i),i=i.parentNode;return i!==a?s:a},IN=function(e,n,a){var i=e.dom;ee.from(a.style).map(i.parseStyle).each(function(y){var O=fo(L.fromDom(n)),P=Gn(Gn({},O),y);i.setStyles(n,P)});var s=ee.from(a.class).map(function(y){return y.split(/\s+/)}),f=ee.from(n.className).map(function(y){return on(y.split(/\s+/),function(O){return O!==""})});Ci(s,f,function(y,O){var P=on(O,function(M){return!We(y,M)}),R=_o(y,P);i.setAttrib(n,"class",R.join(" "))});var g=["style","class"],b=cn(a,function(y,O){return!We(g,O)});i.setAttribs(n,b)},Zy=function(e,n){var a=Oi(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=rm(e);IN(e,n,i)}},zN=function(e,n,a,i,s){var f,g,b,y,O,P,R=n||"P",M=e.dom,W=n_(M,i);if(g=M.getParent(i,M.isBlock),!g||!Ts(M,g)){if(g=g||W,g===e.getBody()||ks(g)?P=g.nodeName.toLowerCase():P=g.parentNode.nodeName.toLowerCase(),!g.hasChildNodes())return f=M.create(R),Zy(e,f),g.appendChild(f),a.setStart(f,0),a.setEnd(f,0),f;for(y=i;y.parentNode!==g;)y=y.parentNode;for(;y&&!M.isBlock(y);)b=y,y=y.previousSibling;if(b&&e.schema.isValidChild(P,R.toLowerCase())){for(f=M.create(R),Zy(e,f),b.parentNode.insertBefore(f,b),y=b;y&&!M.isBlock(y);)O=y.nextSibling,f.appendChild(y),y=O;a.setStart(i,s),a.setEnd(i,s)}}return i},LN=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},HN=function(e,n){var a,i,s,f,g,b,y,O,P,R,M=e.dom,W=e.schema,K=W.getNonEmptyElements(),J=e.selection.getRng(),V=function(Xt){var en=i,Vn,Yn,Nt,Dr=W.getTextInlineElements();if(Xt||O==="TABLE"||O==="HR"?Vn=M.create(Xt||P):Vn=f.cloneNode(!1),Nt=Vn,Xx(e)===!1)M.setAttrib(Vn,"style",null),M.setAttrib(Vn,"class",null);else do if(Dr[en.nodeName]){if(ml(en)||xs(en))continue;Yn=en.cloneNode(!1),M.setAttrib(Yn,"id",""),Vn.hasChildNodes()?(Yn.appendChild(Vn.firstChild),Vn.appendChild(Yn)):(Nt=Yn,Vn.appendChild(Yn))}while((en=en.parentNode)&&en!==Ne);return Zy(e,Vn),bO(Nt),Vn},ge=function(Xt){var en,Vn,Yn=Lm(Xt,i,s);if($t(i)&&(Xt?Yn>0:Yn<i.nodeValue.length))return!1;if(i.parentNode===f&&R&&!Xt||Xt&&Ur(i)&&i===f.firstChild)return!0;if(RS(i,"TABLE")||RS(i,"HR"))return R&&!Xt||!R&&Xt;var Nt=new yi(i,f);for($t(i)&&(Xt&&Yn===0?Nt.prev():!Xt&&Yn===i.nodeValue.length&&Nt.next());en=Nt.current();){if(Ur(en)){if(!en.getAttribute("data-mce-bogus")&&(Vn=en.nodeName.toLowerCase(),K[Vn]&&Vn!=="br"))return!1}else if($t(en)&&!Df(en.nodeValue))return!1;Xt?Nt.prev():Nt.next()}return!0},le=function(){/^(H[1-6]|PRE|FIGURE)$/.test(O)&&gt!=="HGROUP"?g=V(P):g=V(),Yx(e)&&Ts(M,y)&&M.isEmpty(f)?g=M.split(y,f):M.insertAfter(g,f),Jy(e,g)};Yf(M,J).each(function(Xt){J.setStart(Xt.startContainer,Xt.startOffset),J.setEnd(Xt.endContainer,Xt.endOffset)}),i=J.startContainer,s=J.startOffset,P=Oi(e);var pe=!!(n&&n.shiftKey),we=!!(n&&n.ctrlKey);Ur(i)&&i.hasChildNodes()&&(R=s>i.childNodes.length-1,i=i.childNodes[Math.min(s,i.childNodes.length-1)]||i,R&&$t(i)?s=i.nodeValue.length:s=0);var Ne=n_(M,i);if(!!Ne){(P&&!pe||!P&&pe)&&(i=zN(e,P,J,i,s)),f=M.getParent(i,M.isBlock),y=f?M.getParent(f.parentNode,M.isBlock):null,O=f?f.nodeName.toUpperCase():"";var gt=y?y.nodeName.toUpperCase():"";if(gt==="LI"&&!we&&(f=y,y=y.parentNode,O=gt),/^(LI|DT|DD)$/.test(O)&&M.isEmpty(f)){PN(e,V,y,f,P);return}P&&f===e.getBody()||(P=P||"P",Pd(f)?(g=Xh(f),M.isEmpty(f)&&bO(f),Zy(e,g),Jy(e,g)):ge()?le():ge(!0)?(g=f.parentNode.insertBefore(V(),f),Jy(e,RS(f,"HR")?g:f)):(a=$N(J).cloneRange(),a.setEndAfter(f),b=a.extractContents(),MN(b),yO(b),g=b.firstChild,M.insertAfter(b,f),FN(M,K,g),LN(M,f),M.isEmpty(f)&&bO(f),g.normalize(),M.isEmpty(g)?(M.remove(g),le()):(Zy(e,g),Jy(e,g))),M.setAttrib(g,"id",""),e.fire("NewBlock",{newBlock:g}))}},PS=function(e,n,a){for(var i=new yi(n,a),s,f=e.getNonEmptyElements();s=i.next();)if(f[s.nodeName.toLowerCase()]||s.length>0)return!0},wO=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),km(e,i)},VN=function(e,n){var a=e.selection,i=e.dom,s=a.getRng(),f,g;Yf(i,s).each(function(K){s.setStart(K.startContainer,K.startOffset),s.setEnd(K.endContainer,K.endOffset)});var b=s.startOffset,y=s.startContainer;if(y.nodeType===1&&y.hasChildNodes()){var O=b>y.childNodes.length-1;y=y.childNodes[Math.min(b,y.childNodes.length-1)]||y,O&&y.nodeType===3?b=y.nodeValue.length:b=0}var P=i.getParent(y,i.isBlock),R=P?i.getParent(P.parentNode,i.isBlock):null,M=R?R.nodeName.toUpperCase():"",W=!!(n&&n.ctrlKey);M==="LI"&&!W&&(P=R),y&&y.nodeType===3&&b>=y.nodeValue.length&&(PS(e.schema,y,P)||(f=i.create("br"),s.insertNode(f),s.setStartAfter(f),s.setEndAfter(f),g=!0)),f=i.create("br"),Tp(i,s,f),wO(e,f,g),e.undoManager.add()},UN=function(e,n){var a=L.fromTag("br");ou(L.fromDom(n),a),e.undoManager.add()},WN=function(e,n){qN(e.getBody(),n)||bv(L.fromDom(n),L.fromTag("br"));var a=L.fromTag("br");bv(L.fromDom(n),a),wO(e,a.dom,!1),e.undoManager.add()},jN=function(e){return Go(e.getNode())},qN=function(e,n){return jN(ft.after(n))?!0:Js(e,ft.after(n)).map(function(a){return Go(a.getNode())}).getOr(!1)},MS=function(e){return e&&e.nodeName==="A"&&"href"in e},r_=function(e){return e.fold(bt,MS,MS,bt)},a_=function(e){var n=st(Sh,e),a=ft.fromRangeStart(e.selection.getRng());return sv(n,e.getBody(),a).filter(r_)},o_=function(e,n){n.fold(se,st(UN,e),st(WN,e),se)},i_=function(e,n){var a=a_(e);a.isSome()?a.each(st(o_,e)):VN(e,n)},u_=function(e,n){return pO(e).filter(function(a){return n.length>0&&gi(L.fromDom(a),n)}).isSome()},GN=function(e){return u_(e,Kx(e))},KN=function(e){return u_(e,o2(e))},uc=Sf.generate([{br:[]},{block:[]},{none:[]}]),XN=function(e,n){return KN(e)},NS=function(e){return function(n,a){var i=Oi(n)==="";return i===e}},s_=function(e){return function(n,a){return DN(n)===e}},c_=function(e,n){return function(a,i){var s=AN(a)===e.toUpperCase();return s===n}},FS=function(e){return c_("pre",e)},YN=function(){return c_("summary",!0)},Qy=function(e){return function(n,a){return Bp(n)===e}},JN=function(e,n){return GN(e)},ew=function(e,n){return n},l_=function(e){var n=Oi(e),a=QD(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},Lc=function(e,n){return function(a,i){var s=Jn(e,function(f,g){return f&&g(a,i)},!0);return s?ee.some(n):ee.none()}},f_=function(e,n){return nD([Lc([XN],uc.none()),Lc([YN()],uc.br()),Lc([FS(!0),Qy(!1),ew],uc.br()),Lc([FS(!0),Qy(!1)],uc.block()),Lc([FS(!0),Qy(!0),ew],uc.block()),Lc([FS(!0),Qy(!0)],uc.br()),Lc([s_(!0),ew],uc.br()),Lc([s_(!0)],uc.block()),Lc([NS(!0),ew,l_],uc.block()),Lc([NS(!0)],uc.br()),Lc([JN],uc.br()),Lc([NS(!1),ew],uc.br()),Lc([l_],uc.block())],[e,!!(n&&n.shiftKey)]).getOr(uc.none())},tw=function(e,n){f_(e,n).fold(function(){i_(e,n)},function(){HN(e,n)},se)},v_=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),mE(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),tw(e,n)}))},d_=function(e){e.on("keydown",function(n){n.keyCode===fr.ENTER&&v_(e,n)})},ZN=function(e,n,a){G1([{keyCode:fr.END,action:la(FD,e,!0)},{keyCode:fr.HOME,action:la(FD,e,!1)},{keyCode:fr.END,action:la(sO,e,!0)},{keyCode:fr.HOME,action:la(sO,e,!1)},{keyCode:fr.END,action:la(ES,e,!0,n)},{keyCode:fr.HOME,action:la(ES,e,!1,n)}],a).each(function(i){a.preventDefault()})},QN=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&ZN(e,n,a)})},CO=Er().browser,eF=function(e){var n=gp(function(){e.composing||Cl(e)},0);CO.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},tF=function(e){eF(e),e.on("input",function(n){n.isComposing===!1&&Cl(e)})},nF=Er(),rF=function(e,n,a){G1([{keyCode:fr.PAGE_UP,action:la(ES,e,!1,n)},{keyCode:fr.PAGE_DOWN,action:la(ES,e,!0,n)}],a)},Hc=function(e){return e.stopImmediatePropagation()},SO=function(e){return e.keyCode===fr.PAGE_UP||e.keyCode===fr.PAGE_DOWN},xO=function(e,n,a){a&&!e.get()?n.on("NodeChange",Hc,!0):!a&&e.get()&&n.off("NodeChange",Hc),e.set(a)},aF=function(e,n){if(!nF.os.isOSX()){var a=No(!1);e.on("keydown",function(i){SO(i)&&xO(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&rF(e,n,i),SO(i)&&a.get()&&(xO(a,e,!1),e.nodeChanged())})}},m_=function(e,n){var a=n.container(),i=n.offset();return $t(a)?(a.insertData(i,e),ee.some(ft(a,i+e.length))):Hg(n).map(function(s){var f=L.fromText(e);return n.isAtEnd()?bv(s,f):ou(s,f),ft(f.dom,e.length)})},oF=st(m_,Fi),iF=st(m_," "),uF=function(e){return function(n){return n.fold(function(a){return dl(e.dom,ft.before(a))},function(a){return Lu(a)},function(a){return Pc(a)},function(a){return Js(e.dom,ft.after(a))})}},sF=function(e,n){return function(a){return Ho(e,a)?oF(n):iF(n)}},cF=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},kO=function(e){var n=ft.fromRangeStart(e.selection.getRng()),a=L.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=st(Sh,e),s=ft.fromRangeStart(e.selection.getRng());return sv(i,e.getBody(),s).bind(uF(a)).bind(sF(a,n)).exists(cF(e))}else return!1},lF=function(e,n){G1([{keyCode:fr.SPACEBAR,action:la(kO,e)}],n).each(function(a){n.preventDefault()})},fF=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&lF(e,n)})},g_=function(e){var n=SD(e);return aN(e),EN(e,n),hO(e,n),d_(e),fF(e),tF(e),QN(e,n),aF(e,n),n},vF=function(e){return Fo(e)?No(null):g_(e)},dF=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(s){var f=n.selection.getRng(),g={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(s.type==="nodechange"||!Qg(g,a))&&n.fire("SelectionChange"),a=g}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var s=n.selection.getStart(!0);!s||!Mr.range&&n.selection.isCollapsed()||Jp(n)&&!i.isSameElementPath(s)&&n.dom.isChildOf(s,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(s){!s.isDefaultPrevented()&&Jp(n)&&(n.selection.getNode().nodeName==="IMG"?Hn.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,s,f;this.editor.initialized&&a&&!b2(this.editor)&&!this.editor.mode.isReadOnly()&&(f=this.editor.getBody(),i=a.getStart(!0)||f,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,f))&&(i=f),s=[],this.editor.dom.getParent(i,function(g){if(g===f)return!0;s.push(g)}),n=n||{},n.element=i,n.parents=s,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),mF=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},gF=function(e){e.parser.addNodeFilter("details",function(n){ke(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){ke(n,function(a){var i=a.attr("data-mce-open");a.attr("open",ct(i)?i:null),a.attr("data-mce-open",null)})})},hF=function(e){mF(e),gF(e)},h_=function(e){return Ur(e)&&Oo(L.fromDom(e))},TO=function(e){var n=e.selection.getRng(),a=ft.fromRangeStart(n),i=ft.fromRangeEnd(n);if(ft.isElementPosition(a)){var s=a.container();h_(s)&&Lu(s).each(function(f){return n.setStart(f.container(),f.offset())})}if(ft.isElementPosition(i)){var s=a.container();h_(s)&&Pc(s).each(function(g){return n.setEnd(g.container(),g.offset())})}e.selection.setRng(RT(n))},pF=function(e){e.on("click",function(n){n.detail>=3&&TO(e)})},p_=function(){var e=No(ee.none()),n=function(){return e.set(ee.none())},a=function(f){return e.set(ee.some(f))},i=function(){return e.get().isSome()},s=function(f){return e.get().each(f)};return{clear:n,set:a,isSet:i,on:s}},b_=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,s=a.defaultView;return{top:n.top+s.pageYOffset-i.clientTop,left:n.left+s.pageXOffset-i.clientLeft}},bF=function(e){return e.inline?b_(e.getBody()):{left:0,top:0}},yF=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},wF=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},s={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:s},Gi=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=b_(e.getContentAreaContainer()),i=wF(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},CF=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},SF=function(e,n){return CF(bF(e),yF(e),Gi(e,n))},$S=lo,y_=Ps,EO=function(e,n){return $S(n)&&n!==e},xF=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!$S(n)},kF=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},TF=function(e,n,a,i){var s=e.dom,f=n.cloneNode(!0);s.setStyles(f,{width:a,height:i}),s.setAttrib(f,"data-mce-selected",null);var g=s.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return s.setStyles(g,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),s.setStyles(f,{margin:0,boxSizing:"border-box"}),g.appendChild(f),g},EF=function(e,n){e.parentNode!==n&&n.appendChild(e)},OF=function(e,n,a,i,s,f){var g=0,b=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>s&&(g=n.pageX+a-s),n.pageY+i>f&&(b=n.pageY+i-f),e.style.width=a-g+"px",e.style.height=i-b+"px"},w_=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},AF=function(e){return e.button===0},DF=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},_F=function(e,n){return function(a){if(AF(a)){var i=Ut(n.dom.getParents(a.target),Oc($S,y_)).getOr(null);if(EO(n.getBody(),i)){var s=n.dom.getPos(i),f=n.getBody(),g=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?f.scrollWidth:g.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:g.offsetHeight)-2,relX:a.pageX-s.x,relY:a.pageY-s.y,width:i.offsetWidth,height:i.offsetHeight,ghost:TF(n,i,i.offsetWidth,i.offsetHeight)})}}}},BF=function(e,n){var a=Hn.throttle(function(i,s){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,s)},0);return n.on("remove",a.stop),function(i){return e.on(function(s){var f=Math.max(Math.abs(i.screenX-s.screenX),Math.abs(i.screenY-s.screenY));if(!s.dragging&&f>10){var g=n.fire("dragstart",{target:s.element});if(g.isDefaultPrevented())return;s.dragging=!0,n.focus()}if(s.dragging){var b=DF(s,SF(n,i));EF(s.ghost,n.getBody()),OF(s.ghost,b,s.width,s.height,s.maxX,s.maxY),a(i.clientX,i.clientY)}})}},RF=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},PF=function(e,n){return function(a){e.on(function(i){if(i.dragging&&xF(n,RF(n.selection),i.element)){var s=kF(i.element),f=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});f.isDefaultPrevented()||n.undoManager.transact(function(){w_(i.element),n.insertContent(n.dom.getOuterHTML(s)),n._selectionOverrides.hideFakeCaret()})}}),C_(e)}},MF=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),C_(e)}},C_=function(e){e.on(function(n){w_(n.ghost)}),e.clear()},NF=function(e){var n=p_(),a=eo.DOM,i=document,s=_F(n,e),f=BF(n,e),g=PF(n,e),b=MF(n,e);e.on("mousedown",s),e.on("mousemove",f),e.on("mouseup",g),a.bind(i,"mousemove",f),a.bind(i,"mouseup",b),e.on("remove",function(){a.unbind(i,"mousemove",f),a.unbind(i,"mouseup",b)})},S_=function(e){e.on("drop",function(n){var a=typeof n.clientX!="undefined"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;($S(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},FF=function(e){var n=function(s){if(!s.isDefaultPrevented()){var f=s.dataTransfer;f&&(We(f.types,"Files")||f.files.length>0)&&(s.preventDefault(),s.type==="drop"&&$o(e,"Dropped file type is not supported"))}},a=function(s){Em(e,s.target)&&n(s)},i=function(){var s=eo.DOM,f=e.dom,g=document,b=e.inline?e.getBody():e.getDoc(),y=["drop","dragover"];ke(y,function(O){s.bind(g,O,a),f.bind(b,O,n)}),e.on("remove",function(){ke(y,function(O){s.unbind(g,O,a),f.unbind(b,O,n)})})};e.on("init",function(){Hn.setEditorTimeout(e,i,0)})},$F=function(e){NF(e),S_(e),Rp(e)&&FF(e)},IF=function(e){var n=gp(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=Wy(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},zF=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(Xu(a)){var i=Yg(e.getBody(),a),s=lo(i)?i:a;e.selection.getNode()!==s&&kh(e,s).each(function(f){return e.selection.setRng(f)})}})})},OO=Ps,Dh=lo,nw=function(e,n){return Yg(e.getBody(),n)},x_=function(e){var n=e.selection,a=e.dom,i=a.isBlock,s=e.getBody(),f=w0(e,s,i,function(){return tv(e)}),g="sel-"+a.uniqueId(),b="data-mce-selected",y,O=function(Nt){return a.hasClass(Nt,"mce-offscreen-selection")},P=function(Nt){return Nt!==s&&(Dh(Nt)||Xu(Nt))&&a.isChildOf(Nt,s)},R=function(Nt){return $a(Nt)||Ia(Nt)||Kn(Nt)||Jr(Nt)},M=function(){var Nt=a.get(g);return Nt&&Nt.getElementsByTagName("*")[0]},W=function(Nt){Nt&&n.setRng(Nt)},K=n.getRng,J=function(Nt,Dr,gn,Un){Un===void 0&&(Un=!0);var rn=e.fire("ShowCaret",{target:Dr,direction:Nt,before:gn});return rn.isDefaultPrevented()?null:(Un&&n.scrollIntoView(Dr,Nt===-1),f.show(gn,Dr))},V=function(Nt){Nt.hasAttribute("data-mce-caret")&&(Xh(Nt),W(K()),n.scrollIntoView(Nt))},ge=function(){e.on("mouseup",function(rn){var kn=K();kn.collapsed&&dA(e,rn.clientX,rn.clientY)&&FE(e,kn,!1).each(W)}),e.on("click",function(rn){var kn=nw(e,rn.target);kn&&(Dh(kn)&&(rn.preventDefault(),e.focus()),OO(kn)&&a.isChildOf(kn,n.getNode())&&en())}),e.on("blur NewBlock",en),e.on("ResizeWindow FullscreenStateChanged",f.reposition);var Nt=function(rn){var kn=Rc(rn);if(!rn.firstChild)return!1;var In=ft.before(rn.firstChild),It=kn.next(In);return It&&!R(It)},Dr=function(rn,kn){var In=a.getParent(rn,i),It=a.getParent(kn,i);return In===It},gn=function(rn,kn){var In=a.getParent(rn,i),It=a.getParent(kn,i);return In&&rn!==It&&a.isChildOf(In,It)&&Dh(nw(e,In))===!1?!0:In&&!Dr(In,It)&&Nt(In)};e.on("tap",function(rn){var kn=rn.target,In=nw(e,kn);Dh(In)?(rn.preventDefault(),kh(e,In).each(Xt)):P(kn)&&kh(e,kn).each(Xt)},!0),e.on("mousedown",function(rn){var kn=rn.target;if(!(kn!==s&&kn.nodeName!=="HTML"&&!a.isChildOf(kn,s))&&dA(e,rn.clientX,rn.clientY)!==!1){var In=nw(e,kn);if(In)Dh(In)?(rn.preventDefault(),kh(e,In).each(Xt)):(en(),!(OO(In)&&rn.shiftKey)&&!wm(rn.clientX,rn.clientY,n.getRng())&&(Yn(),n.placeCaretAt(rn.clientX,rn.clientY)));else if(P(kn))kh(e,kn).each(Xt);else if(Ss(kn)===!1){en(),Yn();var It=BM(s,rn.clientX,rn.clientY);if(It&&!gn(kn,It.node)){rn.preventDefault();var Fn=J(1,It.node,It.before,!1);e.getBody().focus(),W(Fn)}}}}),e.on("keypress",function(rn){fr.modifierPressed(rn)||Dh(n.getNode())&&rn.preventDefault()}),e.on("GetSelectionRange",function(rn){var kn=rn.range;if(y){if(!y.parentNode){y=null;return}kn=kn.cloneRange(),kn.selectNode(y),rn.range=kn}}),e.on("SetSelectionRange",function(rn){rn.range=we(rn.range);var kn=Xt(rn.range,rn.forward);kn&&(rn.range=kn)});var Un=function(rn){return rn.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(rn){var kn=rn.range,In=kn.startContainer.parentNode;!pe(kn)&&!Un(In)&&Yn(),O(In)||en()}),e.on("copy",function(rn){var kn=rn.clipboardData;if(!rn.isDefaultPrevented()&&rn.clipboardData&&!Mr.ie){var In=M();In&&(rn.preventDefault(),kn.clearData(),kn.setData("text/html",In.outerHTML),kn.setData("text/plain",In.outerText||In.innerText))}}),$F(e),IF(e),zF(e)},le=function(Nt){return _u(Nt)||li(Nt)||Tv(Nt)},pe=function(Nt){return le(Nt.startContainer)||le(Nt.endContainer)},we=function(Nt){var Dr=e.schema.getShortEndedElements(),gn=a.createRng(),Un=Nt.startContainer,rn=Nt.startOffset,kn=Nt.endContainer,In=Nt.endOffset;return Or(Dr,Un.nodeName.toLowerCase())?rn===0?gn.setStartBefore(Un):gn.setStartAfter(Un):gn.setStart(Un,rn),Or(Dr,kn.nodeName.toLowerCase())?In===0?gn.setEndBefore(kn):gn.setEndAfter(kn):gn.setEnd(kn,In),gn},Ne=function(Nt,Dr,gn){var Un=e.$,rn=Jc(L.fromDom(e.getBody()),"#"+g).fold(function(){return Un([])},function(It){return Un([It.dom])});rn.length===0&&(rn=Un('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",g),rn.appendTo(e.getBody()));var kn=a.createRng();Dr===gn&&Mr.ie?(rn.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(Dr),kn.setStartAfter(rn[0].firstChild.firstChild),kn.setEndAfter(Dr)):(rn.empty().append(Fi).append(Dr).append(Fi),kn.setStart(rn[0].firstChild,1),kn.setEnd(rn[0].lastChild,0)),rn.css({top:a.getPos(Nt,e.getBody()).y}),rn[0].focus();var In=n.getSel();return In.removeAllRanges(),In.addRange(kn),kn},gt=function(Nt){var Dr=Nt.cloneNode(!0),gn=e.fire("ObjectSelected",{target:Nt,targetClone:Dr});if(gn.isDefaultPrevented())return null;var Un=Ne(Nt,gn.targetClone,Dr),rn=L.fromDom(Nt);return ke(oo(L.fromDom(e.getBody()),"*[data-mce-selected]"),function(kn){oa(rn,kn)||Ae(kn,b)}),a.getAttrib(Nt,b)||Nt.setAttribute(b,"1"),y=Nt,Yn(),Un},Xt=function(Nt,Dr){if(!Nt)return null;if(Nt.collapsed){if(!pe(Nt)){var gn=Dr?1:-1,Un=sm(gn,s,Nt),rn=Un.getNode(!Dr);if(Ss(rn))return J(gn,rn,Dr?!Un.isAtEnd():!1,!1);var kn=Un.getNode(Dr);if(Ss(kn))return J(gn,kn,Dr?!1:!Un.isAtEnd(),!1)}return null}var In=Nt.startContainer,It=Nt.startOffset,Fn=Nt.endOffset;if(In.nodeType===3&&It===0&&Dh(In.parentNode)&&(In=In.parentNode,It=a.nodeIndex(In),In=In.parentNode),In.nodeType!==1)return null;if(Fn===It+1&&In===Nt.endContainer){var Sa=In.childNodes[It];if(P(Sa))return gt(Sa)}return null},en=function(){y&&y.removeAttribute(b),Jc(L.fromDom(e.getBody()),"#"+g).each(ci),y=null},Vn=function(){f.destroy(),y=null},Yn=function(){f.hide()};return Mr.ceFalse&&!Fo(e)&&ge(),{showCaret:J,showBlockCaretContainer:V,hideFakeCaret:Yn,destroy:Vn}},k_=function(e){var n=Q.each,a=fr.BACKSPACE,i=fr.DELETE,s=e.dom,f=e.selection,g=e.parser,b=Mr.gecko,y=Mr.ie,O=Mr.webkit,P="data:text/mce-internal,",R=y?"Text":"URL",M=function(Bt,at){try{e.getDoc().execCommand(Bt,!1,at)}catch{}},W=function(Bt){return Bt.isDefaultPrevented()},K=function(Bt){var at,kt;Bt.dataTransfer&&(e.selection.isCollapsed()&&Bt.target.tagName==="IMG"&&f.select(Bt.target),at=e.selection.getContent(),at.length>0&&(kt=P+escape(e.id)+","+escape(at),Bt.dataTransfer.setData(R,kt)))},J=function(Bt){var at;return Bt.dataTransfer&&(at=Bt.dataTransfer.getData(R),at&&at.indexOf(P)>=0)?(at=at.substr(P.length).split(","),{id:unescape(at[0]),html:unescape(at[1])}):null},V=function(Bt,at){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:Bt,internal:at}):e.execCommand("mceInsertContent",!1,Bt)},ge=function(){var Bt=function(kt){var rt=s.create("body"),Tn=kt.cloneContents();return rt.appendChild(Tn),f.serializer.serialize(rt,{format:"html"})},at=function(kt){var rt=Bt(kt),Tn=s.createRng();Tn.selectNode(e.getBody());var An=Bt(Tn);return rt===An};e.on("keydown",function(kt){var rt=kt.keyCode,Tn,An;if(!W(kt)&&(rt===i||rt===a)){if(Tn=e.selection.isCollapsed(),An=e.getBody(),Tn&&!s.isEmpty(An)||!Tn&&!at(e.selection.getRng()))return;kt.preventDefault(),e.setContent(""),An.firstChild&&s.isBlock(An.firstChild)?e.selection.setCursorLocation(An.firstChild,0):e.selection.setCursorLocation(An,0),e.nodeChanged()}})},le=function(){e.shortcuts.add("meta+a",null,"SelectAll")},pe=function(){e.inline||s.bind(e.getDoc(),"mousedown mouseup",function(Bt){var at;if(Bt.target===e.getDoc().documentElement)if(at=f.getRng(),e.getBody().focus(),Bt.type==="mousedown"){if(_u(at.startContainer))return;f.placeCaretAt(Bt.clientX,Bt.clientY)}else f.setRng(at)})},we=function(){e.on("keydown",function(Bt){if(!W(Bt)&&Bt.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){var at=f.getNode(),kt=at.previousSibling;if(at.nodeName==="HR"){s.remove(at),Bt.preventDefault();return}kt&&kt.nodeName&&kt.nodeName.toLowerCase()==="hr"&&(s.remove(kt),Bt.preventDefault())}}})},Ne=function(){Range.prototype.getClientRects||e.on("mousedown",function(Bt){if(!W(Bt)&&Bt.target.nodeName==="HTML"){var at=e.getBody();at.blur(),Hn.setEditorTimeout(e,function(){at.focus()})}})},gt=function(){e.on("click",function(Bt){var at=Bt.target;/^(IMG|HR)$/.test(at.nodeName)&&s.getContentEditableParent(at)!=="false"&&(Bt.preventDefault(),e.selection.select(at),e.nodeChanged()),at.nodeName==="A"&&s.hasClass(at,"mce-item-anchor")&&(Bt.preventDefault(),f.select(at))})},Xt=function(){var Bt=function(){var kt=s.getAttribs(f.getStart().cloneNode(!1));return function(){var rt=f.getStart();rt!==e.getBody()&&(s.setAttrib(rt,"style",null),n(kt,function(Tn){rt.setAttributeNode(Tn.cloneNode(!0))}))}},at=function(){return!f.isCollapsed()&&s.getParent(f.getStart(),s.isBlock)!==s.getParent(f.getEnd(),s.isBlock)};e.on("keypress",function(kt){var rt;if(!W(kt)&&(kt.keyCode===8||kt.keyCode===46)&&at())return rt=Bt(),e.getDoc().execCommand("delete",!1,null),rt(),kt.preventDefault(),!1}),s.bind(e.getDoc(),"cut",function(kt){var rt;!W(kt)&&at()&&(rt=Bt(),Hn.setEditorTimeout(e,function(){rt()}))})},en=function(){e.on("keydown",function(Bt){if(!W(Bt)&&Bt.keyCode===a&&f.isCollapsed()&&f.getRng().startOffset===0){var at=f.getNode().previousSibling;if(at&&at.nodeName&&at.nodeName.toLowerCase()==="table")return Bt.preventDefault(),!1}})},Vn=function(){e.on("keydown",function(Bt){var at,kt;if(!(W(Bt)||Bt.keyCode!==fr.BACKSPACE)){at=f.getRng();var rt=at.startContainer,Tn=at.startOffset,An=s.getRoot();if(kt=rt,!(!at.collapsed||Tn!==0)){for(;kt&&kt.parentNode&&kt.parentNode.firstChild===kt&&kt.parentNode!==An;)kt=kt.parentNode;kt.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,kt),at=s.createRng(),at.setStart(rt,0),at.setEnd(rt,0),f.setRng(at))}}})},Yn=function(){var Bt=function(){M("StyleWithCSS",!1),M("enableInlineTableEditing",!1),d0(e)||M("enableObjectResizing",!1)};lk(e)||e.on("BeforeExecCommand mousedown",Bt)},Nt=function(){var Bt=function(){n(s.select("a"),function(at){var kt=at.parentNode,rt=s.getRoot();if(kt.lastChild===at){for(;kt&&!s.isBlock(kt);){if(kt.parentNode.lastChild!==kt||kt===rt)return;kt=kt.parentNode}s.add(kt,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(at){(at.type==="setcontent"||at.command==="mceInsertLink")&&Bt()})},Dr=function(){Oi(e)&&e.on("init",function(){M("DefaultParagraphSeparator",Oi(e))})},gn=function(){e.on("keyup focusin mouseup",function(Bt){fr.modifierPressed(Bt)||f.normalize()},!0)},Un=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},rn=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},kn=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(Bt){var at;if(Bt.target.nodeName==="HTML"){if(Mr.ie>11){e.getBody().focus();return}at=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(at),e.selection.normalize(),e.nodeChanged()}}))},In=function(){Mr.mac&&e.on("keydown",function(Bt){if(fr.metaKeyPressed(Bt)&&!Bt.shiftKey&&(Bt.keyCode===37||Bt.keyCode===39)){Bt.preventDefault();var at=e.selection.getSel();at.modify("move",Bt.keyCode===37?"backward":"forward","lineboundary")}})},It=function(){M("AutoUrlDetect",!1)},Fn=function(){e.on("click",function(Bt){var at=Bt.target;do if(at.tagName==="A"){Bt.preventDefault();return}while(at=at.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Sa=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(Bt){Bt.preventDefault()})})},to=function(){g.addNodeFilter("br",function(Bt){for(var at=Bt.length;at--;)Bt[at].attr("class")==="Apple-interchange-newline"&&Bt[at].remove()})},za=function(){e.on("dragstart",function(Bt){K(Bt)}),e.on("drop",function(Bt){if(!W(Bt)){var at=J(Bt);if(at&&at.id!==e.id){Bt.preventDefault();var kt=tf(Bt.x,Bt.y,e.getDoc());f.setRng(kt),V(at.html,!0)}}})},vi=se,Jo=function(){if(!b||e.removed)return!1;var Bt=e.selection.getSel();return!Bt||!Bt.rangeCount||Bt.rangeCount===0},us=function(){O&&(gt(),Sa(),le(),Mr.iOS&&(rn(),kn(),Fn())),b&&(Ne(),Yn(),Un(),In())},Uu=function(){Vn(),ge(),Mr.windowsPhone||gn(),O&&(pe(),gt(),Dr(),Sa(),en(),to(),Mr.iOS?(rn(),kn(),Fn()):le()),Mr.ie>=11&&(kn(),en()),Mr.ie&&(le(),It(),za()),b&&(we(),Ne(),Xt(),Yn(),Nt(),Un(),In(),en())};return Fo(e)?us():Uu(),{refreshContentEditable:vi,isHidden:Jo}},AO=eo.DOM,LF=function(e,n){var a=L.fromDom(e.getBody()),i=gf(Gc(a)),s=L.fromTag("style");ms(s,"type","text/css"),Mo(s,L.fromText(n)),Mo(i,s),e.on("remove",function(){ci(s)})},HF=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},DO=function(e){return cn(e,function(n){return qn(n)===!1})},T_=function(e){var n=e.settings,a=e.editorUpload.blobCache;return DO({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:HF(e),validate:!0,blob_cache:a,images_dataimg_filter:n.images_dataimg_filter})},VF=function(e){var n=e.settings;return Gn(Gn({},T_(e)),DO({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before,block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements}))},E_=function(e){var n=XC(T_(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var s=a.length,f,g,b=e.dom,y="data-mce-"+i;s--;)if(f=a[s],g=f.attr(i),g&&!f.attr(y)){if(g.indexOf("data:")===0||g.indexOf("blob:")===0)continue;i==="style"?(g=b.serializeStyle(b.parseStyle(g),f.name),g.length||(g=null),f.attr(y,g),f.attr(i,g)):i==="tabindex"?(f.attr(y,g),f.attr(i,null)):f.attr(y,e.convertURL(g,i,f.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var s=a[i],f=s.attr("type")||"no/type";f.indexOf("mce-")!==0&&s.attr("type","mce-"+f)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var s=a[i];s.type=8,s.name="#comment",s.value="[CDATA["+e.dom.encode(s.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,s=e.schema.getNonEmptyElements();i--;){var f=a[i];f.isEmpty(s)&&f.getAll("br").length===0&&(f.append(new nc("br",1)).shortEnded=!0)}}),n},UF=function(e){e.settings.auto_focus&&Hn.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},WF=function(e){var n=e.dom.getRoot();!e.inline&&(!Jp(e)||e.selection.getStart(!0)===n)&&Lu(n).each(function(a){var i=a.getNode(),s=Mi(i)?Lu(i).getOr(a):a;Mr.browser.isIE()?l1(e,s.toRange()):e.selection.setRng(s.toRange())})},O_=function(e){e.bindPendingEventDelegates(),e.initialized=!0,Fk(e),e.focus(!0),WF(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),UF(e)},A_=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},jF=function(e,n,a){var i=[new Ni(function(s,f){return A_(e).loadAll(n,s,f)})];return e.inline?i:i.concat([new Ni(function(s,f){return e.ui.styleSheetLoader.loadAll(a,s,f)})])},qF=function(e,n){var a=A_(e),i=v0(e),s=function(){a.unloadAll(n),e.inline||e.ui.styleSheetLoader.unloadAll(i)},f=function(){e.removed?s():(e.on("remove",s),O_(e))};Ni.all(jF(e,n,i)).then(f).catch(f)},IS=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,AO.setAttrib(i,"spellcheck","false")),e.quirks=k_(e),j2(e);var s=v2(e);if(s!==void 0&&(i.dir=s),n.protect&&e.on("BeforeSetContent",function(g){Q.each(n.protect,function(b){g.content=g.content.replace(b,function(y){return"<!--mce:protected "+escape(y)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),Fo(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(g){e.composing=g.type==="compositionstart"}),e.contentStyles.length>0){var f="";Q.each(e.contentStyles,function(g){f+=g+`\r
`}),e.dom.addStyle(f)}qF(e,e.contentCSS),n.content_style&&LF(e,n.content_style)},zS=function(e,n){var a=e.settings,i=e.getElement(),s=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(s.open(),s.write(e.iframeHTML),s.close()),e.inline&&(AO.addClass(i,"mce-content-body"),e.contentDocument=s=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var f=e.getBody();f.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&AO.getStyle(f,"position",!0)==="static"&&(f.style.position="relative"),f.contentEditable=e.getParam("content_editable_state",!0)),f.disabled=!1,e.editorUpload=$5(e),e.schema=Wl(a),e.dom=eo(s,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:am(e),referrerPolicy:f0(e),onSetAttrib:function(b){e.fire("SetAttrib",b)}}),e.parser=E_(e),e.serializer=Z3(VF(e),e),e.selection=$3(e.dom,e.getWin(),e.serializer,e),e.annotator=Qp(e),e.formatter=kA(e),e.undoManager=TA(e),e._nodeChangeDispatcher=new dF(e),e._selectionOverrides=x_(e),YM(e),hF(e),Fo(e)||pF(e);var g=vF(e);GM(e,g),tN(e),RE(e),K0(e),S3(e).fold(function(){IS(e)},function(b){e.setProgressState(!0),b.then(function(y){e.setProgressState(!1),IS(e)},function(y){e.notificationManager.open({type:"error",text:String(y)}),IS(e)})})},rw=eo.DOM,GF=function(e,n){if(document.domain!==window.location.hostname&&Mr.browser.isIE()){var a=bA("mce");e[a]=function(){zS(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return rw.setAttrib(n,"src",i),!0}return!1},KF=function(e,n,a,i){var s=L.fromTag("iframe");return T(s,i),T(s,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),Gd(s,"tox-edit-area__iframe"),s},XF=function(e){var n=qx(e)+"<html><head>";Gx(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=Vf(e),i=_p(e);return a2(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+a2(e)+'" />'),n+='</head><body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'"><br></body></html>',n},YF=function(e,n){var a=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),i=KF(e.id,a,n.height,Dp(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var s=GF(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=XF(e),rw.add(n.iframeContainer,i),s},JF=function(e,n){var a=YF(e,n);n.editorContainer&&(rw.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=rw.isHidden(n.editorContainer)),e.getElement().style.display="none",rw.setAttrib(e.id,"aria-hidden","true"),a||zS(e)},D_=eo.DOM,__=function(e,n,a){var i=cf.get(a),s=cf.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=Q.trim(a),i&&Q.inArray(n,a)===-1){if(Q.each(cf.dependencies(a),function(g){__(e,n,g)}),e.plugins[a])return;try{var f=new i(e,s,e.$);e.plugins[a]=f,f.init&&(f.init(e,s),n.push(a))}catch(g){OE(e,a,g)}}},B_=function(e){return e.replace(/^\-/,"")},ZF=function(e){var n=[];Q.each(Cs(e).split(/[ ,]/),function(a){__(e,n,B_(a))})},LS=function(e){var n=Q.trim(c0(e)),a=e.ui.registry.getAll().icons,i=Gn(Gn({},QC.get("default").icons),QC.get(n).icons);Gr(i,function(s,f){Or(a,f)||e.ui.registry.addIcon(f,s)})},R_=function(e){var n=Ig(e);if(ct(n)){e.settings.theme=B_(n);var a=Mm.get(n);e.theme=new a(e,Mm.urls[n]),e.theme.init&&e.theme.init(e,Mm.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},P_=function(e){return e.theme.renderUI()},QF=function(e){var n=e.getElement(),a=Ig(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},_O=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},M_=function(e){var n=D_.create("div");return D_.insertAfter(n,e),_O(n)},e$=function(e){var n=e.getElement();return e.inline?_O(null):M_(n)},t$=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,ct(Ig(e))?P_(e):Zt(Ig(e))?QF(e):e$(e)},n$=function(e,n){var a={show:ee.from(n.show).getOr(se),hide:ee.from(n.hide).getOr(se),disable:ee.from(n.disable).getOr(se),isDisabled:ee.from(n.isDisabled).getOr(bt),enable:function(){e.mode.isReadOnly()||ee.from(n.enable).map(wt)}};e.ui=Gn(Gn({},e.ui),a)},HS=function(e){e.fire("ScriptsLoaded"),LS(e),R_(e),ZF(e);var n=t$(e);n$(e,ee.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,DE(e),e.inline?zS(e):JF(e,a)},_h=eo.DOM,VS=function(e){return e.charAt(0)==="-"},r$=function(e,n){var a=c2(n),i=tk(n);if($s.hasCode(a)===!1&&a!=="en"){var s=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(s,se,void 0,function(){R5(n,s,a)})}},a$=function(e,n,a,i){var s=Ig(n);if(ct(s)){if(!VS(s)&&!Mm.urls.hasOwnProperty(s)){var f=uk(n);f?Mm.load(s,n.documentBaseURI.toAbsolute(f)):Mm.load(s,"themes/"+s+"/theme"+a+".js")}e.loadQueue(function(){Mm.waitFor(s,i)})}else i()},o$=function(e){return ee.from(s2(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:ee.none()}})},BO=function(e,n,a){return ee.from(n).filter(function(i){return i.length>0&&!QC.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:ee.some(i)}})},i$=function(e,n,a){var i=BO(n,"default",a),s=o$(n).orThunk(function(){return BO(n,c0(n),"")});ke(Lx([i,s]),function(f){e.add(f.url,se,void 0,function(){B5(n,f.url,f.name.getOrUndefined())})})},u$=function(e,n){Q.each(Uf(e),function(a,i){cf.load(i,a,se,void 0,function(){tS(e,a,i)}),e.settings.plugins+=" "+i}),Q.each(Cs(e).split(/[ ,]/),function(a){if(a=Q.trim(a),a&&!cf.urls[a])if(VS(a)){a=a.substr(1,a.length);var i=cf.dependencies(a);Q.each(i,function(f){var g={prefix:"plugins/",resource:f,suffix:"/plugin"+n+".js"},b=cf.createUrl(g,f);cf.load(b.resource,b,se,void 0,function(){tS(e,b.prefix+b.resource+b.suffix,b.resource)})})}else{var s={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};cf.load(a,s,se,void 0,function(){tS(e,s.prefix+s.resource+s.suffix,a)})}})},s$=function(e,n){var a=Lo.ScriptLoader;a$(a,e,n,function(){r$(a,e),i$(a,e,n),u$(e,n),a.loadQueue(function(){e.removed||HS(e)},e,function(){e.removed||HS(e)})})},c$=function(e,n){return vg.forElement(e,{contentCssCors:y2(n),referrerPolicy:f0(n)})},RO=function(e){var n=e.id;$s.setCode(c2(e));var a=function(){_h.unbind(window,"ready",a),e.render()};if(!_v.Event.domLoaded){_h.bind(window,"ready",a);return}if(!!e.getElement()&&!!Mr.contentEditable){var i=L.fromDom(e.getElement()),s=xt(i);e.on("remove",function(){bn(i.dom.attributes,function(g){return Ae(i,g.name)}),T(i,s)}),e.ui.styleSheetLoader=c$(i,e),es(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var f=e.getElement().form||_h.getParent(n,"form");f&&(e.formElement=f,h2(e)&&!ng(e.getElement())&&(_h.insertAfter(_h.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(g){e.fire(g.type,g)},_h.bind(f,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),sk(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)})),e.windowManager=mA(e),e.notificationManager=sf(e),ck(e)&&e.on("GetContent",function(g){g.save&&(g.content=_h.encode(g.content))}),g0(e)&&e.on("submit",function(){e.initialized&&e.save()}),om(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),s$(e,e.suffix)}},l$=function(e,n){return MP(e,n)},N_={"font-size":"size","font-family":"face"},X1=function(e,n,a){var i=function(f){return Wa(f,e).orThunk(function(){return ni(f)==="font"?Rr(N_,e).bind(function(g){return U(f,g)}):ee.none()})},s=function(f){return oa(L.fromDom(n),f)};return HT(L.fromDom(a),function(f){return i(f)},s)},f$=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},v$=function(e,n){return ee.from(eo.DOM.getStyle(n,e,!0))},F_=function(e){return function(n,a){return ee.from(a).map(L.fromDom).filter(ri).bind(function(i){return X1(e,n,i.dom).or(v$(e,i.dom))}).getOr("")}},lf=F_("font-size"),d$=Z(f$,F_("font-family")),PO=function(e){return Lu(e.getBody()).map(function(n){var a=n.container();return $t(a)?a.parentNode:a})},$_=function(e){return ee.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?ee.none():ee.from(e.selection.getStart(!0))})},Y1=function(e,n){return $_(e).orThunk(st(PO,e)).map(L.fromDom).filter(ri).map(n)},I_=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=Jx(e),s=Jl(e);return s?s[a-1]||n:i[a-1]||n}else return n}else return n},m$=function(e){var n=e.split(/\s*,\s*/);return pt(n,function(a){return a.indexOf(" ")!==-1&&!(zt(a,'"')||zt(a,"'"))?"'"+a+"'":a}).join(",")},g$=function(e,n){var a=I_(e,n);e.formatter.toggle("fontname",{value:m$(a)}),e.nodeChanged()},h$=function(e){return Y1(e,function(n){return d$(e.getBody(),n.dom)}).getOr("")},p$=function(e,n){e.formatter.toggle("fontsize",{value:I_(e,n)}),e.nodeChanged()},z_=function(e){return Y1(e,function(n){return lf(e.getBody(),n.dom)}).getOr("")},b$=function(e){return Y1(e,function(n){var a=L.fromDom(e.getBody()),i=HT(n,function(f){return Wa(f,"line-height")},st(oa,a)),s=function(){var f=parseFloat(Nr(n,"line-height")),g=parseFloat(Nr(n,"font-size"));return String(f/g)};return i.getOrThunk(s)}).getOr("")},L_=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},H_=function(e){var n;return typeof e!="string"?(n=Q.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:n}):{content:e,details:{}}},y$=function(e,n){var a=H_(n);KC(e,a.content,a.details)},US=Q.each,w$=Q.map,C$=Q.inArray,MO=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,s){var f,g=!1,b=this;if(!b.editor.removed){if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!s||!s.skip_focus)?b.editor.focus():vC(b.editor),s=b.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),s.isDefaultPrevented())return!1;var y=n.toLowerCase();if(f=b.commands.exec[y])return f(y,a,i),b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(US(this.editor.plugins,function(O){if(O.execCommand&&O.execCommand(n,a,i))return b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),g=!0,!1}),g)return g;if(b.editor.theme&&b.editor.theme.execCommand&&b.editor.theme.execCommand(n,a,i))return b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{g=b.editor.getDoc().execCommand(n,a,i)}catch{}return g?(b.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch{}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch{}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;US(n,function(s,f){US(f.toLowerCase().split(","),function(g){i.commands[a][g]=s})})},e.prototype.addCommand=function(n,a,i){var s=this;n=n.toLowerCase(),this.commands.exec[n]=function(f,g,b,y){return a.call(i||s.editor,g,b,y)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch{}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var s=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||s.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var s=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||s.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a?{value:a}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":se,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(s){var f=n.getDoc(),g;try{a.execNativeCommand(s)}catch{g=!0}if(s==="paste"&&!f.queryCommandEnabled(s)&&(g=!0),g||!f.queryCommandSupported(s)){var b=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Mr.mac&&(b=b.replace(/Ctrl\+/g,"\u2318+")),n.notificationManager.open({text:b,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var s=n.dom.getParent(n.selection.getStart(),"a");s&&n.dom.remove(s,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(s){var f=s.substring(7);f==="full"&&(f="justify"),US("left,center,right,justify".split(","),function(g){f!==g&&n.formatter.remove("align"+g)}),f!=="none"&&a.toggleFormat("align"+f)},"InsertUnorderedList,InsertOrderedList":function(s){var f;a.execNativeCommand(s);var g=n.dom.getParent(n.selection.getNode(),"ol,ul");g&&(f=g.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(f.nodeName)&&(a.storeSelection(),n.dom.split(f,g),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(s){a.toggleFormat(s)},"ForeColor,HiliteColor":function(s,f,g){a.toggleFormat(s,g)},FontName:function(s,f,g){g$(n,g)},FontSize:function(s,f,g){p$(n,g)},LineHeight:function(s,f,g){L_(n,g)},RemoveFormat:function(s){n.formatter.remove(s)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(s,f,g){return a.toggleFormat(g||"p")},mceCleanup:function(){var s=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(s)},mceRemoveNode:function(s,f,g){var b=g||n.selection.getNode();b!==n.getBody()&&(a.storeSelection(),n.dom.remove(b,!0),a.restoreSelection())},mceSelectNodeDepth:function(s,f,g){var b=0;n.dom.getParent(n.selection.getNode(),function(y){if(y.nodeType===1&&b++===g)return n.selection.select(y),!1},n.getBody())},mceSelectNode:function(s,f,g){n.selection.select(g)},mceInsertContent:function(s,f,g){y$(n,g)},mceInsertRawHTML:function(s,f,g){n.selection.setContent("tiny_mce_marker");var b=n.getContent();n.setContent(b.replace(/tiny_mce_marker/g,function(){return g}))},mceInsertNewLine:function(s,f,g){tw(n,g)},mceToggleFormat:function(s,f,g){a.toggleFormat(g)},mceSetContent:function(s,f,g){n.setContent(g)},"Indent,Outdent":function(s){rO(n,s)},mceRepaint:se,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(s,f,g){n.execCommand("mceInsertContent",!1,g.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(s,f,g){typeof g=="string"&&(g={href:g});var b=n.dom.getParent(n.selection.getNode(),"a");g.href=g.href.replace(/ /g,"%20"),(!b||!g.href)&&n.formatter.remove("link"),g.href&&n.formatter.apply("link",g,b)},selectAll:function(){var s=n.dom.getParent(n.selection.getStart(),Ps);if(s){var f=n.dom.createRng();f.selectNodeContents(s),n.selection.setRng(f)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(s,f,g){return i_(n,g),!0}});var i=function(s){return function(){var f=n.selection,g=f.isCollapsed()?[n.dom.getParent(f.getNode(),n.dom.isBlock)]:f.getSelectedBlocks(),b=w$(g,function(y){return!!n.formatter.matchNode(y,s)});return C$(b,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(s){return a.isFormatMatch(s)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return DD(n)},"InsertUnorderedList,InsertOrderedList":function(s){var f=n.dom.getParent(n.selection.getNode(),"ul,ol");return f&&(s==="insertunorderedlist"&&f.tagName==="UL"||s==="insertorderedlist"&&f.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return h$(n)},this),a.addQueryValueHandler("FontSize",function(){return z_(n)},this),a.addQueryValueHandler("LineHeight",function(){return b$(n)},this)},e}(),hd="data-mce-contenteditable",V_=function(e,n,a){Ub(e,n)&&a===!1?Vb(e,n):a&&Gd(e,n)},NO=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch{}},WS=function(e,n){e.dom.contentEditable=n?"true":"false"},Bh=function(e){ke(oo(e,'*[contenteditable="true"]'),function(n){ms(n,hd,"true"),WS(n,!1)})},S$=function(e){ke(oo(e,"*["+hd+'="true"]'),function(n){Ae(n,hd),WS(n,!0)})},x$=function(e){ee.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},k$=function(e){e.selection.setRng(e.selection.getRng())},jS=function(e,n){var a=L.fromDom(e.getBody());V_(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),x$(e),e.readonly=!0,WS(a,!1),Bh(a)):(e.readonly=!1,WS(a,!0),S$(a),NO(e,"StyleWithCSS",!1),NO(e,"enableInlineTableEditing",!1),NO(e,"enableObjectResizing",!1),yC(e)&&e.focus(),k$(e),e.nodeChanged())},Hm=function(e){return e.readonly},FO=function(e){e.parser.addAttributeFilter("contenteditable",function(n){Hm(e)&&ke(n,function(a){a.attr(hd,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(hd,function(n){Hm(e)&&ke(n,function(a){a.attr("contenteditable",a.attr(hd))})}),e.serializer.addTempAttr(hd)},T$=function(e){e.serializer?FO(e):e.on("PreInit",function(){FO(e)})},U_=function(e){return e.type==="click"},aw=function(e,n){var a=function(i){return oa(i,L.fromDom(e.getBody()))};return kv(n,"a",a).bind(function(i){return U(i,"href")})},Vm=function(e,n){if(U_(n)&&!fr.metaKeyPressed(n)){var a=L.fromDom(n.target);aw(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var s=e.dom.select(i+',[name="'+Ge(i,"#")+'"]');s.length&&e.selection.scrollIntoView(s[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},J1=function(e){e.on("ShowCaret",function(n){Hm(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){Hm(e)&&n.preventDefault()})},$O=Q.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),ow=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||bt}return e.isNative=function(n){return!!$O[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),s=a||{};s.type=i,s.target||(s.target=this.scope),s.preventDefault||(s.preventDefault=function(){s.isDefaultPrevented=or},s.stopPropagation=function(){s.isPropagationStopped=or},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=or},s.isDefaultPrevented=bt,s.isPropagationStopped=bt,s.isImmediatePropagationStopped=bt),this.settings.beforeFire&&this.settings.beforeFire(s);var f=this.bindings[i];if(f)for(var g=0,b=f.length;g<b;g++){var y=f[g];if(y.once&&this.off(i,y.func),s.isImmediatePropagationStopped())return s.stopPropagation(),s;if(y.func.call(this.scope,s)===!1)return s.preventDefault(),s}return s},e.prototype.on=function(n,a,i,s){if(a===!1&&(a=bt),a){var f={func:a};s&&Q.extend(f,s);for(var g=n.toLowerCase().split(" "),b=g.length;b--;){var y=g[b],O=this.bindings[y];O||(O=this.bindings[y]=[],this.toggleEvent(y,!0)),i?O.unshift(f):O.push(f)}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var s=n.toLowerCase().split(" "),f=s.length;f--;){var g=s[f],b=this.bindings[g];if(!g)return Gr(this.bindings,function(O,P){i.toggleEvent(P,!1),delete i.bindings[P]}),this;if(b){if(!a)b.length=0;else for(var y=b.length;y--;)b[y].func===a&&(b=b.slice(0,y).concat(b.slice(y+1)),this.bindings[g]=b);b.length||(this.toggleEvent(n,!1),delete this.bindings[g])}}else Gr(this.bindings,function(O,P){i.toggleEvent(P,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),Z1=function(e){return e._eventDispatcher||(e._eventDispatcher=new ow({scope:e,toggleEvent:function(n,a){ow.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},iw={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var s=Z1(i).fire(e,n);if(a!==!1&&i.parent)for(var f=i.parent();f&&!s.isPropagationStopped();)f.fire(e,s,!1),f=f.parent();return s},on:function(e,n,a){return Z1(this).on(e,n,a)},off:function(e,n){return Z1(this).off(e,n)},once:function(e,n){return Z1(this).once(e,n)},hasEventListeners:function(e){return Z1(this).has(e)}},qS=eo.DOM,Um,uw=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=m0(e);return a?(e.eventRoot||(e.eventRoot=qS.select(a)[0]),e.eventRoot):e.getBody()},E$=function(e){return!e.hidden&&!Hm(e)},W_=function(e,n,a){E$(e)?e.fire(n,a):Hm(e)&&Vm(e,a)},j_=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=uw(e,n);if(m0(e)){if(Um||(Um={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Um&&(Gr(Um,function(s,f){e.dom.unbind(uw(e,f))}),Um=null)})),Um[n])return;a=function(s){for(var f=s.target,g=e.editorManager.get(),b=g.length;b--;){var y=g[b].getBody();(y===f||qS.isChildOf(f,y))&&W_(g[b],n,s)}},Um[n]=a,qS.bind(i,n,a)}else a=function(s){W_(e,n,s)},qS.bind(i,n,a),e.delegates[n]=a}},q_=Gn(Gn({},iw),{bindPendingEventDelegates:function(){var e=this;Q.each(e._pendingNativeEvents,function(n){j_(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||(n?a.initialized?j_(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(uw(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(Gr(e.delegates,function(i,s){e.dom.unbind(uw(e,s),s,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),O$=["design","readonly"],G_=function(e,n,a,i){var s=a[n.get()],f=a[i];try{f.activate()}catch(g){console.error("problem while activating editor mode "+i+":",g);return}s.deactivate(),s.editorReadOnly!==f.editorReadOnly&&jS(e,f.editorReadOnly),n.set(i),U2(e,i)},K_=function(e,n,a,i){if(i!==a.get()){if(!Or(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?G_(e,a,n,i):e.on("init",function(){return G_(e,a,n,i)})}},X_=function(e,n,a){var i;if(We(O$,n))throw new Error("Cannot override default mode "+n);return Gn(Gn({},e),(i={},i[n]=Gn(Gn({},a),{deactivate:function(){try{a.deactivate()}catch(s){console.error("problem while deactivating editor mode "+n+":",s)}}}),i))},A$=function(e){var n=No("design"),a=No({design:{activate:se,deactivate:se,editorReadOnly:!1},readonly:{activate:se,deactivate:se,editorReadOnly:!0}});return T$(e),J1(e),{isReadOnly:function(){return Hm(e)},set:function(i){return K_(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,s){a.set(X_(a.get(),i,s))}}},IO=Q.each,zO=Q.explode,D$={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Y_=Q.makeMap("alt,ctrl,shift,meta,access"),_$=function(e){var n,a={};IO(zO(e.toLowerCase(),"+"),function(s){s in Y_?a[s]=!0:/^[0-9]{2,}$/.test(s)?a.keyCode=parseInt(s,10):(a.charCode=s.charCodeAt(0),a.keyCode=D$[s]||s.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in Y_)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,Mr.mac?a.ctrl=!0:a.shift=!0),a.meta&&(Mr.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},J_=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(IO(a.shortcuts,function(s){if(a.matchShortcut(i,s))return a.pendingPatterns=s.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(s),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,s){var f=this,g=f.normalizeCommandFunc(i);return IO(zO(Q.trim(n)),function(b){var y=f.createShortcut(b,a,g,s);f.shortcuts[y.id]=y}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:Q.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,s){var f=Q.map(zO(n,">"),_$);return f[f.length-1]=Q.extend(f[f.length-1],{func:i,scope:s||this.editor}),Q.extend(f[0],{desc:this.editor.translate(a),subpatterns:f.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),B$=function(){var e={},n={},a={},i={},s={},f={},g={},b=function(O,P){return function(R,M){return O[R.toLowerCase()]=Gn(Gn({},M),{type:P})}},y=function(O,P){return i[O.toLowerCase()]=P};return{addButton:b(e,"button"),addGroupToolbarButton:b(e,"grouptoolbarbutton"),addToggleButton:b(e,"togglebutton"),addMenuButton:b(e,"menubutton"),addSplitButton:b(e,"splitbutton"),addMenuItem:b(n,"menuitem"),addNestedMenuItem:b(n,"nestedmenuitem"),addToggleMenuItem:b(n,"togglemenuitem"),addAutocompleter:b(a,"autocompleter"),addContextMenu:b(s,"contextmenu"),addContextToolbar:b(f,"contexttoolbar"),addContextForm:b(f,"contextform"),addSidebar:b(g,"sidebar"),addIcon:y,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:s,contextToolbars:f,sidebars:g}}}},R$=function(){var e=B$();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},_l=Q.each,P$=Q.trim,M$="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),N$={ftp:21,http:80,https:443,mailto:25},Wm=function(){function e(n,a){n=P$(n),this.settings=a||{};var i=this.settings.base_uri,s=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){s.source=n;return}var f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var g=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+s.toAbsPath(g,n);else{var b=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+s.toAbsPath(g,b[1])+b[2]}}n=n.replace(/@@/g,"(mce_at)");var y=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);_l(M$,function(O,P){var R=y[P];R&&(R=R.replace(/\(mce_at\)/g,"@@")),s[O]=R}),i&&(s.protocol||(s.protocol=i.protocol),s.userInfo||(s.userInfo=i.userInfo),!s.port&&s.host==="mce_host"&&(s.port=i.port),(!s.host||s.host==="mce_host")&&(s.host=i.host),s.source=""),f&&(s.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),s=/data:([^;]+)/.exec(i[0]);return s&&(a=s[1]),{type:a,data:i[1]}},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var s=this.getURI(),f=i.getURI();return s===f||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===f?s:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=N$[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,s="",f,g,b=n.substring(0,n.lastIndexOf("/")).split("/"),y=a.split("/");if(b.length>=y.length){for(f=0,g=b.length;f<g;f++)if(f>=y.length||b[f]!==y[f]){i=f+1;break}}if(b.length<y.length){for(f=0,g=y.length;f<g;f++)if(f>=b.length||b[f]!==y[f]){i=f+1;break}}if(i===1)return a;for(f=0,g=b.length-(i-1);f<g;f++)s+="../";for(f=i-1,g=y.length;f<g;f++)f!==i-1?s+="/"+y[f]:s+=y[f];return s},e.prototype.toAbsPath=function(n,a){var i,s=0,f=[],g,b=/\/$/.test(a)?"/":"",y=n.split("/"),O=a.split("/");for(_l(y,function(P){P&&f.push(P)}),y=f,i=O.length-1,f=[];i>=0;i--)if(!(O[i].length===0||O[i]===".")){if(O[i]===".."){s++;continue}if(s>0){s--;continue}f.push(O[i])}return i=y.length-s,i<=0?g=Wt(f).join("/"):g=y.slice(0,i).join("/")+"/"+Wt(f).join("/"),g.indexOf("/")!==0&&(g="/"+g),b&&g.lastIndexOf("/")!==g.length-1&&(g+=b),g},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),pd=eo.DOM,Z_=Q.extend,LO=Q.each,GS=Q.resolve,Q_=Mr.ie,Rh=function(){function e(n,a,i){var s=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,Z_(this,q_),this.settings=uA(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(Lo.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),eo.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Qu.languageLoad=this.settings.language_load,Qu.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new Wm(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new J_(this),this.editorCommands=new MO(this),this.settings.cache_suffix&&(Mr.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:R$(),styleSheetLoader:void 0,show:se,hide:se,enable:se,disable:se,isDisabled:bt};var f=this,g=A$(f);this.mode=g,this.setMode=g.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Wr.overrideDefaults(function(){return{context:s.inline?s.getBody():s.getDoc(),element:s.getBody()}})}return e.prototype.render=function(){RO(this)},e.prototype.focus=function(n){wC(this,n)},e.prototype.hasFocus=function(){return tv(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var s=this,f=s.settings[n],g;if(!!f)return s.callbackLookup&&(g=s.callbackLookup[n])&&(f=g.func,g=g.scope),typeof f=="string"&&(g=f.replace(/\.\w+$/,""),g=g?GS(g):0,f=GS(f),s.callbackLookup=s.callbackLookup||{},s.callbackLookup[n]={func:f,scope:g}),f.apply(g||s,a)},e.prototype.translate=function(n){return $s.translate(n)},e.prototype.getParam=function(n,a,i){return k5(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=We(Cs(this).split(/[ ,]/),n);return i?a?cf.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,s){this.shortcuts.add(n,a,i,s)},e.prototype.execCommand=function(n,a,i,s){return this.editorCommands.execCommand(n,a,i,s)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(pd.show(n.getContainer()),pd.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(Q_&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(pd.hide(n.getContainer()),pd.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),s;if(a.removed)return"";if(i){n=n||{},n.load=!0;var f=ng(i)?i.value:i.innerHTML;return s=a.setContent(f,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,s}},e.prototype.save=function(n){var a=this,i=a.getElement(),s,f;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,s=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),s=n.content,ng(i)?i.value=s:((n.is_removing||!a.inline)&&(i.innerHTML=s),(f=pd.getParent(a.id,"form"))&&LO(f.elements,function(g){if(g.name===a.id)return g.value=s,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),s},e.prototype.setContent=function(n,a){return YC(this,n,a)},e.prototype.getContent=function(n){return Su(this,n)},e.prototype.insertContent=function(n,a){a&&(n=Z_({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?YC(this,this.startContent,{format:"raw"}):YC(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=pd.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=pd.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var s=this,f=s.settings;return f.urlconverter_callback?s.execCallback("urlconverter_callback",n,i,!0,a):!f.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f.relative_urls?s.documentBaseURI.toRelative(n):(n=s.documentBaseURI.toAbsolute(n,f.remove_script_host),n)},e.prototype.addVisual=function(n){l$(this,n)},e.prototype.remove=function(){m5(this)},e.prototype.destroy=function(n){g5(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Vc=eo.DOM,eB=Q.explode,fv=Q.each,F$=Q.extend,KS=0,tB=!1,XS,jm=[],Es=[],nB=function(e){return e!=="length"},rB=function(e){var n=e.type;fv(qm.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},aB=function(e){e!==tB&&(e?Wr(window).on("resize scroll",rB):Wr(window).off("resize scroll",rB),tB=e)},oB=function(e){var n=Es;delete jm[e.id];for(var a=0;a<jm.length;a++)if(jm[a]===e){jm.splice(a,1);break}return Es=on(Es,function(i){return e!==i}),qm.activeEditor===e&&(qm.activeEditor=Es.length>0?Es[0]:null),qm.focusedEditor===e&&(qm.focusedEditor=null),n.length!==Es.length},$$=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(oB(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},I$=document.compatMode!=="CSS1Compat",qm=Gn(Gn({},iw),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Wr,majorVersion:"5",minorVersion:"8.2",releaseDate:"2021-06-23",editors:jm,i18n:$s,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=Wm.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var s=window.tinymce||window.tinyMCEPreInit;if(s)n=s.base||s.baseURL,i=s.suffix;else{for(var f=document.getElementsByTagName("script"),g=0;g<f.length;g++){var b=f[g].src||"";if(b!==""){var y=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){y.indexOf(".min")!==-1&&(i=".min"),n=b.substring(0,b.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var b=document.currentScript.src;b.indexOf(".min")!==-1&&(i=".min"),n=b.substring(0,b.lastIndexOf("/"))}}e.baseURL=new Wm(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new Wm(e.baseURL),e.suffix=i,hC(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&Gr(i,function(s,f){Qu.PluginManager.urls[f]=s})},init:function(e){var n=this,a,i=Q.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),s=function(R,M){return R.inline&&M.tagName.toLowerCase()in i},f=function(R){var M=R.id;return M||(M=Rr(R,"name").filter(function(W){return!Vc.get(W)}).getOrThunk(Vc.uniqueId),R.setAttribute("id",M)),M},g=function(R){var M=e[R];if(!!M)return M.apply(n,[])},b=function(R,M){return M.constructor===RegExp?M.test(R.className):Vc.hasClass(R,M)},y=function(R){var M=[];if(Mr.browser.isIE()&&Mr.browser.version.major<11)return nS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(I$)return nS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(R.types)return fv(R.types,function(K){M=M.concat(Vc.select(K.selector))}),M;if(R.selector)return Vc.select(R.selector);if(R.target)return[R.target];switch(R.mode){case"exact":var W=R.elements||"";W.length>0&&fv(eB(W),function(K){var J=Vc.get(K);J?M.push(J):fv(document.forms,function(V){fv(V.elements,function(ge){ge.name===K&&(K="mce_editor_"+KS++,Vc.setAttrib(ge,"id",K),M.push(ge))})})});break;case"textareas":case"specific_textareas":fv(Vc.select("textarea"),function(K){R.editor_deselector&&b(K,R.editor_deselector)||(!R.editor_selector||b(K,R.editor_selector))&&M.push(K)});break}return M},O=function(R){a=R},P=function(){var R=0,M=[],W,K=function(J,V,ge){var le=new Rh(J,V,n);M.push(le),le.on("init",function(){++R===W.length&&O(M)}),le.targetElm=le.targetElm||ge,le.render()};if(Vc.unbind(window,"ready",P),g("onpageload"),W=Wr.unique(y(e)),e.types){fv(e.types,function(J){Q.each(W,function(V){return Vc.is(V,J.selector)?(K(f(V),F$({},e,J),V),!1):!0})});return}Q.each(W,function(J){$$(n.get(J.id))}),W=Q.grep(W,function(J){return!n.get(J.id)}),W.length===0?O([]):fv(W,function(J){s(e,J)?nS("Could not initialize inline editor on invalid inline target element",J):K(f(J),e,J)})};return n.settings=e,Vc.bind(window,"ready",P),new Ni(function(R){a?R(a):O=function(M){R(M)}})},get:function(e){return arguments.length===0?Es.slice(0):ct(e)?Ut(Es,function(n){return n.id===e}).getOr(null):Vt(e)&&Es[e]?Es[e]:null},add:function(e){var n=this,a=jm[e.id];return a===e||(n.get(e.id)===null&&(nB(e.id)&&(jm[e.id]=e),jm.push(e),Es.push(e)),aB(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),XS||(XS=function(i){var s=n.fire("BeforeUnload");if(s.returnValue)return i.preventDefault(),i.returnValue=s.returnValue,s.returnValue},window.addEventListener("beforeunload",XS))),e},createEditor:function(e,n){return this.add(new Rh(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=Es.length-1;a>=0;a--)n.remove(Es[a]);return}if(ct(e)){fv(Vc.select(e),function(s){i=n.get(s.id),i&&n.remove(i)});return}return i=e,_t(n.get(i.id))?null:(oB(i)&&n.fire("RemoveEditor",{editor:i}),Es.length===0&&window.removeEventListener("beforeunload",XS),i.remove(),aB(Es.length>0),i)},execCommand:function(e,n,a){var i=this,s=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new Rh(a,i.settings,i).render(),!0;case"mceRemoveEditor":return s&&s.remove(),!0;case"mceToggleEditor":return s?(s.isHidden()?s.show():s.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){fv(Es,function(e){e.save()})},addI18n:function(e,n){$s.add(e,n)},translate:function(e){return $s.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Wm(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Wm(this.baseURL)}});qm.setup();var iB=Math.min,Q1=Math.max,YS=Math.round,Os=function(e,n,a){var i=n.x,s=n.y,f=e.w,g=e.h,b=n.w,y=n.h,O=(a||"").split("");return O[0]==="b"&&(s+=y),O[1]==="r"&&(i+=b),O[0]==="c"&&(s+=YS(y/2)),O[1]==="c"&&(i+=YS(b/2)),O[3]==="b"&&(s-=g),O[4]==="r"&&(i-=f),O[3]==="c"&&(s-=YS(g/2)),O[4]==="c"&&(i-=YS(f/2)),eb(i,s,f,g)},z$=function(e,n,a,i){var s,f;for(f=0;f<i.length;f++)if(s=Os(e,n,i[f]),s.x>=a.x&&s.x+s.w<=a.w+a.x&&s.y>=a.y&&s.y+s.h<=a.h+a.y)return i[f];return null},L$=function(e,n,a){return eb(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},H$=function(e,n){var a=Q1(e.x,n.x),i=Q1(e.y,n.y),s=iB(e.x+e.w,n.x+n.w),f=iB(e.y+e.h,n.y+n.h);return s-a<0||f-i<0?null:eb(a,i,s-a,f-i)},V$=function(e,n,a){var i=e.x,s=e.y,f=e.x+e.w,g=e.y+e.h,b=n.x+n.w,y=n.y+n.h,O=Q1(0,n.x-i),P=Q1(0,n.y-s),R=Q1(0,f-b),M=Q1(0,g-y);return i+=O,s+=P,a&&(f+=O,g+=P,i-=R,s-=M),f-=R,g-=M,eb(i,s,f-i,g-s)},eb=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},JS=function(e){return eb(e.left,e.top,e.width,e.height)},U$={inflate:L$,relativePosition:Os,findBestRelativePosition:z$,intersect:H$,clamp:V$,create:eb,fromClientRect:JS},W$=function(e,n,a){a===void 0&&(a=1e3);var i=!1,s=null,f=function(O){return function(){for(var P=[],R=0;R<arguments.length;R++)P[R]=arguments[R];i||(i=!0,s!==null&&(clearTimeout(s),s=null),O.apply(null,P))}},g=f(e),b=f(n),y=function(){for(var O=[],P=0;P<arguments.length;P++)O[P]=arguments[P];!i&&s===null&&(s=setTimeout(function(){return b.apply(null,O)},a))};return{start:y,resolve:g,reject:b}},uB=function(){var e={},n={},a=function(s,f){var g='Script at URL "'+f+'" failed to load',b='Script at URL "'+f+"\" did not call `tinymce.Resource.add('"+s+"', data)` within 1 second";if(e[s]!==void 0)return e[s];var y=new Ni(function(O,P){var R=W$(O,P);n[s]=R.resolve,Lo.ScriptLoader.loadScript(f,function(){return R.start(b)},function(){return R.reject(g)})});return e[s]=y,y},i=function(s,f){n[s]!==void 0&&(n[s](f),delete n[s]),e[s]=Ni.resolve(f)};return{load:a,add:i}},sB=uB(),ZS=Q.each,j$=Q.extend,QS,HO,VO=function(){};VO.extend=QS=function(e){var n=this,a=n.prototype,i=function(){var b,y,O,P=this;if(!HO&&(P.init&&P.init.apply(P,arguments),y=P.Mixins,y))for(b=y.length;b--;)O=y[b],O.init&&O.init.apply(P,arguments)},s=function(){return this},f=function(b,y){return function(){var O=this,P=O._super;O._super=a[b];var R=y.apply(O,arguments);return O._super=P,R}};HO=!0;var g=new n;return HO=!1,e.Mixins&&(ZS(e.Mixins,function(b){for(var y in b)y!=="init"&&(e[y]=b[y])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&ZS(e.Methods.split(","),function(b){e[b]=s}),e.Properties&&ZS(e.Properties.split(","),function(b){var y="_"+b;e[b]=function(O){var P=this;return O!==void 0?(P[y]=O,P):P[y]}}),e.Statics&&ZS(e.Statics,function(b,y){i[y]=b}),e.Defaults&&a.Defaults&&(e.Defaults=j$({},a.Defaults,e.Defaults)),Gr(e,function(b,y){typeof b=="function"&&a[y]?g[y]=f(y,b):g[y]=b}),i.prototype=g,i.constructor=i,i.extend=QS,i};var ex=Math.min,sw=Math.max,Ph=Math.round,cB=function(e){var n={},a=0,i=0,s=0,f=function(R,M,W){var K,J,V;K=0,J=0,V=0,R=R/255,M=M/255,W=W/255;var ge=ex(R,ex(M,W)),le=sw(R,sw(M,W));if(ge===le)return V=ge,{h:0,s:0,v:V*100};var pe=R===ge?M-W:W===ge?R-M:W-R;return K=R===ge?3:W===ge?1:5,K=60*(K-pe/(le-ge)),J=(le-ge)/le,V=le,{h:Ph(K),s:Ph(J*100),v:Ph(V*100)}},g=function(R,M,W){if(R=(parseInt(R,10)||0)%360,M=parseInt(M,10)/100,W=parseInt(W,10)/100,M=sw(0,ex(M,1)),W=sw(0,ex(W,1)),M===0){a=i=s=Ph(255*W);return}var K=R/60,J=W*M,V=J*(1-Math.abs(K%2-1)),ge=W-J;switch(Math.floor(K)){case 0:a=J,i=V,s=0;break;case 1:a=V,i=J,s=0;break;case 2:a=0,i=J,s=V;break;case 3:a=0,i=V,s=J;break;case 4:a=V,i=0,s=J;break;case 5:a=J,i=0,s=V;break;default:a=i=s=0}a=Ph(255*(a+ge)),i=Ph(255*(i+ge)),s=Ph(255*(s+ge))},b=function(){var R=function(M){return M=parseInt(M,10).toString(16),M.length>1?M:"0"+M};return"#"+R(a)+R(i)+R(s)},y=function(){return{r:a,g:i,b:s}},O=function(){return f(a,i,s)},P=function(R){var M;return typeof R=="object"?"r"in R?(a=R.r,i=R.g,s=R.b):"v"in R&&g(R.h,R.s,R.v):(M=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(R))?(a=parseInt(M[1],10),i=parseInt(M[2],10),s=parseInt(M[3],10)):(M=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(R))?(a=parseInt(M[1],16),i=parseInt(M[2],16),s=parseInt(M[3],16)):(M=/#([0-F])([0-F])([0-F])/gi.exec(R))&&(a=parseInt(M[1]+M[1],16),i=parseInt(M[2]+M[2],16),s=parseInt(M[3]+M[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,n};return e&&P(e),n.toRgb=y,n.toHsv=O,n.toHex=b,n.parse=P,n},q$=function(e){var n=JSON.stringify(e);return ct(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},UO={serialize:q$,parse:function(e){try{return JSON.parse(e)}catch{}}},G$={callbacks:{},count:0,send:function(e){var n=this,a=eo.DOM,i=e.count!==void 0?e.count:n.count,s="tinymce_jsonp_"+i;n.callbacks[i]=function(f){a.remove(s),delete n.callbacks[i],e.callback(f)},a.add(a.doc.body,"script",{id:s,src:e.url,type:"text/javascript"}),n.count++}},cw=Gn(Gn({},iw),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):Hn.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",cw.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Q.each(e.requestheaders,function(s){n.setRequestHeader(s.key,s.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=cw.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();Hn.setTimeout(i,10)}}),lB=Q.extend,K$=function(){function e(n){this.settings=lB({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,s=lB(this.settings,n);s.success=function(f,g){f=UO.parse(f),typeof f=="undefined"&&(f={error:"JSON Parse error."}),f.error?a.call(s.error_scope||s.scope,f.error,g):i.call(s.success_scope||s.scope,f.result)},s.error=function(f,g){a&&a.call(s.error_scope||s.scope,f,g)},s.data=UO.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),s.content_type="application/json",cw.send(s)},e}(),X$=function(){return function(){var e={},n=[],a={getItem:function(i){var s=e[i];return s||null},setItem:function(i,s){n.push(i),e[i]=String(s)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(s){return s===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},lw;try{var tx="__storage_test__";lw=window.localStorage,lw.setItem(tx,tx),lw.removeItem(tx)}catch{lw=X$()}var Y$=lw,J$={geom:{Rect:U$},util:{Promise:Ni,Delay:Hn,Tools:Q,VK:fr,URI:Wm,Class:VO,EventDispatcher:ow,Observable:iw,I18n:$s,XHR:cw,JSON:UO,JSONRequest:K$,JSONP:G$,LocalStorage:Y$,Color:cB,ImageUploader:F5},dom:{EventUtils:_v,Sizzle:ka,DomQuery:Wr,TreeWalker:yi,TextSeeker:Gw,DOMUtils:eo,ScriptLoader:Lo,RangeUtils:Fc,Serializer:Z3,StyleSheetLoader:Tf,ControlSelection:Jg,BookmarkManager:id,Selection:$3,Event:_v.Event},html:{Styles:Av,Entities:gu,Node:nc,Schema:Wl,SaxParser:h1,DomParser:XC,Writer:by,Serializer:u},Env:Mr,AddOnManager:Qu,Annotator:Qp,Formatter:kA,UndoManager:TA,EditorCommands:MO,WindowManager:mA,NotificationManager:sf,EditorObservable:q_,Shortcuts:J_,Editor:Rh,FocusManager:bl,EditorManager:qm,DOM:eo.DOM,ScriptLoader:Lo.ScriptLoader,PluginManager:cf,ThemeManager:Mm,IconManager:QC,Resource:sB,trim:Q.trim,isArray:Q.isArray,is:Q.is,toArray:Q.toArray,makeMap:Q.makeMap,each:Q.each,map:Q.map,grep:Q.grep,inArray:Q.inArray,extend:Q.extend,create:Q.create,walk:Q.walk,createNS:Q.createNS,resolve:Q.resolve,explode:Q.explode,_addCacheSuffix:Q._addCacheSuffix,isOpera:Mr.opera,isWebKit:Mr.webkit,isIE:Mr.ie,isGecko:Mr.gecko,isMac:Mr.mac},fB=Q.extend(qm,J$),Z$=function(e){try{Ze.exports=e}catch{}},vB=function(e){window.tinymce=e,window.tinyMCE=e};vB(fB),Z$(fB)})()})(Bz);var ib=Bz.exports;tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var Ze=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},Ht=function(t){return function(r){return Ze(r)===t}},En=function(t){return function(r){return typeof r===t}},lr=function(t){return function(r){return t===r}},pn=Ht("string"),rr=Ht("object"),Nn=Ht("array"),jn=En("boolean"),kr=lr(void 0),$r=function(t){return t==null},Cn=function(t){return!$r(t)},ut=En("function"),On=En("number"),Jt=function(t,r){if(Nn(t)){for(var o=0,c=t.length;o<c;++o)if(!r(t[o]))return!1;return!0}return!1},nt=function(){},cr=function(t){return function(){return t()}},ct=function(t,r){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return t(r.apply(null,o))}},tr=function(t,r){return function(o){return t(r(o))}},re=function(t){return function(){return t}},_t=function(t){return t};function ar(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var c=[],v=0;v<arguments.length;v++)c[v]=arguments[v];var m=r.concat(c);return t.apply(null,m)}}var qn=function(t){return function(r){return!t(r)}},Qt=function(t){return function(){throw new Error(t)}},Gt=re(!1),Zt=re(!0),Vt=tinymce.util.Tools.resolve("tinymce.ThemeManager"),se=function(){return se=Object.assign||function(r){for(var o,c=1,v=arguments.length;c<v;c++){o=arguments[c];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(r[m]=o[m])}return r},se.apply(this,arguments)};function Z(t,r){var o={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&r.indexOf(c)<0&&(o[c]=t[c]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,c=Object.getOwnPropertySymbols(t);v<c.length;v++)r.indexOf(c[v])<0&&Object.prototype.propertyIsEnumerable.call(t,c[v])&&(o[c[v]]=t[c[v]]);return o}function qe(){for(var t=0,r=0,o=arguments.length;r<o;r++)t+=arguments[r].length;for(var c=Array(t),v=0,r=0;r<o;r++)for(var m=arguments[r],p=0,C=m.length;p<C;p++,v++)c[v]=m[p];return c}var Ve=function(){return Ft},Ft=function(){var t=function(v){return v.isNone()},r=function(v){return v()},o=function(v){return v},c={fold:function(v,m){return v()},is:Gt,isSome:Gt,isNone:Zt,getOr:o,getOrThunk:r,getOrDie:function(v){throw new Error(v||"error: getOrDie called on none.")},getOrNull:re(null),getOrUndefined:re(void 0),or:o,orThunk:r,map:Ve,each:nt,bind:Ve,exists:Gt,forall:Zt,filter:Ve,equals:t,equals_:t,toArray:function(){return[]},toString:re("none()")};return c}(),st=function(t){var r=re(t),o=function(){return v},c=function(m){return m(t)},v={fold:function(m,p){return p(t)},is:function(m){return t===m},isSome:Zt,isNone:Gt,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(m){return st(m(t))},each:function(m){m(t)},bind:c,exists:c,forall:c,filter:function(m){return m(t)?v:Ft},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(m){return m.is(t)},equals_:function(m,p){return m.fold(Gt,function(C){return p(t,C)})}};return v},Xn=function(t){return t==null?Ft:st(t)},E={some:st,none:Ve,from:Xn},yt=Array.prototype.slice,wt=Array.prototype.indexOf,bt=Array.prototype.push,or=function(t,r){return wt.call(t,r)},dr=function(t,r){var o=or(t,r);return o===-1?E.none():E.some(o)},Sn=function(t,r){return or(t,r)>-1},Dn=function(t,r){for(var o=0,c=t.length;o<c;o++){var v=t[o];if(r(v,o))return!0}return!1},wr=function(t,r){for(var o=[],c=0;c<t;c++)o.push(r(c));return o},ee=function(t,r){for(var o=[],c=0;c<t.length;c+=r){var v=yt.call(t,c,c+r);o.push(v)}return o},Pe=function(t,r){for(var o=t.length,c=new Array(o),v=0;v<o;v++){var m=t[v];c[v]=r(m,v)}return c},Ct=function(t,r){for(var o=0,c=t.length;o<c;o++){var v=t[o];r(v,o)}},$n=function(t,r){for(var o=t.length-1;o>=0;o--){var c=t[o];r(c,o)}},Bn=function(t,r){for(var o=[],c=[],v=0,m=t.length;v<m;v++){var p=t[v],C=r(p,v)?o:c;C.push(p)}return{pass:o,fail:c}},de=function(t,r){for(var o=[],c=0,v=t.length;c<v;c++){var m=t[c];r(m,c)&&o.push(m)}return o},We=function(t,r,o){return $n(t,function(c){o=r(o,c)}),o},Be=function(t,r,o){return Ct(t,function(c){o=r(o,c)}),o},pt=function(t,r,o){for(var c=0,v=t.length;c<v;c++){var m=t[c];if(r(m,c))return E.some(m);if(o(m,c))break}return E.none()},ke=function(t,r){return pt(t,r,Gt)},bn=function(t,r){for(var o=0,c=t.length;o<c;o++){var v=t[o];if(r(v,o))return E.some(o)}return E.none()},br=function(t){for(var r=[],o=0,c=t.length;o<c;++o){if(!Nn(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);bt.apply(r,t[o])}return r},on=function(t,r){return br(Pe(t,r))},zr=function(t,r){for(var o=0,c=t.length;o<c;++o){var v=t[o];if(r(v,o)!==!0)return!1}return!0},Jn=function(t){var r=yt.call(t,0);return r.reverse(),r},it=function(t,r){return de(t,function(o){return!Sn(r,o)})},Ut=function(t,r){for(var o={},c=0,v=t.length;c<v;c++){var m=t[c];o[String(m)]=r(m,c)}return o},xn=function(t,r){var o=yt.call(t,0);return o.sort(r),o},Ye=function(t,r){return r>=0&&r<t.length?E.some(t[r]):E.none()},He=function(t){return Ye(t,0)},mt=function(t){return Ye(t,t.length-1)},Wt=ut(Array.from)?Array.from:function(t){return yt.call(t)},sn=function(t,r){for(var o=0;o<t.length;o++){var c=r(t[o],o);if(c.isSome())return c}return E.none()},gr=function(t){var r=function(N){return t===N},o=function(N){return gr(t)},c=function(N){return gr(t)},v=function(N){return gr(N(t))},m=function(N){return gr(t)},p=function(N){N(t)},C=function(N){return N(t)},S=function(N,j){return j(t)},k=function(N){return N(t)},D=function(N){return N(t)},B=function(){return E.some(t)};return{is:r,isValue:Zt,isError:Gt,getOr:re(t),getOrThunk:re(t),getOrDie:re(t),or:o,orThunk:c,fold:S,map:v,mapError:m,each:p,bind:C,exists:k,forall:D,toOptional:B}},Lr=function(t){var r=function(k){return k()},o=function(){return Qt(String(t))()},c=function(k){return k},v=function(k){return k()},m=function(k){return Lr(t)},p=function(k){return Lr(k(t))},C=function(k){return Lr(t)},S=function(k,D){return k(t)};return{is:Gt,isValue:Gt,isError:Zt,getOr:_t,getOrThunk:r,getOrDie:o,or:c,orThunk:v,fold:S,map:m,mapError:p,each:nt,bind:C,exists:Gt,forall:Zt,toOptional:E.none}},Cr=function(t,r){return t.fold(function(){return Lr(r)},gr)},vn={value:gr,error:Lr,fromOption:Cr},Br;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Br||(Br={}));var qr=function(t,r,o){return t.stype===Br.Error?r(t.serror):o(t.svalue)},Ma=function(t){var r=[],o=[];return Ct(t,function(c){qr(c,function(v){return o.push(v)},function(v){return r.push(v)})}),{values:r,errors:o}},Na=function(t,r){return t.stype===Br.Error?{stype:Br.Error,serror:r(t.serror)}:t},Pa=function(t,r){return t.stype===Br.Value?{stype:Br.Value,svalue:r(t.svalue)}:t},Gr=function(t,r){return t.stype===Br.Value?r(t.svalue):t},Fa=function(t,r){return t.stype===Br.Error?r(t.serror):t},De=function(t){return{stype:Br.Value,svalue:t}},dt=function(t){return{stype:Br.Error,serror:t}},jt=function(t){return qr(t,vn.error,vn.value)},zn=function(t){return t.fold(dt,De)},cn={fromResult:zn,toResult:jt,svalue:De,partition:Ma,serror:dt,bind:Gr,bindError:Fa,map:Pa,mapError:Na,fold:qr},hr=Object.keys,Ka=Object.hasOwnProperty,Rr=function(t,r){for(var o=hr(t),c=0,v=o.length;c<v;c++){var m=o[c],p=t[m];r(p,m)}},Or=function(t,r){return go(t,function(o,c){return{k:c,v:r(o,c)}})},go=function(t,r){var o={};return Rr(t,function(c,v){var m=r(c,v);o[m.k]=m.v}),o},Co=function(t){return function(r,o){t[o]=r}},So=function(t,r,o,c){var v={};return Rr(t,function(m,p){(r(m,p)?o:c)(m,p)}),v},di=function(t,r){var o={};return So(t,r,Co(o),nt),o},Ja=function(t,r){var o=[];return Rr(t,function(c,v){o.push(r(c,v))}),o},xo=function(t,r){for(var o=hr(t),c=0,v=o.length;c<v;c++){var m=o[c],p=t[m];if(r(p,m,t))return E.some(p)}return E.none()},io=function(t){return Ja(t,function(r){return r})},Pn=function(t,r){return Oa(t,r)?E.from(t[r]):E.none()},Oa=function(t,r){return Ka.call(t,r)},La=function(t,r){return Oa(t,r)&&t[r]!==void 0&&t[r]!==null},so=function(t){if(!Nn(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return Ct(t,function(c,v){var m=hr(c);if(m.length!==1)throw new Error("one and only one name per case");var p=m[0],C=c[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Nn(C))throw new Error("case arguments must be an array");r.push(p),o[p]=function(){for(var S=[],k=0;k<arguments.length;k++)S[k]=arguments[k];var D=S.length;if(D!==C.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+C.length+" ("+C+"), got "+D);var B=function(N){var j=hr(N);if(r.length!==j.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+j.join(","));var te=zr(r,function(ne){return Sn(j,ne)});if(!te)throw new Error("Not all branches were specified when using match. Specified: "+j.join(", ")+`
Required: `+r.join(", "));return N[p].apply(null,S)};return{fold:function(){for(var N=[],j=0;j<arguments.length;j++)N[j]=arguments[j];if(N.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+N.length);var te=N[v];return te.apply(null,S)},match:B,log:function(N){console.log(N,{constructors:r,constructor:p,params:S})}}}}),o},Gn={generate:so},ho=Object.prototype.hasOwnProperty,_o=function(t,r){return r},Io=function(t,r){var o=rr(t)&&rr(r);return o?Hr(t,r):r},ei=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var c={},v=0;v<r.length;v++){var m=r[v];for(var p in m)ho.call(m,p)&&(c[p]=t(c[p],m[p]))}return c}},Hr=ei(Io),Wo=ei(_o),ko=function(t){var r=!1,o;return function(){for(var c=[],v=0;v<arguments.length;v++)c[v]=arguments[v];return r||(r=!0,o=t.apply(null,c)),o}},Po=Gn.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),jo=function(t){return Po.defaultedThunk(re(t))},ce=function(t){return Po.mergeWithThunk(re(t))},Ee=Po.strict,$e=Po.asOption,je=Po.defaultedThunk;Po.asDefaultedOptionThunk;var G=Po.mergeWithThunk;Gn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var ue=function(t){var r=[],o=[];return Ct(t,function(c){c.fold(function(v){r.push(v)},function(v){o.push(v)})}),{errors:r,values:o}},Fe=function(t,r){var o={};return Rr(t,function(c,v){Sn(r,v)||(o[v]=c)}),o},Ge=function(t,r){var o;return o={},o[t]=r,o},Xe=function(t){var r={};return Ct(t,function(o){r[o.key]=o.value}),r},zt=function(t,r){return Fe(t,r)},fn=function(t,r){return Ge(t,r)},Ln=function(t){return Xe(t)},Sr=function(t,r){return t.length===0?vn.value(r):vn.value(Hr(r,Wo.apply(void 0,t)))},lt=function(t){return vn.error(br(t))},Vr=function(t,r){var o=ue(t);return o.errors.length>0?lt(o.errors):Sr(o.values,r)},Za=function(t,r){return t.length>0?cn.svalue(Hr(r,Wo.apply(void 0,t))):cn.svalue(r)},co=function(t){return ct(cn.serror,br)(t)},Ha=function(t,r){var o=cn.partition(t);return o.errors.length>0?co(o.errors):Za(o.values,r)},_n=function(t){var r=cn.partition(t);return r.errors.length>0?co(r.errors):cn.svalue(r.values)},Qr={consolidateObj:Ha,consolidateArr:_n},Va=function(t){return rr(t)&&hr(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Y=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):t;return Pe(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},Ce=function(t,r){return cn.serror([{path:t,getErrorInfo:r}])},Ie=function(t,r,o){return Ce(t,function(){return'Could not find valid *strict* value for "'+r+'" in '+Va(o)})},St=function(t,r){return Ce(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},an=function(t,r,o){return Ce(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+Va(r)})},X=function(t,r){return Ce(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},he=function(t,r){return Ce(t,function(){return r})},Je=Gn.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Rt=function(t,r,o){return Pn(r,o).fold(function(){return Ie(t,o,r)},cn.svalue)},dn=function(t,r,o){var c=Pn(t,r).fold(function(){return o(t)},_t);return cn.svalue(c)},ir=function(t,r){return cn.svalue(Pn(t,r))},mn=function(t,r,o){var c=Pn(t,r).map(function(v){return v===!0?o(t):v});return cn.svalue(c)},Zn=function(t,r,o,c){return o.fold(function(v,m,p,C){var S=function(D){var B=C.extract(t.concat([v]),c,D);return cn.map(B,function(N){return Ge(m,c(N))})},k=function(D){return D.fold(function(){var B=Ge(m,c(E.none()));return cn.svalue(B)},function(B){var N=C.extract(t.concat([v]),c,B);return cn.map(N,function(j){return Ge(m,c(E.some(j)))})})};return function(){return p.fold(function(){return cn.bind(Rt(t,r,v),S)},function(D){return cn.bind(dn(r,v,D),S)},function(){return cn.bind(ir(r,v),k)},function(D){return cn.bind(mn(r,v,D),k)},function(D){var B=D(r),N=cn.map(dn(r,v,re({})),function(j){return Hr(B,j)});return cn.bind(N,S)})}()},function(v,m){var p=m(r);return cn.svalue(Ge(v,c(p)))})},Pr=function(t,r,o,c){var v=Pe(o,function(m){return Zn(t,r,m,c)});return Qr.consolidateObj(v,{})},Tr=function(t){var r=function(c,v,m){return t().extract(c,v,m)},o=function(){return t().toString()};return{extract:r,toString:o}},H=function(t){var r=function(c,v,m){return cn.bindError(t(m,v),function(p){return he(c,p)})},o=function(){return"val"};return{extract:r,toString:o}},xe=function(t){return hr(di(t,function(r){return r!=null}))},_e=function(t){var r=Se(t),o=We(t,function(v,m){return m.fold(function(p){return Hr(v,fn(p,!0))},re(v))},{}),c=function(v,m,p){var C=jn(p)?[]:xe(p),S=de(C,function(k){return!La(o,k)});return S.length===0?r.extract(v,m,p):X(v,S)};return{extract:c,toString:r.toString}},Se=function(t){var r=function(c,v,m){return Pr(c,m,t,v)},o=function(){var c=Pe(t,function(v){return v.fold(function(m,p,C,S){return m+" -> "+S.toString()},function(m,p){return"state("+m+")"})});return`obj{
`+c.join(`
`)+"}"};return{extract:r,toString:o}},Yt=function(t){var r=function(c,v,m){var p=Pe(m,function(C,S){return t.extract(c.concat(["["+S+"]"]),v,C)});return Qr.consolidateArr(p)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},nr=function(t){var r=function(c,v,m){for(var p=[],C=0,S=t;C<S.length;C++){var k=S[C],D=k.extract(c,v,m);if(D.stype===Br.Value)return D;p.push(D)}return Qr.consolidateArr(p)},o=function(){return"oneOf("+Pe(t,function(c){return c.toString()}).join(", ")+")"};return{extract:r,toString:o}},ia=function(t,r){var o=function(m,p){return Yt(H(t)).extract(m,_t,p)},c=function(m,p,C){var S=hr(C),k=o(m,S);return cn.bind(k,function(D){var B=Pe(D,function(N){return Je.field(N,N,Ee(),r)});return Se(B).extract(m,p,C)})},v=function(){return"setOf("+r.toString()+")"};return{extract:c,toString:v}},ga=function(t,r){var o=ko(function(){return r()}),c=function(m,p,C){return o().extract(m,p,C)},v=function(){return o().toString()};return{extract:c,toString:v}},Er=re(H(cn.svalue)),To=ct(Yt,Se),Xa=Je.state,aa=Je.field,qo=function(t,r,o,c,v){var m=Pn(c,v);return m.fold(function(){return an(t,c,v)},function(p){return p.extract(t.concat(["branch: "+v]),r,o)})},Di=function(t,r){var o=function(v,m,p){var C=Pn(p,t);return C.fold(function(){return St(v,t)},function(S){return qo(v,m,p,r,S)})},c=function(){return"chooseOn("+t+"). Possible values: "+hr(r)};return{extract:o,toString:c}},ls=H(cn.svalue),Rl=function(t){return To(t)},ha=function(){return Yt(ls)},Mr=Tr,fs=function(t){return H(function(r){return t(r).fold(cn.serror,cn.svalue)})},Uc=function(t,r){return ia(function(o){return cn.fromResult(t(o))},r)},ju=function(t,r,o,c){var v=r.extract([t],o,c);return cn.mapError(v,function(m){return{input:c,errors:m}})},xa=function(t,r,o){return cn.toResult(ju(t,r,_t,o))},ku=function(t){return t.fold(function(r){throw new Error(qu(r))},_t)},po=function(t,r,o){return ku(xa(t,r,o))},qu=function(t){return`Errors: 
`+Y(t.errors).join(`
`)+`

Input object: `+Va(t.input)},Tu=function(t,r){return Di(t,r)},mi=function(t,r){return Di(t,Or(r,Se))},gv=function(t,r){return ga(t,r)},F=re(ls),fe=function(t,r){return H(function(o){var c=typeof o;return t(o)?cn.svalue(o):cn.serror("Expected type: "+r+" but got: "+c)})},Q=fe(On,"number"),Le=fe(pn,"string"),At=fe(jn,"boolean"),A=fe(ut,"function"),q=function(t){var r=function(o,c){for(var v=o.next();!v.done;){if(!c(v.value))return!1;v=o.next()}return!0};if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(o){return q(t[o])});case"Map":return r(t.keys(),q)&&r(t.values(),q);case"Set":return r(t.keys(),q);default:return!1}},ie=H(function(t){return q(t)?cn.svalue(t):cn.serror("Expected value to be acceptable for sending via postMessage")}),L=function(t){return fs(function(r){return Sn(t,r)?vn.value(r):vn.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},ve=function(t){return aa(t,t,Ee(),Er())},Kt=function(t,r){return aa(t,t,Ee(),r)},ur=function(t){return Kt(t,Q)},un=function(t){return Kt(t,Le)},fa=function(t,r){return aa(t,t,Ee(),L(r))},Kr=function(t){return Kt(t,At)},na=function(t){return Kt(t,A)},_i=function(t,r){return aa(t,t,$e(),H(function(o){return cn.serror("The field: "+t+" is forbidden. "+r)}))},gi=function(t,r){return aa(t,t,Ee(),Se(r))},Us=function(t,r){return aa(t,t,Ee(),To(r))},fu=function(t,r){return aa(t,t,Ee(),Yt(r))},pa=function(t){return aa(t,t,$e(),Er())},oa=function(t,r){return aa(t,t,$e(),r)},Wc=function(t){return oa(t,Q)},_a=function(t){return oa(t,Le)},ti=function(t){return oa(t,A)},ni=function(t,r){return oa(t,Yt(r))},Bi=function(t,r){return oa(t,Se(r))},wd=function(t,r){return oa(t,_e(r))},Me=function(t,r){return aa(t,t,jo(r),Er())},ri=function(t,r,o){return aa(t,t,jo(r),o)},hi=function(t,r){return ri(t,r,Q)},Pl=function(t,r){return ri(t,r,Le)},vu=function(t,r,o){return ri(t,r,L(o))},Aa=function(t,r){return ri(t,r,At)},Ua=function(t,r){return ri(t,r,A)},Ti=function(t,r){return ri(t,r,ie)},dc=function(t,r,o){return ri(t,r,Yt(o))},pi=function(t,r,o){return ri(t,r,Se(o))},si=function(t,r){return Xa(t,r)},nn=function(t){var r=t,o=function(){return r},c=function(v){r=v};return{get:o,set:c}},Ws=function(t,r){var o=r||document,c=o.createElement("div");if(c.innerHTML=t,!c.hasChildNodes()||c.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return mc(c.childNodes[0])},Bs=function(t,r){var o=r||document,c=o.createElement(t);return mc(c)},hv=function(t,r){var o=r||document,c=o.createTextNode(t);return mc(c)},mc=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},ro=function(t,r,o){return E.from(t.dom.elementFromPoint(r,o)).map(mc)},yn={fromHtml:Ws,fromTag:Bs,fromText:hv,fromDom:mc,fromPoint:ro},Eu=function(t,r,o,c){var v=t.isiOS()&&/ipad/i.test(o)===!0,m=t.isiOS()&&!v,p=t.isiOS()||t.isAndroid(),C=p||c("(pointer:coarse)"),S=v||!m&&p&&c("(min-device-width:768px)"),k=m||p&&!S,D=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,B=!k&&!S&&!D;return{isiPad:re(v),isiPhone:re(m),isTablet:re(S),isPhone:re(k),isTouch:re(C),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:re(D),isDesktop:re(B)}},jc=function(t,r){for(var o=0;o<t.length;o++){var c=t[o];if(c.test(r))return c}},Gu=function(t,r){var o=jc(t,r);if(!o)return{major:0,minor:0};var c=function(v){return Number(r.replace(o,"$"+v))};return Rs(c(1),c(2))},gc=function(t,r){var o=String(r).toLowerCase();return t.length===0?pv():Gu(t,o)},pv=function(){return Rs(0,0)},Rs=function(t,r){return{major:t,minor:r}},qc={nu:Rs,detect:gc,unknown:pv},Gc=function(t,r){var o=String(r).toLowerCase();return ke(t,function(c){return c.search(o)})},gf=function(t,r){return Gc(t,r).map(function(o){var c=qc.detect(o.versionRegexes,r);return{current:o.name,version:c}})},Cd=function(t,r){return Gc(t,r).map(function(o){var c=qc.detect(o.versionRegexes,r);return{current:o.name,version:c}})},Ml={detectBrowser:gf,detectOs:Cd},Zm=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},bi=function(t,r){return t.indexOf(r)!==-1},ou=function(t,r){return Zm(t,r,t.length-r.length)},bv=function(t){return function(r){return r.replace(t,"")}},Sd=bv(/^\s+|\s+$/g),Mo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,vs=function(t){return function(r){return bi(r,t)}},Eo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return bi(t,"edge/")&&bi(t,"chrome")&&bi(t,"safari")&&bi(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Mo],search:function(t){return bi(t,"chrome")&&!bi(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return bi(t,"msie")||bi(t,"trident")}},{name:"Opera",versionRegexes:[Mo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:vs("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:vs("firefox")},{name:"Safari",versionRegexes:[Mo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(bi(t,"safari")||bi(t,"mobile/"))&&bi(t,"applewebkit")}}],hf=[{name:"Windows",search:vs("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return bi(t,"iphone")||bi(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:vs("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:vs("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:vs("linux"),versionRegexes:[]},{name:"Solaris",search:vs("sunos"),versionRegexes:[]},{name:"FreeBSD",search:vs("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:vs("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],yv={browsers:re(Eo),oses:re(hf)},ci="Edge",Qm="Chrome",hc="IE",xd="Opera",pc="Firefox",eg="Safari",bc=function(){return kd({current:void 0,version:qc.unknown()})},kd=function(t){var r=t.current,o=t.version,c=function(v){return function(){return r===v}};return{current:r,version:o,isEdge:c(ci),isChrome:c(Qm),isIE:c(hc),isOpera:c(xd),isFirefox:c(pc),isSafari:c(eg)}},wv={unknown:bc,nu:kd,edge:re(ci),chrome:re(Qm),ie:re(hc),opera:re(xd),firefox:re(pc),safari:re(eg)},Ou="Windows",Ri="iOS",Au="Android",Pi="Linux",pf="OSX",tg="Solaris",ds="FreeBSD",Nl="ChromeOS",Ur=function(){return Ku({current:void 0,version:qc.unknown()})},Ku=function(t){var r=t.current,o=t.version,c=function(v){return function(){return r===v}};return{current:r,version:o,isWindows:c(Ou),isiOS:c(Ri),isAndroid:c(Au),isOSX:c(pf),isLinux:c(Pi),isSolaris:c(tg),isFreeBSD:c(ds),isChromeOS:c(Nl)}},Kc={unknown:Ur,nu:Ku,windows:re(Ou),ios:re(Ri),android:re(Au),linux:re(Pi),osx:re(pf),solaris:re(tg),freebsd:re(ds),chromeos:re(Nl)},$h=function(t,r){var o=yv.browsers(),c=yv.oses(),v=Ml.detectBrowser(o,t).fold(wv.unknown,wv.nu),m=Ml.detectOs(c,t).fold(Kc.unknown,Kc.nu),p=Eu(m,v,t,r);return{browser:v,os:m,deviceType:p}},Ih={detect:$h},bf=function(t){return window.matchMedia(t).matches},zh=ko(function(){return Ih.detect(navigator.userAgent,bf)}),Mi=function(){return zh()},Lh=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},ng=function(t,r){return Lh(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},$t=9,Hh=11,yf=1,Td=3,Go=function(t,r){var o=t.dom;if(o.nodeType!==yf)return!1;var c=o;if(c.matches!==void 0)return c.matches(r);if(c.msMatchesSelector!==void 0)return c.msMatchesSelector(r);if(c.webkitMatchesSelector!==void 0)return c.webkitMatchesSelector(r);if(c.mozMatchesSelector!==void 0)return c.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},Cv=function(t){return t.nodeType!==yf&&t.nodeType!==$t&&t.nodeType!==Hh||t.childElementCount===0},Ps=function(t,r){var o=r===void 0?document:r.dom;return Cv(o)?[]:Pe(o.querySelectorAll(t),yn.fromDom)},lo=function(t,r){var o=r===void 0?document:r.dom;return Cv(o)?E.none():E.from(o.querySelector(t)).map(yn.fromDom)},Ko=function(t,r){return t.dom===r.dom},Xu=function(t,r){var o=t.dom,c=r.dom;return o===c?!1:o.contains(c)},Ed=function(t,r){return ng(t.dom,r.dom)},Sv=function(t,r){return Mi().browser.isIE()?Ed(t,r):Xu(t,r)},ms=function(t){return ut(t)?t:Gt},T=function(t,r,o){for(var c=t.dom,v=ms(o);c.parentNode;){c=c.parentNode;var m=yn.fromDom(c),p=r(m);if(p.isSome())return p;if(v(m))break}return E.none()},$=function(t,r,o){var c=r(t),v=ms(o);return c.orThunk(function(){return v(t)?E.none():T(t,r,v)})},U=function(t,r){return Ko(t.element,r.event.target)},me=function(t){if(!La(t,"can")&&!La(t,"abort")&&!La(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return po("Extracting event.handler",_e([Me("can",Zt),Me("abort",Gt),Me("run",nt)]),t)},Ae=function(t,r){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return Be(t,function(v,m){return v&&r(m).apply(void 0,o)},!0)}},xt=function(t,r){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return Be(t,function(v,m){return v||r(m).apply(void 0,o)},!1)}},sr=function(t){return ut(t)?{can:Zt,abort:Gt,run:t}:t},Zr=function(t){var r=Ae(t,function(v){return v.can}),o=xt(t,function(v){return v.abort}),c=function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];Ct(t,function(p){p.run.apply(void 0,v)})};return me({can:r,abort:o,run:c})},Nr=re,Xr=Nr("touchstart"),Wa=Nr("touchmove"),fo=Nr("touchend"),Vh=Nr("touchcancel"),js=Nr("mousedown"),xv=Nr("mousemove"),Od=Nr("mouseout"),rg=Nr("mouseup"),wf=Nr("mouseover"),Fl=Nr("focusin"),ag=Nr("focusout"),og=Nr("keydown"),ub=Nr("keyup"),Ad=Nr("input"),ig=Nr("change"),ug=Nr("click"),Cf=Nr("transitionend"),lx=Nr("selectstart"),Xo=function(t){return re("alloy."+t)},sb={tap:Xo("tap")},Xc=Xo("focus"),cb=Xo("blur.post"),Yc=Xo("paste.post"),gs=Xo("receive"),Du=Xo("execute"),Dd=Xo("focus.item"),_d=sb.tap,Sf=Xo("longpress"),sg=Xo("sandbox.close"),cg=Xo("typeahead.cancel"),xf=Xo("system.init"),Uh=Xo("system.touchmove"),$l=Xo("system.touchend"),lg=Xo("system.scroll"),Il=Xo("system.resize"),Jc=Xo("system.attached"),kv=Xo("system.detached"),Bd=Xo("system.dismissRequested"),Ni=Xo("system.repositionRequested"),Wh=Xo("focusmanager.shifted"),jh=Xo("slotcontainer.visibility"),fg=Xo("change.tab"),kf=Xo("dismiss.tab"),mw=Xo("highlight"),lb=Xo("dehighlight"),va=function(t,r){vg(t,t.element,r,{})},Hn=function(t,r,o){vg(t,t.element,r,o)},Tf=function(t){va(t,Du())},qh=function(t,r,o){vg(t,r,o,{})},vg=function(t,r,o,c){var v=se({target:r},c);t.getSystem().triggerEvent(o,r,v)},yi=function(t,r,o,c){t.getSystem().triggerEvent(o,r,c.event)},ba=function(t){return Ln(t)},Gh=function(t,r){return{key:t,value:me({abort:r})}},fb=function(t,r){return{key:t,value:me({can:r})}},vb=function(t){return{key:t,value:me({run:function(r,o){o.event.prevent()}})}},Et=function(t,r){return{key:t,value:me({run:r})}},db=function(t,r,o){return{key:t,value:me({run:function(c,v){r.apply(void 0,[c,v].concat(o))}})}},gw=function(t){return function(r){return Et(t,r)}},Kh=function(t){return function(r){return{key:t,value:me({run:function(o,c){U(o,c)&&r(o,c)}})}}},zl=function(t,r){return Et(t,function(o,c){o.getSystem().getByUid(r).each(function(v){yi(v,v.element,t,c)})})},Ll=function(t,r,o){var c=r.partUids[o];return zl(t,c)},Ms=function(t,r){return Et(t,function(o,c){var v=c.event,m=o.getSystem().getByDom(v.target).fold(function(){var p=$(v.target,function(C){return o.getSystem().getByDom(C).toOptional()},Gt);return p.getOr(o)},function(p){return p});r(o,m,c)})},Ef=function(t){return Et(t,function(r,o){o.cut()})},yc=function(t){return Et(t,function(r,o){o.stop()})},wc=function(t,r){return Kh(t)(r)},Oo=Kh(Jc()),Yu=Kh(kv()),dg=Kh(xf()),Zc=gw(Du());typeof window!="undefined"||Function("return this;")();var hs=function(t){var r=t.dom.nodeName;return r.toLowerCase()},mg=function(t){return t.dom.nodeType},gg=function(t){return function(r){return mg(r)===t}},Qc=gg(yf),Fi=gg(Td),mb=gg($t),fx=gg(Hh),Ao=function(t){return yn.fromDom(t.dom.ownerDocument)},Of=function(t){return mb(t)?t:Ao(t)},el=function(t){return yn.fromDom(Of(t).dom.documentElement)},Rd=function(t){return yn.fromDom(Of(t).dom.defaultView)},$i=function(t){return E.from(t.dom.parentNode).map(yn.fromDom)},Pd=function(t){return $i(t)},Hl=function(t){return E.from(t.dom.offsetParent).map(yn.fromDom)},_u=function(t){return E.from(t.dom.nextSibling).map(yn.fromDom)},qs=function(t){return Pe(t.dom.childNodes,yn.fromDom)},gb=function(t,r){var o=t.dom.childNodes;return E.from(o[r]).map(yn.fromDom)},hb=function(t){return gb(t,0)},hg=function(t){return fx(t)&&Cn(t.dom.host)},pb=ut(Element.prototype.attachShadow)&&ut(Node.prototype.getRootNode),vx=re(pb),li=pb?function(t){return yn.fromDom(t.dom.getRootNode())}:Of,Tv=function(t){return hg(t)?t:yn.fromDom(Of(t).dom.body)},dx=function(t){return Xh(t).isSome()},Xh=function(t){var r=li(t);return hg(r)?E.some(r):E.none()},bb=function(t){return yn.fromDom(t.dom.host)},pg=function(t){if(vx()&&Cn(t.target)){var r=yn.fromDom(t.target);if(Qc(r)&&yb(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return He(o)}}return E.from(t.target)},yb=function(t){return Cn(t.dom.shadowRoot)},Yh=function(t,r){var o=$i(t);o.each(function(c){c.dom.insertBefore(r.dom,t.dom)})},hw=function(t,r){var o=_u(t);o.fold(function(){var c=$i(t);c.each(function(v){Bu(v,r)})},function(c){Yh(c,r)})},pw=function(t,r){var o=hb(t);o.fold(function(){Bu(t,r)},function(c){t.dom.insertBefore(r.dom,c.dom)})},Bu=function(t,r){t.dom.appendChild(r.dom)},mx=function(t,r,o){gb(t,o).fold(function(){Bu(t,r)},function(c){Yh(c,r)})},gx=function(t,r){Ct(r,function(o){Yh(t,o)})},Cc=function(t,r){Ct(r,function(o){Bu(t,o)})},wb=function(t){t.dom.textContent="",Ct(qs(t),function(r){tl(r)})},tl=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Ev=function(t){var r=qs(t);r.length>0&&gx(t,r),tl(t)},bw=function(t,r){var o=r||document,c=o.createElement("div");return c.innerHTML=t,qs(yn.fromDom(c))},Cb=function(t){return t.dom.innerHTML},Af=function(t,r){var o=Ao(t),c=o.dom,v=yn.fromDom(c.createDocumentFragment()),m=bw(r,c);Cc(v,m),wb(t),Bu(t,v)},hx=function(t){var r=yn.fromTag("div"),o=yn.fromDom(t.dom.cloneNode(!0));return Bu(r,o),Cb(r)},Df=function(t,r,o){if(pn(o)||jn(o)||On(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},ya=function(t,r,o){Df(t.dom,r,o)},yw=function(t,r){var o=t.dom;Rr(r,function(c,v){Df(o,v,c)})},du=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},nl=function(t,r){return E.from(du(t,r))},ww=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},Ju=function(t,r){t.dom.removeAttribute(r)},px=function(t,r){return yn.fromDom(t.dom.cloneNode(r))},bx=function(t){return px(t,!1)},ps=function(t){if(hg(t))return"#shadow-root";var r=bx(t);return hx(r)},_f=function(t){return ps(t)},Cw=function(t,r,o){return Ko(r,t.element)&&!Ko(r,o)},Sw=ba([fb(Xc(),function(t,r){var o=r.event,c=o.originator,v=o.target;return Cw(t,c,v)?(console.warn(Xc()+` did not get interpreted by the desired target. 
Originator: `+_f(c)+`
Target: `+_f(v)+`
Check the `+Xc()+" event handlers"),!1):!0})]),Sb=Object.freeze({__proto__:null,events:Sw}),xw=0,Qn=function(t){var r=new Date,o=r.getTime(),c=Math.floor(Math.random()*1e9);return xw++,t+"_"+c+xw+String(o)},yx=re("alloy-id-"),Jh=re("data-alloy-id"),wx=yx(),Ov=Jh(),Md=function(t,r){var o=Qn(wx+t);return Zh(r,o),o},Zh=function(t,r){Object.defineProperty(t.dom,Ov,{value:r,writable:!0})},bg=function(t){var r=Qc(t)?t.dom[Ov]:null;return E.from(r)},yg=function(t){return Qn(t)},Vl=_t,wg=function(t){var r=function(o){return function(){throw new Error("The component must be in a context to send: "+o+(t?`
`+_f(t().element)+" is not in context.":""))}};return{debugInfo:re("fake"),triggerEvent:r("triggerEvent"),triggerFocus:r("triggerFocus"),triggerEscape:r("triggerEscape"),build:r("build"),addToWorld:r("addToWorld"),removeFromWorld:r("removeFromWorld"),addToGui:r("addToGui"),removeFromGui:r("removeFromGui"),getByUid:r("getByUid"),getByDom:r("getByDom"),broadcast:r("broadcast"),broadcastOn:r("broadcastOn"),broadcastEvent:r("broadcastEvent"),isConnected:Gt}},Cx=wg(),kw=function(t,r,o){var c=o.toString(),v=c.indexOf(")")+1,m=c.indexOf("("),p=c.substring(m+1,v-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:mu(p.slice(0,1).concat(p.slice(3)))}},t},mu=function(t){return Pe(t,function(r){return ou(r,"/*")?r.substring(0,r.length-2):r})},Cg=function(t,r){var o=t.toString(),c=o.indexOf(")")+1,v=o.indexOf("("),m=o.substring(v+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:mu(m)}},t},Tw=function(t,r){var o=r.toString(),c=o.indexOf(")")+1,v=o.indexOf("("),m=o.substring(v+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:mu(m.slice(1))}},t},Sg=Qn("alloy-premade"),Qh=function(t){return fn(Sg,t)},Sx=function(t){return Pn(t,Sg)},Ul=function(t){return Tw(function(r){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];return t.apply(void 0,qe([r.getApis(),r],o))},t)},gu={init:function(){return Ii({readState:function(){return"No State required"}})}},Ii=function(t){return t},xx=function(t,r){var o=Pe(r,function(v){return Bi(v.name(),[ve("config"),Me("state",gu)])}),c=xa("component.behaviours",Se(o),t.behaviours).fold(function(v){throw new Error(qu(v)+`
Complete spec:
`+JSON.stringify(t,null,2))},function(v){return v});return{list:r,data:Or(c,function(v){var m=v.map(function(p){return{config:p.config,state:p.state.init(p.config)}});return function(){return m}})}},Nd=function(t){return t.list},hu=function(t){return t.data},ep=function(t,r){var o={};return Rr(t,function(c,v){Rr(c,function(m,p){var C=Pn(o,p).getOr([]);o[p]=C.concat([r(v,m)])})}),o},Ns=function(t){return{classes:t.classes!==void 0?t.classes:[],attributes:t.attributes!==void 0?t.attributes:{},styles:t.styles!==void 0?t.styles:{}}},Ew=function(t,r){return se(se({},t),{attributes:se(se({},t.attributes),r.attributes),styles:se(se({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},zo=function(t,r,o,c){var v=se({},r);Ct(o,function(D){v[D.name()]=D.exhibit(t,c)});var m=ep(v,function(D,B){return{name:D,modification:B}}),p=function(D){return We(D,function(B,N){return se(se({},N.modification),B)},{})},C=We(m.classes,function(D,B){return B.modification.concat(D)},[]),S=p(m.attributes),k=p(m.styles);return Ns({classes:C,attributes:S,styles:k})},kx=function(t,r,o,c){try{var v=xn(o,function(m,p){var C=m[r],S=p[r],k=c.indexOf(C),D=c.indexOf(S);if(k===-1)throw new Error("The ordering for "+t+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(c,null,2));if(D===-1)throw new Error("The ordering for "+t+" does not have an entry for "+S+`.
Order specified: `+JSON.stringify(c,null,2));return k<D?-1:D<k?1:0});return vn.value(v)}catch(m){return vn.error([m])}},xb=function(t,r){return{handler:t,purpose:r}},Wl=function(t,r){return{cHandler:t,purpose:r}},xg=function(t,r){return Wl(ar.apply(void 0,[t.handler].concat(r)),t.purpose)},Av=function(t){return t.cHandler},Tx=function(t,r){return{name:t,handler:r}},Ex=function(t,r){var o={};return Ct(t,function(c){o[c.name()]=c.handlers(r)}),o},kb=function(t,r,o){var c=se(se({},o),Ex(r,t));return ep(c,Tx)},Ox=function(t,r,o,c){var v=kb(t,o,c);return Tg(v,r)},kg=function(t){var r=sr(t);return function(o,c){for(var v=[],m=2;m<arguments.length;m++)v[m-2]=arguments[m];var p=[o,c].concat(v);r.abort.apply(void 0,p)?c.stop():r.can.apply(void 0,p)&&r.run.apply(void 0,p)}},Fd=function(t,r){return vn.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Pe(r,function(o){return o.name}),null,2)])},Tb=function(t,r,o){var c=r[o];return c?kx("Event: "+o,"name",t,c).map(function(v){var m=Pe(v,function(p){return p.handler});return Zr(m)}):Fd(o,t)},Tg=function(t,r){var o=Ja(t,function(c,v){var m=c.length===1?vn.value(c[0].handler):Tb(c,r,v);return m.map(function(p){var C=kg(p),S=c.length>1?de(r[v],function(k){return Dn(c,function(D){return D.name===k})}).join(" > "):c[0].name;return fn(v,xb(C,S))})});return Vr(o,{})},Dv="alloy.base.behaviour",$d=function(t){var r;return xa("custom.definition",Se([aa("dom","dom",Ee(),Se([ve("tag"),Me("styles",{}),Me("classes",[]),Me("attributes",{}),pa("value"),pa("innerHtml")])),ve("components"),ve("uid"),Me("events",{}),Me("apis",{}),aa("eventOrder","eventOrder",ce((r={},r[Du()]=["disabling",Dv,"toggling","typeaheadevents"],r[Xc()]=[Dv,"focusing","keying"],r[xf()]=[Dv,"disabling","toggling","representing"],r[Ad()]=[Dv,"representing","streaming","invalidating"],r[kv()]=[Dv,"representing","item-events","tooltipping"],r[js()]=["focusing",Dv,"item-type-events"],r[Xr()]=["focusing",Dv,"item-type-events"],r[wf()]=["item-type-events","tooltipping"],r[gs()]=["receiving","reflecting","tooltipping"],r)),F()),pa("domModification")]),t)},Eb=function(t){return se(se({},t.dom),{uid:t.uid,domChildren:Pe(t.components,function(r){return r.element})})},_v=function(t){return t.domModification.fold(function(){return Ns({})},Ns)},zi=function(t){return t.events},Qa=function(t,r){var o=du(t,r);return o===void 0||o===""?[]:o.split(" ")},jl=function(t,r,o){var c=Qa(t,r),v=c.concat([o]);return ya(t,r,v.join(" ")),!0},Bf=function(t,r,o){var c=de(Qa(t,r),function(v){return v!==o});return c.length>0?ya(t,r,c.join(" ")):Ju(t,r),!1},ql=function(t){return t.dom.classList!==void 0},tp=function(t){return Qa(t,"class")},Bv=function(t,r){return jl(t,"class",r)},np=function(t,r){return Bf(t,"class",r)},ja=function(t,r){ql(t)?t.dom.classList.add(r):Bv(t,r)},Gs=function(t){var r=ql(t)?t.dom.classList:tp(t);r.length===0&&Ju(t,"class")},vo=function(t,r){if(ql(t)){var o=t.dom.classList;o.remove(r)}else np(t,r);Gs(t)},fi=function(t,r){return ql(t)&&t.dom.classList.contains(r)},Rf=function(t,r){Ct(r,function(o){ja(t,o)})},bo=function(t,r){Ct(r,function(o){vo(t,o)})},Zu=function(t){return t.style!==void 0&&ut(t.style.getPropertyValue)},Ru=function(t){var r=Fi(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return Xh(yn.fromDom(r)).fold(function(){return o.body.contains(r)},tr(Ru,bb))},Gl=function(){return Pf(yn.fromDom(document))},Pf=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return yn.fromDom(r)},Li=function(t,r,o){if(!pn(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Zu(t)&&t.style.setProperty(r,o)},Ks=function(t,r){Zu(t)&&t.style.removeProperty(r)},Ir=function(t,r,o){var c=t.dom;Li(c,r,o)},Id=function(t,r){var o=t.dom;Rr(r,function(c,v){Li(o,v,c)})},zd=function(t,r){var o=t.dom;Rr(r,function(c,v){c.fold(function(){Ks(o,v)},function(m){Li(o,v,m)})})},Fs=function(t,r){var o=t.dom,c=window.getComputedStyle(o),v=c.getPropertyValue(r);return v===""&&!Ru(t)?Ob(o,r):v},Ob=function(t,r){return Zu(t)?t.style.getPropertyValue(r):""},Bo=function(t,r){var o=t.dom,c=Ob(o,r);return E.from(c).filter(function(v){return v.length>0})},rp=function(t){var r={},o=t.dom;if(Zu(o))for(var c=0;c<o.style.length;c++){var v=o.style.item(c);r[v]=o.style[v]}return r},Rv=function(t,r,o){var c=yn.fromTag(t);Ir(c,r,o);var v=Bo(c,r);return v.isSome()},mo=function(t,r){var o=t.dom;Ks(o,r),nl(t,"style").map(Sd).is("")&&Ju(t,"style")},Xs=function(t){return t.dom.offsetWidth},Mf=function(t){return t.dom.value},Eg=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},Nf=function(t){var r=yn.fromTag(t.tag);yw(r,t.attributes),Rf(r,t.classes),Id(r,t.styles),t.innerHtml.each(function(c){return Af(r,c)});var o=t.domChildren;if(Cc(r,o),t.value.each(function(c){Eg(r,c)}),!t.uid)debugger;return Zh(r,t.uid),r},Ow=function(t){var r=Pn(t,"behaviours").getOr({}),o=de(hr(r),function(c){return r[c]!==void 0});return Pe(o,function(c){return r[c].me})},Pv=function(t,r){return xx(t,r)},Ld=function(t){var r=Ow(t);return Pv(t,r)},ai=function(t,r,o){var c=Eb(t),v=_v(t),m={"alloy.base.modification":v},p=r.length>0?zo(o,m,r,c):v;return Ew(c,p)},Mv=function(t,r,o){var c={"alloy.base.behaviour":zi(t)};return Ox(o,t.eventOrder,r,c).getOrDie()},Ab=function(t){var r=function(){return Oe},o=nn(Cx),c=ku($d(t)),v=Ld(t),m=Nd(v),p=hu(v),C=ai(c,m,p),S=Nf(C),k=Mv(c,m,p),D=nn(c.components),B=function(Re){o.set(Re)},N=function(){o.set(wg(r))},j=function(){var Re=qs(S),tt=on(Re,function(Ue){return o.get().getByDom(Ue).fold(function(){return[]},function(et){return[et]})});D.set(tt)},te=function(Re){var tt=p,Ue=ut(tt[Re.name()])?tt[Re.name()]:function(){throw new Error("Could not find "+Re.name()+" in "+JSON.stringify(t,null,2))};return Ue()},ne=function(Re){return ut(p[Re.name()])},be=function(){return c.apis},ae=function(Re){return p[Re]().map(function(tt){return tt.state.readState()}).getOr("not enabled")},Oe={getSystem:o.get,config:te,hasConfigured:ne,spec:t,readState:ae,getApis:be,connect:B,disconnect:N,element:S,syncComponents:j,components:D.get,events:k};return Oe},Aw=function(t){var r=Pn(t,"components").getOr([]);return Pe(r,pu)},ap=function(t){var r=Vl(t),o=r.events,c=Z(r,["events"]),v=Aw(c),m=se(se({},c),{events:se(se({},Sb),o),components:v});return vn.value(Ab(m))},Ff=function(t){var r=yn.fromText(t);return Db({element:r})},Db=function(t){var r=po("external.component",_e([ve("element"),pa("uid")]),t),o=nn(wg()),c=function(p){o.set(p)},v=function(){o.set(wg(function(){return m}))};r.uid.each(function(p){Zh(r.element,p)});var m={getSystem:o.get,config:E.none,hasConfigured:Gt,connect:c,disconnect:v,getApis:function(){return{}},element:r.element,spec:t,readState:re("No state"),syncComponents:nt,components:re([]),events:{}};return Qh(m)},Ax=yg,pu=function(t){return Sx(t).fold(function(){var r=t.hasOwnProperty("uid")?t:se({uid:Ax("")},t);return ap(r).getOrDie()},function(r){return r})},Pu=Qh,Hd=function(t,r){var o=function(C,S){if(!On(S)&&!S.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+S);var k=C.dom;Zu(k)&&(k.style[t]=S+"px")},c=function(C){var S=r(C);if(S<=0||S===null){var k=Fs(C,t);return parseFloat(k)||0}return S},v=c,m=function(C,S){return Be(S,function(k,D){var B=Fs(C,D),N=B===void 0?0:parseInt(B,10);return isNaN(N)?k:k+N},0)},p=function(C,S,k){var D=m(C,k),B=S>D?S-D:0;return B};return{set:o,get:c,getOuter:v,aggregate:m,max:p}},_b=Hd("height",function(t){var r=t.dom;return Ru(t)?r.getBoundingClientRect().height:r.offsetHeight}),bu=function(t){return _b.get(t)},Kl=function(t){return _b.getOuter(t)},op=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],c=_b.max(t,r,o);Ir(t,"max-height",c+"px")},Og=function(t,r){var o=function(c,v){return Og(t+c,r+v)};return{left:t,top:r,translate:o}},Ro=Og,Sc=function(t){var r=t.getBoundingClientRect();return Ro(r.left,r.top)},xc=function(t,r){return t!==void 0?t:r!==void 0?r:0},ka=function(t){var r=t.dom.ownerDocument,o=r.body,c=r.defaultView,v=r.documentElement;if(o===t.dom)return Ro(o.offsetLeft,o.offsetTop);var m=xc(c==null?void 0:c.pageYOffset,v.scrollTop),p=xc(c==null?void 0:c.pageXOffset,v.scrollLeft),C=xc(v.clientTop,o.clientTop),S=xc(v.clientLeft,o.clientLeft);return Nv(t).translate(p-S,m-C)},Nv=function(t){var r=t.dom,o=r.ownerDocument,c=o.body;return c===r?Ro(c.offsetLeft,c.offsetTop):Ru(t)?Sc(r):Ro(0,0)},bs=Hd("width",function(t){return t.dom.offsetWidth}),Dw=function(t,r){return bs.set(t,r)},Mu=function(t){return bs.get(t)},Fv=function(t){return bs.getOuter(t)},kc=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],c=bs.max(t,r,o);Ir(t,"max-width",c+"px")},ip=function(t,r,o,c,v,m,p){return{target:t,x:r,y:o,stop:c,prevent:v,kill:m,raw:p}},Bb=function(t){var r=yn.fromDom(pg(t).getOr(t.target)),o=function(){return t.stopPropagation()},c=function(){return t.preventDefault()},v=ct(c,o);return ip(r,t.clientX,t.clientY,o,c,v,t)},rl=function(t,r){return function(o){t(o)&&r(Bb(o))}},up=function(t,r,o,c,v){var m=rl(o,c);return t.dom.addEventListener(r,m,v),{unbind:ar(sp,t,r,m,v)}},Rb=function(t,r,o,c){return up(t,r,o,c,!1)},Dx=function(t,r,o,c){return up(t,r,o,c,!0)},sp=function(t,r,o,c){t.dom.removeEventListener(r,o,c)},Ys=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,c=r.body.scrollTop||r.documentElement.scrollTop;return Ro(o,c)},Vd=function(t,r,o){var c=o!==void 0?o.dom:document,v=c.defaultView;v&&v.scrollTo(t,r)},_x=function(t){var r=t===void 0?window:t;return E.from(r.visualViewport)},Pb=function(t,r,o,c){return{x:t,y:r,width:o,height:c,right:t+o,bottom:r+c}},cp=function(t){var r=t===void 0?window:t,o=r.document,c=Ys(yn.fromDom(o));return _x(r).fold(function(){var v=r.document.documentElement,m=v.clientWidth,p=v.clientHeight;return Pb(c.left,c.top,m,p)},function(v){return Pb(Math.max(v.pageLeft,c.left),Math.max(v.pageTop,c.top),v.width,v.height)})},_w=function(t,r){var o=t.view(r);return o.fold(re([]),function(c){var v=t.owner(c),m=_w(t,v);return[c].concat(m)})},Bx=function(t,r){var o=r.owner(t),c=_w(r,o);return E.some(c)},Ag=function(t){var r,o=t.dom===document?E.none():E.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(yn.fromDom)},Rx=function(t){return Ao(t)},Ud=Object.freeze({__proto__:null,view:Ag,owner:Rx}),Wd=function(t){var r=yn.fromDom(document),o=Ys(r),c=Bx(t,Ud);return c.fold(ar(ka,t),function(v){var m=Nv(t),p=We(v,function(C,S){var k=Nv(S);return{left:C.left+k.left,top:C.top+k.top}},{left:0,top:0});return Ro(p.left+m.left+o.left,p.top+m.top+o.top)})},Bw=function(t,r,o){return{point:t,width:r,height:o}},Mb=function(t,r,o,c){return{x:t,y:r,width:o,height:c}},iu=function(t,r,o,c){return{x:t,y:r,width:o,height:c,right:t+o,bottom:r+c}},ys=function(t){var r=ka(t),o=Fv(t),c=Kl(t);return iu(r.left,r.top,o,c)},Xl=function(t){var r=Wd(t),o=Fv(t),c=Kl(t);return iu(r.left,r.top,o,c)},Ji=function(){return cp(window)};function $f(t,r,o,c,v){return t(o,c)?E.some(o):ut(v)&&v(o)?E.none():r(o,c,v)}var Rw=function(t,r,o){for(var c=t.dom,v=ut(o)?o:Gt;c.parentNode;){c=c.parentNode;var m=yn.fromDom(c);if(r(m))return E.some(m);if(v(m))break}return E.none()},jd=function(t,r,o){var c=function(v,m){return m(v)};return $f(c,Rw,t,r,o)},Nb=function(t,r){var o=function(c){for(var v=0;v<c.childNodes.length;v++){var m=yn.fromDom(c.childNodes[v]);if(r(m))return E.some(m);var p=o(c.childNodes[v]);if(p.isSome())return p}return E.none()};return o(t.dom)},lp=function(t,r,o){return jd(t,r,o).isSome()},Nu=function(t,r,o){return Rw(t,function(c){return Go(c,r)},o)},Zi=function(t,r){return lo(r,t)},Tc=function(t,r,o){var c=function(v,m){return Go(v,m)};return $f(c,Nu,t,r,o)},Pw=function(t){var r=jd(t,function(o){if(!Qc(o))return!1;var c=du(o,"id");return c!==void 0&&c.indexOf("aria-owns")>-1});return r.bind(function(o){var c=du(o,"id"),v=li(o);return Zi(v,'[aria-owns="'+c+'"]')})},al=function(){var t=Qn("aria-owns"),r=function(c){ya(c,"aria-owns",t)},o=function(c){Ju(c,"aria-owns")};return{id:t,link:r,unlink:o}},Mw=function(t,r){return Pw(r).exists(function(o){return Ec(t,o)})},Ec=function(t,r){return lp(r,function(o){return Ko(o,t.element)},Gt)||Mw(t,r)},Fb="unknown",If;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(If||(If={}));var fp=nn({}),Wr=function(t,r){var o=[],c=new Date().getTime();return{logEventCut:function(v,m,p){o.push({outcome:"cut",target:m,purpose:p})},logEventStopped:function(v,m,p){o.push({outcome:"stopped",target:m,purpose:p})},logNoParent:function(v,m,p){o.push({outcome:"no-parent",target:m,purpose:p})},logEventNoHandlers:function(v,m){o.push({outcome:"no-handlers-left",target:m})},logEventResponse:function(v,m,p){o.push({outcome:"response",purpose:p,target:m})},write:function(){var v=new Date().getTime();Sn(["mousemove","mouseover","mouseout",xf()],t)||console.log(t,{event:t,time:v-c,target:r.dom,sequence:Pe(o,function(m){return Sn(["cut","stopped","response"],m.outcome)?"{"+m.purpose+"} "+m.outcome+" at ("+_f(m.target)+")":m.outcome})})}}},Dg=function(t,r,o){var c=Pn(fp.get(),t).orThunk(function(){var p=hr(fp.get());return sn(p,function(C){return t.indexOf(C)>-1?E.some(fp.get()[C]):E.none()})}).getOr(If.NORMAL);switch(c){case If.NORMAL:return o(Fw());case If.LOGGING:{var v=Wr(t,r),m=o(v);return v.write(),m}case If.STOP:return!0}},Px=["alloy/data/Fields","alloy/debugging/Debugging"],Nw=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return ke(r,function(o){return o.indexOf("alloy")>0&&!Dn(Px,function(c){return o.indexOf(c)>-1})}).getOr(Fb)}else return Fb},Mx={logEventCut:nt,logEventStopped:nt,logNoParent:nt,logEventNoHandlers:nt,logEventResponse:nt,write:nt},vp=function(t,r,o){return Dg(t,r,o)},Fw=re(Mx),$v=re([ve("menu"),ve("selectedMenu")]),eo=re([ve("item"),ve("selectedItem")]);re(Se(eo().concat($v())));var Nx=re(Se(eo())),$b=gi("initSize",[ve("numColumns"),ve("numRows")]),qd=function(){return Kt("markers",Nx())},zf=function(){return gi("markers",[ve("backgroundMenu")].concat($v()).concat(eo()))},ol=function(t){return gi("markers",Pe(t,ve))},Iv=function(t,r,o){return Nw(),aa(r,r,o,fs(function(c){return vn.value(function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];return c.apply(void 0,v)})}))},wa=function(t){return Iv("onHandler",t,jo(nt))},Lo=function(t){return Iv("onKeyboardHandler",t,jo(E.none))},No=function(t){return Iv("onHandler",t,Ee())},Ib=function(t){return Iv("onKeyboardHandler",t,Ee())},ao=function(t,r){return si(t,re(r))},ws=function(t){return si(t,_t)},dp=re($b),Qi=function(t,r,o,c,v,m){return{x:t,y:r,bubble:o,direction:c,boundsRestriction:v,label:m}},il=Gn.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),$w=function(t,r,o,c,v,m,p,C,S){return t.fold(r,o,c,v,m,p,C,S)},Fx=function(t,r,o,c){return t.fold(r,r,c,c,r,c,o,o)},Iw=function(t,r,o,c){return t.fold(r,c,r,c,o,o,r,c)},mp=il.southeast,zb=il.southwest,Lb=il.northeast,$s=il.northwest,Qu=il.south,gp=il.north,zw=il.east,Hb=il.west,$x=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},uu=function(t,r){return Ut(["left","right","top","bottom"],function(o){return Pn(r,o).map(function(c){return $x(t,c)})})},zv=function(t,r,o){var c=function(S,k){var D=S==="top"||S==="bottom"?o.top:o.left;return Pn(r,S).bind(_t).bind(function(B){return S==="left"||S==="top"?B>=k?E.some(B):E.none():B<=k?E.some(B):E.none()}).map(function(B){return B+D}).getOr(k)},v=c("left",t.x),m=c("top",t.y),p=c("right",t.right),C=c("bottom",t.bottom);return iu(v,m,p-v,C-m)},Lw=function(t){return t.x},Hw=function(t,r){return t.x+t.width/2-r.width/2},Vw=function(t,r){return t.x+t.width-r.width},Gd=function(t,r){return t.y-r.height},_g=function(t){return t.y+t.height},Vb=function(t,r){return t.y+t.height/2-r.height/2},Ub=function(t){return t.x+t.width},Wb=function(t,r){return t.x-r.width},oo=function(t,r,o){return Qi(Lw(t),_g(t),o.southeast(),mp(),uu(t,{left:1,top:3}),"layout-se")},Ei=function(t,r,o){return Qi(Vw(t,r),_g(t),o.southwest(),zb(),uu(t,{right:0,top:3}),"layout-sw")},wi=function(t,r,o){return Qi(Lw(t),Gd(t,r),o.northeast(),Lb(),uu(t,{left:1,bottom:2}),"layout-ne")},Hi=function(t,r,o){return Qi(Vw(t,r),Gd(t,r),o.northwest(),$s(),uu(t,{right:0,bottom:2}),"layout-nw")},Fu=function(t,r,o){return Qi(Hw(t,r),Gd(t,r),o.north(),gp(),uu(t,{bottom:2}),"layout-n")},eu=function(t,r,o){return Qi(Hw(t,r),_g(t),o.south(),Qu(),uu(t,{top:3}),"layout-s")},jb=function(t,r,o){return Qi(Ub(t),Vb(t,r),o.east(),zw(),uu(t,{left:0}),"layout-e")},Kd=function(t,r,o){return Qi(Wb(t,r),Vb(t,r),o.west(),Hb(),uu(t,{right:1}),"layout-w")},qb=function(){return[oo,Ei,wi,Hi,eu,Fu,jb,Kd]},Uw=function(){return[Ei,oo,Hi,wi,eu,Fu,jb,Kd]},Ww=function(){return[wi,Hi,oo,Ei,Fu,eu]},Gb=function(){return[Hi,wi,Ei,oo,Fu,eu]},hp=function(){return[oo,Ei,wi,Hi,eu,Fu]},Kb=function(){return[Ei,oo,Hi,wi,eu,Fu]},Ix=function(t,r){return r.universal?t:de(t,function(o){return Sn(r.channels,o)})},zx=function(t){return ba([Et(gs(),function(r,o){var c=t.channels,v=hr(c),m=o,p=Ix(v,m);Ct(p,function(C){var S=c[C],k=S.schema,D=po("channel["+C+`] data
Receiver: `+_f(r.element),k,m.data);S.onReceive(r,D)})})])},jw=Object.freeze({__proto__:null,events:zx}),Xb=[Kt("channels",Uc(vn.value,_e([No("onReceive"),Me("schema",F())])))],Lf=function(t,r,o){return Zc(function(c){o(c,t,r)})},pp=function(t,r,o){return dg(function(c,v){o(c,t,r)})},qw=function(t,r,o,c,v,m){var p=_e(t),C=Bi(r,[wd("config",t)]);return Yb(p,C,r,o,c,v,m)},Gw=function(t,r,o,c,v,m){var p=t,C=Bi(r,[oa("config",t)]);return Yb(p,C,r,o,c,v,m)},Lx=function(t,r,o){var c=function(v){for(var m=[],p=1;p<arguments.length;p++)m[p-1]=arguments[p];var C=[v].concat(m);return v.config({name:re(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(S){var k=Array.prototype.slice.call(C,1);return r.apply(void 0,[v,S.config,S.state].concat(k))})};return kw(c,o,r)},Ci=function(t){return{key:t,value:void 0}},Yb=function(t,r,o,c,v,m,p){var C=function(B){return La(B,o)?B[o]():E.none()},S=Or(v,function(B,N){return Lx(o,B,N)}),k=Or(m,function(B,N){return Cg(B,N)}),D=se(se(se({},k),S),{revoke:ar(Ci,o),config:function(B){var N=po(o+"-config",t,B);return{key:o,value:{config:N,me:D,configAsRaw:ko(function(){return po(o+"-config",t,B)}),initialConfig:B,state:p}}},schema:re(r),exhibit:function(B,N){return C(B).bind(function(j){return Pn(c,"exhibit").map(function(te){return te(N,j.config,j.state)})}).getOr(Ns({}))},name:re(o),handlers:function(B){return C(B).map(function(N){var j=Pn(c,"events").getOr(function(){return{}});return j(N.config,N.state)}).getOr({})}});return D},Lt=function(t){return Ln(t)},Xd=_e([ve("fields"),ve("name"),Me("active",{}),Me("apis",{}),Me("state",gu),Me("extra",{})]),Do=function(t){var r=po("Creating behaviour: "+t.name,Xd,t);return qw(r.fields,r.name,r.active,r.apis,r.extra,r.state)},Kw=_e([ve("branchKey"),ve("branches"),ve("name"),Me("active",{}),Me("apis",{}),Me("state",gu),Me("extra",{})]),Xw=function(t){var r=po("Creating behaviour: "+t.name,Kw,t);return Gw(mi(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},Jb=re(void 0),tu=Do({fields:Xb,name:"receiving",active:jw}),Lv=function(t,r){return Ns({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},bp=Object.freeze({__proto__:null,exhibit:Lv}),Yd=function(){return yn.fromDom(document)},Is=function(t){return t.dom.focus()},Hx=function(t){return t.dom.blur()},yp=function(t){var r=li(t).dom;return t.dom===r.activeElement},Oc=function(t){return t===void 0&&(t=Yd()),E.from(t.dom.activeElement).map(yn.fromDom)},yu=function(t){return Oc(li(t)).filter(function(r){return t.dom.contains(r.dom)})},Zb=function(t,r){var o=li(r),c=Oc(o).bind(function(m){var p=function(C){return Ko(m,C)};return p(r)?E.some(r):Nb(r,p)}),v=t(r);return c.each(function(m){Oc(o).filter(function(p){return Ko(p,m)}).fold(function(){Is(m)},nt)}),v},Ac=function(t,r,o,c,v){return{position:t,left:r,top:o,right:c,bottom:v}},Hv=function(t,r){var o=function(c){return c+"px"};zd(t,{position:E.some(r.position),left:r.left.map(o),top:r.top.map(o),right:r.right.map(o),bottom:r.bottom.map(o)})},Qb=Gn.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Jd=function(t,r,o,c,v,m){var p=r.x-o,C=r.y-c,S=r.width,k=r.height,D=v-(p+S),B=m-(C+k),N=E.some(p),j=E.some(C),te=E.some(D),ne=E.some(B),be=E.none();return $w(r.direction,function(){return Ac(t,N,j,be,be)},function(){return Ac(t,be,j,te,be)},function(){return Ac(t,N,be,be,ne)},function(){return Ac(t,be,be,te,ne)},function(){return Ac(t,N,j,be,be)},function(){return Ac(t,N,be,be,ne)},function(){return Ac(t,N,j,be,be)},function(){return Ac(t,be,j,te,be)})},Vx=function(t,r){return t.fold(function(){return Ac("absolute",E.some(r.x),E.some(r.y),E.none(),E.none())},function(o,c,v,m){return Jd("absolute",r,o,c,v,m)},function(o,c,v,m){return Jd("fixed",r,o,c,v,m)})},Yl=function(t,r){var o=ar(Wd,r),c=t.fold(o,o,function(){var p=Ys();return Wd(r).translate(-p.left,-p.top)}),v=Fv(r),m=Kl(r);return iu(c.left,c.top,v,m)},Vv=function(t,r){return r.fold(function(){return t.fold(Ji,Ji,iu)},function(o){return t.fold(o,o,function(){var c=o(),v=Zd(t,c.x,c.y);return iu(v.left,v.top,c.width,c.height)})})},Zd=function(t,r,o){var c=Ro(r,o),v=function(){var m=Ys();return c.translate(-m.left,-m.top)};return t.fold(re(c),re(c),v)},wp=function(t,r,o,c){return t.fold(r,o,c)};Qb.none;var e0=Qb.relative,Cp=Qb.fixed,Sp=function(t,r){return{anchorBox:t,origin:r}},xp=function(t,r){return Sp(t,r)},Uv=function(t,r,o,c){var v=t+r;return v>c?o:v<o?c:v},ul=function(t,r,o){return Math.min(Math.max(t,r),o)},Hf=Gn.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),Dc=function(t,r,o,c,v){var m=v.x,p=v.y,C=v.width,S=v.height,k=t>=m,D=r>=p,B=k&&D,N=t+o<=m+C,j=r+c<=p+S,te=N&&j,ne=Math.abs(Math.min(o,k?m+C-t:m-(t+o))),be=Math.abs(Math.min(c,D?p+S-r:p-(r+c))),ae=Math.max(v.x,v.right-o),Oe=Math.max(v.y,v.bottom-c),Re=ul(t,v.x,ae),tt=ul(r,v.y,Oe);return{originInBounds:B,sizeInBounds:te,limitX:Re,limitY:tt,deltaW:ne,deltaH:be}},sl=function(t,r,o,c){var v=t.x,m=t.y,p=t.bubble.offset,C=p.left,S=p.top,k=zv(c,t.boundsRestriction,p),D=k.y,B=k.bottom,N=k.x,j=k.right,te=v+C,ne=m+S,be=Dc(te,ne,r,o,k),ae=be.originInBounds,Oe=be.sizeInBounds,Re=be.limitX,tt=be.limitY,Ue=be.deltaW,et=be.deltaH,Ke=re(tt+et-D),Dt=re(B-tt),Wn=Fx(t.direction,Dt,Dt,Ke),ln=re(Re+Ue-N),vt=re(j-Re),Tt=Iw(t.direction,vt,vt,ln),Mn={x:Re,y:tt,width:Ue,height:et,maxHeight:Wn,maxWidth:Tt,direction:t.direction,classes:{on:t.bubble.classesOn,off:t.bubble.classesOff},label:t.label,candidateYforTest:ne};return ae&&Oe?Hf.fit(Mn):Hf.nofit(Mn,Ue,et)},Ux=function(t,r,o,c,v){var m=o.width,p=o.height,C=function(k,D,B,N){var j=k(r,o,c),te=sl(j,m,p,v);return te.fold(Hf.fit,function(ne,be,ae){var Oe=ae>N||be>B;return Oe?Hf.nofit(ne,be,ae):Hf.nofit(D,B,N)})},S=Be(t,function(k,D){var B=ar(C,D);return k.fold(Hf.fit,B)},Hf.nofit({x:r.x,y:r.y,width:o.width,height:o.height,maxHeight:o.height,maxWidth:o.width,direction:mp(),classes:{on:[],off:[]},label:"none",candidateYforTest:r.y},-1,-1));return S.fold(_t,_t)},ft=function(t){return{width:Fv(t),height:Kl(t)}},kp=function(t,r,o,c){mo(r,"max-height"),mo(r,"max-width");var v=ft(r);return Ux(c.preference,t,v,o,c.bounds)},Bg=function(t,r){var o=r.classes;bo(t,o.off),Rf(t,o.on)},t0=function(t,r,o){var c=o.maxHeightFunction;c(t,r.maxHeight)},Tp=function(t,r,o){var c=o.maxWidthFunction;c(t,r.maxWidth)},_c=function(t,r,o){Hv(t,Vx(o.origin,r))},n0=function(t,r){op(t,Math.floor(r))},Yw=re(function(t,r){n0(t,r),Id(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Rg=re(function(t,r){n0(t,r)}),Qd=function(t,r,o){return t[r]===void 0?o:t[r]},Jw=function(t,r,o,c,v,m){var p=Qd(m,"maxHeightFunction",Yw()),C=Qd(m,"maxWidthFunction",nt),S=t.anchorBox,k=t.origin,D={bounds:Vv(k,v),origin:k,preference:c,maxHeightFunction:p,maxWidthFunction:C};Zw(S,r,o,D)},Zw=function(t,r,o,c){var v=kp(t,r,o,c);_c(r,v,c),Bg(r,v),t0(r,v,c),Tp(r,v,c)},Pg=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],Wv=function(t,r,o){var c=function(m){return Pn(o,m).getOr([])},v=function(m,p,C){var S=it(Pg,C);return{offset:Ro(m,p),classesOn:on(C,c),classesOff:on(S,c)}};return{southeast:function(){return v(-t,r,["top","alignLeft"])},southwest:function(){return v(t,r,["top","alignRight"])},south:function(){return v(-t/2,r,["top","alignCentre"])},northeast:function(){return v(-t,-r,["bottom","alignLeft"])},northwest:function(){return v(t,-r,["bottom","alignRight"])},north:function(){return v(-t/2,-r,["bottom","alignCentre"])},east:function(){return v(t,-r/2,["valignCentre","left"])},west:function(){return v(-t,-r/2,["valignCentre","right"])},innerNorthwest:function(){return v(-t,r,["top","alignRight"])},innerNortheast:function(){return v(t,r,["top","alignLeft"])},innerNorth:function(){return v(-t/2,r,["top","alignCentre"])},innerSouthwest:function(){return v(-t,-r,["bottom","alignRight"])},innerSoutheast:function(){return v(t,-r,["bottom","alignLeft"])},innerSouth:function(){return v(-t/2,-r,["bottom","alignCentre"])},innerWest:function(){return v(t,-r/2,["valignCentre","right"])},innerEast:function(){return v(-t,-r/2,["valignCentre","left"])}}},Mg=function(){return Wv(0,0,{})},em=function(t){return t},r0=function(t,r){return function(o){return Wx(o)==="rtl"?r:t}},Wx=function(t){return Fs(t,"direction")==="rtl"?"rtl":"ltr"},cl;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(cl||(cl={}));var tm="data-alloy-vertical-dir",Ng=function(t){return lp(t,function(r){return Qc(r)&&du(r,"data-alloy-vertical-dir")===cl.BottomToTop})},ll=function(){return Bi("layouts",[ve("onLtr"),ve("onRtl"),pa("onBottomLtr"),pa("onBottomRtl")])},Ep=function(t,r,o,c,v,m,p){var C=p.map(Ng).getOr(!1),S=r.layouts.map(function(j){return j.onLtr(t)}),k=r.layouts.map(function(j){return j.onRtl(t)}),D=C?r.layouts.bind(function(j){return j.onBottomLtr.map(function(te){return te(t)})}).or(S).getOr(v):S.getOr(o),B=C?r.layouts.bind(function(j){return j.onBottomRtl.map(function(te){return te(t)})}).or(k).getOr(m):k.getOr(c),N=r0(D,B);return N(t)},a0=function(t,r,o){var c=r.hotspot,v=Yl(o,c.element),m=Ep(t.element,r,hp(),Kb(),Ww(),Gb(),E.some(r.hotspot.element));return E.some(em({anchorBox:v,bubble:r.bubble.getOr(Mg()),overrides:r.overrides,layouts:m,placer:E.none()}))},Qw=[ve("hotspot"),pa("bubble"),Me("overrides",{}),ll(),ao("placement",a0)],e2=function(t,r,o){var c=Zd(o,r.x,r.y),v=iu(c.left,c.top,r.width,r.height),m=Ep(t.element,r,qb(),Uw(),qb(),Uw(),E.none());return E.some(em({anchorBox:v,bubble:r.bubble,overrides:r.overrides,layouts:m,placer:E.none()}))},t2=[ve("x"),ve("y"),Me("height",0),Me("width",0),Me("bubble",Mg()),Me("overrides",{}),ll(),ao("placement",e2)],o0=Gn.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),n2=function(t){return t.fold(_t,function(r,o,c){return r.translate(-o,-c)})},jx=function(t){return t.fold(_t,_t)},nm=function(t){return Be(t,function(r,o){return r.translate(o.left,o.top)},Ro(0,0))},r2=function(t){var r=Pe(t,n2);return nm(r)},i0=function(t){var r=Pe(t,jx);return nm(r)},Op=o0.screen,Ap=o0.absolute,u0=function(t,r,o){var c=Rd(o.root).dom,v=function(m){var p=Ao(m),C=Ao(t.element);return Ko(p,C)};return E.from(c.frameElement).map(yn.fromDom).filter(v).map(ka)},$u=function(t,r,o){var c=Ao(t.element),v=Ys(c),m=u0(t,r,o).getOr(v);return Ap(m,v.left,v.top)},s0=function(t,r,o,c){var v=t,m=r,p=o,C=c;t<0&&(v=0,p=o+t),r<0&&(m=0,C=c+r);var S=Op(Ro(v,m));return E.some(Bw(S,p,C))},Dp=function(t,r,o,c,v){return t.map(function(m){var p=[r,m.point],C=wp(c,function(){return i0(p)},function(){return i0(p)},function(){return r2(p)}),S=Mb(C.left,C.top,m.width,m.height),k=o.showAbove?Ww():hp(),D=o.showAbove?Gb():Kb(),B=Ep(v,o,k,D,k,D,E.none());return em({anchorBox:S,bubble:o.bubble.getOr(Mg()),overrides:o.overrides,layouts:B,placer:E.none()})})},qx=function(t,r,o){var c=$u(t,o,r);return r.node.filter(Ru).bind(function(v){var m=v.dom.getBoundingClientRect(),p=s0(m.left,m.top,m.width,m.height),C=r.node.getOr(t.element);return Dp(p,c,r,o,C)})},Gx=[ve("node"),ve("root"),pa("bubble"),ll(),Me("overrides",{}),Me("showAbove",!1),ao("placement",qx)],Vf="\uFEFF",_p="\xA0",a2=function(t,r,o,c){return{start:t,soffset:r,finish:o,foffset:c}},Bp={create:a2},Oi=Gn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),rm=function(t,r,o,c){return t.fold(r,o,c)},Kx=function(t){return t.fold(_t,_t,_t)},o2=Oi.before,Xx=Oi.on,Yx=Oi.after,Jx={before:o2,on:Xx,after:Yx,cata:rm,getStart:Kx},Jl=Gn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Fg=function(t){return Jl.exact(t.start,t.soffset,t.finish,t.foffset)},i2=function(t){return t.match({domRange:function(r){return yn.fromDom(r.startContainer)},relative:function(r,o){return Jx.getStart(r)},exact:function(r,o,c,v){return r}})},u2=Jl.domRange,Zx=Jl.relative,c0=Jl.exact,s2=function(t){var r=i2(t);return Rd(r)},l0=Bp.create,$g={domRange:u2,relative:Zx,exact:c0,exactFromRange:Fg,getWin:s2,range:l0},Qx=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,c){t.setStart(o.dom,c)},function(o){t.setStartAfter(o.dom)})},ek=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,c){t.setEnd(o.dom,c)},function(o){t.setEndAfter(o.dom)})},am=function(t,r,o){var c=t.document.createRange();return Qx(c,r),ek(c,o),c},f0=function(t,r,o,c,v){var m=t.document.createRange();return m.setStart(r.dom,o),m.setEnd(c.dom,v),m},c2=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},tk=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?E.some(o).map(c2):E.none()},jv=Gn.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),l2=function(t,r,o){return r(yn.fromDom(o.startContainer),o.startOffset,yn.fromDom(o.endContainer),o.endOffset)},f2=function(t,r){return r.match({domRange:function(o){return{ltr:re(o),rtl:E.none}},relative:function(o,c){return{ltr:ko(function(){return am(t,o,c)}),rtl:ko(function(){return E.some(am(t,c,o))})}},exact:function(o,c,v,m){return{ltr:ko(function(){return f0(t,o,c,v,m)}),rtl:ko(function(){return E.some(f0(t,v,m,o,c))})}}})},v0=function(t,r){var o=r.ltr();if(o.collapsed){var c=r.rtl().filter(function(v){return v.collapsed===!1});return c.map(function(v){return jv.rtl(yn.fromDom(v.endContainer),v.endOffset,yn.fromDom(v.startContainer),v.startOffset)}).getOrThunk(function(){return l2(t,jv.ltr,o)})}else return l2(t,jv.ltr,o)},v2=function(t,r){var o=f2(t,r);return v0(t,o)},nk=function(t,r){var o=v2(t,r);return o.match({ltr:function(c,v,m,p){var C=t.document.createRange();return C.setStart(c.dom,v),C.setEnd(m.dom,p),C},rtl:function(c,v,m,p){var C=t.document.createRange();return C.setStart(m.dom,p),C.setEnd(c.dom,v),C}})};jv.ltr,jv.rtl;var d0=function(t,r){var o=function(m){if(!t(m))throw new Error("Can only get "+r+" value of a "+r+" node");return c(m).getOr("")},c=function(m){return t(m)?E.from(m.dom.nodeValue):E.none()},v=function(m,p){if(!t(m))throw new Error("Can only set raw "+r+" value of a "+r+" node");m.dom.nodeValue=p};return{get:o,getOption:c,set:v}},d2=d0(Fi,"text"),rk=function(t){return d2.get(t)},m0=function(t){return d2.getOption(t)},ak=function(t){return hs(t)==="img"?1:m0(t).fold(function(){return qs(t).length},function(r){return r.length})},Ig=function(t){return m0(t).filter(function(r){return r.trim().length!==0||r.indexOf(_p)>-1}).isSome()},m2=["img","br"],fl=function(t){var r=Ig(t);return r||Sn(m2,hs(t))},ok=function(t){return ik(t,fl)},ik=function(t,r){var o=function(c){for(var v=qs(c),m=v.length-1;m>=0;m--){var p=v[m];if(r(p))return E.some(p);var C=o(p);if(C.isSome())return C}return E.none()};return o(t)},Iu=function(t,r){return Ps(r,t)},g2=function(t,r,o,c){var v=Ao(t),m=v.dom.createRange();return m.setStart(t.dom,r),m.setEnd(o.dom,c),m},uk=function(t,r,o,c){var v=g2(t,r,o,c),m=Ko(t,o)&&r===c;return v.collapsed&&!m},es=function(t){return E.from(t.getSelection())},h2=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return E.some(Bp.create(yn.fromDom(r.startContainer),r.startOffset,yn.fromDom(o.endContainer),o.endOffset))}else return E.none()},sk=function(t){if(t.anchorNode===null||t.focusNode===null)return h2(t);var r=yn.fromDom(t.anchorNode),o=yn.fromDom(t.focusNode);return uk(r,t.anchorOffset,o,t.focusOffset)?E.some(Bp.create(r,t.anchorOffset,o,t.focusOffset)):h2(t)},ck=function(t){return es(t).filter(function(r){return r.rangeCount>0}).bind(sk)},g0=function(t,r){var o=nk(t,r);return tk(o)},om=function(t,r){return{element:t,offset:r}},h0=function(t,r){var o=qs(t);if(o.length===0)return om(t,r);if(r<o.length)return om(o[r],0);var c=o[o.length-1],v=Fi(c)?rk(c).length:qs(c).length;return om(c,v)},p2=function(t,r){return Fi(t)?om(t,r):h0(t,r)},b2=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return ck(t)}});return o().map(function(c){var v=p2(c.start,c.soffset),m=p2(c.finish,c.foffset);return $g.range(v.element,v.offset,m.element,m.offset)})},lk=function(t,r,o){var c=Rd(r.root).dom,v=$u(t,o,r),m=b2(c,r).bind(function(S){var k=g0(c,$g.exactFromRange(S)).orThunk(function(){var D=yn.fromText(Vf);return Yh(S.start,D),g0(c,$g.exact(D,0,D,1)).map(function(B){return tl(D),B})});return k.bind(function(D){return s0(D.left,D.top,D.width,D.height)})}),p=b2(c,r).bind(function(S){return Qc(S.start)?E.some(S.start):Pd(S.start)}),C=p.getOr(t.element);return Dp(m,v,r,o,C)},y2=[pa("getSelection"),ve("root"),pa("bubble"),ll(),Me("overrides",{}),Me("showAbove",!1),ao("placement",lk)],Cs=function(t){return t.x+t.width},Uf=function(t,r){return t.x-r.width},Rp=function(t,r){return t.y-r.height+t.height},qv=function(t){return t.y},Pp=function(t,r,o){return Qi(Cs(t),qv(t),o.southeast(),mp(),uu(t,{left:0,top:2}),"link-layout-se")},w2=function(t,r,o){return Qi(Uf(t,r),qv(t),o.southwest(),zb(),uu(t,{right:1,top:2}),"link-layout-sw")},C2=function(t,r,o){return Qi(Cs(t),Rp(t,r),o.northeast(),Lb(),uu(t,{left:0,bottom:3}),"link-layout-ne")},p0=function(t,r,o){return Qi(Uf(t,r),Rp(t,r),o.northwest(),$s(),uu(t,{right:1,bottom:3}),"link-layout-nw")},b0=function(){return[Pp,w2,C2,p0]},y0=function(){return[w2,Pp,p0,C2]},S2=function(t,r,o){var c=Yl(o,r.item.element),v=Ep(t.element,r,b0(),y0(),b0(),y0(),E.none());return E.some(em({anchorBox:c,bubble:Mg(),overrides:r.overrides,layouts:v,placer:E.none()}))},x2=[ve("item"),ll(),Me("overrides",{}),ao("placement",S2)],fk=mi("anchor",{selection:y2,node:Gx,hotspot:Qw,submenu:x2,makeshift:t2}),vk=function(){var t=document.documentElement;return Cp(0,0,t.clientWidth,t.clientHeight)},dk=function(t){var r=ka(t.element),o=t.element.dom.getBoundingClientRect();return e0(r.left,r.top,o.width,o.height)},mk=function(t,r,o,c,v){var m=xp(o.anchorBox,r);Jw(m,v.element,o.bubble,o.layouts,c,o.overrides)},Mp=function(t,r,o,c,v){Wf(t,r,o,c,v,E.none())},Wf=function(t,r,o,c,v,m){var p=m.map(ys);return Np(t,r,o,c,v,p)},Np=function(t,r,o,c,v,m){var p=po("positioning anchor.info",fk,c);Zb(function(){Ir(v.element,"position","fixed");var C=Bo(v.element,"visibility");Ir(v.element,"visibility","hidden");var S=r.useFixed()?vk():dk(t),k=p.placement,D=m.map(re).or(r.getBounds);k(t,p,S).each(function(B){var N=B.placer.getOr(mk);N(t,S,B,D,v)}),C.fold(function(){mo(v.element,"visibility")},function(B){Ir(v.element,"visibility",B)}),Bo(v.element,"left").isNone()&&Bo(v.element,"top").isNone()&&Bo(v.element,"right").isNone()&&Bo(v.element,"bottom").isNone()&&Bo(v.element,"position").is("fixed")&&mo(v.element,"position")},v.element)},gk=function(t,r,o){return r.useFixed()?"fixed":"absolute"},hk=Object.freeze({__proto__:null,position:Mp,positionWithin:Wf,positionWithinBounds:Np,getMode:gk}),pk=[Me("useFixed",Gt),pa("getBounds")],wu=Do({fields:pk,name:"positioning",active:bp,apis:hk}),Gv=function(t){va(t,kv());var r=t.components();Ct(r,Gv)},im=function(t){var r=t.components();Ct(r,im),va(t,Jc())},w0=function(t,r){Bu(t.element,r.element)},C0=function(t){Ct(t.components(),function(r){return tl(r.element)}),wb(t.element),t.syncComponents()},Kv=function(t,r){var o=t.components();C0(t);var c=it(o,r);Ct(c,function(v){Gv(v),t.getSystem().removeFromWorld(v)}),Ct(r,function(v){v.getSystem().isConnected()?w0(t,v):(t.getSystem().addToWorld(v),w0(t,v),Ru(t.element)&&im(v)),t.syncComponents()})},Ss=function(t,r){Fp(t,r,Bu)},Fp=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),Ru(t.element)&&im(r),t.syncComponents()},S0=function(t){Gv(t),tl(t.element),t.getSystem().removeFromWorld(t)},Xv=function(t){var r=$i(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});S0(t),r.each(function(o){o.syncComponents()})},x0=function(t){var r=t.components();Ct(r,S0),wb(t.element),t.syncComponents()},$p=function(t,r){T2(t,r,Bu)},k2=function(t,r){T2(t,r,hw)},T2=function(t,r,o){o(t,r.element);var c=qs(r.element);Ct(c,function(v){r.getByDom(v).each(im)})},Yv=function(t){var r=qs(t.element);Ct(r,function(o){t.getByDom(o).each(Gv)}),tl(t.element)},jf=function(t,r,o,c){o.get().each(function(p){x0(t)});var v=r.getAttachPoint(t);Ss(v,t);var m=t.getSystem().build(c);return Ss(t,m),o.set(m),m},zg=function(t,r,o,c){var v=jf(t,r,o,c);return r.onOpen(t,v),v},um=function(t,r,o,c){return o.get().map(function(){return jf(t,r,o,c)})},qf=function(t,r,o,c,v){Jv(t,r),zg(t,r,o,c),v(),zp(t,r)},Bc=function(t,r,o){o.get().each(function(c){x0(t),Xv(t),r.onClose(t,c),o.clear()})},Ip=function(t,r,o){return o.isOpen()},E2=function(t,r,o,c){return Ip(t,r,o)&&o.get().exists(function(v){return r.isPartOf(t,v,c)})},bk=function(t,r,o){return o.get()},O2=function(t,r,o,c){Bo(t.element,r).fold(function(){Ju(t.element,o)},function(v){ya(t.element,o,v)}),Ir(t.element,r,c)},Lg=function(t,r,o){nl(t.element,o).fold(function(){return mo(t.element,r)},function(c){return Ir(t.element,r,c)})},Jv=function(t,r,o){var c=r.getAttachPoint(t);Ir(t.element,"position",wu.getMode(c)),O2(t,"visibility",r.cloakVisibilityAttr,"hidden")},k0=function(t){return Dn(["top","left","right","bottom"],function(r){return Bo(t,r).isSome()})},zp=function(t,r,o){k0(t.element)||mo(t.element,"position"),Lg(t,"visibility",r.cloakVisibilityAttr)},sm=Object.freeze({__proto__:null,cloak:Jv,decloak:zp,open:zg,openWhileCloaked:qf,close:Bc,isOpen:Ip,isPartOf:E2,getState:bk,setContent:um}),Hg=function(t,r){return ba([Et(sg(),function(o,c){Bc(o,t,r)})])},yk=Object.freeze({__proto__:null,events:Hg}),Lp=[wa("onOpen"),wa("onClose"),ve("isPartOf"),ve("getAttachPoint"),Me("cloakVisibilityAttr","data-precloak-visibility")],cm=function(){var t=nn(E.none()),r=re("not-implemented"),o=function(){return t.get().isSome()},c=function(p){t.set(E.some(p))},v=function(){return t.get()},m=function(){t.set(E.none())};return Ii({readState:r,isOpen:o,clear:m,set:c,get:v})},Ai=Object.freeze({__proto__:null,init:cm}),ua=Do({fields:Lp,name:"sandboxing",active:yk,apis:sm,state:Ai}),zu=re("dismiss.popups"),vl=re("reposition.popups"),Zv=re("mouse.released"),Zl=_e([Me("isExtraPart",Gt),Bi("fireEventInstead",[Me("event",Bd())])]),lm=function(t){var r,o=po("Dismissal",Zl,t);return r={},r[zu()]={schema:_e([ve("target")]),onReceive:function(c,v){if(ua.isOpen(c)){var m=ua.isPartOf(c,v.target)||o.isExtraPart(c,v.target);m||o.fireEventInstead.fold(function(){return ua.close(c)},function(p){return va(c,p.event)})}}},r},Hp=_e([Bi("fireEventInstead",[Me("event",Ni())]),na("doReposition")]),T0=function(t){var r,o=po("Reposition",Hp,t);return r={},r[vl()]={onReceive:function(c){ua.isOpen(c)&&o.fireEventInstead.fold(function(){return o.doReposition(c)},function(v){return va(c,v.event)})}},r},Vp=function(t,r,o){r.store.manager.onLoad(t,r,o)},E0=function(t,r,o){r.store.manager.onUnload(t,r,o)},wk=function(t,r,o,c){r.store.manager.setValue(t,r,o,c)},O0=function(t,r,o){return r.store.manager.getValue(t,r,o)},Rc=function(t,r,o){return o},A2=Object.freeze({__proto__:null,onLoad:Vp,onUnload:E0,setValue:wk,getValue:O0,getState:Rc}),Ck=function(t,r){var o=t.resetOnDom?[Oo(function(c,v){Vp(c,t,r)}),Yu(function(c,v){E0(c,t,r)})]:[pp(t,r,Vp)];return ba(o)},D2=Object.freeze({__proto__:null,events:Ck}),A0=function(){var t=nn(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},c=function(){t.set(null)};return Ii({set:t.set,get:t.get,isNotSet:o,clear:c,readState:r})},_2=function(){var t=nt;return Ii({readState:t})},B2=function(){var t=nn({}),r=nn({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},c=function(){t.set({}),r.set({})},v=function(p){return Pn(t.get(),p).orThunk(function(){return Pn(r.get(),p)})},m=function(p){var C=t.get(),S=r.get(),k={},D={};Ct(p,function(B){k[B.value]=B,Pn(B,"meta").each(function(N){Pn(N,"text").each(function(j){D[j]=B})})}),t.set(se(se({},C),k)),r.set(se(se({},S),D))};return Ii({readState:o,lookup:v,update:m,clear:c})},Sk=function(t){return t.store.manager.state(t)},zs=Object.freeze({__proto__:null,memory:A0,dataset:B2,manual:_2,init:Sk}),fm=function(t,r,o,c){var v=r.store;o.update([c]),v.setValue(t,c),r.onSetValue(t,c)},D0=function(t,r,o){var c=r.store,v=c.getDataKey(t);return o.lookup(v).fold(function(){return c.getFallbackEntry(v)},function(m){return m})},Qv=function(t,r,o){var c=r.store;c.initialValue.each(function(v){fm(t,r,o,v)})},Js=function(t,r,o){o.clear()},dl=[pa("initialValue"),ve("getFallbackEntry"),ve("getDataKey"),ve("setValue"),ao("manager",{setValue:fm,getValue:D0,onLoad:Qv,onUnload:Js,state:B2})],Lu=function(t,r,o){return r.store.getValue(t)},Pc=function(t,r,o,c){r.store.setValue(t,c),r.onSetValue(t,c)},R2=function(t,r,o){r.store.initialValue.each(function(c){r.store.setValue(t,c)})},ml=[ve("getValue"),Me("setValue",nt),pa("initialValue"),ao("manager",{setValue:Pc,getValue:Lu,onLoad:R2,onUnload:nt,state:gu.init})],ed=function(t,r,o,c){o.set(c),r.onSetValue(t,c)},xk=function(t,r,o){return o.get()},P2=function(t,r,o){r.store.initialValue.each(function(c){o.isNotSet()&&o.set(c)})},_0=function(t,r,o){o.clear()},B0=[pa("initialValue"),ao("manager",{setValue:ed,getValue:xk,onLoad:P2,onUnload:_0,state:A0})],kk=[ri("store",{mode:"memory"},mi("mode",{memory:B0,manual:ml,dataset:dl})),wa("onSetValue"),Me("resetOnDom",!1)],wn=Do({fields:kk,name:"representing",active:D2,apis:A2,extra:{setValueFrom:function(t,r){var o=wn.getValue(r);wn.setValue(t,o)}},state:zs}),Si=function(t,r){return pi(t,{},Pe(r,function(o){return _i(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([si("dump",_t)]))},Up=function(t){return t.dump},oi=function(t,r){return se(se({},t.dump),Lt(r))},ts={field:Si,augment:oi,get:Up},Vg="placeholder",vm=Gn.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),td=function(t){return Oa(t,"uiType")},R0=function(t,r,o,c){return t.exists(function(v){return v!==o.owner})?vm.single(!0,re(o)):Pn(c,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+hr(c)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(v){return v.replace()})},P0=function(t,r,o,c){return td(o)&&o.uiType===Vg?R0(t,r,o,c):vm.single(!1,re(o))},M2=function(t,r,o,c){var v=P0(t,r,o,c);return v.fold(function(m,p){var C=td(o)?p(r,o.config,o.validated):p(r),S=Pn(C,"components").getOr([]),k=on(S,function(D){return M2(t,r,D,c)});return[se(se({},C),{components:k})]},function(m,p){if(td(o)){var C=p(r,o.config,o.validated),S=o.validated.preprocess.getOr(_t);return S(C)}else return p(r)})},Tk=function(t,r,o,c){return on(o,function(v){return M2(t,r,v,c)})},Ek=function(t,r){var o=!1,c=function(){return o},v=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},m=function(){return r.fold(function(p,C){return p},function(p,C){return p})};return{name:re(t),required:m,used:c,replace:v}},Ok=function(t,r,o,c){var v=Or(c,function(p,C){return Ek(C,p)}),m=Tk(t,r,o,v);return Rr(v,function(p){if(p.used()===!1&&p.required())throw new Error("Placeholder: "+p.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),m},N2=vm.single,xs=vm.multiple,F2=re(Vg),Ql=Gn.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),gl=Me("factory",{sketch:_t}),Mc=Me("schema",[]),nd=ve("name"),M0=aa("pname","pname",je(function(t){return"<alloy."+Qn(t.name)+">"}),F()),$2=si("schema",function(){return[pa("preprocess")]}),dm=Me("defaults",re({})),mm=Me("overrides",re({})),gm=Se([gl,Mc,nd,M0,dm,mm]),N0=Se([gl,Mc,nd,dm,mm]),Ak=Se([gl,Mc,nd,M0,dm,mm]),ef=Se([gl,$2,nd,ve("unit"),M0,dm,mm]),Ug=function(t){return t.fold(E.some,E.none,E.some,E.some)},Wp=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},jp=function(t){return t.fold(_t,_t,_t,_t)},Wg=function(t,r){return function(o){var c=po("Converting part type",r,o);return t(c)}},xi=Wg(Ql.required,gm),Zs=Wg(Ql.external,N0),Qs=Wg(Ql.optional,Ak),jg=Wg(Ql.group,ef),rd=re("entirety"),F0=Object.freeze({__proto__:null,required:xi,external:Zs,optional:Qs,group:jg,asNamedPart:Ug,name:Wp,asCommon:jp,original:rd}),qp=function(t,r,o,c){return Hr(r.defaults(t,o,c),o,{uid:t.partUids[r.name]},r.overrides(t,o,c))},ad=function(t,r,o){var c={},v={};return Ct(o,function(m){m.fold(function(p){c[p.pname]=N2(!0,function(C,S,k){return p.factory.sketch(qp(C,p,S,k))})},function(p){var C=r.parts[p.name];v[p.name]=re(p.factory.sketch(qp(r,p,C[rd()]),C))},function(p){c[p.pname]=N2(!1,function(C,S,k){return p.factory.sketch(qp(C,p,S,k))})},function(p){c[p.pname]=xs(!0,function(C,S,k){var D=C[p.name];return Pe(D,function(B){return p.factory.sketch(Hr(p.defaults(C,B,k),B,p.overrides(C,B)))})})})}),{internals:re(c),externals:re(v)}},qg=function(t,r){var o={};return Ct(r,function(c){Ug(c).each(function(v){var m=Gg(t,v.pname);o[v.name]=function(p){var C=po("Part: "+v.name+" in "+t,Se(v.schema),p);return se(se({},m),{config:p,validated:C})}})}),o},Gg=function(t,r){return{uiType:F2(),owner:t,name:r}},$0=function(t,r,o){return{uiType:F2(),owner:t,name:r,config:o,validated:{}}},I2=function(t){return on(t,function(r){return r.fold(E.none,E.some,E.none,E.none).map(function(o){return gi(o.name,o.schema.concat([ws(rd())]))}).toArray()})},I0=function(t){return Pe(t,Wp)},Gp=function(t,r,o){return ad(t,r,o)},z0=function(t,r,o){return Ok(E.some(t),r,r.components,o)},qa=function(t,r,o){var c=r.partUids[o];return t.getSystem().getByUid(c).toOptional()},Nc=function(t,r,o){return qa(t,r,o).getOrDie("Could not find part: "+o)},Gf=function(t,r,o){var c={},v=r.partUids,m=t.getSystem();return Ct(o,function(p){c[p]=re(m.getByUid(v[p]))}),c},Kp=function(t,r){var o=t.getSystem();return Or(r.partUids,function(c,v){return re(o.getByUid(c))})},L0=function(t){return hr(t.partUids)},hm=function(t,r,o){var c={},v=r.partUids,m=t.getSystem();return Ct(o,function(p){c[p]=re(m.getByUid(v[p]).getOrDie())}),c},H0=function(t,r){var o=I0(r);return Ln(Pe(o,function(c){return{key:c,value:t+"-"+c}}))},ec=function(t){return aa("partUids","partUids",G(function(r){return H0(r.uid,t)}),F())},Xp=Object.freeze({__proto__:null,generate:qg,generateOne:$0,schemas:I2,names:I0,substitutes:Gp,components:z0,defaultUids:H0,defaultUidsSchema:ec,getAllParts:Kp,getAllPartNames:L0,getPart:qa,getPartOrDie:Nc,getParts:Gf,getPartsOrDie:hm}),Dk=function(t,r){var o=t.length>0?[gi("parts",t)]:[];return o.concat([ve("uid"),Me("dom",{}),Me("components",[]),ws("originalSpec"),Me("debug.sketcher",{})]).concat(r)},pm=function(t,r,o,c,v){var m=Dk(c,v);return po(t+" [SpecSchema]",_e(m.concat(r)),o)},V0=function(t,r,o,c){var v=su(c),m=pm(t,r,v,[],[]);return o(m,v)},U0=function(t,r,o,c,v){var m=su(v),p=I2(o),C=ec(o),S=pm(t,r,m,p,[C]),k=Gp(t,S,o),D=z0(t,S,k.internals());return c(S,D,m,k.externals())},_k=function(t){return Oa(t,"uid")},su=function(t){return _k(t)?t:se(se({},t),{uid:yg("uid")})},Yp=function(t){return t.uid!==void 0},z2=_e([ve("name"),ve("factory"),ve("configFields"),Me("apis",{}),Me("extraApis",{})]),bm=_e([ve("name"),ve("factory"),ve("configFields"),ve("partFields"),Me("apis",{}),Me("extraApis",{})]),Ls=function(t){var r=po("Sketcher for "+t.name,z2,t),o=function(m){return V0(r.name,r.configFields,r.factory,m)},c=Or(r.apis,Ul),v=Or(r.extraApis,function(m,p){return Cg(m,p)});return se(se({name:r.name,configFields:r.configFields,sketch:o},c),v)},Cu=function(t){var r=po("Sketcher for "+t.name,bm,t),o=function(p){return U0(r.name,r.configFields,r.partFields,r.factory,p)},c=qg(r.name,r.partFields),v=Or(r.apis,Ul),m=Or(r.extraApis,function(p,C){return Cg(p,C)});return se(se({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:c},v),m)},od=function(t){for(var r=[],o=function(v){r.push(v)},c=0;c<t.length;c++)t[c].each(o);return r},W0=function(t){for(var r=[],o=0;o<t.length;o++){var c=t[o];if(c.isSome())r.push(c.getOrDie());else return E.none()}return E.some(r)},j0=function(t,r,o){return t.isSome()&&r.isSome()?E.some(o(t.getOrDie(),r.getOrDie())):E.none()},hl=function(t,r,o,c){return t.isSome()&&r.isSome()&&o.isSome()?E.some(c(t.getOrDie(),r.getOrDie(),o.getOrDie())):E.none()},Jp=function(t,r){return t!=null?E.some(r(t)):E.none()},Zp=function(t,r){return t?E.some(r):E.none()},Kf=function(t){return hs(t)==="input"&&du(t,"type")!=="radio"||hs(t)==="textarea"},Bk=function(t,r,o){return r.find(t)},L2=Object.freeze({__proto__:null,getCurrent:Bk}),ym=[ve("find")],da=Do({fields:ym,name:"composing",apis:L2}),H2=function(t,r,o,c){var v=Iu(t.element,"."+r.highlightClass);Ct(v,function(m){Dn(c,function(p){return p.element===m})||(vo(m,r.highlightClass),t.getSystem().getByDom(m).each(function(p){r.onDehighlight(t,p),va(p,lb())}))})},Kg=function(t,r,o){return H2(t,r,o,[])},q0=function(t,r,o,c){wm(t,r,o,c)&&(vo(c.element,r.highlightClass),r.onDehighlight(t,c),va(c,lb()))},Xg=function(t,r,o,c){H2(t,r,o,[c]),wm(t,r,o,c)||(ja(c.element,r.highlightClass),r.onHighlight(t,c),va(c,mw()))},Rk=function(t,r,o){V2(t,r).each(function(c){Xg(t,r,o,c)})},Qp=function(t,r,o){G0(t,r).each(function(c){Xg(t,r,o,c)})},id=function(t,r,o,c){Mk(t,r,o,c).fold(function(v){throw v},function(v){Xg(t,r,o,v)})},Yg=function(t,r,o,c){var v=K0(t,r),m=ke(v,c);m.each(function(p){Xg(t,r,o,p)})},wm=function(t,r,o,c){return fi(c.element,r.highlightClass)},Pk=function(t,r,o){return Zi(t.element,"."+r.highlightClass).bind(function(c){return t.getSystem().getByDom(c).toOptional()})},Mk=function(t,r,o,c){var v=Iu(t.element,"."+r.itemClass);return E.from(v[c]).fold(function(){return vn.error(new Error("No element found with index "+c))},t.getSystem().getByDom)},V2=function(t,r,o){return Zi(t.element,"."+r.itemClass).bind(function(c){return t.getSystem().getByDom(c).toOptional()})},G0=function(t,r,o){var c=Iu(t.element,"."+r.itemClass),v=c.length>0?E.some(c[c.length-1]):E.none();return v.bind(function(m){return t.getSystem().getByDom(m).toOptional()})},U2=function(t,r,o,c){var v=Iu(t.element,"."+r.itemClass),m=bn(v,function(p){return fi(p,r.highlightClass)});return m.bind(function(p){var C=Uv(p,c,0,v.length-1);return t.getSystem().getByDom(v[C]).toOptional()})},W2=function(t,r,o){return U2(t,r,o,-1)},Nk=function(t,r,o){return U2(t,r,o,1)},K0=function(t,r,o){var c=Iu(t.element,"."+r.itemClass);return od(Pe(c,function(v){return t.getSystem().getByDom(v).toOptional()}))},j2=Object.freeze({__proto__:null,dehighlightAll:Kg,dehighlight:q0,highlight:Xg,highlightFirst:Rk,highlightLast:Qp,highlightAt:id,highlightBy:Yg,isHighlighted:wm,getHighlighted:Pk,getFirst:V2,getLast:G0,getPrevious:W2,getNext:Nk,getCandidates:K0}),Fk=[ve("highlightClass"),ve("itemClass"),wa("onHighlight"),wa("onDehighlight")],Ba=Do({fields:Fk,name:"highlighting",apis:j2}),q2=[8],fr=[9],pl=[13],Jg=[27],ns=[32],e1=[37],Zg=[38],ud=[39],tf=[40],Qg=function(t,r,o){var c=Jn(t.slice(0,r)),v=Jn(t.slice(r+1));return ke(c.concat(v),o)},$k=function(t,r,o){var c=Jn(t.slice(0,r));return ke(c,o)},G2=function(t,r,o){var c=t.slice(0,r),v=t.slice(r+1);return ke(v.concat(c),o)},Ik=function(t,r,o){var c=t.slice(r+1);return ke(c,o)},ea=function(t){return function(r){var o=r.raw;return Sn(t,o.which)}},tc=function(t){return function(r){return zr(t,function(o){return o(r)})}},Xf=function(t){var r=t.raw;return r.shiftKey===!0},K2=function(t){var r=t.raw;return r.ctrlKey===!0},Cm=qn(Xf),sa=function(t,r){return{matches:t,classification:r}},t1=function(t,r){var o=ke(t,function(c){return c.matches(r)});return o.map(function(c){return c.classification})},X0=function(t,r,o){var c=r.exists(function(v){return o.exists(function(m){return Ko(m,v)})});c||Hn(t,Wh(),{prevFocus:r,newFocus:o})},Yf=function(){var t=function(o){return yu(o.element)},r=function(o,c){var v=t(o);o.getSystem().triggerFocus(c,o.element);var m=t(o);X0(o,v,m)};return{get:t,set:r}},eh=function(){var t=function(o){return Ba.getHighlighted(o).map(function(c){return c.element})},r=function(o,c){var v=t(o);o.getSystem().getByDom(c).fold(nt,function(p){Ba.highlight(o,p)});var m=t(o);X0(o,v,m)};return{get:t,set:r}},sd;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(sd||(sd={}));var Fc=function(t,r,o,c,v){var m=function(){return t.concat([Me("focusManager",Yf()),ri("focusInside","onFocus",fs(function(k){return Sn(["onFocus","onEnterOrSpace","onApi"],k)?vn.value(k):vn.error("Invalid value for focusInside")})),ao("handler",S),ao("state",r),ao("sendFocusIn",v)])},p=function(k,D,B,N,j){var te=B(k,D,N,j);return t1(te,D.event).bind(function(ne){return ne(k,D,N,j)})},C=function(k,D){var B=k.focusInside!==sd.OnFocusMode?E.none():v(k).map(function(te){return Et(Xc(),function(ne,be){te(ne,k,D),be.stop()})}),N=function(te,ne){var be=ea(ns.concat(pl))(ne.event);k.focusInside===sd.OnEnterOrSpaceMode&&be&&U(te,ne)&&v(k).each(function(ae){ae(te,k,D),ne.stop()})},j=[Et(og(),function(te,ne){p(te,ne,o,k,D).fold(function(){N(te,ne)},function(be){ne.stop()})}),Et(ub(),function(te,ne){p(te,ne,c,k,D).each(function(be){ne.stop()})})];return ba(B.toArray().concat(j))},S={schema:m,processKey:p,toEvents:C};return S},Y0=function(t){var r=[pa("onEscape"),pa("onEnter"),Me("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Me("firstTabstop",0),Me("useTabstopAt",Zt),pa("visibilitySelector")].concat([t]),o=function(ne,be){var ae=ne.visibilitySelector.bind(function(Oe){return Tc(be,Oe)}).getOr(be);return bu(ae)>0},c=function(ne,be){var ae=Iu(ne.element,be.selector),Oe=de(ae,function(Re){return o(be,Re)});return E.from(Oe[be.firstTabstop])},v=function(ne,be){return be.focusManager.get(ne).bind(function(ae){return Tc(ae,be.selector)})},m=function(ne,be){return o(ne,be)&&ne.useTabstopAt(be)},p=function(ne,be,ae){c(ne,be).each(function(Oe){be.focusManager.set(ne,Oe)})},C=function(ne,be,ae,Oe,Re){return Re(be,ae,function(tt){return m(Oe,tt)}).fold(function(){return Oe.cyclic?E.some(!0):E.none()},function(tt){return Oe.focusManager.set(ne,tt),E.some(!0)})},S=function(ne,be,ae,Oe){var Re=Iu(ne.element,ae.selector);return v(ne,ae).bind(function(tt){var Ue=bn(Re,ar(Ko,tt));return Ue.bind(function(et){return C(ne,Re,et,ae,Oe)})})},k=function(ne,be,ae){var Oe=ae.cyclic?Qg:$k;return S(ne,be,ae,Oe)},D=function(ne,be,ae){var Oe=ae.cyclic?G2:Ik;return S(ne,be,ae,Oe)},B=function(ne,be,ae){return ae.onEnter.bind(function(Oe){return Oe(ne,be)})},N=function(ne,be,ae){return ae.onEscape.bind(function(Oe){return Oe(ne,be)})},j=re([sa(tc([Xf,ea(fr)]),k),sa(ea(fr),D),sa(ea(Jg),N),sa(tc([Cm,ea(pl)]),B)]),te=re([]);return Fc(r,gu.init,j,te,function(){return E.some(p)})},zk=Y0(si("cyclic",Gt)),Lk=Y0(si("cyclic",Zt)),X2=function(t,r,o){return qh(t,o,Du()),E.some(!0)},th=function(t,r,o){var c=Kf(o)&&ea(ns)(r.event);return c?E.none():X2(t,r,o)},Sm=function(t,r){return E.some(!0)},Hk=[Me("execute",th),Me("useSpace",!1),Me("useEnter",!0),Me("useControlEnter",!1),Me("useDown",!1)],J0=function(t,r,o){return o.execute(t,r,t.element)},Vk=function(t,r,o,c){var v=o.useSpace&&!Kf(t.element)?ns:[],m=o.useEnter?pl:[],p=o.useDown?tf:[],C=v.concat(m).concat(p);return[sa(ea(C),J0)].concat(o.useControlEnter?[sa(tc([K2,ea(pl)]),J0)]:[])},n1=function(t,r,o,c){return o.useSpace&&!Kf(t.element)?[sa(ea(ns),Sm)]:[]},Uk=Fc(Hk,gu.init,Vk,n1,function(){return E.none()}),Y2=function(){var t=nn(E.none()),r=function(v,m){t.set(E.some({numRows:v,numColumns:m}))},o=function(){return t.get().map(function(v){return v.numRows})},c=function(){return t.get().map(function(v){return v.numColumns})};return Ii({readState:function(){return t.get().map(function(v){return{numRows:String(v.numRows),numColumns:String(v.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:c})},Wk=function(t){return t.state(t)},cd=Object.freeze({__proto__:null,flatgrid:Y2,init:Wk}),J2=function(t){return function(r,o,c,v){var m=t(r.element);return Z2(m,r,o,c,v)}},r1=function(t,r){var o=r0(t,r);return J2(o)},nh=function(t,r){var o=r0(r,t);return J2(o)},ld=function(t){return function(r,o,c,v){return Z2(t,r,o,c,v)}},Z2=function(t,r,o,c,v){var m=c.focusManager.get(r).bind(function(p){return t(r.element,p,c,v)});return m.map(function(p){return c.focusManager.set(r,p),!0})},a1=ld,Q2=ld,Jf=ld,Z0=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Zf=function(t){return!Z0(t.dom)},xm=function(t,r){return bn(t,r).map(function(o){return{index:o,candidates:t}})},eC=function(t,r,o){var c=function(p){return Ko(p,r)},v=Iu(t,o),m=de(v,Zf);return xm(m,c)},Q0=function(t,r){return bn(t,function(o){return Ko(r,o)})},tC=function(t,r,o,c){var v=Math.floor(r/o),m=r%o;return c(v,m).bind(function(p){var C=p.row*o+p.column;return C>=0&&C<t.length?E.some(t[C]):E.none()})},nC=function(t,r,o,c,v){return tC(t,r,c,function(m,p){var C=m===o-1,S=C?t.length-m*c:c,k=Uv(p,v,0,S-1);return E.some({row:m,column:k})})},ey=function(t,r,o,c,v){return tC(t,r,c,function(m,p){var C=Uv(m,v,0,o-1),S=C===o-1,k=S?t.length-C*c:c,D=ul(p,0,k-1);return E.some({row:C,column:D})})},km=function(t,r,o,c){return nC(t,r,o,c,1)},jk=function(t,r,o,c){return nC(t,r,o,c,-1)},qk=function(t,r,o,c){return ey(t,r,o,c,-1)},ty=function(t,r,o,c){return ey(t,r,o,c,1)},ny=[ve("selector"),Me("execute",th),Lo("onEscape"),Me("captureTab",!1),dp()],Gk=function(t,r,o){Zi(t.element,r.selector).each(function(c){r.focusManager.set(t,c)})},rC=function(t,r){return r.focusManager.get(t).bind(function(o){return Tc(o,r.selector)})},aC=function(t,r,o,c){return rC(t,o).bind(function(v){return o.execute(t,r,v)})},nf=function(t){return function(r,o,c,v){return eC(r,o,c.selector).bind(function(m){return t(m.candidates,m.index,v.getNumRows().getOr(c.initSize.numRows),v.getNumColumns().getOr(c.initSize.numColumns))})}},ry=function(t,r,o){return o.captureTab?E.some(!0):E.none()},oC=function(t,r,o){return o.onEscape(t,r)},iC=nf(jk),uC=nf(km),Kk=nf(qk),o1=nf(ty),i1=re([sa(ea(e1),r1(iC,uC)),sa(ea(ud),nh(iC,uC)),sa(ea(Zg),a1(Kk)),sa(ea(tf),Q2(o1)),sa(tc([Xf,ea(fr)]),ry),sa(tc([Cm,ea(fr)]),ry),sa(ea(Jg),oC),sa(ea(ns.concat(pl)),aC)]),Xk=re([sa(ea(ns),Sm)]),Yk=Fc(ny,Y2,i1,Xk,function(){return E.some(Gk)}),u1=function(t,r,o,c){var v=function(p){return hs(p)==="button"&&du(p,"disabled")==="disabled"},m=function(p,C,S){var k=Uv(C,c,0,S.length-1);return k===p?E.none():v(S[k])?m(p,k,S):E.from(S[k])};return eC(t,o,r).bind(function(p){var C=p.index,S=p.candidates;return m(C,C,S)})},Tm=[ve("selector"),Me("getInitial",E.none),Me("execute",th),Lo("onEscape"),Me("executeOnMove",!1),Me("allowVertical",!0)],Jk=function(t,r){return r.focusManager.get(t).bind(function(o){return Tc(o,r.selector)})},ay=function(t,r,o){return Jk(t,o).bind(function(c){return o.execute(t,r,c)})},Zk=function(t,r,o){r.getInitial(t).orThunk(function(){return Zi(t.element,r.selector)}).each(function(c){r.focusManager.set(t,c)})},rh=function(t,r,o){return u1(t,o.selector,r,-1)},s1=function(t,r,o){return u1(t,o.selector,r,1)},oy=function(t){return function(r,o,c,v){return t(r,o,c,v).bind(function(){return c.executeOnMove?ay(r,o,c):E.some(!0)})}},Qk=function(t,r,o){return o.onEscape(t,r)},sC=function(t,r,o,c){var v=e1.concat(o.allowVertical?Zg:[]),m=ud.concat(o.allowVertical?tf:[]);return[sa(ea(v),oy(r1(rh,s1))),sa(ea(m),oy(nh(rh,s1))),sa(ea(pl),ay),sa(ea(ns),ay),sa(ea(Jg),Qk)]},iy=re([sa(ea(ns),Sm)]),cC=Fc(Tm,gu.init,sC,iy,function(){return E.some(Zk)}),Qf=function(t,r,o){return E.from(t[r]).bind(function(c){return E.from(c[o]).map(function(v){return{rowIndex:r,columnIndex:o,cell:v}})})},ah=function(t,r,o,c){var v=t[r],m=v.length,p=Uv(o,c,0,m-1);return Qf(t,r,p)},uy=function(t,r,o,c){var v=Uv(o,c,0,t.length-1),m=t[v].length,p=ul(r,0,m-1);return Qf(t,v,p)},lC=function(t,r,o,c){var v=t[r],m=v.length,p=ul(o+c,0,m-1);return Qf(t,r,p)},fC=function(t,r,o,c){var v=ul(o+c,0,t.length-1),m=t[v].length,p=ul(r,0,m-1);return Qf(t,v,p)},c1=function(t,r,o){return ah(t,r,o,1)},l1=function(t,r,o){return ah(t,r,o,-1)},f1=function(t,r,o){return uy(t,o,r,-1)},vC=function(t,r,o){return uy(t,o,r,1)},dC=function(t,r,o){return lC(t,r,o,-1)},bl=function(t,r,o){return lC(t,r,o,1)},eT=function(t,r,o){return fC(t,o,r,-1)},yl=function(t,r,o){return fC(t,o,r,1)},tT=[gi("selectors",[ve("row"),ve("cell")]),Me("cycles",!0),Me("previousSelector",E.none),Me("execute",th)],mC=function(t,r,o){var c=r.previousSelector(t).orThunk(function(){var v=r.selectors;return Zi(t.element,v.cell)});c.each(function(v){r.focusManager.set(t,v)})},nT=function(t,r,o){return yu(t.element).bind(function(c){return o.execute(t,r,c)})},rT=function(t,r){return Pe(t,function(o){return Iu(o,r.selectors.cell)})},ev=function(t,r){return function(o,c,v){var m=v.cycles?t:r;return Tc(c,v.selectors.row).bind(function(p){var C=Iu(p,v.selectors.cell);return Q0(C,c).bind(function(S){var k=Iu(o,v.selectors.row);return Q0(k,p).bind(function(D){var B=rT(k,v);return m(B,D,S).map(function(N){return N.cell})})})})}},v1=ev(l1,dC),gC=ev(c1,bl),aT=ev(f1,eT),Em=ev(vC,yl),oT=re([sa(ea(e1),r1(v1,gC)),sa(ea(ud),nh(v1,gC)),sa(ea(Zg),a1(aT)),sa(ea(tf),Q2(Em)),sa(ea(ns.concat(pl)),nT)]),iT=re([sa(ea(ns),Sm)]),uT=Fc(tT,gu.init,oT,iT,function(){return E.some(mC)}),hC=[ve("selector"),Me("execute",th),Me("moveOnTab",!1)],Om=function(t,r,o){return o.focusManager.get(t).bind(function(c){return o.execute(t,r,c)})},sT=function(t,r,o){Zi(t.element,r.selector).each(function(c){r.focusManager.set(t,c)})},pC=function(t,r,o){return u1(t,o.selector,r,-1)},oh=function(t,r,o){return u1(t,o.selector,r,1)},d1=function(t,r,o,c){return o.moveOnTab?Jf(pC)(t,r,o,c):E.none()},bC=function(t,r,o,c){return o.moveOnTab?Jf(oh)(t,r,o,c):E.none()},cT=re([sa(ea(Zg),Jf(pC)),sa(ea(tf),Jf(oh)),sa(tc([Xf,ea(fr)]),d1),sa(tc([Cm,ea(fr)]),bC),sa(ea(pl),Om),sa(ea(ns),Om)]),lT=re([sa(ea(ns),Sm)]),fT=Fc(hC,gu.init,cT,lT,function(){return E.some(sT)}),tv=[Lo("onSpace"),Lo("onEnter"),Lo("onShiftEnter"),Lo("onLeft"),Lo("onRight"),Lo("onTab"),Lo("onShiftTab"),Lo("onUp"),Lo("onDown"),Lo("onEscape"),Me("stopSpaceKeyup",!1),pa("focusIn")],yC=function(t,r,o){return[sa(ea(ns),o.onSpace),sa(tc([Cm,ea(pl)]),o.onEnter),sa(tc([Xf,ea(pl)]),o.onShiftEnter),sa(tc([Xf,ea(fr)]),o.onShiftTab),sa(tc([Cm,ea(fr)]),o.onTab),sa(ea(Zg),o.onUp),sa(ea(tf),o.onDown),sa(ea(e1),o.onLeft),sa(ea(ud),o.onRight),sa(ea(ns),o.onSpace),sa(ea(Jg),o.onEscape)]},vT=function(t,r,o){return o.stopSpaceKeyup?[sa(ea(ns),Sm)]:[]},sy=Fc(tv,gu.init,yC,vT,function(t){return t.focusIn}),wC=zk.schema(),CC=Lk.schema(),cy=cC.schema(),SC=Yk.schema(),ly=uT.schema(),xC=Uk.schema(),Am=fT.schema(),fy=sy.schema(),Dm=Object.freeze({__proto__:null,acyclic:wC,cyclic:CC,flow:cy,flatgrid:SC,matrix:ly,execution:xC,menu:Am,special:fy}),vy=function(t){return La(t,"setGridSize")},vr=Xw({branchKey:"mode",branches:Dm,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(c){c(t,r,o)})},setGridSize:function(t,r,o,c,v){vy(o)?o.setGridSize(c,v):console.error("Layout does not support setGridSize")}},state:cd}),dT=function(t,r,o,c){Zb(function(){var v=Pe(c,t.getSystem().build);Kv(t,v)},t.element)},m1=function(t,r,o,c){var v=t.getSystem().build(c);Fp(t,v,o)},nc=function(t,r,o,c){m1(t,r,Bu,c)},dy=function(t,r,o,c){m1(t,r,pw,c)},rf=function(t,r,o,c){var v=g1(t),m=ke(v,function(p){return Ko(c.element,p.element)});m.each(Xv)},g1=function(t,r){return t.components()},kC=function(t,r,o,c,v){var m=g1(t);return E.from(m[c]).map(function(p){return rf(t,r,o,p),v.each(function(C){m1(t,r,function(S,k){mx(S,k,c)},C)}),p})},mT=function(t,r,o,c,v){var m=g1(t);return bn(m,c).bind(function(p){return kC(t,r,o,p,v)})},gT=Object.freeze({__proto__:null,append:nc,prepend:dy,remove:rf,replaceAt:kC,replaceBy:mT,set:dT,contents:g1}),Fr=Do({fields:[],name:"replacing",apis:gT}),my=function(t,r){var o=ba(r);return Do({fields:[ve("enabled")],name:t,active:{events:re(o)}})},Yr=function(t,r){var o=my(t,r);return{key:t,value:{config:{},me:o,configAsRaw:re({}),initialConfig:{},state:gu}}},TC=function(t,r){r.ignore||(Is(t.element),r.onFocus(t))},hT=function(t,r){r.ignore||Hx(t.element)},h1=function(t){return yp(t.element)},pT=Object.freeze({__proto__:null,focus:TC,blur:hT,isFocused:h1}),EC=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return Ns(o)},gy=function(t){return ba([Et(Xc(),function(r,o){TC(r,t),o.stop()})].concat(t.stopMousedown?[Et(js(),function(r,o){o.event.prevent()})]:[]))},bT=Object.freeze({__proto__:null,exhibit:EC,events:gy}),yT=[wa("onFocus"),Me("stopMousedown",!1),Me("ignore",!1)],Ar=Do({fields:yT,name:"focusing",active:bT,apis:pT}),wT=function(t){var r=function(){var o=nn(t),c=function(){return o.get()},v=function(C){return o.set(C)},m=function(){return o.set(t)},p=function(){return o.get()};return{get:c,set:v,clear:m,readState:p}};return{init:r}},hy=function(t,r,o){var c=r.aria;c.update(t,c,o.get())},py=function(t,r,o){r.toggleClass.each(function(c){o.get()?ja(t.element,c):vo(t.element,c)})},by=function(t,r,o){d(t,r,o,!o.get())},u=function(t,r,o){o.set(!0),py(t,r,o),hy(t,r,o)},l=function(t,r,o){o.set(!1),py(t,r,o),hy(t,r,o)},d=function(t,r,o,c){var v=c?u:l;v(t,r,o)},h=function(t,r,o){return o.get()},w=function(t,r,o){d(t,r,o,r.selected)},x=Object.freeze({__proto__:null,onLoad:w,toggle:by,isOn:h,on:u,off:l,set:d}),_=function(){return Ns({})},z=function(t,r){var o=Lf(t,r,by),c=pp(t,r,w);return ba(br([t.toggleOnExecute?[o]:[],[c]]))},I=Object.freeze({__proto__:null,exhibit:_,events:z}),oe=function(t,r,o){ya(t.element,"aria-pressed",o),r.syncWithExpanded&&ht(t,r,o)},ye=function(t,r,o){ya(t.element,"aria-selected",o)},Ot=function(t,r,o){ya(t.element,"aria-checked",o)},ht=function(t,r,o){ya(t.element,"aria-expanded",o)},Pt=[Me("selected",!1),pa("toggleClass"),Me("toggleOnExecute",!0),ri("aria",{mode:"none"},mi("mode",{pressed:[Me("syncWithExpanded",!1),ao("update",oe)],checked:[ao("update",Ot)],expanded:[ao("update",ht)],selected:[ao("update",ye)],none:[ao("update",nt)]}))],ze=Do({fields:Pt,name:"toggling",active:I,apis:x,state:wT(!1)}),Qe=function(){var t=function(r,o){o.stop(),Tf(r)};return[Et(ug(),t),Et(_d(),t),Ef(Xr()),Ef(js())]},Mt=function(t){var r=function(o){return Zc(function(c,v){o(c),v.stop()})};return ba(br([t.map(r).toArray(),Qe()]))},Kn="alloy.item-hover",Jr="alloy.item-focus",xr=function(t){(yu(t.element).isNone()||Ar.isFocused(t))&&(Ar.isFocused(t)||Ar.focus(t),Hn(t,Kn,{item:t}))},ca=function(t){Hn(t,Jr,{item:t})},$a=re(Kn),Ia=re(Jr),fd=function(t){return{dom:t.dom,domModification:se(se({},t.domModification),{attributes:se(se(se({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:ts.augment(t.itemBehaviours,[t.toggling.fold(ze.revoke,function(r){return ze.config(se({aria:{mode:"checked"}},r))}),Ar.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){ca(r)}}),vr.config({mode:"execution"}),wn.config({store:{mode:"memory",initialValue:t.data}}),Yr("item-type-events",qe(Qe(),[Et(wf(),xr),Et(Dd(),Ar.focus)]))]),components:t.components,eventOrder:t.eventOrder}},ih=[ve("data"),ve("components"),ve("dom"),Me("hasSubmenu",!1),pa("toggling"),ts.field("itemBehaviours",[ze,Ar,vr,wn]),Me("ignoreFocus",!1),Me("domModification",{}),ao("builder",fd),Me("eventOrder",{})],Hs=function(t){return{dom:t.dom,components:t.components,events:ba([yc(Dd())])}},Ta=[ve("dom"),ve("components"),ao("builder",Hs)],nu=re("item-widget"),Vi=re([xi({name:"widget",overrides:function(t){return{behaviours:Lt([wn.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:nt}})])}}})]),rs=function(t){var r=Gp(nu(),t,Vi()),o=z0(nu(),t,r.internals()),c=function(m){return qa(m,t,"widget").map(function(p){return vr.focusIn(p),p})},v=function(m,p){return Kf(p.event.target)?E.none():function(){return t.autofocus&&p.setSource(m.element),E.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:ba([Zc(function(m,p){c(m).each(function(C){p.stop()})}),Et(wf(),xr),Et(Dd(),function(m,p){t.autofocus?c(m):Ar.focus(m)})]),behaviours:ts.augment(t.widgetBehaviours,[wn.config({store:{mode:"memory",initialValue:t.data}}),Ar.config({ignore:t.ignoreFocus,onFocus:function(m){ca(m)}}),vr.config({mode:"special",focusIn:t.autofocus?function(m){c(m)}:Jb(),onLeft:v,onRight:v,onEscape:function(m,p){return!Ar.isFocused(m)&&!t.autofocus?(Ar.focus(m),E.some(!0)):(t.autofocus&&p.setSource(m.element),E.none())}})])}},Ra=[ve("uid"),ve("data"),ve("components"),ve("dom"),Me("autofocus",!1),Me("ignoreFocus",!1),ts.field("widgetBehaviours",[wn,Ar,vr]),Me("domModification",{}),ec(Vi()),ao("builder",rs)],Ui=mi("type",{widget:Ra,item:ih,separator:Ta}),Wi=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},wl=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},nv=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},af=re([jg({factory:{sketch:function(t){var r=po("menu.spec item",Ui,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return r.hasOwnProperty("uid")?r:se(se({},r),{uid:yg("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),p1=re([ve("value"),ve("items"),ve("dom"),ve("components"),Me("eventOrder",{}),Si("menuBehaviours",[Ba,wn,da,vr]),ri("movement",{mode:"menu",moveOnTab:!0},mi("mode",{grid:[dp(),ao("config",Wi)],matrix:[ao("config",wl),ve("rowSelector")],menu:[Me("moveOnTab",!0),ao("config",nv)]})),qd(),Me("fakeFocus",!1),Me("focusManager",Yf()),wa("onHighlight")]),OC=re("alloy.menu-focus"),CT=function(t,r,o,c){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:oi(t.menuBehaviours,[Ba.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),wn.config({store:{mode:"memory",initialValue:t.value}}),da.config({find:E.some}),vr.config(t.movement.config(t,t.movement))]),events:ba([Et(Ia(),function(v,m){var p=m.event;v.getSystem().getByDom(p.target).each(function(C){Ba.highlight(v,C),m.stop(),Hn(v,OC(),{menu:v,item:C})})}),Et($a(),function(v,m){var p=m.event.item;Ba.highlight(v,p)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},rv=Cu({name:"Menu",configFields:p1(),partFields:af(),factory:CT}),b1=function(t){return go(t,function(r,o){return{k:r,v:o}})},y1=function(t,r,o,c){return Pn(o,c).bind(function(v){return Pn(t,v).bind(function(m){var p=y1(t,r,o,m);return E.some([m].concat(p))})}).getOr([])},uh=function(t,r){var o={};Rr(t,function(p,C){Ct(p,function(S){o[S]=C})});var c=r,v=b1(r),m=Or(v,function(p,C){return[C].concat(y1(o,c,v,C))});return Or(o,function(p){return Pn(m,p).getOr([p])})},sh=function(){var t=nn({}),r=nn({}),o=nn({}),c=nn(E.none()),v=nn({}),m=function(){t.set({}),r.set({}),o.set({}),c.set(E.none())},p=function(){return c.get().isNone()},C=function(Ue,et){var Ke;r.set(se(se({},r.get()),(Ke={},Ke[Ue]={type:"prepared",menu:et},Ke)))},S=function(Ue,et,Ke,Dt){c.set(E.some(Ue)),t.set(Ke),r.set(et),v.set(Dt);var Wn=uh(Dt,Ke);o.set(Wn)},k=function(Ue){return xo(t.get(),function(et,Ke){return et===Ue})},D=function(Ue,et,Ke){return ne(Ue).bind(function(Dt){return k(Ue).bind(function(Wn){return et(Wn).map(function(ln){return{triggeredMenu:Dt,triggeringItem:ln,triggeringPath:Ke}})})})},B=function(Ue,et){var Ke=de(ae(Ue).toArray(),function(Dt){return ne(Dt).isSome()});return Pn(o.get(),Ue).bind(function(Dt){var Wn=Jn(Ke.concat(Dt)),ln=on(Wn,function(vt,Tt){return D(vt,et,Wn.slice(0,Tt+1)).fold(function(){return c.get().is(vt)?[]:[E.none()]},function(Mn){return[E.some(Mn)]})});return W0(ln)})},N=function(Ue){return Pn(t.get(),Ue).map(function(et){var Ke=Pn(o.get(),Ue).getOr([]);return[et].concat(Ke)})},j=function(Ue){return Pn(o.get(),Ue).bind(function(et){return et.length>1?E.some(et.slice(1)):E.none()})},te=function(Ue){return Pn(o.get(),Ue)},ne=function(Ue){return be(Ue).bind(ch)},be=function(Ue){return Pn(r.get(),Ue)},ae=function(Ue){return Pn(t.get(),Ue)},Oe=function(Ue){var et=v.get();return it(hr(et),Ue)},Re=function(){return c.get().bind(ne)},tt=function(){return r.get()};return{setMenuBuilt:C,setContents:S,expand:N,refresh:te,collapse:j,lookupMenu:be,lookupItem:ae,otherMenus:Oe,getPrimary:Re,getMenus:tt,clear:m,isClear:p,getTriggeringPath:B}},ch=function(t){return t.type==="prepared"?E.some(t.menu):E.none()},lh={init:sh,extractPreparedMenu:ch},JO=function(t,r){var o=nn(E.none()),c=function(qt,er,mr){return Or(mr,function(ma,Ya){var Uo=function(){return rv.sketch(se(se({},ma),{value:Ya,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?eh():Yf()}))};return Ya===er?{type:"prepared",menu:qt.getSystem().build(Uo())}:{type:"notbuilt",nbMenu:Uo}})},v=lh.init(),m=function(qt){var er=c(qt,t.data.primary,t.data.menus),mr=S();return v.setContents(t.data.primary,er,t.data.expansions,mr),v.getPrimary()},p=function(qt){return wn.getValue(qt).value},C=function(qt,er,mr){return sn(er,function(ma){if(!ma.getSystem().isConnected())return E.none();var Ya=Ba.getCandidates(ma);return ke(Ya,function(Uo){return p(Uo)===mr})})},S=function(qt){return Or(t.data.menus,function(er,mr){return on(er.items,function(ma){return ma.type==="separator"?[]:[ma.data.value]})})},k=function(qt,er){Ba.highlight(qt,er),Ba.getHighlighted(er).orThunk(function(){return Ba.getFirst(er)}).each(function(mr){qh(qt,mr.element,Dd())})},D=function(qt,er){return od(Pe(er,function(mr){return qt.lookupMenu(mr).bind(function(ma){return ma.type==="prepared"?E.some(ma.menu):E.none()})}))},B=function(qt,er,mr){var ma=D(er,er.otherMenus(mr));Ct(ma,function(Ya){bo(Ya.element,[t.markers.backgroundMenu]),t.stayInDom||Fr.remove(qt,Ya)})},N=function(qt){return o.get().getOrThunk(function(){var er={},mr=Iu(qt.element,"."+t.markers.item),ma=de(mr,function(Ya){return du(Ya,"aria-haspopup")==="true"});return Ct(ma,function(Ya){qt.getSystem().getByDom(Ya).each(function(Uo){var df=p(Uo);er[df]=Uo})}),o.set(E.some(er)),er})},j=function(qt,er){var mr=N(qt);Rr(mr,function(ma,Ya){var Uo=Sn(er,Ya);ya(ma.element,"aria-expanded",Uo)})},te=function(qt,er,mr){return E.from(mr[0]).bind(function(ma){return er.lookupMenu(ma).bind(function(Ya){if(Ya.type==="notbuilt")return E.none();var Uo=Ya.menu,df=D(er,mr.slice(1));return Ct(df,function(Bl){ja(Bl.element,t.markers.backgroundMenu)}),Ru(Uo.element)||Fr.append(qt,Pu(Uo)),bo(Uo.element,[t.markers.backgroundMenu]),k(qt,Uo),B(qt,er,mr),E.some(Uo)})})},ne;(function(qt){qt[qt.HighlightSubmenu=0]="HighlightSubmenu",qt[qt.HighlightParent=1]="HighlightParent"})(ne||(ne={}));var be=function(qt,er,mr){if(mr.type==="notbuilt"){var ma=qt.getSystem().build(mr.nbMenu());return v.setMenuBuilt(er,ma),ma}else return mr.menu},ae=function(qt,er,mr){mr===void 0&&(mr=ne.HighlightSubmenu);var ma=p(er);return v.expand(ma).bind(function(Ya){return j(qt,Ya),E.from(Ya[0]).bind(function(Uo){return v.lookupMenu(Uo).bind(function(df){var Bl=be(qt,Uo,df);return Ru(Bl.element)||Fr.append(qt,Pu(Bl)),t.onOpenSubmenu(qt,er,Bl,Jn(Ya)),mr===ne.HighlightSubmenu?(Ba.highlightFirst(Bl),te(qt,v,Ya)):(Ba.dehighlightAll(Bl),E.some(er))})})})},Oe=function(qt,er){var mr=p(er);return v.collapse(mr).bind(function(ma){return j(qt,ma),te(qt,v,ma).map(function(Ya){return t.onCollapseMenu(qt,er,Ya),Ya})})},Re=function(qt,er){var mr=p(er);return v.refresh(mr).bind(function(ma){return j(qt,ma),te(qt,v,ma)})},tt=function(qt,er){return Kf(er.element)?E.none():ae(qt,er,ne.HighlightSubmenu)},Ue=function(qt,er){return Kf(er.element)?E.none():Oe(qt,er)},et=function(qt,er){return Oe(qt,er).orThunk(function(){return t.onEscape(qt,er).map(function(){return qt})})},Ke=function(qt){return function(er,mr){return Tc(mr.getSource(),"."+t.markers.item).bind(function(ma){return er.getSystem().getByDom(ma).toOptional().bind(function(Ya){return qt(er,Ya).map(Zt)})})}},Dt=ba([Et(OC(),function(qt,er){var mr=er.event.item;v.lookupItem(p(mr)).each(function(){var ma=er.event.menu;Ba.highlight(qt,ma);var Ya=p(er.event.item);v.refresh(Ya).each(function(Uo){return B(qt,v,Uo)})})}),Zc(function(qt,er){var mr=er.event.target;qt.getSystem().getByDom(mr).each(function(ma){var Ya=p(ma);Ya.indexOf("collapse-item")===0&&Oe(qt,ma),ae(qt,ma,ne.HighlightSubmenu).fold(function(){t.onExecute(qt,ma)},nt)})}),Oo(function(qt,er){m(qt).each(function(mr){Fr.append(qt,Pu(mr)),t.onOpenMenu(qt,mr),t.highlightImmediately&&k(qt,mr)})})].concat(t.navigateOnHover?[Et($a(),function(qt,er){var mr=er.event.item;Re(qt,mr),ae(qt,mr,ne.HighlightParent),t.onHover(qt,mr)})]:[])),Wn=function(qt){return Ba.getHighlighted(qt).bind(Ba.getHighlighted)},ln=function(qt){Wn(qt).each(function(er){Oe(qt,er)})},vt=function(qt){v.getPrimary().each(function(er){k(qt,er)})},Tt=function(qt){return E.from(qt.components()[0]).filter(function(er){return du(er.element,"role")==="menu"})},Mn=function(qt){var er=v.getPrimary().bind(function(mr){return Wn(qt).bind(function(ma){var Ya=p(ma),Uo=io(v.getMenus()),df=od(Pe(Uo,lh.extractPreparedMenu));return v.getTriggeringPath(Ya,function(Bl){return C(qt,df,Bl)})}).map(function(ma){return{primary:mr,triggeringPath:ma}})});er.fold(function(){Tt(qt).each(function(mr){t.onRepositionMenu(qt,mr,[])})},function(mr){var ma=mr.primary,Ya=mr.triggeringPath;t.onRepositionMenu(qt,ma,Ya)})},yr={collapseMenu:ln,highlightPrimary:vt,repositionMenus:Mn};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:oi(t.tmenuBehaviours,[vr.config({mode:"special",onRight:Ke(tt),onLeft:Ke(Ue),onEscape:Ke(et),focusIn:function(qt,er){v.getPrimary().each(function(mr){qh(qt,mr.element,Dd())})}}),Ba.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),da.config({find:function(qt){return Ba.getHighlighted(qt)}}),Fr.config({})]),eventOrder:t.eventOrder,apis:yr,events:Dt}},ZO=re("collapse-item"),QO=function(t,r,o){return{primary:t,menus:r,expansions:o}},RB=function(t,r){return{primary:t,menus:fn(t,r),expansions:{}}},ST=function(t){return{value:Qn(ZO()),meta:{text:t}}},fh=Ls({name:"TieredMenu",configFields:[Ib("onExecute"),Ib("onEscape"),No("onOpenMenu"),No("onOpenSubmenu"),wa("onRepositionMenu"),wa("onCollapseMenu"),Me("highlightImmediately",!0),gi("data",[ve("primary"),ve("menus"),ve("expansions")]),Me("fakeFocus",!1),wa("onHighlight"),wa("onHover"),zf(),ve("dom"),Me("navigateOnHover",!0),Me("stayInDom",!1),Si("tmenuBehaviours",[vr,Ba,da,Fr]),Me("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:JO,extraApis:{tieredData:QO,singleData:RB,collapseItem:ST}}),PB=function(t,r,o,c,v){var m=function(){return t.lazySink(r)},p=c.type==="horizontal"?{layouts:{onLtr:function(){return hp()},onRtl:function(){return Kb()}}}:{},C=function(k){return k.length===2},S=function(k){return C(k)?p:{}};return fh.sketch({dom:{tag:"div"},data:c.data,markers:c.menu.markers,highlightImmediately:c.menu.highlightImmediately,onEscape:function(){return ua.close(r),t.onEscape.map(function(k){return k(r)}),E.some(!0)},onExecute:function(){return E.some(!0)},onOpenMenu:function(k,D){wu.positionWithinBounds(m().getOrDie(),o,D,v())},onOpenSubmenu:function(k,D,B,N){var j=m().getOrDie();wu.position(j,se({anchor:"submenu",item:D},S(N)),B)},onRepositionMenu:function(k,D,B){var N=m().getOrDie();wu.positionWithinBounds(N,o,D,v()),Ct(B,function(j){var te=S(j.triggeringPath);wu.position(N,se({anchor:"submenu",item:j.triggeringItem},te),j.triggeredMenu)})}})},MB=function(t,r){var o=function(j,te){var ne=t.getRelated(j);return ne.exists(function(be){return Ec(be,te)})},c=function(j,te){ua.setContent(j,te)},v=function(j,te,ne){m(j,te,ne,E.none())},m=function(j,te,ne,be){p(j,te,ne,function(){return be.map(function(ae){return ys(ae)})})},p=function(j,te,ne,be){var ae=t.lazySink(j).getOrDie();ua.openWhileCloaked(j,ne,function(){return wu.positionWithinBounds(ae,te,j,be())}),wn.setValue(j,E.some({mode:"position",anchor:te,getBounds:be}))},C=function(j,te,ne){S(j,te,ne,function(){return E.none()})},S=function(j,te,ne,be){var ae=PB(t,j,te,ne,be);ua.open(j,ae),wn.setValue(j,E.some({mode:"menu",menu:ae}))},k=function(j){ua.isOpen(j)&&(wn.setValue(j,E.none()),ua.close(j))},D=function(j){return ua.getState(j)},B=function(j){ua.isOpen(j)&&wn.getValue(j).each(function(te){switch(te.mode){case"menu":ua.getState(j).each(function(be){fh.repositionMenus(be)});break;case"position":var ne=t.lazySink(j).getOrDie();wu.positionWithinBounds(ne,te.anchor,j,te.getBounds());break}})},N={setContent:c,showAt:v,showWithin:m,showWithinBounds:p,showMenuAt:C,showMenuWithinBounds:S,hide:k,getContent:D,reposition:B,isOpen:ua.isOpen};return{uid:t.uid,dom:t.dom,behaviours:oi(t.inlineBehaviours,[ua.config({isPartOf:function(j,te,ne){return Ec(te,ne)||o(j,ne)},getAttachPoint:function(j){return t.lazySink(j).getOrDie()},onOpen:function(j){t.onShow(j)},onClose:function(j){t.onHide(j)}}),wn.config({store:{mode:"memory",initialValue:E.none()}}),tu.config({channels:se(se({},lm(se({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(j){return{fireEventInstead:{event:j.event}}}).getOr({})))),T0(se(se({},t.fireRepositionEventInstead.map(function(j){return{fireEventInstead:{event:j.event}}}).getOr({})),{doReposition:B})))})]),eventOrder:t.eventOrder,apis:N}},Ho=Ls({name:"InlineView",configFields:[ve("lazySink"),wa("onShow"),wa("onHide"),ti("onEscape"),Si("inlineBehaviours",[ua,wn,tu]),Bi("fireDismissalEventInstead",[Me("event",Bd())]),Bi("fireRepositionEventInstead",[Me("event",Ni())]),Me("getRelated",E.none),Me("isExtraPart",Gt),Me("eventOrder",E.none)],factory:MB,apis:{showAt:function(t,r,o,c){t.showAt(r,o,c)},showWithin:function(t,r,o,c,v){t.showWithin(r,o,c,v)},showWithinBounds:function(t,r,o,c,v){t.showWithinBounds(r,o,c,v)},showMenuAt:function(t,r,o,c){t.showMenuAt(r,o,c)},showMenuWithinBounds:function(t,r,o,c,v){t.showMenuWithinBounds(r,o,c,v)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),yy=function(t){return t.x},e4=function(t,r){return t.x+t.width/2-r.width/2},wy=function(t,r){return t.x+t.width-r.width},AC=function(t){return t.y},DC=function(t,r){return t.y+t.height-r.height},w1=function(t,r,o){return Qi(wy(t,r),DC(t,r),o.innerSoutheast(),$s(),uu(t,{right:0,bottom:3}),"layout-inner-se")},C1=function(t,r,o){return Qi(yy(t),DC(t,r),o.innerSouthwest(),Lb(),uu(t,{left:1,bottom:3}),"layout-inner-sw")},vh=function(t,r,o){return Qi(wy(t,r),AC(t),o.innerNortheast(),zb(),uu(t,{right:0,top:2}),"layout-inner-ne")},dh=function(t,r,o){return Qi(yy(t),AC(t),o.innerNorthwest(),mp(),uu(t,{left:1,top:2}),"layout-inner-nw")},vd=function(t,r,o){return Qi(e4(t,r),AC(t),o.innerNorth(),Qu(),uu(t,{top:2}),"layout-inner-n")},mh=function(t,r,o){return Qi(e4(t,r),DC(t,r),o.innerSouth(),gp(),uu(t,{bottom:3}),"layout-inner-s")},Cl=tinymce.util.Tools.resolve("tinymce.util.Delay"),NB=function(t){var r=Mt(t.action),o=t.dom.tag,c=function(m){return Pn(t.dom,"attributes").bind(function(p){return Pn(p,m)})},v=function(){if(o==="button"){var m=c("type").getOr("button"),p=c("role").map(function(S){return{role:S}}).getOr({});return se({type:m},p)}else{var C=c("role").getOr("button");return{role:C}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:ts.augment(t.buttonBehaviours,[Ar.config({}),vr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:v()},eventOrder:t.eventOrder}},Hu=Ls({name:"Button",factory:NB,configFields:[Me("uid",void 0),ve("dom"),Me("components",[]),ts.field("buttonBehaviours",[Ar,vr]),pa("action"),pa("role"),Me("eventOrder",{})]}),Ca=function(t){var r=Yp(t)&&La(t,"uid")?t.uid:yg("memento"),o=function(m){return m.getSystem().getByUid(r).getOrDie()},c=function(m){return m.getSystem().getByUid(r).toOptional()},v=function(){return se(se({},t),{uid:r})};return{get:o,getOpt:c,asSpec:v}},Cy=function(t){return E.from(t()["temporary-placeholder"]).getOr("!not found!")},Vu=function(t,r){return E.from(r()[t.toLowerCase()]).getOrThunk(function(){return Cy(r)})},FB=function(t,r,o){return E.from(r()[t.toLowerCase()]).or(o).getOrThunk(function(){return Cy(r)})},$B=function(t,r){return sn(t,function(o){return E.from(r()[o.toLowerCase()])}).getOrThunk(function(){return Cy(r)})},IB={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},zB=function(t){var r=Ca({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Lt([Fr.config({})])}),o=function(B){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+B+"%"}}}},c=function(B){return{dom:{tag:"div",classes:["tox-text"],innerHtml:B+"%"}}},v=Ca({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},c(0)],behaviours:Lt([Fr.config({})])}),m=function(B,N){B.getSystem().isConnected()&&v.getOpt(B).each(function(j){Fr.set(j,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(N)]},c(N)])})},p=function(B,N){if(B.getSystem().isConnected()){var j=r.get(B);Fr.set(j,[Ff(N)])}},C={updateProgress:m,updateText:p},S=br([t.icon.toArray(),t.level.toArray(),t.level.bind(function(B){return E.from(IB[B])}).toArray()]),k=Ca(Hu.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:Vu("close",t.iconProvider),attributes:{"aria-label":t.translationProvider("Close")}}}],action:function(B){t.onAction(B)}})),D=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:$B(S,t.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Lt([Fr.config({})])}];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(B){return["tox-notification","tox-notification--in","tox-notification--"+B]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Lt([Ar.config({}),Yr("notification-events",[Et(Fl(),function(B){k.getOpt(B).each(Ar.focus)})])]),components:D.concat(t.progress?[v.asSpec()]:[]).concat(t.closeButton?[k.asSpec()]:[]),apis:C}},_C=Ls({name:"Notification",factory:zB,configFields:[pa("level"),ve("progress"),ve("icon"),ve("onAction"),ve("text"),ve("iconProvider"),ve("translationProvider"),Aa("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function t4(t,r,o){var c=r.backstage,v=function(B){switch(B){case"bc-bc":return mh;case"tc-tc":return vd;case"tc-bc":return Fu;case"bc-tc":default:return eu}},m=function(B){Ct(B,function(N){return N.moveTo(0,0)})},p=function(B){B.length>0&&(He(B).each(function(N){return N.moveRel(null,"banner")}),Ct(B,function(N,j){j>0&&N.moveRel(B[j-1].getEl(),"bc-tc")}))},C=function(B){m(B),p(B)},S=function(B,N){var j=!B.closeButton&&B.timeout&&(B.timeout>0||B.timeout<0),te=function(){N(),Ho.hide(be)},ne=pu(_C.sketch({text:B.text,level:Sn(["success","error","warning","warn","info"],B.type)?B.type:void 0,progress:B.progressBar===!0,icon:E.from(B.icon),closeButton:!j,onAction:te,iconProvider:c.shared.providers.icons,translationProvider:c.shared.providers.translate})),be=pu(Ho.sketch(se({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:r.backstage.shared.getSink,fireDismissalEventInstead:{}},c.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return o.add(be),B.timeout>0&&Cl.setTimeout(function(){te()},B.timeout),{close:te,moveTo:function(ae,Oe){Ho.showAt(be,{anchor:"makeshift",x:ae,y:Oe},Pu(ne))},moveRel:function(ae,Oe){if(Oe!=="banner"){var Re=v(Oe),tt={anchor:"node",root:Gl(),node:E.some(yn.fromDom(ae)),layouts:{onRtl:function(){return[Re]},onLtr:function(){return[Re]}}};Ho.showAt(be,tt,Pu(ne))}else Ho.showAt(be,r.backstage.shared.anchors.banner(),Pu(ne))},text:function(ae){_C.updateText(ne,ae)},settings:B,getEl:function(){return ne.element.dom},progressBar:{value:function(ae){_C.updateProgress(ne,ae)}}}},k=function(B){B.close()},D=function(B){return B.settings};return{open:S,close:k,reposition:C,getArgs:D}}var LB=function(t,r){var o=null,c=function(){o!==null&&(clearTimeout(o),o=null)},v=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];o===null&&(o=setTimeout(function(){t.apply(null,m),o=null},r))};return{cancel:c,throttle:v}},n4=function(t,r){var o=null,c=function(){o!==null&&(clearTimeout(o),o=null)},v=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];o!==null&&clearTimeout(o),o=setTimeout(function(){t.apply(null,m),o=null},r)};return{cancel:c,throttle:v}},HB=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),VB=function(t,r){return t.isBlock(r)||Sn(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},r4=function(t,r,o,c,v){var m=HB(t,function(p){return VB(t,p)});return E.from(m.backwards(r,o,c,v))},UB="[data-mce-autocompleter]",a4=function(t,r){return BC(yn.fromDom(t.selection.getNode())).getOrThunk(function(){var o=yn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Bu(o,yn.fromDom(r.extractContents())),r.insertNode(o.dom),$i(o).each(function(c){return c.dom.normalize()}),ok(o).map(function(c){t.selection.setCursorLocation(c.dom,ak(c))}),o})},BC=function(t){return Tc(t,UB)},WB=function(t){return t.collapsed&&t.startContainer.nodeType===3},o4=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},i4=function(t){return t!==""&&` \xA0\f
\r	\v`.indexOf(t)!==-1},xT=function(t,r){return t.substring(r.length)},gh=function(t,r,o){var c;for(c=r-1;c>=0;c--){var v=t.charAt(c);if(i4(v))return E.none();if(v===o)break}return E.some(c)},Sy=function(t,r,o,c){if(c===void 0&&(c=0),!WB(r))return E.none();var v=function(p,C,S){return gh(S,C,o).getOr(C)},m=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return r4(t,r.startContainer,r.startOffset,v,m).bind(function(p){var C=r.cloneRange();if(C.setStart(p.container,p.offset),C.setEnd(r.endContainer,r.endOffset),C.collapsed)return E.none();var S=o4(C),k=S.lastIndexOf(o);return k!==0||xT(S,o).length<c?E.none():E.some({text:xT(S,o),range:C,triggerChar:o})})},kT=function(t,r,o,c){return c===void 0&&(c=0),BC(yn.fromDom(r.startContainer)).fold(function(){return Sy(t,r,o,c)},function(v){var m=t.createRng();m.selectNode(v.dom);var p=o4(m);return E.some({range:m,text:xT(p,o),triggerChar:o})})},TT=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(c,v){Hn(c,og(),{raw:v})};r.on("keydown",function(c){var v=function(){return t.getView().bind(Ba.getHighlighted)};c.which===8&&t.onKeypress.throttle(c),t.isActive()&&(c.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?c.which===13?(v().each(Tf),c.preventDefault()):c.which===40?(v().fold(function(){t.getView().each(Ba.highlightFirst)},function(m){o(m,c)}),c.preventDefault(),c.stopImmediatePropagation()):(c.which===37||c.which===38||c.which===39)&&v().each(function(m){o(m,c),c.preventDefault(),c.stopImmediatePropagation()}):(c.which===13||c.which===38||c.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(c){t.isActive()&&!t.isProcessingAction()&&BC(yn.fromDom(c.element)).isNone()&&t.cancelIfNecessary()})},jB={setup:TT},_m=tinymce.util.Tools.resolve("tinymce.util.Promise"),hh=function(t,r){return{container:t,offset:r}},u4=function(t){return t.nodeType===Td},ET=function(t){return t.nodeType===yf},s4=function(t){if(u4(t))return hh(t,t.data.length);var r=t.childNodes;return r.length>0?s4(r[r.length-1]):hh(t,r.length)},xy=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?xy(o[r],0):o.length>0&&ET(t)&&o.length===r?s4(o[o.length-1]):hh(t,r)},qB=function(t,r){return r4(t,r.container,r.offset,function(o,c){return c===0?-1:c},t.getRoot()).filter(function(o){var c=o.container.data.charAt(o.offset-1);return!i4(c)}).isSome()},GB=function(t){return function(r){var o=xy(r.startContainer,r.startOffset);return!qB(t,o)}},KB=function(t,r,o){return sn(o.triggerChars,function(c){return kT(t,r,c)})},c4=function(t,r){var o=r(),c=t.selection.getRng();return KB(t.dom,c,o).bind(function(v){return l4(t,r,v)})},l4=function(t,r,o,c){c===void 0&&(c={});var v=r(),m=t.selection.getRng(),p=m.startContainer.nodeValue,C=de(v.lookupByChar(o.triggerChar),function(k){return o.text.length>=k.minChars&&k.matches.getOrThunk(function(){return GB(t.dom)})(o.range,p,o.text)});if(C.length===0)return E.none();var S=_m.all(Pe(C,function(k){var D=k.fetch(o.text,k.maxResults,c);return D.then(function(B){return{matchText:o.text,items:B,columns:k.columns,onAction:k.onAction,highlightOn:k.highlightOn}})}));return E.some({lookupData:S,context:o})},f4=Se([un("type"),_a("text")]),v4=function(t){return xa("separatormenuitem",f4,t)},XB=Se([Me("type","autocompleteitem"),Me("active",!1),Me("disabled",!1),Me("meta",{}),un("value"),_a("text"),_a("icon")]),YB=Se([un("type"),un("ch"),hi("minChars",1),Me("columns",1),hi("maxResults",10),ti("matches"),na("fetch"),na("onAction"),dc("highlightOn",[],Le)]),JB=function(t){return xa("Autocompleter.Separator",f4,t)},ZB=function(t){return xa("Autocompleter.Item",XB,t)},d4=function(t){return xa("Autocompleter",YB,t)},S1=[Aa("disabled",!1),_a("tooltip"),_a("icon"),_a("text"),Ua("onSetup",function(){return nt})],m4=Se([un("type"),na("onAction")].concat(S1)),g4=function(t){return xa("toolbarbutton",m4,t)},OT=[Aa("active",!1)].concat(S1),QB=Se(OT.concat([un("type"),na("onAction")])),h4=function(t){return xa("ToggleButton",QB,t)},p4=[Ua("predicate",Gt),vu("scope","node",["node","editor"]),vu("position","selection",["node","selection","line"])],b4=S1.concat([Me("type","contextformbutton"),Me("primary",!1),na("onAction"),si("original",_t)]),AT=OT.concat([Me("type","contextformbutton"),Me("primary",!1),na("onAction"),si("original",_t)]),eR=S1.concat([Me("type","contextformbutton")]),RC=OT.concat([Me("type","contextformtogglebutton")]),tR=mi("type",{contextformbutton:b4,contextformtogglebutton:AT}),nR=Se([Me("type","contextform"),Ua("initValue",function(){return""}),_a("label"),fu("commands",tR),oa("launch",mi("type",{contextformbutton:eR,contextformtogglebutton:RC}))].concat(p4)),rR=function(t){return xa("ContextForm",nR,t)},aR=Se([Me("type","contexttoolbar"),un("items")].concat(p4)),oR=function(t){return xa("ContextToolbar",aR,t)},iR=function(t){var r={};return Ct(t,function(o){r[o]={}}),hr(r)},y4=function(t){var r=t.ui.registry.getAll().popups,o=Or(r,function(p){return d4(p).fold(function(C){throw new Error(qu(C))},function(C){return C})}),c=iR(Ja(o,function(p){return p.ch})),v=io(o),m=function(p){return de(v,function(C){return C.ch===p})};return{dataset:o,triggerChars:c,lookupByChar:m}},DT;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(DT||(DT={}));var of=DT,x1="tox-menu-nav__js",_T="tox-collection__item",BT="tox-swatch",RT={normal:x1,color:BT},w4="tox-collection__item--enabled",uR="tox-collection__group-heading",sR="tox-collection__item-icon",PT="tox-collection__item-label",cR="tox-collection__item-accessory",C4="tox-collection__item-caret",lR="tox-collection__item-checkmark",ky="tox-collection__item--active",fR="tox-collection__item-icon-rtl",S4="tox-collection__item-container",vR="tox-collection__item-container--column",x4="tox-collection__item-container--row",MT="tox-collection__item-container--align-right",dR="tox-collection__item-container--align-left",mR="tox-collection__item-container--valign-top",gR="tox-collection__item-container--valign-middle",k4="tox-collection__item-container--valign-bottom",T4=function(t){return Pn(RT,t).getOr(x1)},hR=function(t){return t==="color"?"tox-swatches":"tox-menu"},NT=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:hR(t),tieredMenu:"tox-tiered-menu"}},k1=function(t){var r=NT(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:T4(t)}},pR=function(t,r,o){var c=NT(o);return{tag:"div",classes:br([[c.menu,"tox-menu-"+r+"-column"],t?[c.hasIcons]:[]])}},FT=[rv.parts.items({})],PC=function(t,r,o){var c=NT(o),v={tag:"div",classes:br([[c.tieredMenu]])};return{dom:v,markers:k1(o)}},$T=function(t,r){return function(o){var c=ee(o,r);return Pe(c,function(v){return{dom:t,components:v}})}},bR=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[rv.parts.items({preprocess:t!=="auto"?$T({tag:"div",classes:["tox-swatches__row"]},t):_t})]}]}},yR=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[rv.parts.items({preprocess:$T({tag:"div",classes:["tox-collection__group"]},t)})]}},E4=function(t,r){var o=[],c=[];return Ct(t,function(v,m){r(v,m)?(c.length>0&&o.push(c),c=[],Oa(v.dom,"innerHtml")&&c.push(v)):c.push(v)}),c.length>0&&o.push(c),Pe(o,function(v){return{dom:{tag:"div",classes:["tox-collection__group"]},components:v}})},IT=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[rv.parts.items({preprocess:function(c){return t!=="auto"&&t>1?$T({tag:"div",classes:["tox-collection__group"]},t)(c):E4(c,function(v,m){return r[m].type==="separator"})}})]}},wR=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[rv.parts.items({preprocess:function(o){return E4(o,function(c,v){return t[v].type==="separator"})}})]}},MC=function(t){return Dn(t,function(r){return"icon"in r&&r.icon!==void 0})},dd=function(t){return console.error(qu(t)),console.log(t),E.none()},CR=function(t,r,o,c,v){var m=wR(o);return{value:t,dom:m.dom,components:m.components,items:o}},zT=function(t,r,o,c,v){if(v==="color"){var m=bR(c);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"&&c==="auto"){var m=IT(c,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"&&c===1){var m=IT(1,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="normal"){var m=IT(c,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(v==="listpreview"&&c!=="auto"){var m=yR(c);return{value:t,dom:m.dom,components:m.components,items:o}}return{value:t,dom:pR(r,c,v),components:FT,items:o}},LT=[un("type"),un("src"),_a("alt"),dc("classes",[],Le)],SR=Se(LT),xR=[un("type"),un("text"),_a("name"),dc("classes",["tox-collection__item-label"],Le)],kR=Se(xR),NC=Mr(function(){return Tu("type",{cardimage:SR,cardtext:kR,cardcontainer:TR})}),TR=Se([un("type"),Pl("direction","horizontal"),Pl("align","left"),Pl("valign","middle"),fu("items",NC)]),Bm=[Aa("disabled",!1),_a("text"),_a("shortcut"),aa("value","value",je(function(){return Qn("menuitem-value")}),F()),Me("meta",{})],ER=Se([un("type"),_a("label"),fu("items",NC),Ua("onSetup",function(){return nt}),Ua("onAction",nt)].concat(Bm)),OR=function(t){return xa("cardmenuitem",ER,t)},AR=Se([un("type"),Aa("active",!1),_a("icon")].concat(Bm)),DR=function(t){return xa("choicemenuitem",AR,t)},O4=["inserttable","colorswatch"],_R=Se([un("type"),fa("fancytype",O4),Ua("onAction",nt)]),HT=function(t){return xa("fancymenuitem",_R,t)},VT=Se([un("type"),Ua("onSetup",function(){return nt}),Ua("onAction",nt),_a("icon")].concat(Bm)),A4=function(t){return xa("menuitem",VT,t)},UT=Se([un("type"),na("getSubmenuItems"),Ua("onSetup",function(){return nt}),_a("icon")].concat(Bm)),D4=function(t){return xa("nestedmenuitem",UT,t)},_4=Se([un("type"),_a("icon"),Aa("active",!1),Ua("onSetup",function(){return nt}),na("onAction")].concat(Bm)),av=function(t){return xa("togglemenuitem",_4,t)},Ty=function(t,r,o){var c=Iu(t.element,"."+o);if(c.length>0){var v=bn(c,function(m){var p=m.dom.getBoundingClientRect().top,C=c[0].dom.getBoundingClientRect().top;return Math.abs(p-C)>r}).getOr(c.length);return E.some({numColumns:v,numRows:Math.ceil(c.length/v)})}else return E.none()},B4=function(t,r){return Lt([Yr(t,r)])},BR=function(t){return B4(Qn("unnamed-events"),t)},FC={namedEvents:B4,unnamedEvents:BR},R4=Qn("tooltip.exclusive"),ov=Qn("tooltip.show"),T1=Qn("tooltip.hide"),P4=function(t,r,o){t.getSystem().broadcastOn([R4],{})},RR=function(t,r,o,c){o.getTooltip().each(function(v){v.getSystem().isConnected()&&Fr.set(v,c)})},M4=Object.freeze({__proto__:null,hideAllExclusive:P4,setComponents:RR}),N4=function(t,r){var o=function(v){r.getTooltip().each(function(m){Xv(m),t.onHide(v,m),r.clearTooltip()}),r.clearTimer()},c=function(v){if(!r.isShowing()){P4(v);var m=t.lazySink(v).getOrDie(),p=v.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ba(t.mode==="normal"?[Et(wf(),function(C){va(v,ov)}),Et(Od(),function(C){va(v,T1)})]:[]),behaviours:Lt([Fr.config({})])});r.setTooltip(p),Ss(m,p),t.onShow(v,p),wu.position(m,t.anchor(v),p)}};return ba(br([[Et(ov,function(v){r.resetTimer(function(){c(v)},t.delay)}),Et(T1,function(v){r.resetTimer(function(){o(v)},t.delay)}),Et(gs(),function(v,m){var p=m;p.universal||Sn(p.channels,R4)&&o(v)}),Yu(function(v){o(v)})],t.mode==="normal"?[Et(Fl(),function(v){va(v,ov)}),Et(cb(),function(v){va(v,T1)}),Et(wf(),function(v){va(v,ov)}),Et(Od(),function(v){va(v,T1)})]:[Et(mw(),function(v,m){va(v,ov)}),Et(lb(),function(v){va(v,T1)})]]))},WT=Object.freeze({__proto__:null,events:N4}),PR=[ve("lazySink"),ve("tooltipDom"),Me("exclusive",!0),Me("tooltipComponents",[]),Me("delay",300),vu("mode","normal",["normal","follow-highlight"]),Me("anchor",function(t){return{anchor:"hotspot",hotspot:t,layouts:{onLtr:re([eu,Fu,oo,wi,Ei,Hi]),onRtl:re([eu,Fu,oo,wi,Ei,Hi])}}}),wa("onHide"),wa("onShow")],jT=function(){var t=nn(E.none()),r=nn(E.none()),o=function(){return r.get()},c=function(k){r.set(E.some(k))},v=function(){r.set(E.none())},m=function(){t.get().each(function(k){clearTimeout(k)})},p=function(k,D){m(),t.set(E.some(setTimeout(function(){k()},D)))},C=function(){return r.get().isSome()},S=re("not-implemented");return Ii({getTooltip:o,isShowing:C,setTooltip:c,clearTooltip:v,clearTimer:m,resetTimer:p,readState:S})},qT=Object.freeze({__proto__:null,init:jT}),F4=Do({fields:PR,name:"tooltipping",active:WT,state:qT,apis:M4}),$4=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},E1=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$c=tinymce.util.Tools.resolve("tinymce.util.I18n"),MR=["input","button","textarea","select"],I4=function(t,r,o){var c=r.disabled()?IC:KT;c(t,r)},GT=function(t,r){return r.useNative===!0&&Sn(MR,hs(t.element))},NR=function(t){return ww(t.element,"disabled")},FR=function(t){ya(t.element,"disabled","disabled")},$R=function(t){Ju(t.element,"disabled")},IR=function(t){return du(t.element,"aria-disabled")==="true"},$C=function(t){ya(t.element,"aria-disabled","true")},z4=function(t){ya(t.element,"aria-disabled","false")},IC=function(t,r,o){r.disableClass.each(function(v){ja(t.element,v)});var c=GT(t,r)?FR:$C;c(t),r.onDisabled(t)},KT=function(t,r,o){r.disableClass.each(function(v){vo(t.element,v)});var c=GT(t,r)?$R:z4;c(t),r.onEnabled(t)},L4=function(t,r){return GT(t,r)?NR(t):IR(t)},XT=function(t,r,o,c){var v=c?IC:KT;v(t,r)},YT=Object.freeze({__proto__:null,enable:KT,disable:IC,isDisabled:L4,onLoad:I4,set:XT}),H4=function(t,r){return Ns({classes:r.disabled()?r.disableClass.toArray():[]})},V4=function(t,r){return ba([Gh(Du(),function(o,c){return L4(o,t)}),pp(t,r,I4)])},U4=Object.freeze({__proto__:null,exhibit:H4,events:V4}),zR=[Ua("disabled",Gt),Me("useNative",!0),pa("disableClass"),wa("onDisabled"),wa("onEnabled")],pr=Do({fields:zR,name:"disabling",active:U4,apis:YT}),LR=tinymce.util.Tools.resolve("tinymce.EditorManager"),W4=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var c=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=LR.baseURL+"/skins/ui/"+c}return o},j4=function(t){return t.getParam("readonly",!1,"boolean")},Ey=function(t){return t.getParam("skin")===!1},q4=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},zC=function(t){return t.getParam("width",E1.DOM.getStyle(t.getElement(),"width"))},ph=function(t){return E.from(t.getParam("min_width")).filter(On)},G4=function(t){return E.from(t.getParam("min_height")).filter(On)},LC=function(t){return E.from(t.getParam("max_width")).filter(On)},JT=function(t){return E.from(t.getParam("max_height")).filter(On)},K4=function(t){return E.from(t.getParam("style_formats")).filter(Nn)},ZT=function(t){return t.getParam("style_formats_merge",!1,"boolean")},X4=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},HR=function(t){return t.getParam("removed_menuitems","")},QT=function(t){return t.getParam("menubar",!0,"boolean")!==!1},O1=function(t){var r=t.getParam("toolbar",!0),o=r===!0,c=pn(r),v=Nn(r)&&r.length>0;return!Oy(t)&&(v||c||o)},Y4=function(t){var r=wr(9,function(c){return t.getParam("toolbar"+(c+1),!1,"string")}),o=de(r,function(c){return typeof c=="string"});return o.length>0?E.some(o):E.none()},Oy=function(t){return Y4(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},Zt)},cu;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(cu||(cu={}));var Ay=function(t){return t.getParam("toolbar_mode","","string")},bh;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(bh||(bh={}));var VR=function(t){return t.getParam("toolbar_groups",{},"object")},eE=function(t){return t.getParam("toolbar_location",bh.auto,"string")},tE=function(t){return eE(t)===bh.bottom},UR=function(t){return t.getParam("fixed_toolbar_container","","string")},WR=function(t){return t.getParam("fixed_toolbar_container_target")},jR=function(t){return t.getParam("toolbar_persist",!1,"boolean")},J4=function(t){if(!t.inline)return E.none();var r=UR(t);if(r.length>0)return Zi(Gl(),r);var o=WR(t);return Cn(o)?E.some(yn.fromDom(o)):E.none()},HC=function(t){return t.inline&&J4(t).isSome()},Sl=function(t){var r=J4(t);return r.getOrThunk(function(){return Tv(li(yn.fromDom(t.getElement())))})},nE=function(t){return t.inline&&!QT(t)&&!O1(t)&&!Oy(t)},VC=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!HC(t)&&!nE(t)},qR=function(t){return t.getParam("draggable_modal",!1,"boolean")},rE=function(t){var r=t.getParam("menu");return r?Or(r,function(o){return se(se({},o),{items:o.items})}):{}},GR=function(t){return t.getParam("menubar")},KR=function(t){return t.getParam("toolbar",!0)},XR=function(t){return t.getParam("file_picker_callback")},YR=function(t){return t.getParam("file_picker_types")},JR=function(t){return t.getParam("file_browser_callback_types")},ZR=function(t){return t.getParam("typeahead_urls")===!1},QR=function(t){return t.getParam("anchor_top","#top")},aE=function(t){return t.getParam("anchor_bottom","#bottom")},oE=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},UC="silver.readonly",eP=Se([Kr("readonly")]),yh=function(t,r){var o=t.outerContainer,c=o.element;r&&(t.mothership.broadcastOn([zu()],{target:c}),t.uiMothership.broadcastOn([zu()],{target:c})),t.mothership.broadcastOn([UC],{readonly:r}),t.uiMothership.broadcastOn([UC],{readonly:r})},Z4=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&yh(r,!0)}),t.on("SwitchMode",function(){return yh(r,t.mode.isReadOnly())}),j4(t)&&t.setMode("readonly")},ki=function(){var t;return tu.config({channels:(t={},t[UC]={schema:eP,onReceive:function(r,o){pr.set(r,o.readonly)}},t)})},tP=function(t){return pr.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},Q4=function(t){return pr.config({disabled:t})},e3=function(t){return pr.config({disabled:t,disableClass:"tox-tbtn--disabled"})},t3=function(t){return pr.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},xl={item:tP,button:Q4,splitButton:e3,toolbarButton:t3},WC=function(t,r){var o=t.getApi(r);return function(c){c(o)}},Dy=function(t,r){return Oo(function(o){var c=WC(t,o);c(function(v){var m=t.onSetup(v);ut(m)&&r.set(m)})})},_y=function(t,r){return Yu(function(o){return WC(t,o)(r.get())})},iE,nP=function(t,r){return Zc(function(o,c){WC(t,o)(t.onAction),!t.triggersSubmenu&&r===of.CLOSE_ON_EXECUTE&&(o.getSystem().isConnected()&&va(o,sg()),c.stop())})},rP=(iE={},iE[Du()]=["disabling","alloy.base.behaviour","toggling","item-events"],iE),A1=function(t){return on(t,function(r){return r.toArray()})},D1=function(t,r,o,c){var v=nn(nt);return{type:"item",dom:r.dom,components:A1(r.optComponents),data:t.data,eventOrder:rP,hasSubmenu:t.triggersSubmenu,itemBehaviours:Lt([Yr("item-events",[nP(t,o),Dy(t,v),_y(t,v)]),xl.item(function(){return t.disabled||c.isDisabled()}),ki(),Fr.config({})].concat(t.itemBehaviours))}},_1=function(t){return{value:t.value,meta:se({text:t.text.getOr("")},t.meta)}},uE=tinymce.util.Tools.resolve("tinymce.Env"),n3=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},c=uE.mac?r:o,v=t.split("+"),m=Pe(v,function(p){var C=p.toLowerCase().trim();return Oa(c,C)?c[C]:p});return uE.mac?m.join(""):m.join("+")},aP=function(t){return{dom:{tag:"div",classes:[sR],innerHtml:t}}},r3=function(t){return{dom:{tag:"div",classes:[PT]},components:[Ff($c.translate(t))]}},a3=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},oP=function(t,r){return{dom:{tag:"div",classes:[PT]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Ff($c.translate(r))]}]}},iP=function(t){return{dom:{tag:"div",classes:[cR],innerHtml:n3(t)}}},o3=function(t){return{dom:{tag:"div",classes:[lR],innerHtml:Vu("checkmark",t)}}},jC=function(t){return{dom:{tag:"div",classes:[C4],innerHtml:Vu("chevron-right",t)}}},i3=function(t){return{dom:{tag:"div",classes:[C4],innerHtml:Vu("chevron-down",t)}}},uP=function(t,r){var o=t.direction==="vertical"?vR:x4,c=t.align==="left"?dR:MT,v=function(){switch(t.valign){case"top":return mR;case"middle":return gR;case"bottom":return k4}};return{dom:{tag:"div",classes:[S4,o,c,v()]},components:r}},sP=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},cP=function(t,r,o,c){var v="custom",m="remove",p=function(){var C=BT,S=o.getOr(""),k=t.map(function(B){return{title:c.translate(B)}}).getOr({}),D={tag:"div",attributes:k,classes:[C]};return r===v?se(se({},D),{tag:"button",classes:qe(D.classes,["tox-swatches__picker-btn"]),innerHtml:S}):r===m?se(se({},D),{classes:qe(D.classes,["tox-swatch--remove"]),innerHtml:S}):se(se({},D),{attributes:se(se({},D.attributes),{"data-mce-color":r}),styles:{"background-color":r}})};return{dom:p(),optComponents:[]}},u3=function(t,r){var o=r.map(function(c){return{attributes:{title:$c.translate(c)}}}).getOr({});return se({tag:"div",classes:[x1,_T].concat(t?[fR]:[])},o)},sE=function(t,r,o,c,v){var m=o?r.or(E.some("")).map(aP):E.none(),p=t.checkMark,C=t.htmlContent.fold(function(){return t.textContent.map(c)},function(k){return E.some(a3(k,[PT]))}),S={dom:u3(v,t.ariaLabel),optComponents:[m,C,t.shortcutContent.map(iP),p,t.caret]};return S},s3=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],c3=["list-bull-circle","list-bull-default","list-bull-square"],By=function(t,r,o,c){c===void 0&&(c=E.none());var v=function(S){return S.map(function(k){return $c.isRtl()&&Sn(s3,k)?k+"-rtl":k})},m=$c.isRtl()&&t.iconContent.exists(function(S){return Sn(c3,S)}),p=v(t.iconContent).map(function(S){return FB(S,r.icons,c)}),C=E.from(t.meta).fold(function(){return r3},function(S){return Oa(S,"style")?ar(oP,S.style):r3});return t.presets==="color"?cP(t.ariaLabel,t.value,p,r):sE(t,p,o,C,m)},cE=function(t,r){return Pn(t,"tooltipWorker").map(function(o){return[F4.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(c){return{anchor:"submenu",item:c,overrides:{maxHeightFunction:Rg}}},mode:"follow-highlight",onShow:function(c,v){o(function(m){F4.setComponents(c,[Db({element:yn.fromDom(m)})])})}})]}).getOr([])},lP=function(t){return E1.DOM.encode(t)},l3=function(t,r){var o=$c.translate(t),c=lP(o);if(r.length>0){var v=new RegExp($4(r),"gi");return c.replace(v,function(m){return'<span class="tox-autocompleter-highlight">'+m+"</span>"})}else return c},fP=function(t,r,o,c,v,m,p,C){C===void 0&&(C=!0);var S=By({presets:c,textContent:E.none(),htmlContent:o?t.text.map(function(k){return l3(k,r)}):E.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:E.none(),checkMark:E.none(),caret:E.none(),value:t.value},p.providers,C,t.icon);return D1({data:_1(t),disabled:t.disabled,getApi:re({}),onAction:function(k){return v(t.value,t.meta)},onSetup:re(nt),triggersSubmenu:!1,itemBehaviours:cE(t.meta,p)},S,m,p.providers)},f3=function(t,r){return Pe(t,function(o){switch(o.type){case"cardcontainer":return uP(o,f3(o.items,r));case"cardimage":return sP(o.src,o.classes,o.alt);case"cardtext":var c=o.name.exists(function(m){return Sn(r.cardText.highlightOn,m)}),v=c?E.from(r.cardText.matchText).getOr(""):"";return a3(l3(o.text,v),o.classes)}})},vP=function(t,r,o,c){var v=function(p){return{isDisabled:function(){return pr.isDisabled(p)},setDisabled:function(C){pr.set(p,C),Ct(Iu(p.element,"*"),function(S){p.getSystem().getByDom(S).each(function(k){k.hasConfigured(pr)&&pr.set(k,C)})})}}},m={dom:u3(!1,t.label),optComponents:[E.some({dom:{tag:"div",classes:[S4,x4]},components:f3(t.items,c)})]};return D1({data:_1(se({text:E.none()},t)),disabled:t.disabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:E.from(c.itemBehaviours).getOr([])},m,r,o.providers)},dP=function(t,r,o,c,v,m,p,C){C===void 0&&(C=!0);var S=function(D){return{setActive:function(B){ze.set(D,B)},isActive:function(){return ze.isOn(D)},isDisabled:function(){return pr.isDisabled(D)},setDisabled:function(B){return pr.set(D,B)}}},k=By({presets:o,textContent:r?t.text:E.none(),htmlContent:E.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:E.none(),checkMark:r?E.some(o3(p.icons)):E.none(),caret:E.none(),value:t.value},p,C);return Hr(D1({data:_1(t),disabled:t.disabled,getApi:S,onAction:function(D){return c(t.value)},onSetup:function(D){return D.setActive(v),nt},triggersSubmenu:!1,itemBehaviours:[]},k,m,p),{toggling:{toggleClass:w4,toggleOnExecute:!1,selected:t.active}})},lE=qg(nu(),Vi()),v3=function(t){return{value:t}},d3=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,m3=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,mP=function(t){return d3.test(t)||m3.test(t)},fE=function(t){var r=t.value.replace(d3,function(o,c,v,m){return c+c+v+v+m+m});return{value:r}},vE=function(t){var r=fE(t),o=m3.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},Ry=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},qC=function(t){var r=Ry(t.red)+Ry(t.green)+Ry(t.blue);return v3(r)},g3=Math.min,h3=Math.max,wh=Math.round,dE=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,GC=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Rm=function(t,r,o,c){return{red:t,green:r,blue:o,alpha:c}},mE=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},p3=function(t){var r,o,c,v=(t.hue||0)%360,m=t.saturation/100,p=t.value/100;if(m=h3(0,g3(m,1)),p=h3(0,g3(p,1)),m===0)return r=o=c=wh(255*p),Rm(r,o,c,1);var C=v/60,S=p*m,k=S*(1-Math.abs(C%2-1)),D=p-S;switch(Math.floor(C)){case 0:r=S,o=k,c=0;break;case 1:r=k,o=S,c=0;break;case 2:r=0,o=S,c=k;break;case 3:r=0,o=k,c=S;break;case 4:r=k,o=0,c=S;break;case 5:r=S,o=0,c=k;break;default:r=o=c=0}return r=wh(255*(r+D)),o=wh(255*(o+D)),c=wh(255*(c+D)),Rm(r,o,c,1)},Py=function(t){var r=vE(t),o=parseInt(r[1],16),c=parseInt(r[2],16),v=parseInt(r[3],16);return Rm(o,c,v,1)},b3=function(t,r,o,c){var v=parseInt(t,10),m=parseInt(r,10),p=parseInt(o,10),C=parseFloat(c);return Rm(v,m,p,C)},gP=function(t){if(t==="transparent")return E.some(Rm(0,0,0,0));var r=dE.exec(t);if(r!==null)return E.some(b3(r[1],r[2],r[3],"1"));var o=GC.exec(t);return o!==null?E.some(b3(o[1],o[2],o[3],o[4])):E.none()},y3=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},w3=Rm(255,0,0,1),hP=function(t){return t.fire("SkinLoaded")},pP=function(t,r){return t.fire("SkinLoadError",r)},bP=function(t){return t.fire("ResizeEditor")},gE=function(t,r){return t.fire("ResizeContent",r)},yP=function(t,r){return t.fire("ScrollContent",r)},wP=function(t,r){return t.fire("TextColorChange",r)},My=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),C3="tinymce-custom-colors";function CP(t){t===void 0&&(t=10);var r=My.getItem(C3),o=pn(r)?JSON.parse(r):[],c=function(S){var k=t-S.length;return k<0?S.slice(0,t):S},v=c(o),m=function(S){dr(v,S).each(p),v.unshift(S),v.length>t&&v.pop(),My.setItem(C3,JSON.stringify(v))},p=function(S){v.splice(S,1)},C=function(){return v.slice(0)};return{add:m,state:C}}var Fo="choiceitem",SP=[{type:Fo,text:"Light Green",value:"#BFEDD2"},{type:Fo,text:"Light Yellow",value:"#FBEEB8"},{type:Fo,text:"Light Red",value:"#F8CAC6"},{type:Fo,text:"Light Purple",value:"#ECCAFA"},{type:Fo,text:"Light Blue",value:"#C2E0F4"},{type:Fo,text:"Green",value:"#2DC26B"},{type:Fo,text:"Yellow",value:"#F1C40F"},{type:Fo,text:"Red",value:"#E03E2D"},{type:Fo,text:"Purple",value:"#B96AD9"},{type:Fo,text:"Blue",value:"#3598DB"},{type:Fo,text:"Dark Turquoise",value:"#169179"},{type:Fo,text:"Orange",value:"#E67E23"},{type:Fo,text:"Dark Red",value:"#BA372A"},{type:Fo,text:"Dark Purple",value:"#843FA1"},{type:Fo,text:"Dark Blue",value:"#236FA1"},{type:Fo,text:"Light Gray",value:"#ECF0F1"},{type:Fo,text:"Medium Gray",value:"#CED4D9"},{type:Fo,text:"Gray",value:"#95A5A6"},{type:Fo,text:"Dark Gray",value:"#7E8C8D"},{type:Fo,text:"Navy Blue",value:"#34495E"},{type:Fo,text:"Black",value:"#000000"},{type:Fo,text:"White",value:"#ffffff"}],S3=CP(10),hE=function(t){var r=[],o=document.createElement("canvas");o.height=1,o.width=1;for(var c=o.getContext("2d"),v=function(C,S){var k=255,D=S/255,B=Math.round(C*D+k*(1-D));return("0"+B.toString(16)).slice(-2).toUpperCase()},m=function(C){if(/^[0-9A-Fa-f]{6}$/.test(C))return"#"+C.toUpperCase();c.clearRect(0,0,o.width,o.height),c.fillStyle="#FFFFFF",c.fillStyle=C,c.fillRect(0,0,1,1);var S=c.getImageData(0,0,1,1).data,k=S[0],D=S[1],B=S[2],N=S[3];return"#"+v(k,N)+v(D,N)+v(B,N)},p=0;p<t.length;p+=2)r.push({text:t[p+1],value:m(t[p]),type:"choiceitem"});return r},ji=function(t,r){return t.getParam("color_cols",r,"number")},x3=function(t){return t.getParam("custom_colors")!==!1},xP=function(t){return t.getParam("color_map")},pE=function(t){var r=xP(t);return r!==void 0?hE(r):SP},kP=function(){return Pe(S3.state(),function(t){return{type:Fo,text:t,value:t}})},k3=function(t){S3.add(t)},TP=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(c){var v;(v=c.style[r==="forecolor"?"color":"background-color"])&&(o=o||v)}),o},EP=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},OP=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},AP=function(t){t.addCommand("mceApplyTextcolor",function(r,o){EP(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){OP(t,r)})},DP=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},T3=function(t){var r=pE(t),o=DP(r.length);return ji(t,o)},_P=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},c={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,c]:[o]},bE=function(t,r,o,c){if(o==="custom"){var v=B3(t);v(function(m){m.each(function(p){k3(p),t.execCommand("mceApplyTextcolor",r,p),c(p)})},"#000000")}else o==="remove"?(c(""),t.execCommand("mceRemoveTextcolor",r)):(c(o),t.execCommand("mceApplyTextcolor",r,o))},E3=function(t,r){return t.concat(kP().concat(_P(r)))},O3=function(t,r){return function(o){o(E3(t,r))}},A3=function(t,r,o){var c=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(c,o)},D3=function(t,r,o,c,v){t.ui.registry.addSplitButton(r,{tooltip:c,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(m){var p=E.from(TP(t,o));return p.bind(function(C){return gP(C).map(function(S){var k=qC(S).value;return bi(m.toLowerCase(),k)})}).getOr(!1)},columns:T3(t),fetch:O3(pE(t),x3(t)),onAction:function(m){v.get()!==null&&bE(t,o,v.get(),nt)},onItemAction:function(m,p){bE(t,o,p,function(C){v.set(C),wP(t,{name:r,color:C})})},onSetup:function(m){v.get()!==null&&A3(m,r,v.get());var p=function(C){C.name===r&&A3(m,C.name,C.color)};return t.on("TextColorChange",p),function(){t.off("TextColorChange",p)}}})},_3=function(t,r,o,c){t.ui.registry.addNestedMenuItem(r,{text:c,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(v){bE(t,o,v.value,nt)}}]}})},B3=function(t){return function(r,o){var c=!1,v=function(C){var S=C.getData(),k=S.colorpicker;c?(r(E.from(k)),C.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",k]))},m=function(C,S){S.name==="hex-valid"&&(c=S.value)},p={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:m,onSubmit:v,onClose:nt,onCancel:function(){r(E.none())}})}},BP=function(t){AP(t);var r=nn(null),o=nn(null);D3(t,"forecolor","forecolor","Text color",r),D3(t,"backcolor","hilitecolor","Background color",o),_3(t,"forecolor","forecolor","Text color"),_3(t,"backcolor","hilitecolor","Background color")},yE=function(t,r,o,c,v,m,p,C){var S=MC(r),k=v!=="color"?"normal":"color",D=RP(r,o,c,k,m,p,C);return zT(t,S,D,c,v)},RP=function(t,r,o,c,v,m,p){return od(Pe(t,function(C){return C.type==="choiceitem"?DR(C).fold(dd,function(S){return E.some(dP(S,o===1,c,r,m(C.value),v,p,MC(t)))}):E.none()}))},KC=function(t,r){var o=k1(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var c=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+c}},PP=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+BT:"."+_T}}},MP=function(t,r){var o=E3(r.colorinput.getColors(),r.colorinput.hasCustomColors()),c=r.colorinput.getColorCols(),v="color",m=yE(Qn("menu-value"),o,function(C){t.onAction({value:C})},c,v,of.CLOSE_ON_EXECUTE,Gt,r.shared.providers),p=se(se({},m),{markers:k1(v),movement:KC(c,v)});return{type:"widget",data:{value:Qn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[lE.widget(rv.sketch(p))]}},R3=Qn("cell-over"),wE=Qn("cell-execute"),NP=function(t,r,o){var c,v=function(C){return Hn(C,R3,{row:t,col:r})},m=function(C){return Hn(C,wE,{row:t,col:r})},p=function(C,S){S.stop(),m(C)};return pu({dom:{tag:"div",attributes:(c={role:"button"},c["aria-labelledby"]=o,c)},behaviours:Lt([Yr("insert-table-picker-cell",[Et(wf(),Ar.focus),Et(Du(),m),Et(ug(),p),Et(_d(),p)]),ze.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Ar.config({onFocus:v})])})},FP=function(t,r,o){for(var c=[],v=0;v<r;v++){for(var m=[],p=0;p<o;p++)m.push(NP(v,p,t));c.push(m)}return c},$P=function(t,r,o,c,v){for(var m=0;m<c;m++)for(var p=0;p<v;p++)ze.set(t[m][p],m<=r&&p<=o)},P3=function(t){return on(t,function(r){return Pe(r,Pu)})},IP=function(t,r){return Ff(r+1+"x"+(t+1))},zP=function(t){var r=10,o=10,c=Qn("size-label"),v=FP(c,r,o),m=Ca({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:c}},components:[Ff("0x0")],behaviours:Lt([Fr.config({})])});return{type:"widget",data:{value:Qn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[lE.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:P3(v).concat(m.asSpec()),behaviours:Lt([Yr("insert-table-picker",[Ms(R3,function(p,C,S){var k=S.event.row,D=S.event.col;$P(v,k,D,r,o),Fr.set(m.get(p),[IP(k,D)])}),Ms(wE,function(p,C,S){t.onAction({numRows:S.event.row+1,numColumns:S.event.col+1}),va(p,sg())})]),vr.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},LP={inserttable:zP,colorswatch:MP},HP=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)?E.some(t[r]):E.none()},M3=function(t,r){return HP(LP,t.fancytype).map(function(o){return o(t,r)})},VP=function(t,r,o,c,v){c===void 0&&(c=!0),v===void 0&&(v=!1);var m=v?i3(o.icons):jC(o.icons),p=function(S){return{isDisabled:function(){return pr.isDisabled(S)},setDisabled:function(k){return pr.set(S,k)}}},C=By({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,caret:E.some(m),checkMark:E.none(),shortcutContent:t.shortcut},o,c);return D1({data:_1(t),getApi:p,disabled:t.disabled,onAction:nt,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},C,r,o)},N3=function(t,r,o,c){c===void 0&&(c=!0);var v=function(p){return{isDisabled:function(){return pr.isDisabled(p)},setDisabled:function(C){return pr.set(p,C)}}},m=By({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,caret:E.none(),checkMark:E.none(),shortcutContent:t.shortcut},o,c);return D1({data:_1(t),getApi:v,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,r,o)},F3=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:se({tag:"div",classes:[_T,uR]},r),components:[]}},UP=function(t,r,o,c){c===void 0&&(c=!0);var v=function(p){return{setActive:function(C){ze.set(p,C)},isActive:function(){return ze.isOn(p)},isDisabled:function(){return pr.isDisabled(p)},setDisabled:function(C){return pr.set(p,C)}}},m=By({iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,checkMark:E.some(o3(o.icons)),caret:E.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,c);return Hr(D1({data:_1(t),disabled:t.disabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,r,o),{toggling:{toggleClass:w4,toggleOnExecute:!1,selected:t.active}})},$3=fP,I3=F3,WP=N3,jP=VP,qP=UP,GP=M3,KP=vP,Ch;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(Ch||(Ch={}));var z3=function(t,r,o,c,v){var m=o.shared.providers,p=function(C){return v?se(se({},C),{shortcut:E.none(),icon:C.text.isSome()?E.none():C.icon}):C};switch(t.type){case"menuitem":return A4(t).fold(dd,function(C){return E.some(WP(p(C),r,m,c))});case"nestedmenuitem":return D4(t).fold(dd,function(C){return E.some(jP(p(C),r,m,c,v))});case"togglemenuitem":return av(t).fold(dd,function(C){return E.some(qP(p(C),r,m,c))});case"separator":return v4(t).fold(dd,function(C){return E.some(I3(C))});case"fancymenuitem":return HT(t).fold(dd,function(C){return GP(p(C),o)});default:return console.error("Unknown item in general menu",t),E.none()}},XP=function(t,r,o,c,v,m,p){var C=c===1,S=!C||MC(t);return od(Pe(t,function(k){switch(k.type){case"separator":return JB(k).fold(dd,function(D){return E.some(I3(D))});case"cardmenuitem":return OR(k).fold(dd,function(D){return E.some(KP(se(se({},D),{onAction:function(B){D.onAction(B),o(D.value,D.meta)}}),v,m,{itemBehaviours:cE(D.meta,m),cardText:{matchText:r,highlightOn:p}}))});case"autocompleteitem":default:return ZB(k).fold(dd,function(D){return E.some($3(D,r,C,"normal",o,v,m,S))})}}))},CE=function(t,r,o,c,v){var m=MC(r),p=od(Pe(r,function(S){var k=function(B){return v?!B.hasOwnProperty("text"):m},D=function(B){return z3(B,o,c,k(B),v)};return S.type==="nestedmenuitem"&&S.getSubmenuItems().length<=0?D(se(se({},S),{disabled:!0})):D(S)})),C=v?CR:zT;return C(t,m,p,1,"normal")},L3=function(t){return fh.singleData(t.value,t)},YP=function(t,r,o,c){var v=o===Ch.ContentFocus?eh():Yf(),m=KC(r,c),p=k1(c);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:p.selectedItem,item:p.item},movement:m,fakeFocus:o===Ch.ContentFocus,focusManager:v,menuBehaviours:FC.unnamedEvents(r!=="auto"?[]:[Oo(function(C,S){Ty(C,4,p.item).each(function(k){var D=k.numColumns,B=k.numRows;vr.setGridSize(C,B,D)})})])}},SE=function(t,r){var o=nn(E.none()),c=nn(!1),v=pu(Ho.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Lt([Yr("dismissAutocompleter",[Et(Bd(),function(){return S()})])]),lazySink:r.getSink})),m=function(){return Ho.isOpen(v)},p=function(){return o.get().isSome()},C=function(){p()&&Ho.hide(v)},S=function(){if(p()){var ae=o.get().map(function(Oe){return Oe.element});BC(ae.getOr(yn.fromDom(t.selection.getNode()))).each(Ev),C(),o.set(E.none()),c.set(!1)}},k=ko(function(){return y4(t)}),D=function(ae,Oe){var Re=sn(Oe,function(tt){return E.from(tt.columns)}).getOr(1);return on(Oe,function(tt){var Ue=tt.items;return XP(Ue,tt.matchText,function(et,Ke){var Dt=t.selection.getRng();kT(t.dom,Dt,ae).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Wn){var ln=Wn.range,vt={hide:function(){S()},reload:function(Tt){C(),te(Tt)}};c.set(!0),tt.onAction(vt,ln,et,Ke),c.set(!1)})},Re,of.BUBBLE_TO_SANDBOX,r,tt.highlightOn)})},B=function(ae){if(!p()){var Oe=a4(t,ae.range);o.set(E.some({triggerChar:ae.triggerChar,element:Oe,matchLength:ae.text.length})),c.set(!1)}},N=function(ae,Oe,Re,tt){ae.matchLength=Oe.text.length;var Ue=sn(Re,function(et){return E.from(et.columns)}).getOr(1);Ho.showAt(v,{anchor:"node",root:yn.fromDom(t.getBody()),node:E.from(ae.element)},rv.sketch(YP(zT("autocompleter-value",!0,tt,Ue,"normal"),Ue,Ch.ContentFocus,"normal"))),Ho.getContent(v).each(Ba.highlightFirst)},j=function(ae){return o.get().map(function(Oe){return kT(t.dom,t.selection.getRng(),Oe.triggerChar).bind(function(Re){return l4(t,k,Re,ae)})}).getOrThunk(function(){return c4(t,k)})},te=function(ae){j(ae).fold(S,function(Oe){B(Oe.context),Oe.lookupData.then(function(Re){o.get().map(function(tt){var Ue=Oe.context;if(tt.triggerChar===Ue.triggerChar){var et=D(Ue.triggerChar,Re);et.length>0?N(tt,Ue,Re,et):Ue.text.length-tt.matchLength>=10?S():C()}})})})},ne=n4(function(ae){ae.which!==27&&te()},50),be={onKeypress:ne,cancelIfNecessary:S,isMenuOpen:m,isActive:p,isProcessingAction:c.get,getView:function(){return Ho.getContent(v)}};t.hasPlugin("rtc")===!1&&jB.setup(be,t)},JP={register:SE},H3=Zt,kl=function(t,r,o){return Rb(t,r,H3,o)},Ny=function(t,r,o){return Dx(t,r,H3,o)},V3=Bb,B1=function(t,r,o){return Tc(t,r,o).isSome()},U3=function(t,r){var o=null,c=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];o=setTimeout(function(){t.apply(null,m),o=null},r)},v=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:v,schedule:c}},R1=5,ZP=400,W3=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?E.none():E.some(r.touches[0])},QP=function(t,r){var o=Math.abs(t.clientX-r.x),c=Math.abs(t.clientY-r.y);return o>R1||c>R1},e5=function(t){var r=nn(E.none()),o=nn(!1),c=U3(function(k){t.triggerEvent(Sf(),k),o.set(!0)},ZP),v=function(k){return W3(k).each(function(D){c.cancel();var B={x:D.clientX,y:D.clientY,target:k.target};c.schedule(k),o.set(!1),r.set(E.some(B))}),E.none()},m=function(k){return c.cancel(),W3(k).each(function(D){r.get().each(function(B){QP(D,B)&&r.set(E.none())})}),E.none()},p=function(k){c.cancel();var D=function(B){return Ko(B.target,k.target)};return r.get().filter(D).map(function(B){return o.get()?(k.prevent(),!1):t.triggerEvent(_d(),k)})},C=Ln([{key:Xr(),value:v},{key:Wa(),value:m},{key:fo(),value:p}]),S=function(k,D){return Pn(C,D).bind(function(B){return B(k)})};return{fireIfReady:S}},t5=function(t){var r=t.raw;return r.which===q2[0]&&!Sn(["input","textarea"],hs(t.target))&&!B1(t.target,'[contenteditable="true"]')},j3=function(){return Mi().browser.isFirefox()},q3=_e([na("triggerEvent"),Me("stopBackspace",!0)]),G3=function(t,r){return j3()?Ny(t,"focus",r):kl(t,"focusin",r)},K3=function(t,r){return j3()?Ny(t,"blur",r):kl(t,"focusout",r)},n5=function(t,r){var o=po("Getting GUI events settings",q3,r),c=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],v=e5(o),m=Pe(c.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(j){return kl(t,j,function(te){v.fireIfReady(te,j).each(function(be){be&&te.kill()});var ne=o.triggerEvent(j,te);ne&&te.kill()})}),p=nn(E.none()),C=kl(t,"paste",function(j){v.fireIfReady(j,"paste").each(function(ne){ne&&j.kill()});var te=o.triggerEvent("paste",j);te&&j.kill(),p.set(E.some(setTimeout(function(){o.triggerEvent(Yc(),j)},0)))}),S=kl(t,"keydown",function(j){var te=o.triggerEvent("keydown",j);te?j.kill():o.stopBackspace===!0&&t5(j)&&j.prevent()}),k=G3(t,function(j){var te=o.triggerEvent("focusin",j);te&&j.kill()}),D=nn(E.none()),B=K3(t,function(j){var te=o.triggerEvent("focusout",j);te&&j.kill(),D.set(E.some(setTimeout(function(){o.triggerEvent(cb(),j)},0)))}),N=function(){Ct(m,function(j){j.unbind()}),S.unbind(),k.unbind(),B.unbind(),C.unbind(),p.get().each(clearTimeout),D.get().each(clearTimeout)};return{unbind:N}},XC=function(t,r){var o=Pn(t,"target").getOr(r);return nn(o)},r5=function(t,r){var o=nn(!1),c=nn(!1),v=function(){o.set(!0)},m=function(){c.set(!0)};return{stop:v,cut:m,isStopped:o.get,isCut:c.get,event:t,setSource:r.set,getSource:r.get}},a5=function(t){var r=nn(!1),o=function(){r.set(!0)};return{stop:o,cut:nt,isStopped:r.get,isCut:Gt,event:t,setSource:Qt("Cannot set source of a broadcasted event"),getSource:Qt("Cannot get source of a broadcasted event")}},Fy=Gn.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),X3=function(t,r,o,c,v,m){var p=t(r,c),C=r5(o,v);return p.fold(function(){return m.logEventNoHandlers(r,c),Fy.complete()},function(S){var k=S.descHandler,D=Av(k);return D(C),C.isStopped()?(m.logEventStopped(r,S.element,k.purpose),Fy.stopped()):C.isCut()?(m.logEventCut(r,S.element,k.purpose),Fy.complete()):$i(S.element).fold(function(){return m.logNoParent(r,S.element,k.purpose),Fy.complete()},function(B){return m.logEventResponse(r,S.element,k.purpose),Fy.resume(B)})})},Y3=function(t,r,o,c,v,m){return X3(t,r,o,c,v,m).fold(Zt,function(p){return Y3(t,r,o,p,v,m)},Gt)},o5=function(t,r,o,c,v){var m=XC(o,c);return X3(t,r,o,c,m,v)},i5=function(t,r,o){var c=a5(r);return Ct(t,function(v){var m=v.descHandler,p=Av(m);p(c)}),c.isStopped()},u5=function(t,r,o,c){return J3(t,r,o,o.target,c)},J3=function(t,r,o,c,v){var m=XC(o,c);return Y3(t,r,o,c,m,v)},s5=function(t,r){return{element:t,descHandler:r}},c5=function(t,r){return{id:t,descHandler:r}},l5=function(){var t={},r=function(p,C,S){Rr(S,function(k,D){var B=t[D]!==void 0?t[D]:{};B[C]=xg(k,p),t[D]=B})},o=function(p,C){return bg(C).fold(function(){return E.none()},function(S){return p.bind(function(k){return Pn(k,S)}).map(function(k){return s5(C,k)})})},c=function(p){return Pn(t,p).map(function(C){return Ja(C,function(S,k){return c5(k,S)})}).getOr([])},v=function(p,C,S){var k=Pn(t,C);return $(S,function(D){return o(k,D)},p)},m=function(p){Rr(t,function(C,S){C.hasOwnProperty(p)&&delete C[p]})};return{registerId:r,unregisterId:m,filterByType:c,find:v}},Z3=function(){var t=l5(),r={},o=function(k){var D=k.element;return bg(D).fold(function(){return Md("uid-",k.element)},function(B){return B})},c=function(k,D){var B=r[D];if(B===k)m(k);else throw new Error('The tagId "'+D+'" is already used by: '+_f(B.element)+`
Cannot use it for: `+_f(k.element)+`
The conflicting element is`+(Ru(B.element)?" ":" not ")+"already in the DOM")},v=function(k){var D=o(k);La(r,D)&&c(k,D);var B=[k];t.registerId(B,D,k.events),r[D]=k},m=function(k){bg(k.element).each(function(D){delete r[D],t.unregisterId(D)})},p=function(k){return t.filterByType(k)},C=function(k,D,B){return t.find(k,D,B)},S=function(k){return Pn(r,k)};return{find:C,filter:p,register:v,unregister:m,getById:S}},f5=function(t){var r=t.dom,o=r.attributes,c=Z(r,["attributes"]);return{uid:t.uid,dom:se({tag:"div",attributes:se({role:"presentation"},o)},c),components:t.components,behaviours:Up(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},Su=Ls({name:"Container",factory:f5,configFields:[Me("components",[]),Si("containerBehaviours",[]),Me("events",{}),Me("domModification",{}),Me("eventOrder",{})]}),YC=function(t){var r=function(ae){return $i(t.element).fold(Zt,function(Oe){return Ko(ae,Oe)})},o=Z3(),c=function(ae,Oe){return o.find(r,ae,Oe)},v=n5(t.element,{triggerEvent:function(ae,Oe){return vp(ae,Oe.target,function(Re){return u5(c,ae,Oe,Re)})}}),m={debugInfo:re("real"),triggerEvent:function(ae,Oe,Re){vp(ae,Oe,function(tt){return J3(c,ae,Re,Oe,tt)})},triggerFocus:function(ae,Oe){bg(ae).fold(function(){Is(ae)},function(Re){vp(Xc(),ae,function(tt){return o5(c,Xc(),{originator:Oe,kill:nt,prevent:nt,target:ae},ae,tt),!1})})},triggerEscape:function(ae,Oe){m.triggerEvent("keydown",ae.element,Oe.event)},getByUid:function(ae){return ne(ae)},getByDom:function(ae){return be(ae)},build:pu,addToGui:function(ae){S(ae)},removeFromGui:function(ae){k(ae)},addToWorld:function(ae){p(ae)},removeFromWorld:function(ae){C(ae)},broadcast:function(ae){N(ae)},broadcastOn:function(ae,Oe){j(ae,Oe)},broadcastEvent:function(ae,Oe){te(ae,Oe)},isConnected:Zt},p=function(ae){ae.connect(m),Fi(ae.element)||(o.register(ae),Ct(ae.components(),p),m.triggerEvent(xf(),ae.element,{target:ae.element}))},C=function(ae){Fi(ae.element)||(Ct(ae.components(),C),o.unregister(ae)),ae.disconnect()},S=function(ae){Ss(t,ae)},k=function(ae){Xv(ae)},D=function(){v.unbind(),tl(t.element)},B=function(ae){var Oe=o.filter(gs());Ct(Oe,function(Re){var tt=Re.descHandler,Ue=Av(tt);Ue(ae)})},N=function(ae){B({universal:!0,data:ae})},j=function(ae,Oe){B({universal:!1,channels:ae,data:Oe})},te=function(ae,Oe){var Re=o.filter(ae);return i5(Re,Oe)},ne=function(ae){return o.getById(ae).fold(function(){return vn.error(new Error('Could not find component with uid: "'+ae+'" in system.'))},vn.value)},be=function(ae){var Oe=bg(ae).getOr("not found");return ne(Oe)};return p(t),{root:t,element:t.element,destroy:D,add:S,remove:k,getByUid:ne,getByDom:be,addToWorld:p,removeFromWorld:C,broadcast:N,broadcastOn:j,broadcastEvent:te}},JC=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Pe(t.items,r.interpreter)}},v5=re([Me("prefix","form-field"),Si("fieldBehaviours",[da,wn])]),ZC=re([Qs({schema:[ve("dom")],name:"label"}),Qs({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[ve("text")],name:"aria-descriptor"}),xi({factory:{sketch:function(t){var r=zt(t,["factory"]);return t.factory.sketch(r)}},schema:[ve("factory")],name:"field"})]),d5=function(t,r,o,c){var v=oi(t.fieldBehaviours,[da.config({find:function(C){return qa(C,t,"field")}}),wn.config({store:{mode:"manual",getValue:function(C){return da.getCurrent(C).bind(wn.getValue)},setValue:function(C,S){da.getCurrent(C).each(function(k){wn.setValue(k,S)})}}})]),m=ba([Oo(function(C,S){var k=Gf(C,t,["label","field","aria-descriptor"]);k.field().each(function(D){var B=Qn(t.prefix);k.label().each(function(N){ya(N.element,"for",B),ya(D.element,"id",B)}),k["aria-descriptor"]().each(function(N){var j=Qn(t.prefix);ya(N.element,"id",j),ya(D.element,"aria-describedby",j)})})})]),p={getField:function(C){return qa(C,t,"field")},getLabel:function(C){return qa(C,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:v,events:m,apis:p}},Ea=Cu({name:"FormField",configFields:v5(),partFields:ZC(),factory:d5,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),m5=function(t,r){return Ns({attributes:Ln([{key:r.tabAttr,value:"true"}])})},g5=Object.freeze({__proto__:null,exhibit:m5}),h5=[Me("tabAttr","data-alloy-tabstop")],Yo=Do({fields:h5,name:"tabstopping",active:g5}),p5=tinymce.util.Tools.resolve("tinymce.html.Entities"),P1=function(t,r,o,c){var v=xE(t,r,o,c);return Ea.sketch(v)},b5=function(t,r){return P1(t,r,[],[])},xE=function(t,r,o,c){return{dom:kE(o),components:t.toArray().concat([r]),fieldBehaviours:Lt(c)}},y5=function(){return kE([])},kE=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},Pm=function(t,r){return Ea.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},rc=Qn("form-component-change"),M1=Qn("form-close"),uf=Qn("form-cancel"),iv=Qn("form-action"),$y=Qn("form-submit"),TE=Qn("form-block"),N1=Qn("form-unblock"),Q3=Qn("form-tabchange"),eA=Qn("form-resize"),tA=function(t,r){var o,c=t.label.map(function(B){return Pm(B,r)}),v=function(B){return function(N,j){Tc(j.event.target,"[data-collection-item-value]").each(function(te){B(N,j,te,du(te,"data-collection-item-value"))})}},m=function(B,N){var j=Pe(N,function(be){var ae=$c.translate(be.text),Oe=t.columns===1?'<div class="tox-collection__item-label">'+ae+"</div>":"",Re='<div class="tox-collection__item-icon">'+be.icon+"</div>",tt={_:" "," - ":" ","-":" "},Ue=ae.replace(/\_| \- |\-/g,function(Ke){return tt[Ke]}),et=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+et+'" tabindex="-1" data-collection-item-value="'+p5.encodeAllRaw(be.value)+'" title="'+Ue+'" aria-label="'+Ue+'">'+Re+Oe+"</div>"}),te=t.columns!=="auto"&&t.columns>1?ee(j,t.columns):[j],ne=Pe(te,function(be){return'<div class="tox-collection__group">'+be.join("")+"</div>"});Af(B.element,ne.join(""))},p=v(function(B,N,j,te){N.stop(),r.isDisabled()||Hn(B,iv,{name:t.name,value:te})}),C=[Et(wf(),v(function(B,N,j){Is(j)})),Et(ug(),p),Et(_d(),p),Et(Fl(),v(function(B,N,j){Zi(B.element,"."+ky).each(function(te){vo(te,ky)}),ja(j,ky)})),Et(ag(),v(function(B){Zi(B.element,"."+ky).each(function(N){vo(N,ky)})})),Zc(v(function(B,N,j,te){Hn(B,iv,{name:t.name,value:te})}))],S=function(B,N){return Pe(Iu(B.element,".tox-collection__item"),N)},k=Ea.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:_t},behaviours:Lt([pr.config({disabled:r.isDisabled,onDisabled:function(B){S(B,function(N){ja(N,"tox-collection__item--state-disabled"),ya(N,"aria-disabled",!0)})},onEnabled:function(B){S(B,function(N){vo(N,"tox-collection__item--state-disabled"),Ju(N,"aria-disabled")})}}),ki(),Fr.config({}),wn.config({store:{mode:"memory",initialValue:[]},onSetValue:function(B,N){m(B,N),t.columns==="auto"&&Ty(B,5,"tox-collection__item").each(function(j){var te=j.numRows,ne=j.numColumns;vr.setGridSize(B,te,ne)}),va(B,eA)}}),Yo.config({}),vr.config(PP(t.columns,"normal")),Yr("collection-events",C)]),eventOrder:(o={},o[Du()]=["disabling","alloy.base.behaviour","collection-events"],o)}),D=["tox-form__group--collection"];return P1(c,k,D,[])},nA=re([pa("data"),Me("inputAttributes",{}),Me("inputStyles",{}),Me("tag","input"),Me("inputClasses",[]),wa("onSetValue"),Me("styles",{}),Me("eventOrder",{}),Si("inputBehaviours",[wn,Ar]),Me("selectOnFocus",!0)]),rA=function(t){return Lt([Ar.config({onFocus:t.selectOnFocus?function(r){var o=r.element,c=Mf(o);o.dom.setSelectionRange(0,c.length)}:nt})])},w5=function(t){return se(se({},rA(t)),oi(t.inputBehaviours,[wn.config({store:se(se({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return Mf(r.element)},setValue:function(r,o){var c=Mf(r.element);c!==o&&Eg(r.element,o)}}),onSetValue:t.onSetValue})]))},aA=function(t){return{tag:t.tag,attributes:se({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},C5=function(t,r){return{uid:t.uid,dom:aA(t),components:[],behaviours:w5(t),eventOrder:t.eventOrder}},Iy=Ls({name:"Input",configFields:nA(),factory:C5}),oA={},iA={exports:oA};(function(t,r,o,c){(function(v){if(typeof r=="object"&&typeof o!="undefined")o.exports=v();else if(typeof t=="function"&&t.amd)t([],v);else{var m;typeof window!="undefined"?m=window:typeof BB!="undefined"?m=BB:typeof self!="undefined"?m=self:m=this,m.EphoxContactWrapper=v()}})(function(){return function(){function v(m,p,C){function S(B,N){if(!p[B]){if(!m[B]){var j=typeof c=="function"&&c;if(!N&&j)return j(B,!0);if(k)return k(B,!0);var te=new Error("Cannot find module '"+B+"'");throw te.code="MODULE_NOT_FOUND",te}var ne=p[B]={exports:{}};m[B][0].call(ne.exports,function(be){var ae=m[B][1][be];return S(ae||be)},ne,ne.exports,v,m,p,C)}return p[B].exports}for(var k=typeof c=="function"&&c,D=0;D<C.length;D++)S(C[D]);return S}return v}()({1:[function(v,m,p){var C=m.exports={},S,k;function D(){throw new Error("setTimeout has not been defined")}function B(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?S=setTimeout:S=D}catch{S=D}try{typeof clearTimeout=="function"?k=clearTimeout:k=B}catch{k=B}})();function N(et){if(S===setTimeout)return setTimeout(et,0);if((S===D||!S)&&setTimeout)return S=setTimeout,setTimeout(et,0);try{return S(et,0)}catch{try{return S.call(null,et,0)}catch{return S.call(this,et,0)}}}function j(et){if(k===clearTimeout)return clearTimeout(et);if((k===B||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(et);try{return k(et)}catch{try{return k.call(null,et)}catch{return k.call(this,et)}}}var te=[],ne=!1,be,ae=-1;function Oe(){!ne||!be||(ne=!1,be.length?te=be.concat(te):ae=-1,te.length&&Re())}function Re(){if(!ne){var et=N(Oe);ne=!0;for(var Ke=te.length;Ke;){for(be=te,te=[];++ae<Ke;)be&&be[ae].run();ae=-1,Ke=te.length}be=null,ne=!1,j(et)}}C.nextTick=function(et){var Ke=new Array(arguments.length-1);if(arguments.length>1)for(var Dt=1;Dt<arguments.length;Dt++)Ke[Dt-1]=arguments[Dt];te.push(new tt(et,Ke)),te.length===1&&!ne&&N(Re)};function tt(et,Ke){this.fun=et,this.array=Ke}tt.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={};function Ue(){}C.on=Ue,C.addListener=Ue,C.once=Ue,C.off=Ue,C.removeListener=Ue,C.removeAllListeners=Ue,C.emit=Ue,C.prependListener=Ue,C.prependOnceListener=Ue,C.listeners=function(et){return[]},C.binding=function(et){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(et){throw new Error("process.chdir is not supported")},C.umask=function(){return 0}},{}],2:[function(v,m,p){(function(C){(function(S){var k=setTimeout;function D(){}function B(Re,tt){return function(){Re.apply(tt,arguments)}}function N(Re){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Re!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Oe(Re,this)}function j(Re,tt){for(;Re._state===3;)Re=Re._value;if(Re._state===0){Re._deferreds.push(tt);return}Re._handled=!0,N._immediateFn(function(){var Ue=Re._state===1?tt.onFulfilled:tt.onRejected;if(Ue===null){(Re._state===1?te:ne)(tt.promise,Re._value);return}var et;try{et=Ue(Re._value)}catch(Ke){ne(tt.promise,Ke);return}te(tt.promise,et)})}function te(Re,tt){try{if(tt===Re)throw new TypeError("A promise cannot be resolved with itself.");if(tt&&(typeof tt=="object"||typeof tt=="function")){var Ue=tt.then;if(tt instanceof N){Re._state=3,Re._value=tt,be(Re);return}else if(typeof Ue=="function"){Oe(B(Ue,tt),Re);return}}Re._state=1,Re._value=tt,be(Re)}catch(et){ne(Re,et)}}function ne(Re,tt){Re._state=2,Re._value=tt,be(Re)}function be(Re){Re._state===2&&Re._deferreds.length===0&&N._immediateFn(function(){Re._handled||N._unhandledRejectionFn(Re._value)});for(var tt=0,Ue=Re._deferreds.length;tt<Ue;tt++)j(Re,Re._deferreds[tt]);Re._deferreds=null}function ae(Re,tt,Ue){this.onFulfilled=typeof Re=="function"?Re:null,this.onRejected=typeof tt=="function"?tt:null,this.promise=Ue}function Oe(Re,tt){var Ue=!1;try{Re(function(et){Ue||(Ue=!0,te(tt,et))},function(et){Ue||(Ue=!0,ne(tt,et))})}catch(et){if(Ue)return;Ue=!0,ne(tt,et)}}N.prototype.catch=function(Re){return this.then(null,Re)},N.prototype.then=function(Re,tt){var Ue=new this.constructor(D);return j(this,new ae(Re,tt,Ue)),Ue},N.all=function(Re){var tt=Array.prototype.slice.call(Re);return new N(function(Ue,et){if(tt.length===0)return Ue([]);var Ke=tt.length;function Dt(ln,vt){try{if(vt&&(typeof vt=="object"||typeof vt=="function")){var Tt=vt.then;if(typeof Tt=="function"){Tt.call(vt,function(Mn){Dt(ln,Mn)},et);return}}tt[ln]=vt,--Ke===0&&Ue(tt)}catch(Mn){et(Mn)}}for(var Wn=0;Wn<tt.length;Wn++)Dt(Wn,tt[Wn])})},N.resolve=function(Re){return Re&&typeof Re=="object"&&Re.constructor===N?Re:new N(function(tt){tt(Re)})},N.reject=function(Re){return new N(function(tt,Ue){Ue(Re)})},N.race=function(Re){return new N(function(tt,Ue){for(var et=0,Ke=Re.length;et<Ke;et++)Re[et].then(tt,Ue)})},N._immediateFn=typeof C=="function"?function(Re){C(Re)}:function(Re){k(Re,0)},N._unhandledRejectionFn=function(tt){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",tt)},N._setImmediateFn=function(tt){N._immediateFn=tt},N._setUnhandledRejectionFn=function(tt){N._unhandledRejectionFn=tt},typeof m!="undefined"&&m.exports?m.exports=N:S.Promise||(S.Promise=N)})(this)}).call(this,v("timers").setImmediate)},{timers:3}],3:[function(v,m,p){(function(C,S){var k=v("process/browser.js").nextTick,D=Function.prototype.apply,B=Array.prototype.slice,N={},j=0;p.setTimeout=function(){return new te(D.call(setTimeout,window,arguments),clearTimeout)},p.setInterval=function(){return new te(D.call(setInterval,window,arguments),clearInterval)},p.clearTimeout=p.clearInterval=function(ne){ne.close()};function te(ne,be){this._id=ne,this._clearFn=be}te.prototype.unref=te.prototype.ref=function(){},te.prototype.close=function(){this._clearFn.call(window,this._id)},p.enroll=function(ne,be){clearTimeout(ne._idleTimeoutId),ne._idleTimeout=be},p.unenroll=function(ne){clearTimeout(ne._idleTimeoutId),ne._idleTimeout=-1},p._unrefActive=p.active=function(ne){clearTimeout(ne._idleTimeoutId);var be=ne._idleTimeout;be>=0&&(ne._idleTimeoutId=setTimeout(function(){ne._onTimeout&&ne._onTimeout()},be))},p.setImmediate=typeof C=="function"?C:function(ne){var be=j++,ae=arguments.length<2?!1:B.call(arguments,1);return N[be]=!0,k(function(){N[be]&&(ae?ne.apply(null,ae):ne.call(null),p.clearImmediate(be))}),be},p.clearImmediate=typeof S=="function"?S:function(ne){delete N[ne]}}).call(this,v("timers").setImmediate,v("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(v,m,p){var C=v("promise-polyfill"),S=function(){return typeof window!="undefined"?window:Function("return this;")()}();m.exports={boltExport:S.Promise||C}},{"promise-polyfill":2}]},{},[4])(4)})})(void 0,oA,iA,void 0);var uA=iA.exports.boltExport,md=function(t){var r=E.none(),o=[],c=function(k){return md(function(D){v(function(B){D(k(B))})})},v=function(k){p()?S(k):o.push(k)},m=function(k){p()||(r=E.some(k),C(o),o=[])},p=function(){return r.isSome()},C=function(k){Ct(k,S)},S=function(k){r.each(function(D){setTimeout(function(){k(D)},0)})};return t(m),{get:v,map:c,isReady:p}},S5=function(t){return md(function(r){r(t)})},x5={nu:md,pure:S5},k5=function(t){setTimeout(function(){throw t},0)},F1=function(t){var r=function(S){t().then(S,k5)},o=function(S){return F1(function(){return t().then(S)})},c=function(S){return F1(function(){return t().then(function(k){return S(k).toPromise()})})},v=function(S){return F1(function(){return t().then(function(){return S.toPromise()})})},m=function(){return x5.nu(r)},p=function(){var S=null;return F1(function(){return S===null&&(S=t()),S})},C=t;return{map:o,bind:c,anonBind:v,toLazy:m,toCached:p,toPromise:C,get:r}},QC=function(t){return F1(function(){return new uA(t)})},sA=function(t){return F1(function(){return uA.resolve(t)})},ru={nu:QC,pure:sA},T5=["input","textarea"],cA=function(t){var r=hs(t);return Sn(T5,r)},lA=function(t,r){var o=r.getRoot(t).getOr(t.element);vo(o,r.invalidClass),r.notify.each(function(c){cA(t.element)&&ya(t.element,"aria-invalid",!1),c.getContainer(t).each(function(v){Af(v,c.validHtml)}),c.onValid(t)})},fA=function(t,r,o,c){var v=r.getRoot(t).getOr(t.element);ja(v,r.invalidClass),r.notify.each(function(m){cA(t.element)&&ya(t.element,"aria-invalid",!0),m.getContainer(t).each(function(p){Af(p,c)}),m.onInvalid(t,c)})},vA=function(t,r,o){return r.validator.fold(function(){return ru.pure(vn.value(!0))},function(c){return c.validate(t)})},EE=function(t,r,o){return r.notify.each(function(c){c.onValidate(t)}),vA(t,r).map(function(c){return t.getSystem().isConnected()?c.fold(function(v){return fA(t,r,o,v),vn.error(v)},function(v){return lA(t,r),vn.value(v)}):vn.error("No longer in system")})},E5=function(t,r){var o=r.getRoot(t).getOr(t.element);return fi(o,r.invalidClass)},dA=Object.freeze({__proto__:null,markValid:lA,markInvalid:fA,query:vA,run:EE,isInvalid:E5}),O5=function(t,r){return t.validator.map(function(o){return ba([Et(o.onEvent,function(c){EE(c,t,r).get(_t)})].concat(o.validateOnLoad?[Oo(function(c){EE(c,t,r).get(nt)})]:[]))}).getOr({})},A5=Object.freeze({__proto__:null,events:O5}),D5=[ve("invalidClass"),Me("getRoot",E.none),Bi("notify",[Me("aria","alert"),Me("getContainer",E.none),Me("validHtml",""),wa("onValid"),wa("onInvalid"),wa("onValidate")]),Bi("validator",[ve("validate"),Me("onEvent","input"),Me("validateOnLoad",!0)])],sf=Do({fields:D5,name:"invalidating",active:A5,apis:dA,extra:{validation:function(t){return function(r){var o=wn.getValue(r);return ru.pure(t(o))}}}}),cf=function(t,r,o,c){return o.getOrCreate(t,r,c)},Mm=Object.freeze({__proto__:null,getCoupled:cf}),_5=[Kt("others",Uc(vn.value,F()))],mA=function(){var t={},r=function(c,v,m){var p=hr(v.others);if(p)return Pn(t,m).getOrThunk(function(){var C=Pn(v.others,m).getOrDie("No information found for coupled component: "+m),S=C(c),k=c.getSystem().build(S);return t[m]=k,k});throw new Error("Cannot find coupled component: "+m+". Known coupled components: "+JSON.stringify(p,null,2))},o=re({});return Ii({readState:o,getOrCreate:r})},gA=Object.freeze({__proto__:null,init:mA}),$o=Do({fields:_5,name:"coupling",apis:Mm,state:gA}),hA=re("sink"),eS=re(Qs({name:hA(),overrides:re({dom:{tag:"div"},behaviours:Lt([wu.config({useFixed:Zt})]),events:ba([Ef(og()),Ef(js()),Ef(ug())])})})),Ic;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(Ic||(Ic={}));var tS=function(t,r){var o=t.getHotspot(r).getOr(r),c="hotspot",v=t.getAnchorOverrides();return t.layouts.fold(function(){return{anchor:c,hotspot:o,overrides:v}},function(m){return{anchor:c,hotspot:o,overrides:v,layouts:m}})},B5=function(t,r,o){var c=t.fetch;return c(o).map(r)},R5=function(t,r,o,c,v,m,p){var C=B5(t,r,c),S=pA(c,t);return C.map(function(k){return k.bind(function(D){return E.from(fh.sketch(se(se({},m.menu()),{uid:yg(""),data:D,highlightImmediately:p===Ic.HighlightFirst,onOpenMenu:function(B,N){var j=S().getOrDie();wu.position(j,o,N),ua.decloak(v)},onOpenSubmenu:function(B,N,j){var te=S().getOrDie();wu.position(te,{anchor:"submenu",item:N},j),ua.decloak(v)},onRepositionMenu:function(B,N,j){var te=S().getOrDie();wu.position(te,o,N),Ct(j,function(ne){wu.position(te,{anchor:"submenu",item:ne.triggeringItem},ne.triggeredMenu)})},onEscape:function(){return Ar.focus(c),ua.close(v),E.some(!0)}})))})})},OE=function(t,r,o,c,v,m,p){var C=tS(t,o),S=R5(t,r,C,o,c,v,p);return S.map(function(k){return k.fold(function(){ua.isOpen(c)&&ua.close(c)},function(D){ua.cloak(c),ua.open(c,D),m(c)}),c})},nS=function(t,r,o,c,v,m,p){return ua.close(c),ru.pure(c)},$1=function(t,r,o,c,v,m){var p=$o.getCoupled(o,"sandbox"),C=ua.isOpen(p),S=C?nS:OE;return S(t,r,o,p,c,v,m)},P5=function(t,r,o){var c=da.getCurrent(r).getOr(r),v=Mu(t.element);o?Ir(c.element,"min-width",v+"px"):Dw(c.element,v)},pA=function(t,r){return t.getSystem().getByUid(r.uid+"-"+hA()).map(function(o){return function(){return vn.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return vn.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},AE=function(t){ua.getState(t).each(function(r){fh.repositionMenus(r)})},DE=function(t,r,o){var c=al(),v=function(C,S){var k=tS(t,r);c.link(r.element),t.matchWidth&&P5(k.hotspot,S,t.useMinWidth),t.onOpen(k,C,S),o!==void 0&&o.onOpen!==void 0&&o.onOpen(C,S)},m=function(C,S){c.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(C,S)},p=pA(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:c.id,role:"listbox"}},behaviours:ts.augment(t.sandboxBehaviours,[wn.config({store:{mode:"memory",initialValue:r}}),ua.config({onOpen:v,onClose:m,isPartOf:function(C,S,k){return Ec(S,k)||Ec(r,k)},getAttachPoint:function(){return p().getOrDie()}}),da.config({find:function(C){return ua.getState(C).bind(function(S){return da.getCurrent(S)})}}),tu.config({channels:se(se({},lm({isExtraPart:Gt})),T0({doReposition:AE}))})])}},_E=function(t){var r=$o.getCoupled(t,"sandbox");AE(r)},BE=function(){return[Me("sandboxClasses",[]),ts.field("sandboxBehaviours",[da,tu,ua,wn])]},M5=re([ve("dom"),ve("fetch"),wa("onOpen"),Lo("onExecute"),Me("getHotspot",E.some),Me("getAnchorOverrides",re({})),ll(),Si("dropdownBehaviours",[ze,$o,vr,Ar]),ve("toggleClass"),Me("eventOrder",{}),pa("lazySink"),Me("matchWidth",!1),Me("useMinWidth",!1),pa("role")].concat(BE())),bA=re([Zs({schema:[zf()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),eS()]),N5=function(t,r,o,c){var v,m=function(D){return Pn(t.dom,"attributes").bind(function(B){return Pn(B,D)})},p=function(D){ua.getState(D).each(function(B){fh.highlightPrimary(B)})},C=function(D){var B=p;$1(t,function(N){return N},D,c,B,Ic.HighlightFirst).get(nt)},S={expand:function(D){ze.isOn(D)||$1(t,function(B){return B},D,c,nt,Ic.HighlightNone).get(nt)},open:function(D){ze.isOn(D)||$1(t,function(B){return B},D,c,nt,Ic.HighlightFirst).get(nt)},isOpen:ze.isOn,close:function(D){ze.isOn(D)&&$1(t,function(B){return B},D,c,nt,Ic.HighlightFirst).get(nt)},repositionMenus:function(D){ze.isOn(D)&&_E(D)}},k=function(D,B){return Tf(D),E.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:oi(t.dropdownBehaviours,[ze.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),$o.config({others:{sandbox:function(D){return DE(t,D,{onOpen:function(){return ze.on(D)},onClose:function(){return ze.off(D)}})}}}),vr.config({mode:"special",onSpace:k,onEnter:k,onDown:function(D,B){if(Tl.isOpen(D)){var N=$o.getCoupled(D,"sandbox");p(N)}else Tl.open(D);return E.some(!0)},onEscape:function(D,B){return Tl.isOpen(D)?(Tl.close(D),E.some(!0)):E.none()}}),Ar.config({})]),events:Mt(E.some(C)),eventOrder:se(se({},t.eventOrder),(v={},v[Du()]=["disabling","toggling","alloy.base.behaviour"],v)),apis:S,domModification:{attributes:se(se({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(D){return{role:D}})),t.dom.tag==="button"?{type:m("type").getOr("button")}:{})}}},Tl=Cu({name:"Dropdown",configFields:M5(),partFields:bA(),factory:N5,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),yA=function(){return Ns({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},wA=function(){return ba([Gh(lx(),Zt)])},F5=Object.freeze({__proto__:null,events:wA,exhibit:yA}),zy=Do({fields:[],name:"unselecting",active:F5}),$5=function(t,r){return Tl.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Lt([xl.button(r.providers.isDisabled),ki(),zy.config({}),Yo.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return ru.nu(function(c){return t.fetch(c)}).map(function(c){return E.from(L3(Hr(yE(Qn("menu-value"),c,function(v){t.onItemAction(o,v)},t.columns,t.presets,of.CLOSE_ON_EXECUTE,Gt,r.providers),{movement:KC(t.columns,t.presets)})))})},parts:{menu:PC(!1,1,t.presets)}})},CA=Qn("color-input-change"),SA=Qn("color-swatch-change"),Ly=Qn("color-picker-cancel"),as=function(t,r,o){var c=Ea.parts.field({factory:Iy,inputClasses:["tox-textfield"],onSetValue:function(S){return sf.run(S).get(nt)},inputBehaviours:Lt([pr.config({disabled:r.providers.isDisabled}),ki(),Yo.config({}),sf.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(S){return $i(S.element)},notify:{onValid:function(S){var k=wn.getValue(S);Hn(S,CA,{color:k})}},validator:{validateOnLoad:!1,validate:function(S){var k=wn.getValue(S);if(k.length===0)return ru.pure(vn.value(!0));var D=yn.fromTag("span");Ir(D,"background-color",k);var B=Bo(D,"background-color").fold(function(){return vn.error("blah")},function(N){return vn.value(k)});return ru.pure(B)}}})]),selectOnFocus:!1}),v=t.label.map(function(S){return Pm(S,r.providers)}),m=function(S,k){Hn(S,SA,{value:k})},p=function(S,k){C.getOpt(S).each(function(D){k==="custom"?o.colorPicker(function(B){B.fold(function(){return va(D,Ly)},function(N){m(D,N),k3(N)})},"#ffffff"):k==="remove"?m(D,""):m(D,k)})},C=Ca($5({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Ei,oo,eu]},onLtr:function(){return[oo,Ei,eu]}},components:[],fetch:O3(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:p},r));return Ea.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[c,C.asSpec()]}]),fieldBehaviours:Lt([Yr("form-field-events",[Et(CA,function(S,k){C.getOpt(S).each(function(D){Ir(D.element,"background-color",k.event.color)}),Hn(S,rc,{name:t.name})}),Et(SA,function(S,k){Ea.getField(S).each(function(D){wn.setValue(D,k.event.value),da.getCurrent(S).each(Ar.focus)})}),Et(Ly,function(S,k){Ea.getField(S).each(function(D){da.getCurrent(S).each(Ar.focus)})})])])})},xA=Qs({schema:[ve("dom")],name:"label"}),Nm=function(t){return Qs({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(c){return{events:ba([db(Xr(),function(v,m,p){return c(v,p)},[r]),db(js(),function(v,m,p){return c(v,p)},[r]),db(xv(),function(v,m,p){p.mouseIsDown.get()&&c(v,p)},[r])])}})}})},I5=Nm("top-left"),z5=Nm("top"),L5=Nm("top-right"),kA=Nm("right"),H5=Nm("bottom-right"),V5=Nm("bottom"),TA=Nm("bottom-left"),U5=Nm("left"),EA=xi({name:"thumb",defaults:re({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:ba([Ll(Xr(),t,"spectrum"),Ll(Wa(),t,"spectrum"),Ll(fo(),t,"spectrum"),Ll(js(),t,"spectrum"),Ll(xv(),t,"spectrum"),Ll(rg(),t,"spectrum")])}}}),OA=xi({schema:[si("mouseIsDown",function(){return nn(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,c=function(v,m){return o.getValueFromEvent(m).map(function(p){return o.setValueFrom(v,t,p)})};return{behaviours:Lt([vr.config({mode:"special",onLeft:function(v){return o.onLeft(v,t)},onRight:function(v){return o.onRight(v,t)},onUp:function(v){return o.onUp(v,t)},onDown:function(v){return o.onDown(v,t)}}),Ar.config({})]),events:ba([Et(Xr(),c),Et(Wa(),c),Et(js(),c),Et(xv(),function(v,m){t.mouseIsDown.get()&&c(v,m)})])}}}),AA=[xA,U5,kA,z5,V5,I5,L5,TA,H5,EA,OA],W5="slider.change.value",Hy=re(W5),j5=function(t){return t.type.indexOf("touch")!==-1},RE=function(t){var r=t.event.raw;if(j5(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?E.some(o.touches[0]).map(function(v){return Ro(v.clientX,v.clientY)}):E.none()}else{var c=r;return c.clientX!==void 0?E.some(c).map(function(v){return Ro(v.clientX,v.clientY)}):E.none()}},q5="top",G5="right",Sh="bottom",K5="left",xh=function(t){return t.model.minX},ac=function(t){return t.model.minY},rS=function(t){return t.model.minX-1},aS=function(t){return t.model.minY-1},xu=function(t){return t.model.maxX},Fm=function(t){return t.model.maxY},Vy=function(t){return t.model.maxX+1},oS=function(t){return t.model.maxY+1},Uy=function(t,r,o){return r(t)-o(t)},PE=function(t){return Uy(t,xu,xh)},iS=function(t){return Uy(t,Fm,ac)},DA=function(t){return PE(t)/2},_A=function(t){return iS(t)/2},I1=function(t){return t.stepSize},uS=function(t){return t.snapToGrid},BA=function(t){return t.snapStart},RA=function(t){return t.rounded},sS=function(t,r){return t[r+"-edge"]!==void 0},PA=function(t){return sS(t,K5)},MA=function(t){return sS(t,G5)},NA=function(t){return sS(t,q5)},FA=function(t){return sS(t,Sh)},uv=function(t){return t.model.value.get()},ME=function(t){return{x:t}},$A=function(t){return{y:t}},$m=function(t,r){return{x:t,y:r}},El=function(t,r){Hn(t,Hy(),{value:r})},X5=function(t,r){El(t,$m(rS(r),aS(r)))},Y5=function(t,r){El(t,$A(aS(r)))},IA=function(t,r){El(t,$m(DA(r),aS(r)))},zA=function(t,r){El(t,$m(Vy(r),aS(r)))},LA=function(t,r){El(t,ME(Vy(r)))},cS=function(t,r){El(t,$m(Vy(r),_A(r)))},J5=function(t,r){El(t,$m(Vy(r),oS(r)))},HA=function(t,r){El(t,$A(oS(r)))},Z5=function(t,r){El(t,$m(DA(r),oS(r)))},Q5=function(t,r){El(t,$m(rS(r),oS(r)))},eM=function(t,r){El(t,ME(rS(r)))},tM=function(t,r){El(t,$m(rS(r),_A(r)))},z1=function(t,r,o,c){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-c)},NE=function(t,r,o,c){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+c)},VA=function(t,r,o){return Math.max(r,Math.min(o,t))},gd=function(t,r,o,c,v){return v.fold(function(){var m=t-r,p=Math.round(m/c)*c;return VA(r+p,r-1,o+1)},function(m){var p=(t-m)%c,C=Math.round(p/c),S=Math.floor((t-m)/c),k=Math.floor((o-m)/c),D=Math.min(k,S+C),B=m+D*c;return Math.max(m,B)})},nM=function(t,r,o){return Math.min(o,Math.max(t,r))-r},kh=function(t){var r=t.min,o=t.max,c=t.range,v=t.value,m=t.step,p=t.snap,C=t.snapStart,S=t.rounded,k=t.hasMinEdge,D=t.hasMaxEdge,B=t.minBound,N=t.maxBound,j=t.screenRange,te=k?r-1:r,ne=D?o+1:o;if(v<B)return te;if(v>N)return ne;var be=nM(v,B,N),ae=VA(be/j*c+r,te,ne);return p&&ae>=r&&ae<=o?gd(ae,r,o,m,C):S?Math.round(ae):ae},FE=function(t){var r=t.min,o=t.max,c=t.range,v=t.value,m=t.hasMinEdge,p=t.hasMaxEdge,C=t.maxBound,S=t.maxOffset,k=t.centerMinEdge,D=t.centerMaxEdge;return v<r?m?0:k:v>o?p?C:D:(v-r)/c*S},Wy="top",UA="right",WA="bottom",$E="left",jA="width",rM="height",zc=function(t){return t.element.dom.getBoundingClientRect()},Ol=function(t,r){return t[r]},os=function(t){var r=zc(t);return Ol(r,$E)},qA=function(t){var r=zc(t);return Ol(r,UA)},lS=function(t){var r=zc(t);return Ol(r,Wy)},IE=function(t){var r=zc(t);return Ol(r,WA)},zE=function(t){var r=zc(t);return Ol(r,jA)},GA=function(t){var r=zc(t);return Ol(r,rM)},KA=function(t,r,o){return(t+r)/2-o},XA=function(t,r){var o=zc(t),c=zc(r),v=Ol(o,$E),m=Ol(o,UA),p=Ol(c,$E);return KA(v,m,p)},YA=function(t,r){var o=zc(t),c=zc(r),v=Ol(o,Wy),m=Ol(o,WA),p=Ol(c,Wy);return KA(v,m,p)},fS=function(t,r){Hn(t,Hy(),{value:r})},vS=function(t){return{x:t}},LE=function(t,r,o){var c={min:xh(r),max:xu(r),range:PE(r),value:o,step:I1(r),snap:uS(r),snapStart:BA(r),rounded:RA(r),hasMinEdge:PA(r),hasMaxEdge:MA(r),minBound:os(t),maxBound:qA(t),screenRange:zE(t)};return kh(c)},JA=function(t,r,o){var c=LE(t,r,o),v=vS(c);return fS(t,v),c},aM=function(t,r){var o=xh(r);fS(t,vS(o))},oM=function(t,r){var o=xu(r);fS(t,vS(o))},iM=function(t,r,o){var c=t>0?NE:z1,v=c(uv(o).x,xh(o),xu(o),I1(o));return fS(r,vS(v)),E.some(v)},HE=function(t){return function(r,o){return iM(t,r,o).map(Zt)}},dS=function(t){var r=RE(t);return r.map(function(o){return o.left})},uM=function(t,r,o,c,v){var m=0,p=zE(t),C=c.bind(function(D){return E.some(XA(D,t))}).getOr(m),S=v.bind(function(D){return E.some(XA(D,t))}).getOr(p),k={min:xh(r),max:xu(r),range:PE(r),value:o,hasMinEdge:PA(r),hasMaxEdge:MA(r),minBound:os(t),minOffset:m,maxBound:qA(t),maxOffset:p,centerMinEdge:C,centerMaxEdge:S};return FE(k)},L1=function(t,r,o,c,v,m){var p=uM(r,m,o,c,v);return os(r)-os(t)+p},H1=function(t,r,o,c){var v=uv(o),m=L1(t,c.getSpectrum(t),v.x,c.getLeftEdge(t),c.getRightEdge(t),o),p=Mu(r.element)/2;Ir(r.element,"left",m-p+"px")},ZA=HE(-1),QA=HE(1),eD=E.none,sM=E.none,cM={"top-left":E.none(),top:E.none(),"top-right":E.none(),right:E.some(LA),"bottom-right":E.none(),bottom:E.none(),"bottom-left":E.none(),left:E.some(eM)},mS=Object.freeze({__proto__:null,setValueFrom:JA,setToMin:aM,setToMax:oM,findValueOfOffset:LE,getValueFromEvent:dS,findPositionOfValue:L1,setPositionFromValue:H1,onLeft:ZA,onRight:QA,onUp:eD,onDown:sM,edgeActions:cM}),gS=function(t,r){Hn(t,Hy(),{value:r})},hS=function(t){return{y:t}},pS=function(t,r,o){var c={min:ac(r),max:Fm(r),range:iS(r),value:o,step:I1(r),snap:uS(r),snapStart:BA(r),rounded:RA(r),hasMinEdge:NA(r),hasMaxEdge:FA(r),minBound:lS(t),maxBound:IE(t),screenRange:GA(t)};return kh(c)},tD=function(t,r,o){var c=pS(t,r,o),v=hS(c);return gS(t,v),c},VE=function(t,r){var o=ac(r);gS(t,hS(o))},nD=function(t,r){var o=Fm(r);gS(t,hS(o))},is=function(t,r,o){var c=t>0?NE:z1,v=c(uv(o).y,ac(o),Fm(o),I1(o));return gS(r,hS(v)),E.some(v)},UE=function(t){return function(r,o){return is(t,r,o).map(Zt)}},lM=function(t){var r=RE(t);return r.map(function(o){return o.top})},fM=function(t,r,o,c,v){var m=0,p=GA(t),C=c.bind(function(D){return E.some(YA(D,t))}).getOr(m),S=v.bind(function(D){return E.some(YA(D,t))}).getOr(p),k={min:ac(r),max:Fm(r),range:iS(r),value:o,hasMinEdge:NA(r),hasMaxEdge:FA(r),minBound:lS(t),minOffset:m,maxBound:IE(t),maxOffset:p,centerMinEdge:C,centerMaxEdge:S};return FE(k)},bS=function(t,r,o,c,v,m){var p=fM(r,m,o,c,v);return lS(r)-lS(t)+p},vM=function(t,r,o,c){var v=uv(o),m=bS(t,c.getSpectrum(t),v.y,c.getTopEdge(t),c.getBottomEdge(t),o),p=bu(r.element)/2;Ir(r.element,"top",m-p+"px")},dM=E.none,mM=E.none,rD=UE(-1),sv=UE(1),WE={"top-left":E.none(),top:E.some(Y5),"top-right":E.none(),right:E.none(),"bottom-right":E.none(),bottom:E.some(HA),"bottom-left":E.none(),left:E.none()},aD=Object.freeze({__proto__:null,setValueFrom:tD,setToMin:VE,setToMax:nD,findValueOfOffset:pS,getValueFromEvent:lM,findPositionOfValue:bS,setPositionFromValue:vM,onLeft:dM,onRight:mM,onUp:rD,onDown:sv,edgeActions:WE}),Th=function(t,r){Hn(t,Hy(),{value:r})},V1=function(t,r){return{x:t,y:r}},gM=function(t,r,o){var c=LE(t,r,o.left),v=pS(t,r,o.top),m=V1(c,v);return Th(t,m),m},hM=function(t,r,o,c){var v=t>0?NE:z1,m=r?uv(c).x:v(uv(c).x,xh(c),xu(c),I1(c)),p=r?v(uv(c).y,ac(c),Fm(c),I1(c)):uv(c).y;return Th(o,V1(m,p)),E.some(m)},yS=function(t,r){return function(o,c){return hM(t,r,o,c).map(Zt)}},pM=function(t,r){var o=xh(r),c=ac(r);Th(t,V1(o,c))},bM=function(t,r){var o=xu(r),c=Fm(r);Th(t,V1(o,c))},jE=function(t){return RE(t)},yM=function(t,r,o,c){var v=uv(o),m=L1(t,c.getSpectrum(t),v.x,c.getLeftEdge(t),c.getRightEdge(t),o),p=bS(t,c.getSpectrum(t),v.y,c.getTopEdge(t),c.getBottomEdge(t),o),C=Mu(r.element)/2,S=bu(r.element)/2;Ir(r.element,"left",m-C+"px"),Ir(r.element,"top",p-S+"px")},oD=yS(-1,!1),wM=yS(1,!1),cv=yS(-1,!0),wS=yS(1,!0),CM={"top-left":E.some(X5),top:E.some(IA),"top-right":E.some(zA),right:E.some(cS),"bottom-right":E.some(J5),bottom:E.some(Z5),"bottom-left":E.some(Q5),left:E.some(tM)},SM=Object.freeze({__proto__:null,setValueFrom:gM,setToMin:pM,setToMax:bM,getValueFromEvent:jE,setPositionFromValue:yM,onLeft:oD,onRight:wM,onUp:cv,onDown:wS,edgeActions:CM}),iD=[Me("stepSize",1),Me("onChange",nt),Me("onChoose",nt),Me("onInit",nt),Me("onDragStart",nt),Me("onDragEnd",nt),Me("snapToGrid",!1),Me("rounded",!0),pa("snapStart"),Kt("model",mi("mode",{x:[Me("minX",0),Me("maxX",100),si("value",function(t){return nn(t.mode.minX)}),ve("getInitialValue"),ao("manager",mS)],y:[Me("minY",0),Me("maxY",100),si("value",function(t){return nn(t.mode.minY)}),ve("getInitialValue"),ao("manager",aD)],xy:[Me("minX",0),Me("maxX",100),Me("minY",0),Me("maxY",100),si("value",function(t){return nn({x:t.mode.minX,y:t.mode.minY})}),ve("getInitialValue"),ao("manager",SM)]})),Si("sliderBehaviours",[vr,wn]),si("mouseIsDown",function(){return nn(!1)})],uD=function(t,r,o,c){var v,m=function(Ue){return Nc(Ue,t,"thumb")},p=function(Ue){return Nc(Ue,t,"spectrum")},C=function(Ue){return qa(Ue,t,"left-edge")},S=function(Ue){return qa(Ue,t,"right-edge")},k=function(Ue){return qa(Ue,t,"top-edge")},D=function(Ue){return qa(Ue,t,"bottom-edge")},B=t.model,N=B.manager,j=function(Ue,et){N.setPositionFromValue(Ue,et,t,{getLeftEdge:C,getRightEdge:S,getTopEdge:k,getBottomEdge:D,getSpectrum:p})},te=function(Ue,et){B.value.set(et);var Ke=m(Ue);j(Ue,Ke)},ne=function(Ue,et){te(Ue,et);var Ke=m(Ue);return t.onChange(Ue,Ke,et),E.some(!0)},be=function(Ue){N.setToMin(Ue,t)},ae=function(Ue){N.setToMax(Ue,t)},Oe=function(Ue){var et=function(){qa(Ue,t,"thumb").each(function(Dt){var Wn=B.value.get();t.onChoose(Ue,Dt,Wn)})},Ke=t.mouseIsDown.get();t.mouseIsDown.set(!1),Ke&&et()},Re=function(Ue,et){et.stop(),t.mouseIsDown.set(!0),t.onDragStart(Ue,m(Ue))},tt=function(Ue,et){et.stop(),t.onDragEnd(Ue,m(Ue)),Oe(Ue)};return{uid:t.uid,dom:t.dom,components:r,behaviours:oi(t.sliderBehaviours,[vr.config({mode:"special",focusIn:function(Ue){return qa(Ue,t,"spectrum").map(vr.focusIn).map(Zt)}}),wn.config({store:{mode:"manual",getValue:function(Ue){return B.value.get()}}}),tu.config({channels:(v={},v[Zv()]={onReceive:Oe},v)})]),events:ba([Et(Hy(),function(Ue,et){ne(Ue,et.event.value)}),Oo(function(Ue,et){var Ke=B.getInitialValue();B.value.set(Ke);var Dt=m(Ue);j(Ue,Dt);var Wn=p(Ue);t.onInit(Ue,Dt,Wn,B.value.get())}),Et(Xr(),Re),Et(fo(),tt),Et(js(),Re),Et(rg(),tt)]),apis:{resetToMin:be,resetToMax:ae,setValue:te,refresh:j},domModification:{styles:{position:"relative"}}}},oc=Cu({name:"Slider",configFields:iD,partFields:AA,factory:uD,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),U1=function(t,r,o){return{hue:t,saturation:r,value:o}},Eh=function(t){var r=0,o=0,c=0,v=t.red/255,m=t.green/255,p=t.blue/255,C=Math.min(v,Math.min(m,p)),S=Math.max(v,Math.max(m,p));if(C===S)return c=C,U1(0,0,c*100);var k=v===C?m-p:p===C?v-m:p-v;return r=v===C?3:p===C?1:5,r=60*(r-k/(S-C)),o=(S-C)/S,c=S,U1(Math.round(r),Math.round(o*100),Math.round(c*100))},jy=function(t){return Eh(Py(t))},sD=function(t){return qC(p3(t))},qE=Qn("rgb-hex-update"),cD=Qn("slider-update"),lD=Qn("palette-update"),xM=function(t,r){var o=oc.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),c=oc.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return oc.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:re({y:0})},components:[o,c],sliderBehaviours:Lt([Ar.config({})]),onChange:function(v,m,p){Hn(v,cD,{value:p})}})},fD="form",kM=[Si("formBehaviours",[wn])],CS=function(t){return"<alloy.field."+t+">"},Oh=function(t){var r=function(){var m=[],p=function(C,S){return m.push(C),$0(fD,CS(C),S)};return{field:p,record:function(){return m}}}(),o=t(r),c=r.record(),v=Pe(c,function(m){return xi({name:m,pname:CS(m)})});return U0(fD,kM,v,vD,o)},TM=function(t,r){return t.fold(function(){return vn.error(r)},vn.value)},vD=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:oi(t.formBehaviours,[wn.config({store:{mode:"manual",getValue:function(o){var c=Kp(o,t);return Or(c,function(v,m){return v().bind(function(p){var C=da.getCurrent(p);return TM(C,new Error("Cannot find a current component to extract the value from for form part '"+m+"': "+_f(p.element)))}).map(wn.getValue)})},setValue:function(o,c){Rr(c,function(v,m){qa(o,t,m).each(function(p){da.getCurrent(p).each(function(C){wn.setValue(C,v)})})})}}})]),apis:{getField:function(o,c){return qa(o,t,c).bind(da.getCurrent)}}}},W1={getField:Ul(function(t,r,o){return t.getField(r,o)}),sketch:Oh},dD=Qn("valid-input"),mD=Qn("invalid-input"),gD=Qn("validating-input"),GE="colorcustom.rgb.",hD=function(t,r,o,c){var v=function(N,j){return sf.config({invalidClass:r("invalid"),notify:{onValidate:function(te){Hn(te,gD,{type:N})},onValid:function(te){Hn(te,dD,{type:N,value:wn.getValue(te)})},onInvalid:function(te){Hn(te,mD,{type:N,value:wn.getValue(te)})}},validator:{validate:function(te){var ne=wn.getValue(te),be=j(ne)?vn.value(!0):vn.error(t("aria.input.invalid"));return ru.pure(be)},validateOnLoad:!1}})},m=function(N,j,te,ne,be){var ae=t(GE+"range"),Oe=Ea.parts.label({dom:{tag:"label",innerHtml:te,attributes:{"aria-label":ne}}}),Re=Ea.parts.field({data:be,factory:Iy,inputAttributes:se({type:"text"},j==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:Lt([v(j,N),Yo.config({})]),onSetValue:function(Ke){if(sf.isInvalid(Ke)){var Dt=sf.run(Ke);Dt.get(nt)}}}),tt=[Oe,Re],Ue=j!=="hex"?[Ea.parts["aria-descriptor"]({text:ae})]:[],et=tt.concat(Ue);return{dom:{tag:"div",attributes:{role:"presentation"}},components:et}},p=function(N,j){var te=qC(j);return W1.getField(N,"hex").each(function(ne){Ar.isFocused(ne)||wn.setValue(N,{hex:te.value})}),te},C=function(N,j){var te=j.red,ne=j.green,be=j.blue;wn.setValue(N,{red:te,green:ne,blue:be})},S=Ca({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),k=function(N,j){S.getOpt(N).each(function(te){Ir(te.element,"background-color","#"+j.value)})},D=function(){var N={red:nn(E.some(255)),green:nn(E.some(255)),blue:nn(E.some(255)),hex:nn(E.some("ffffff"))},j=function(Tt,Mn){var yr=Py(Mn);C(Tt,yr),ae(yr)},te=function(Tt){return N[Tt].get()},ne=function(Tt,Mn){N[Tt].set(Mn)},be=function(){return te("red").bind(function(Tt){return te("green").bind(function(Mn){return te("blue").map(function(yr){return Rm(Tt,Mn,yr,1)})})})},ae=function(Tt){var Mn=Tt.red,yr=Tt.green,qt=Tt.blue;ne("red",E.some(Mn)),ne("green",E.some(yr)),ne("blue",E.some(qt))},Oe=function(Tt,Mn){var yr=Mn.event;yr.type!=="hex"?ne(yr.type,E.none()):c(Tt)},Re=function(Tt,Mn){o(Tt);var yr=v3(Mn);ne("hex",E.some(Mn));var qt=Py(yr);C(Tt,qt),ae(qt),Hn(Tt,qE,{hex:yr}),k(Tt,yr)},tt=function(Tt,Mn,yr){var qt=parseInt(yr,10);ne(Mn,E.some(qt)),be().each(function(er){var mr=p(Tt,er);Hn(Tt,qE,{hex:mr}),k(Tt,mr)})},Ue=function(Tt){return Tt.type==="hex"},et=function(Tt,Mn){var yr=Mn.event;Ue(yr)?Re(Tt,yr.value):tt(Tt,yr.type,yr.value)},Ke=function(Tt){return{label:t(GE+Tt+".label"),description:t(GE+Tt+".description")}},Dt=Ke("red"),Wn=Ke("green"),ln=Ke("blue"),vt=Ke("hex");return Hr(W1.sketch(function(Tt){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Tt.field("red",Ea.sketch(m(mE,"red",Dt.label,Dt.description,255))),Tt.field("green",Ea.sketch(m(mE,"green",Wn.label,Wn.description,255))),Tt.field("blue",Ea.sketch(m(mE,"blue",ln.label,ln.description,255))),Tt.field("hex",Ea.sketch(m(mP,"hex",vt.label,vt.description,"ffffff"))),S.asSpec()],formBehaviours:Lt([sf.config({invalidClass:r("form-invalid")}),Yr("rgb-form-events",[Et(dD,et),Et(mD,Oe),Et(gD,Oe)])])}}),{apis:{updateHex:function(Tt,Mn){wn.setValue(Tt,{hex:Mn.value}),j(Tt,Mn),k(Tt,Mn)}}})},B=Ls({factory:D,name:"RgbForm",configFields:[],apis:{updateHex:function(N,j,te){N.updateHex(j,te)}},extraApis:{}});return B},KE=function(t,r){var o=oc.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),c=oc.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),v=function(k,D){var B=k.width,N=k.height,j=k.getContext("2d");if(j!==null){j.fillStyle=D,j.fillRect(0,0,B,N);var te=j.createLinearGradient(0,0,B,0);te.addColorStop(0,"rgba(255,255,255,1)"),te.addColorStop(1,"rgba(255,255,255,0)"),j.fillStyle=te,j.fillRect(0,0,B,N);var ne=j.createLinearGradient(0,0,0,N);ne.addColorStop(0,"rgba(0,0,0,0)"),ne.addColorStop(1,"rgba(0,0,0,1)"),j.fillStyle=ne,j.fillRect(0,0,B,N)}},m=function(k,D){var B=k.components()[0].element.dom,N=U1(D,100,100),j=p3(N);v(B,y3(j))},p=function(k,D){var B=Eh(Py(D));oc.setValue(k,{x:B.saturation,y:100-B.value})},C=function(k){var D=re({x:0,y:0}),B=function(te,ne,be){Hn(te,lD,{value:be})},N=function(te,ne,be,ae){v(be.element.dom,y3(w3))},j=Lt([da.config({find:E.some}),Ar.config({})]);return oc.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:D},rounded:!1,components:[o,c],onChange:B,onInit:N,sliderBehaviours:j})},S=Ls({factory:C,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(k,D,B){m(D,B)},setThumb:function(k,D,B){p(D,B)}},extraApis:{}});return S},EM=function(t,r){var o=function(v){var m=hD(t,r,v.onValidHex,v.onInvalidHex),p=KE(t,r),C=function(et){return(100-et)/100*360},S=function(et){return 100-et/360*100},k={paletteRgba:nn(w3),paletteHue:nn(0)},D=Ca(xM(t,r)),B=Ca(p.sketch({})),N=Ca(m.sketch({})),j=function(et,Ke,Dt){B.getOpt(et).each(function(Wn){p.setHue(Wn,Dt)})},te=function(et,Ke){N.getOpt(et).each(function(Dt){m.updateHex(Dt,Ke)})},ne=function(et,Ke,Dt){D.getOpt(et).each(function(Wn){oc.setValue(Wn,{y:S(Dt)})})},be=function(et,Ke){B.getOpt(et).each(function(Dt){p.setThumb(Dt,Ke)})},ae=function(et,Ke){var Dt=Py(et);k.paletteRgba.set(Dt),k.paletteHue.set(Ke)},Oe=function(et,Ke,Dt,Wn){ae(Ke,Dt),Ct(Wn,function(ln){ln(et,Ke,Dt)})},Re=function(){var et=[te];return function(Ke,Dt){var Wn=Dt.event.value,ln=k.paletteHue.get(),vt=U1(ln,Wn.x,100-Wn.y),Tt=sD(vt);Oe(Ke,Tt,ln,et)}},tt=function(){var et=[j,te];return function(Ke,Dt){var Wn=C(Dt.event.value.y),ln=k.paletteRgba.get(),vt=Eh(ln),Tt=U1(Wn,vt.saturation,vt.value),Mn=sD(Tt);Oe(Ke,Mn,Wn,et)}},Ue=function(){var et=[j,ne,be];return function(Ke,Dt){var Wn=Dt.event.hex,ln=jy(Wn);Oe(Ke,Wn,ln.hue,et)}};return{uid:v.uid,dom:v.dom,components:[B.asSpec(),D.asSpec(),N.asSpec()],behaviours:Lt([Yr("colour-picker-events",[Et(qE,Ue()),Et(lD,Re()),Et(cD,tt())]),da.config({find:function(et){return N.getOpt(et)}}),vr.config({mode:"acyclic"})])}},c=Ls({name:"ColourPicker",configFields:[ve("dom"),Me("onValidHex",nt),Me("onInvalidHex",nt)],factory:o});return c},pD=function(){return da.config({find:E.some})},XE=function(t){return da.config({find:t.getOpt})},YE=function(t){return da.config({find:function(r){return gb(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},Al={self:pD,memento:XE,childAt:YE},OM={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},SS=function(t){return OM[t]},bD=function(t){return SS(t)},AM=function(t){var r=function(p){return"tox-"+p},o=EM(bD,r),c=function(p){Hn(p,iv,{name:"hex-valid",value:!0})},v=function(p){Hn(p,iv,{name:"hex-valid",value:!1})},m=Ca(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:c,onInvalidHex:v}));return{dom:{tag:"div"},components:[m.asSpec()],behaviours:Lt([wn.config({store:{mode:"manual",getValue:function(p){var C=m.get(p),S=da.getCurrent(C),k=S.bind(function(D){var B=wn.getValue(D);return B.hex});return k.map(function(D){return"#"+D}).getOr("")},setValue:function(p,C){var S=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,k=S.exec(C),D=m.get(p),B=da.getCurrent(D);B.fold(function(){console.log("Can not find form")},function(N){wn.setValue(N,{hex:E.from(k[1]).getOr("")}),W1.getField(N,"hex").each(function(j){va(j,Ad())})})}}}),Al.self()])}},DM=tinymce.util.Tools.resolve("tinymce.Resource"),_M=function(t){return Object.prototype.hasOwnProperty.call(t,"init")},BM=function(t){var r=nn(E.none()),o=Ca({dom:{tag:t.tag}}),c=nn(E.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Lt([Yr("custom-editor-events",[Oo(function(v){o.getOpt(v).each(function(m){(_M(t)?t.init(m.element.dom):DM.load(t.scriptId,t.scriptUrl).then(function(p){return p(m.element.dom,t.settings)})).then(function(p){c.get().each(function(C){p.setValue(C)}),c.set(E.none()),r.set(E.some(p))})})})]),wn.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return c.get().getOr("")},function(v){return v.getValue()})},setValue:function(v,m){r.get().fold(function(){c.set(E.some(m))},function(p){return p.setValue(m)})}}}),Al.self()]),components:[o.asSpec()]}},ii=tinymce.util.Tools.resolve("tinymce.util.Tools"),JE=Se([Me("preprocess",_t),Me("postprocess",_t)]),yD=function(t,r){var o=po("RepresentingConfigs.memento processors",JE,r);return wn.config({store:{mode:"manual",getValue:function(c){var v=t.get(c),m=wn.getValue(v);return o.postprocess(m)},setValue:function(c,v){var m=o.preprocess(v),p=t.get(c);wn.setValue(p,m)}}})},ZE=function(t,r,o){return wn.config(Hr({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(c){return{store:{initialValue:c}}}).getOr({})))},qy=function(t,r,o){return ZE(t,function(c){return r(c.element)},function(c,v){return o(c.element,v)})},wD=function(t){return qy(t,Mf,Eg)},xS=function(t){return qy(t,Cb,Af)},CD=function(t){return wn.config({store:{mode:"memory",initialValue:t}})},Im={memento:yD,withElement:qy,withComp:ZE,domValue:wD,domHtml:xS,memory:CD},RM="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",PM=function(t,r){var o=ii.explode(r.getSetting("images_file_types",RM,"string")),c=function(v){return Dn(o,function(m){return ou(v.name.toLowerCase(),"."+m.toLowerCase())})};return de(Wt(t),c)},MM=function(t,r){var o=function(B,N){N.stop()},c=function(B){return function(N,j){Ct(B,function(te){te(N,j)})}},v=function(B,N){if(!pr.isDisabled(B)){var j=N.event.raw;p(B,j.dataTransfer.files)}},m=function(B,N){var j=N.event.raw.target;p(B,j.files)},p=function(B,N){wn.setValue(B,PM(N,r)),Hn(B,rc,{name:t.name})},C=Ca({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Lt([Yr("input-file-events",[Ef(ug()),Ef(_d())])])}),S=function(B){return{uid:B.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Lt([Im.memory([]),Al.self(),pr.config({}),ze.config({toggleClass:"dragenter",toggleOnExecute:!1}),Yr("dropzone-events",[Et("dragenter",c([o,ze.toggle])),Et("dragleave",c([o,ze.toggle])),Et("dragover",o),Et("drop",c([o,v])),Et(ig(),m)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},Hu.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[C.asSpec()],action:function(N){var j=C.get(N);j.element.dom.click()},buttonBehaviours:Lt([Yo.config({}),xl.button(r.isDisabled),ki()])})]}]}},k=t.label.map(function(B){return Pm(B,r)}),D=Ea.parts.field({factory:{sketch:S}});return P1(k,D,["tox-form__group--stretched"],[])},NM=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:Pe(t.items,r.interpreter)}},kS=Qn("alloy-fake-before-tabstop"),TS=Qn("alloy-fake-after-tabstop"),SD=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Lt([Ar.config({ignore:!0}),Yo.config({})])}},xD=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[SD([kS]),t,SD([TS])],behaviours:Lt([Al.childAt(1)])}},kD=function(t,r){Hn(t,og(),{raw:{which:9,shiftKey:r}})},ES=function(t,r){var o=r.element;fi(o,kS)?kD(t,!0):fi(o,TS)&&kD(t,!1)},Gy=function(t){return B1(t,["."+kS,"."+TS].join(","),Gt)},FM=!(Mi().browser.isIE()||Mi().browser.isEdge()),TD=function(t){var r=nn("");return{getValue:function(o){return r.get()},setValue:function(o,c){if(t)ya(o.element,"srcdoc",c);else{ya(o.element,"src","javascript:''");var v=o.element.dom.contentWindow.document;v.open(),v.write(c),v.close()}r.set(c)}}},ED=function(t,r){var o=FM&&t.sandboxed,c=se(se({},t.label.map(function(S){return{title:S}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),v=TD(o),m=t.label.map(function(S){return Pm(S,r)}),p=function(S){return xD({uid:S.uid,dom:{tag:"iframe",attributes:c},behaviours:Lt([Yo.config({}),Ar.config({}),Im.withComp(E.none(),v.getValue,v.setValue)])})},C=Ea.parts.field({factory:{sketch:p}});return P1(m,C,["tox-form__group--stretched"],[])},j1=function(t,r){return IM(document.createElement("canvas"),t,r)},$M=function(t){var r=j1(t.width,t.height),o=Dl(r);return o.drawImage(t,0,0),r},Dl=function(t){return t.getContext("2d")},IM=function(t,r,o){return t.width=r,t.height=o,t},QE=function(t){return t.naturalWidth||t.width},eO=function(t){return t.naturalHeight||t.height},zM=function(){var t=function(B){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof B!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],D(B,c(p,this),c(C,this))},r=window,o=t.immediateFn||typeof r.setImmediate=="function"&&r.setImmediate||function(B){return setTimeout(B,1)},c=function(B,N){return function(){for(var j=[],te=0;te<arguments.length;te++)j[te]=arguments[te];return B.apply(N,j)}},v=Array.isArray||function(B){return Object.prototype.toString.call(B)==="[object Array]"};function m(B){var N=this;if(this._state===null){this._deferreds.push(B);return}o(function(){var j=N._state?B.onFulfilled:B.onRejected;if(j===null){(N._state?B.resolve:B.reject)(N._value);return}var te;try{te=j(N._value)}catch(ne){B.reject(ne);return}B.resolve(te)})}function p(B){try{if(B===this)throw new TypeError("A promise cannot be resolved with itself.");if(B&&(typeof B=="object"||typeof B=="function")){var N=B.then;if(typeof N=="function"){D(c(N,B),c(p,this),c(C,this));return}}this._state=!0,this._value=B,S.call(this)}catch(j){C.call(this,j)}}function C(B){this._state=!1,this._value=B,S.call(this)}function S(){for(var B=0,N=this._deferreds;B<N.length;B++){var j=N[B];m.call(this,j)}this._deferreds=[]}function k(B,N,j,te){this.onFulfilled=typeof B=="function"?B:null,this.onRejected=typeof N=="function"?N:null,this.resolve=j,this.reject=te}var D=function(B,N,j){var te=!1;try{B(function(ne){te||(te=!0,N(ne))},function(ne){te||(te=!0,j(ne))})}catch(ne){if(te)return;te=!0,j(ne)}};return t.prototype.catch=function(B){return this.then(null,B)},t.prototype.then=function(B,N){var j=this;return new t(function(te,ne){m.call(j,new k(B,N,te,ne))})},t.all=function(){for(var B=[],N=0;N<arguments.length;N++)B[N]=arguments[N];var j=Array.prototype.slice.call(B.length===1&&v(B[0])?B[0]:B);return new t(function(te,ne){if(j.length===0)return te([]);for(var be=j.length,ae=function(Re,tt){try{if(tt&&(typeof tt=="object"||typeof tt=="function")){var Ue=tt.then;if(typeof Ue=="function"){Ue.call(tt,function(et){ae(Re,et)},ne);return}}j[Re]=tt,--be===0&&te(j)}catch(et){ne(et)}},Oe=0;Oe<j.length;Oe++)ae(Oe,j[Oe])})},t.resolve=function(B){return B&&typeof B=="object"&&B.constructor===t?B:new t(function(N){N(B)})},t.reject=function(B){return new t(function(N,j){j(B)})},t.race=function(B){return new t(function(N,j){for(var te=0,ne=B;te<ne.length;te++){var be=ne[te];be.then(N,j)}})},t},lv=window.Promise?window.Promise:zM(),tO=function(t){return new lv(function(r,o){var c=URL.createObjectURL(t),v=new Image,m=function(){v.removeEventListener("load",p),v.removeEventListener("error",C)},p=function(){m(),r(v)},C=function(){m(),o("Unable to load data of type "+t.type+": "+c)};v.addEventListener("load",p),v.addEventListener("error",C),v.src=c,v.complete&&setTimeout(p,0)})},LM=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return E.none();for(var c=o[1],v=r[1],m=1024,p=atob(v),C=p.length,S=Math.ceil(C/m),k=new Array(S),D=0;D<S;++D){for(var B=D*m,N=Math.min(B+m,C),j=new Array(N-B),te=B,ne=0;te<N;++ne,++te)j[ne]=p[te].charCodeAt(0);k[D]=new Uint8Array(j)}return E.some(new Blob(k,{type:c}))},HM=function(t){return new lv(function(r,o){LM(t).fold(function(){o("uri is not base64: "+t)},r)})},Ky=function(t,r,o){return r=r||"image/png",ut(HTMLCanvasElement.prototype.toBlob)?new lv(function(c,v){t.toBlob(function(m){m?c(m):v()},r,o)}):HM(t.toDataURL(r,o))},VM=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},nO=function(t){return tO(t).then(function(r){UM(r);var o=j1(QE(r),eO(r)),c=Dl(o);return c.drawImage(r,0,0),o})},OD=function(t){return new lv(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},UM=function(t){URL.revokeObjectURL(t.src)},AD=function(t,r,o){var c=r.type,v=re(c),m=function(){return lv.resolve(r)},p=re(o),C=function(){return o.split(",")[1]},S=function(N,j){return t.then(function(te){return Ky(te,N,j)})},k=function(N,j){return t.then(function(te){return VM(te,N,j)})},D=function(N,j){return k(N,j).then(function(te){return te.split(",")[1]})},B=function(){return t.then($M)};return{getType:v,toBlob:m,toDataURL:p,toBase64:C,toAdjustedBlob:S,toAdjustedDataURL:k,toAdjustedBase64:D,toCanvas:B}},DD=function(t){return OD(t).then(function(r){return AD(nO(t),t,r)})},zm=function(t,r){return Ky(t,r).then(function(o){return AD(lv.resolve(t),o,t.toDataURL())})},WM=function(t){return DD(t)},q1=function(t,r,o){var c=typeof t=="string"?parseFloat(t):t;return c>o?c=o:c<r&&(c=r),c},rO=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},OS=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],AS=function(t,r){for(var o=[],c=new Array(25),v,m=0;m<5;m++){for(var p=0;p<5;p++)o[p]=r[p+m*5];for(var p=0;p<5;p++){v=0;for(var C=0;C<5;C++)v+=t[p+C*5]*o[C];c[p+m*5]=v}}return c},jM=function(t,r){var o;return r=q1(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=OS[r]:o=OS[Math.floor(r)]*(1-o)+OS[Math.floor(r)+1]*o,o=o*127+127),AS(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},qM=function(t,r){return r=q1(255*r,-255,255),AS(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},GM=function(t,r,o,c){return r=q1(r,0,2),o=q1(o,0,2),c=q1(c,0,2),AS(t,[r,0,0,0,0,0,o,0,0,0,0,0,c,0,0,0,0,0,1,0,0,0,0,0,1])},DS=function(t,r){return t.toCanvas().then(function(o){return KM(o,t.getType(),r)})},KM=function(t,r,o){var c=Dl(t),v=function(p,C){for(var S,k,D,B,N=p.data,j=C[0],te=C[1],ne=C[2],be=C[3],ae=C[4],Oe=C[5],Re=C[6],tt=C[7],Ue=C[8],et=C[9],Ke=C[10],Dt=C[11],Wn=C[12],ln=C[13],vt=C[14],Tt=C[15],Mn=C[16],yr=C[17],qt=C[18],er=C[19],mr=0;mr<N.length;mr+=4)S=N[mr],k=N[mr+1],D=N[mr+2],B=N[mr+3],N[mr]=S*j+k*te+D*ne+B*be+ae,N[mr+1]=S*Oe+k*Re+D*tt+B*Ue+et,N[mr+2]=S*Ke+k*Dt+D*Wn+B*ln+vt,N[mr+3]=S*Tt+k*Mn+D*yr+B*qt+er;return p},m=v(c.getImageData(0,0,t.width,t.height),o);return c.putImageData(m,0,0),zm(t,r)},_D=function(t,r){return t.toCanvas().then(function(o){return XM(o,t.getType(),r)})},XM=function(t,r,o){var c=Dl(t),v=function(C,S,k){for(var D=function(Mn,yr,qt){return Mn>qt?Mn=qt:Mn<yr&&(Mn=yr),Mn},B=Math.round(Math.sqrt(k.length)),N=Math.floor(B/2),j=C.data,te=S.data,ne=C.width,be=C.height,ae=0;ae<be;ae++)for(var Oe=0;Oe<ne;Oe++){for(var Re=0,tt=0,Ue=0,et=0;et<B;et++)for(var Ke=0;Ke<B;Ke++){var Dt=D(Oe+Ke-N,0,ne-1),Wn=D(ae+et-N,0,be-1),ln=(Wn*ne+Dt)*4,vt=k[et*B+Ke];Re+=j[ln]*vt,tt+=j[ln+1]*vt,Ue+=j[ln+2]*vt}var Tt=(ae*ne+Oe)*4;te[Tt]=D(Re,0,255),te[Tt+1]=D(tt,0,255),te[Tt+2]=D(Ue,0,255)}return S},m=c.getImageData(0,0,t.width,t.height),p=c.getImageData(0,0,t.width,t.height);return p=v(m,p,o),c.putImageData(p,0,0),zm(t,r)},YM=function(t){var r=function(o,c,v){for(var m=Dl(o),p=new Array(256),C=function(D,B){for(var N=D.data,j=0;j<N.length;j+=4)N[j]=B[N[j]],N[j+1]=B[N[j+1]],N[j+2]=B[N[j+2]];return D},S=0;S<p.length;S++)p[S]=t(S,v);var k=C(m.getImageData(0,0,o.width,o.height),p);return m.putImageData(k,0,0),zm(o,c)};return function(o,c){return o.toCanvas().then(function(v){return r(v,o.getType(),c)})}},_S=function(t){return function(r,o){return DS(r,t(rO(),o))}},JM=function(t){return function(r){return DS(r,t)}},ZM=function(t){return function(r){return _D(r,t)}},QM=JM([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),eN=_S(qM),tN=_S(jM),nN=function(t,r,o,c){return DS(t,GM(rO(),r,o,c))},rN=ZM([0,-1,0,-1,5,-1,0,-1,0]),BD=YM(function(t,r){return Math.pow(t/255,1-r)*255}),RD=function(t,r,o){var c=QE(t),v=eO(t),m=r/c,p=o/v,C=!1;(m<.5||m>2)&&(m=m<.5?.5:2,C=!0),(p<.5||p>2)&&(p=p<.5?.5:2,C=!0);var S=aN(t,m,p);return C?S.then(function(k){return RD(k,r,o)}):S},aN=function(t,r,o){return new lv(function(c){var v=QE(t),m=eO(t),p=Math.floor(v*r),C=Math.floor(m*o),S=j1(p,C),k=Dl(S);k.drawImage(t,0,0,v,m,0,0,p,C),c(S)})},aO=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),c=Math.round(t*o);return Math.ceil(c/o)},oN=function(t,r){return t.toCanvas().then(function(o){return iN(o,t.getType(),r)})},iN=function(t,r,o){var c=o<0?360+o:o,v=c*Math.PI/180,m=t.width,p=t.height,C=Math.sin(v),S=Math.cos(v),k=aO(Math.abs(m*S)+Math.abs(p*C)),D=aO(Math.abs(m*C)+Math.abs(p*S)),B=j1(k,D),N=Dl(B);return N.translate(k/2,D/2),N.rotate(v),N.drawImage(t,-m/2,-p/2),zm(B,r)},uN=function(t,r){return t.toCanvas().then(function(o){return PD(o,t.getType(),r)})},PD=function(t,r,o){var c=j1(t.width,t.height),v=Dl(c);return o==="v"?(v.scale(1,-1),v.drawImage(t,0,-c.height)):(v.scale(-1,1),v.drawImage(t,-c.width,0)),zm(c,r)},sN=function(t,r,o,c,v){return t.toCanvas().then(function(m){return cN(m,t.getType(),r,o,c,v)})},cN=function(t,r,o,c,v,m){var p=j1(v,m),C=Dl(p);return C.drawImage(t,-o,-c),zm(p,r)},MD=function(t,r,o){return t.toCanvas().then(function(c){return RD(c,r,o).then(function(v){return zm(v,t.getType())})})},ND=function(t){return QM(t)},FD=function(t){return rN(t)},lN=function(t,r){return BD(t,r)},$D=function(t,r,o,c){return nN(t,r,o,c)},ID=function(t,r){return eN(t,r)},fN=function(t,r){return tN(t,r)},zD=function(t,r){return uN(t,r)},vN=function(t,r,o,c,v){return sN(t,r,o,c,v)},dN=function(t,r,o){return MD(t,r,o)},LD=function(t,r){return oN(t,r)},HD=function(t,r){return se({dom:{tag:"span",innerHtml:t,classes:["tox-icon","tox-tbtn__icon-wrap"]}},r)},Xy=function(t,r){return HD(Vu(t,r),{})},VD=function(t,r){return HD(Vu(t,r),{behaviours:Lt([Fr.config({})])})},oO=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:Lt([Fr.config({})])}},iO,la=Qn("toolbar.button.execute"),G1=function(t){return Zc(function(r,o){WC(t,r)(function(c){Hn(r,la,{buttonApi:c}),t.onAction(c)})})},uO=(iO={},iO[Du()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],iO),Ah=Qn("update-menu-text"),sO=Qn("update-menu-icon"),cO=function(t,r,o){var c=nn(nt),v=t.text.map(function(D){return Ca(oO(D,r,o.providers))}),m=t.icon.map(function(D){return Ca(VD(D,o.providers.icons))}),p=function(D,B){var N=wn.getValue(D);return Ar.focus(N),Hn(N,"keydown",{raw:B.event.raw}),Tl.close(N),E.some(!0)},C=t.role.fold(function(){return{}},function(D){return{role:D}}),S=t.tooltip.fold(function(){return{}},function(D){var B=o.providers.translate(D);return{title:B,"aria-label":B}}),k=Ca(Tl.sketch(se(se(se({},t.uid?{uid:t.uid}:{}),C),{dom:{tag:"button",classes:[r,r+"--select"].concat(Pe(t.classes,function(D){return r+"--"+D})),attributes:se({},S)},components:A1([m.map(function(D){return D.asSpec()}),v.map(function(D){return D.asSpec()}),E.some({dom:{tag:"div",classes:[r+"__select-chevron"],innerHtml:Vu("chevron-down",o.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Lt(qe(t.dropdownBehaviours,[xl.button(function(){return t.disabled||o.providers.isDisabled()}),ki(),zy.config({}),Fr.config({}),Yr("dropdown-events",[Dy(t,c),_y(t,c)]),Yr("menubutton-update-display-text",[Et(Ah,function(D,B){v.bind(function(N){return N.getOpt(D)}).each(function(N){Fr.set(N,[Ff(o.providers.translate(B.event.text))])})}),Et(sO,function(D,B){m.bind(function(N){return N.getOpt(D)}).each(function(N){Fr.set(N,[VD(B.event.icon,o.providers.icons)])})})])])),eventOrder:Hr(uO,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Lt([vr.config({mode:"special",onLeft:p,onRight:p})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:PC(!1,t.columns,t.presets)},fetch:function(D){return ru.nu(ar(t.fetch,D))}})));return k.asSpec()},mN=function(t){return pn(t)},lO=function(t){return t.type==="separator"},UD=function(t){return Oa(t,"getSubmenuItems")},gN={type:"separator"},hN=function(t,r){var o=Be(t,function(c,v){return mN(v)?v===""?c:v==="|"?c.length>0&&!lO(c[c.length-1])?c.concat([gN]):c:Oa(r,v.toLowerCase())?c.concat([r[v.toLowerCase()]]):c:c.concat([v])},[]);return o.length>0&&lO(o[o.length-1])&&o.pop(),o},pN=function(t,r){var o=t.getSubmenuItems(),c=WD(o,r),v=Hr(c.menus,fn(t.value,c.items)),m=Hr(c.expansions,fn(t.value,t.value));return{item:t,menus:v,expansions:m}},bN=function(t,r){return UD(t)?pN(t,r):{item:t,menus:{},expansions:{}}},yN=function(t){if(lO(t))return t;var r=Pn(t,"value").getOrThunk(function(){return Qn("generated-menu-item")});return Hr({value:r},t)},WD=function(t,r){var o=hN(pn(t)?t.split(" "):t,r);return We(o,function(c,v){var m=yN(v),p=bN(m,r);return{menus:Hr(c.menus,p.menus),items:[p.item].concat(c.items),expansions:Hr(c.expansions,p.expansions)}},{menus:{},expansions:{},items:[]})},K1=function(t,r,o,c){var v=Qn("primary-menu"),m=WD(t,o.shared.providers.menuItems());if(m.items.length===0)return E.none();var p=CE(v,m.items,r,o,c),C=Or(m.menus,function(k,D){return CE(D,k,r,o,!1)}),S=Hr(C,fn(v,p));return E.from(fh.tieredData(v,S,m.expansions))},wN=function(t){return{isDisabled:function(){return pr.isDisabled(t)},setDisabled:function(r){return pr.set(t,r)},setActive:function(r){var o=t.element;r?(ja(o,"tox-tbtn--enabled"),ya(o,"aria-pressed",!0)):(vo(o,"tox-tbtn--enabled"),Ju(o,"aria-pressed"))},isActive:function(){return fi(t.element,"tox-tbtn--enabled")}}},fO=function(t,r,o,c){return cO({text:t.text,icon:t.icon,tooltip:t.tooltip,role:c,fetch:function(v,m){t.fetch(function(p){m(K1(p,of.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:wN,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Yo.config({})]},r,o.shared)},CN=function(t,r,o){var c=function(m){return function(p){var C=!p.isActive();p.setActive(C),m.storage.set(C),o.shared.getSink().each(function(S){r().getOpt(S).each(function(k){Is(k.element),Hn(k,iv,{name:m.name,value:m.storage.get()})})})}},v=function(m){return function(p){p.setActive(m.storage.get())}};return function(m){m(Pe(t,function(p){var C=p.text.fold(function(){return{}},function(S){return{text:S}});return se(se({type:p.type,active:!1},C),{onAction:c(p),onSetup:v(p)})}))}},jD=function(t,r,o,c,v,m){o===void 0&&(o=[]);var p=r.fold(function(){return{}},function(k){return{action:k}}),C=se({buttonBehaviours:Lt([xl.button(function(){return t.disabled||m.isDisabled()}),ki(),Yo.config({}),Yr("button press",[vb("click"),vb("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},p),S=Hr(C,{dom:c});return Hr(S,{components:v})},vO=function(t,r,o,c){c===void 0&&(c=[]);var v=t.tooltip.map(function(S){return{"aria-label":o.translate(S),title:o.translate(S)}}).getOr({}),m={tag:"button",classes:["tox-tbtn"],attributes:v},p=t.icon.map(function(S){return Xy(S,o.icons)}),C=A1([p]);return jD(t,r,c,m,C,o)},qD=function(t,r,o,c){c===void 0&&(c=[]);var v=vO(t,E.some(r),o,c);return Hu.sketch(v)},GD=function(t,r,o,c,v){c===void 0&&(c=[]),v===void 0&&(v=[]);var m=o.translate(t.text),p=t.icon?t.icon.map(function(B){return Xy(B,o.icons)}):E.none(),C=p.isSome()?A1([p]):[],S=p.isSome()?{}:{innerHtml:m},k=qe(!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],p.isSome()?["tox-button--icon"]:[],t.borderless?["tox-button--naked"]:[],v),D=se(se({tag:"button",classes:k},S),{attributes:{title:m}});return jD(t,r,c,D,C,o)},dO=function(t,r,o,c,v){c===void 0&&(c=[]),v===void 0&&(v=[]);var m=GD(t,E.some(r),o,c,v);return Hu.sketch(m)},KD=function(t,r){return function(o){r==="custom"?Hn(o,iv,{name:t,value:{}}):r==="submit"?va(o,$y):r==="cancel"?va(o,uf):console.error("Unknown button type: ",r)}},SN=function(t,r){return r==="menu"},xN=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},Yy=function(t,r,o){if(SN(t,r)){var c=function(){return p},v=t,m=se(se({},t),{onSetup:function(k){return k.setDisabled(t.disabled),nt},fetch:CN(v.items,c,o)}),p=Ca(fO(m,"tox-tbtn",o,E.none()));return p.asSpec()}else if(xN(t,r)){var C=KD(t.name,r),S=se(se({},t),{borderless:!1});return dO(S,C,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},kN=function(t,r){var o=KD(t.name,"custom");return b5(E.none(),Ea.parts.field(se({factory:Hu},GD(t,E.some(o),r,[Im.memory(""),Al.self()]))))},XD=re([Me("field1Name","field1"),Me("field2Name","field2"),No("onLockedChange"),ol(["lockClass"]),Me("locked",!1),ts.field("coupledFieldBehaviours",[da,wn])]),TN=function(t,r,o){return qa(t,r,o).bind(da.getCurrent)},mO=function(t,r){return xi({factory:Ea,name:t,overrides:function(o){return{fieldBehaviours:Lt([Yr("coupled-input-behaviour",[Et(Ad(),function(c){TN(c,o,r).each(function(v){qa(c,o,"lock").each(function(m){ze.isOn(m)&&o.onLockedChange(c,v,m)})})})])])}}})},YD=re([mO("field1","field2"),mO("field2","field1"),xi({factory:Hu,schema:[ve("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Lt([ze.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),JD=function(t,r,o,c){return{uid:t.uid,dom:t.dom,components:r,behaviours:ts.augment(t.coupledFieldBehaviours,[da.config({find:E.some}),wn.config({store:{mode:"manual",getValue:function(v){var m,p=hm(v,t,["field1","field2"]);return m={},m[t.field1Name]=wn.getValue(p.field1()),m[t.field2Name]=wn.getValue(p.field2()),m},setValue:function(v,m){var p=hm(v,t,["field1","field2"]);La(m,t.field1Name)&&wn.setValue(p.field1(),m[t.field1Name]),La(m,t.field2Name)&&wn.setValue(p.field2(),m[t.field2Name])}}})]),apis:{getField1:function(v){return qa(v,t,"field1")},getField2:function(v){return qa(v,t,"field2")},getLock:function(v){return qa(v,t,"lock")}}}},ic=Cu({name:"FormCoupledInputs",configFields:XD(),partFields:YD(),factory:JD,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),EN=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(v){return v in r?r[v]:1},c=t.value.toFixed(o(t.unit));return c.indexOf(".")!==-1&&(c=c.replace(/\.?0*$/,"")),c+t.unit},gO=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var c=parseFloat(o[1]),v=o[2];return vn.value({value:c,unit:v})}else return vn.error(t)},ZD=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},c=function(v){return Object.prototype.hasOwnProperty.call(o,v)};return t.unit===r?E.some(t.value):c(t.unit)&&c(r)?o[t.unit]===o[r]?E.some(t.value):E.some(t.value/o[t.unit]*o[r]):E.none()},hO=function(t){return E.none()},ON=function(t,r){return function(o){return ZD(o,r).map(function(c){return{value:c*t,unit:r}})}},Jy=function(t,r){var o=gO(t).toOptional(),c=gO(r).toOptional();return j0(o,c,function(v,m){return ZD(v,m.unit).map(function(p){return m.value/p}).map(function(p){return ON(p,m.unit)}).getOr(hO)}).getOr(hO)},QD=function(t,r){var o=hO,c=Qn("ratio-event"),v=ic.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:Vu("lock",r.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:Vu("unlock",r.icons)}}],buttonBehaviours:Lt([pr.config({disabled:function(){return t.disabled||r.isDisabled()}}),ki(),Yo.config({})])}),m=function(D){return{dom:{tag:"div",classes:["tox-form__group"]},components:D}},p=function(D){return Ea.parts.field({factory:Iy,inputClasses:["tox-textfield"],inputBehaviours:Lt([pr.config({disabled:function(){return t.disabled||r.isDisabled()}}),ki(),Yo.config({}),Yr("size-input-events",[Et(Fl(),function(B,N){Hn(B,c,{isField1:D})}),Et(ig(),function(B,N){Hn(B,rc,{name:t.name})})])]),selectOnFocus:!1})},C=function(D){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(D)}}},S=ic.parts.field1(m([Ea.parts.label(C("Width")),p(!0)])),k=ic.parts.field2(m([Ea.parts.label(C("Height")),p(!1)]));return ic.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[S,k,m([C("&nbsp;"),v])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(D,B,N){gO(wn.getValue(D)).each(function(j){o(j).each(function(te){wn.setValue(B,EN(te))})})},coupledFieldBehaviours:Lt([pr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(D){ic.getField1(D).bind(Ea.getField).each(pr.disable),ic.getField2(D).bind(Ea.getField).each(pr.disable),ic.getLock(D).each(pr.disable)},onEnabled:function(D){ic.getField1(D).bind(Ea.getField).each(pr.enable),ic.getField2(D).bind(Ea.getField).each(pr.enable),ic.getLock(D).each(pr.enable)}}),ki(),Yr("size-input-events2",[Et(c,function(D,B){var N=B.event.isField1,j=N?ic.getField1(D):ic.getField2(D),te=N?ic.getField2(D):ic.getField1(D),ne=j.map(wn.getValue).getOr(""),be=te.map(wn.getValue).getOr("");o=Jy(ne,be)})])])})},pO=re(Qn("undo")),AN=re(Qn("redo")),DN=re(Qn("zoom")),_N=re(Qn("back")),BN=re(Qn("apply")),e_=re(Qn("swap")),t_=re(Qn("transform")),RN=re(Qn("temp-transform")),BS=re(Qn("transform-apply")),qi={undo:pO,redo:AN,zoom:DN,back:_N,apply:BN,swap:e_,transform:t_,tempTransform:RN,transformApply:BS},PN=re("save-state"),MN=re("disable"),NN=re("enable"),ks={formActionEvent:iv,saveState:PN,disable:MN,enable:NN},bO=function(t,r){var o=function(Rn,ta,Ga,Zo){return Ca(dO({name:Rn,text:Rn,disabled:Ga,primary:Zo,icon:E.none(),borderless:!1},ta,r))},c=function(Rn,ta,Ga,Zo){return Ca(qD({name:Rn,icon:E.some(Rn),tooltip:E.some(ta),disabled:Zo,primary:!1,borderless:!1},Ga,r))},v=function(Rn,ta){Rn.map(function(Ga){var Zo=Ga.get(ta);Zo.hasConfigured(pr)&&pr.disable(Zo)})},m=function(Rn,ta){Rn.map(function(Ga){var Zo=Ga.get(ta);Zo.hasConfigured(pr)&&pr.enable(Zo)})},p={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},C=nt,S=function(Rn,ta,Ga){Hn(Rn,ta,Ga)},k=function(Rn){return va(Rn,ks.disable())},D=function(Rn){return va(Rn,ks.enable())},B=function(Rn,ta){k(Rn),S(Rn,qi.transform(),{transform:ta}),D(Rn)},N=function(Rn,ta){k(Rn),S(Rn,qi.tempTransform(),{transform:ta}),D(Rn)},j=function(Rn){return function(){ux.getOpt(Rn).each(function(ta){Fr.set(ta,[ix])})}},te=function(Rn,ta){k(Rn),S(Rn,qi.transformApply(),{transform:ta,swap:j(Rn)}),D(Rn)},ne=function(){return o("Back",function(Rn){return S(Rn,qi.back(),{swap:j(Rn)})},!1,!1)},be=function(){return Ca({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Lt([pr.config({})])})},ae=function(){return o("Apply",function(Rn){return S(Rn,qi.apply(),{swap:j(Rn)})},!0,!0)},Oe=function(){return function(Rn){var ta=t.getRect();return vN(Rn,ta.x,ta.y,ta.w,ta.h)}},Re=[ne(),be(),o("Apply",function(Rn){var ta=Oe();te(Rn,ta),t.hideCrop()},!1,!0)],tt=Su.sketch({dom:p,components:Re.map(function(Rn){return Rn.asSpec()}),containerBehaviours:Lt([Yr("image-tools-crop-buttons-events",[Et(ks.disable(),function(Rn,ta){v(Re,Rn)}),Et(ks.enable(),function(Rn,ta){m(Re,Rn)})])])}),Ue=Ca(QD({name:"size",label:E.none(),constrain:!0,disabled:!1},r)),et=function(Rn,ta){return function(Ga){return dN(Ga,Rn,ta)}},Ke=[ne(),be(),Ue,be(),o("Apply",function(Rn){Ue.getOpt(Rn).each(function(ta){var Ga=wn.getValue(ta),Zo=parseInt(Ga.width,10),fc=parseInt(Ga.height,10),vc=et(Zo,fc);te(Rn,vc)})},!1,!0)],Dt=Su.sketch({dom:p,components:Ke.map(function(Rn){return Rn.asSpec()}),containerBehaviours:Lt([Yr("image-tools-resize-buttons-events",[Et(ks.disable(),function(Rn,ta){v(Ke,Rn)}),Et(ks.enable(),function(Rn,ta){m(Ke,Rn)})])])}),Wn=function(Rn,ta){return function(Ga){return Rn(Ga,ta)}},ln=Wn(zD,"h"),vt=Wn(zD,"v"),Tt=Wn(LD,-90),Mn=Wn(LD,90),yr=function(Rn,ta){N(Rn,ta)},qt=[ne(),be(),c("flip-horizontally","Flip horizontally",function(Rn){yr(Rn,ln)},!1),c("flip-vertically","Flip vertically",function(Rn){yr(Rn,vt)},!1),c("rotate-left","Rotate counterclockwise",function(Rn){yr(Rn,Tt)},!1),c("rotate-right","Rotate clockwise",function(Rn){yr(Rn,Mn)},!1),be(),ae()],er=Su.sketch({dom:p,components:qt.map(function(Rn){return Rn.asSpec()}),containerBehaviours:Lt([Yr("image-tools-fliprotate-buttons-events",[Et(ks.disable(),function(Rn,ta){v(qt,Rn)}),Et(ks.enable(),function(Rn,ta){m(qt,Rn)})])])}),mr=function(Rn,ta,Ga,Zo,fc){var vc=oc.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(Rn)}}),mf=oc.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),sx=oc.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Ca(oc.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Ga,maxX:fc,getInitialValue:re({x:Zo})},components:[vc,mf,sx],sliderBehaviours:Lt([Ar.config({})]),onChoose:ta}))},ma=function(Rn,ta,Ga,Zo,fc){var vc=function(mf,sx,UI){var WI=Wn(ta,UI.x/100);B(mf,WI)};return mr(Rn,vc,Ga,Zo,fc)},Ya=function(Rn,ta,Ga,Zo,fc){return[ne(),ma(Rn,ta,Ga,Zo,fc),ae()]},Uo=function(Rn,ta,Ga,Zo,fc){var vc=Ya(Rn,ta,Ga,Zo,fc);return Su.sketch({dom:p,components:vc.map(function(mf){return mf.asSpec()}),containerBehaviours:Lt([Yr("image-tools-filter-panel-buttons-events",[Et(ks.disable(),function(mf,sx){v(vc,mf)}),Et(ks.enable(),function(mf,sx){m(vc,mf)})])])})},df=[ne(),be(),ae()],Bl=Su.sketch({dom:p,components:df.map(function(Rn){return Rn.asSpec()})}),NI=Uo("Brightness",ID,-100,0,100),FI=Uo("Contrast",fN,-100,0,100),EB=Uo("Gamma",lN,-100,0,100),$I=function(Rn,ta,Ga){return function(Zo){return $D(Zo,Rn,ta,Ga)}},qO=function(Rn){var ta=function(Ga,Zo,fc){var vc=OB.getOpt(Ga),mf=AB.getOpt(Ga),sx=GO.getOpt(Ga);vc.each(function(UI){mf.each(function(WI){sx.each(function(pV){var bV=wn.getValue(UI).x/100,yV=wn.getValue(pV).x/100,wV=wn.getValue(WI).x/100,CV=$I(bV,yV,wV);B(Ga,CV)})})})};return mr(Rn,ta,0,100,200)},OB=qO("R"),GO=qO("G"),AB=qO("B"),mv=[ne(),OB,GO,AB,ae()],KO=Su.sketch({dom:p,components:mv.map(function(Rn){return Rn.asSpec()})}),lc=function(Rn,ta,Ga){return function(Zo){var fc=function(){ux.getOpt(Zo).each(function(vc){Fr.set(vc,[Rn]),Ga(vc)})};S(Zo,qi.swap(),{transform:ta,swap:fc})}},II=function(Rn){t.showCrop()},zI=function(Rn){Ue.getOpt(Rn).each(function(ta){var Ga=t.getMeasurements(),Zo=Ga.width,fc=Ga.height;wn.setValue(ta,{width:Zo,height:fc})})},LI=E.some(FD),Wu=E.some(ND),rb=[c("crop","Crop",lc(tt,E.none(),II),!1),c("resize","Resize",lc(Dt,E.none(),zI),!1),c("orientation","Orientation",lc(er,E.none(),C),!1),c("brightness","Brightness",lc(NI,E.none(),C),!1),c("sharpen","Sharpen",lc(Bl,LI,C),!1),c("contrast","Contrast",lc(FI,E.none(),C),!1),c("color-levels","Color levels",lc(KO,E.none(),C),!1),c("gamma","Gamma",lc(EB,E.none(),C),!1),c("invert","Invert",lc(Bl,Wu,C),!1)],ix=Su.sketch({dom:p,components:rb.map(function(Rn){return Rn.asSpec()})}),HI=Su.sketch({dom:{tag:"div"},components:[ix],containerBehaviours:Lt([Fr.config({})])}),ux=Ca(HI),VI=function(Rn){return ux.getOpt(Rn).map(function(ta){var Ga=ta.components()[0];return Ga.components()[Ga.components().length-1]})};return{memContainer:ux,getApplyButton:VI}},RS=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Ts=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),FN=tinymce.util.Tools.resolve("tinymce.util.Observable"),Lm=tinymce.util.Tools.resolve("tinymce.util.VK"),$N=function(t){var r=Math.max,o=t.documentElement,c=t.body,v=r(o.scrollWidth,c.scrollWidth),m=r(o.clientWidth,c.clientWidth),p=r(o.offsetWidth,c.offsetWidth),C=r(o.scrollHeight,c.scrollHeight),S=r(o.clientHeight,c.clientHeight),k=r(o.offsetHeight,c.offsetHeight);return{width:v<p?m:v,height:C<k?S:C}},yO=function(t){var r,o;if(t.changedTouches)for(r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function n_(t,r){var o,c=r.document||document,v,m,p,C=c.getElementById(r.handle||t),S=function(N){var j=$N(c),te;yO(N),N.preventDefault(),v=N.button;var ne=C;m=N.screenX,p=N.screenY,window.getComputedStyle?te=window.getComputedStyle(ne,null).getPropertyValue("cursor"):te=ne.runtimeStyle.cursor,o=Ts("<div></div>").css({position:"absolute",top:0,left:0,width:j.width,height:j.height,zIndex:2147483647,opacity:1e-4,cursor:te}).appendTo(c.body),Ts(c).on("mousemove touchmove",k).on("mouseup touchend",D),r.start(N)},k=function(N){if(yO(N),N.button!==v)return D(N);N.deltaX=N.screenX-m,N.deltaY=N.screenY-p,N.preventDefault(),r.drag(N)},D=function(N){yO(N),Ts(c).off("mousemove touchmove",k).off("mouseup touchend",D),o.remove(),r.stop&&r.stop(N)},B=function(){Ts(C).off()};return Ts(C).on("mousedown touchstart",S),{destroy:B}}var IN=0,Zy=function(t,r,o,c,v){var m,p="tox-",C=p+"crid-"+IN++,S=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],k=["top","right","bottom","left"],D=function(Ke,Dt){return{x:Dt.x+Ke.x,y:Dt.y+Ke.y,w:Dt.w,h:Dt.h}},B=function(Ke,Dt){return{x:Dt.x-Ke.x,y:Dt.y-Ke.y,w:Dt.w,h:Dt.h}},N=function(){return B(o,t)},j=function(Ke,Dt,Wn,ln){var vt,Tt,Mn,yr,qt;vt=Dt.x,Tt=Dt.y,Mn=Dt.w,yr=Dt.h,vt+=Wn*Ke.deltaX,Tt+=ln*Ke.deltaY,Mn+=Wn*Ke.deltaW,yr+=ln*Ke.deltaH,Mn<20&&(Mn=20),yr<20&&(yr=20),qt=t=RS.clamp({x:vt,y:Tt,w:Mn,h:yr},o,Ke.name==="move"),qt=B(o,qt),et.fire("updateRect",{rect:qt}),Re(qt)},te=function(){var Ke=function(Dt){var Wn;return n_(C,{document:c.ownerDocument,handle:C+"-"+Dt.name,start:function(){Wn=t},drag:function(ln){j(Dt,Wn,ln.deltaX,ln.deltaY)}})};Ts('<div id="'+C+'" class="'+p+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(c),ii.each(k,function(Dt){Ts("#"+C,c).append('<div id="'+C+"-"+Dt+'"class="'+p+'croprect-block" style="display: none" data-mce-bogus="all">')}),ii.each(S,function(Dt){Ts("#"+C,c).append('<div id="'+C+"-"+Dt.name+'" class="'+p+"croprect-handle "+p+"croprect-handle-"+Dt.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+Dt.label+'" aria-grabbed="false" title="'+Dt.label+'">')}),m=ii.map(S,Ke),be(t),Ts(c).on("focusin focusout",function(Dt){Ts(Dt.target).attr("aria-grabbed",Dt.type==="focus"?"true":"false")}),Ts(c).on("keydown",function(Dt){var Wn;ii.each(S,function(vt){if(Dt.target.id===C+"-"+vt.name)return Wn=vt,!1});var ln=function(vt,Tt,Mn,yr,qt){vt.stopPropagation(),vt.preventDefault(),j(Wn,Mn,yr,qt)};switch(Dt.keyCode){case Lm.LEFT:ln(Dt,Wn,t,-10,0);break;case Lm.RIGHT:ln(Dt,Wn,t,10,0);break;case Lm.UP:ln(Dt,Wn,t,0,-10);break;case Lm.DOWN:ln(Dt,Wn,t,0,10);break;case Lm.ENTER:case Lm.SPACEBAR:Dt.preventDefault(),v();break}})},ne=function(Ke){var Dt=ii.map(S,function(Wn){return"#"+C+"-"+Wn.name}).concat(ii.map(k,function(Wn){return"#"+C+"-"+Wn})).join(",");Ke?Ts(Dt,c).show():Ts(Dt,c).hide()},be=function(Ke){var Dt=function(Wn,ln){ln.h<0&&(ln.h=0),ln.w<0&&(ln.w=0),Ts("#"+C+"-"+Wn,c).css({left:ln.x,top:ln.y,width:ln.w,height:ln.h})};ii.each(S,function(Wn){Ts("#"+C+"-"+Wn.name,c).css({left:Ke.w*Wn.xMul+Ke.x,top:Ke.h*Wn.yMul+Ke.y})}),Dt("top",{x:r.x,y:r.y,w:r.w,h:Ke.y-r.y}),Dt("right",{x:Ke.x+Ke.w,y:Ke.y,w:r.w-Ke.x-Ke.w+r.x,h:Ke.h}),Dt("bottom",{x:r.x,y:Ke.y+Ke.h,w:r.w,h:r.h-Ke.y-Ke.h+r.y}),Dt("left",{x:r.x,y:Ke.y,w:Ke.x-r.x,h:Ke.h}),Dt("move",Ke)},ae=function(Ke){t=Ke,be(t)},Oe=function(Ke){r=Ke,be(t)},Re=function(Ke){ae(D(o,Ke))},tt=function(Ke){o=Ke,be(t)},Ue=function(){ii.each(m,function(Ke){Ke.destroy()}),m=[]};te();var et=ii.extend({toggleVisibility:ne,setClampRect:tt,setRect:ae,getInnerRect:N,setInnerRect:Re,setViewPortRect:Oe,destroy:Ue},FN);return et},zN={create:Zy},LN=function(t){return new _m(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},HN=function(t){var r=Ca({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=nn(1),c=nn(E.none()),v=nn({x:0,y:0,w:1,h:1}),m=nn({x:0,y:0,w:1,h:1}),p=function(be,ae){te.getOpt(be).each(function(Oe){var Re=o.get(),tt=Mu(Oe.element),Ue=bu(Oe.element),et=ae.dom.naturalWidth*Re,Ke=ae.dom.naturalHeight*Re,Dt=Math.max(0,tt/2-et/2),Wn=Math.max(0,Ue/2-Ke/2),ln={left:Dt.toString()+"px",top:Wn.toString()+"px",width:et.toString()+"px",height:Ke.toString()+"px",position:"absolute"};Id(ae,ln),r.getOpt(Oe).each(function(vt){Id(vt.element,ln)}),c.get().each(function(vt){var Tt=v.get();vt.setRect({x:Tt.x*Re+Dt,y:Tt.y*Re+Wn,w:Tt.w*Re,h:Tt.h*Re}),vt.setClampRect({x:Dt,y:Wn,w:et,h:Ke}),vt.setViewPortRect({x:0,y:0,w:tt,h:Ue})})})},C=function(be,ae){te.getOpt(be).each(function(Oe){var Re=Mu(Oe.element),tt=bu(Oe.element),Ue=ae.dom.naturalWidth,et=ae.dom.naturalHeight,Ke=Math.min(Re/Ue,tt/et);Ke>=1?o.set(1):o.set(Ke)})},S=function(be,ae){var Oe=yn.fromTag("img");return ya(Oe,"src",ae),LN(Oe.dom).then(function(){return te.getOpt(be).map(function(Re){var tt=Db({element:Oe});Fr.replaceAt(Re,1,E.some(tt));var Ue=m.get(),et={x:0,y:0,w:Oe.dom.naturalWidth,h:Oe.dom.naturalHeight};m.set(et);var Ke=RS.inflate(et,-20,-20);return v.set(Ke),(Ue.w!==et.w||Ue.h!==et.h)&&C(Re,Oe),p(Re,Oe),Oe})})},k=function(be,ae){var Oe=o.get(),Re=ae>0?Math.min(2,Oe+.1):Math.max(.1,Oe-.1);o.set(Re),te.getOpt(be).each(function(tt){var Ue=tt.components()[1].element;p(tt,Ue)})},D=function(){c.get().each(function(be){be.toggleVisibility(!0)})},B=function(){c.get().each(function(be){be.toggleVisibility(!1)})},N=function(){return v.get()},j=Su.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Lt([Yr("image-panel-crop-events",[Oo(function(be){te.getOpt(be).each(function(ae){var Oe=ae.element.dom,Re=zN.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Oe,nt);Re.toggleVisibility(!1),Re.on("updateRect",function(tt){var Ue=tt.rect,et=o.get(),Ke={x:Math.round(Ue.x/et),y:Math.round(Ue.y/et),w:Math.round(Ue.w/et),h:Math.round(Ue.h/et)};v.set(Ke)}),c.set(E.some(Re))})})])])}],containerBehaviours:Lt([Fr.config({}),Yr("image-panel-events",[Oo(function(be){S(be,t)})])])}),te=Ca(j),ne=function(){var be=m.get();return{width:be.w,height:be.h}};return{memContainer:te,updateSrc:S,zoom:k,showCrop:D,hideCrop:B,getRect:N,getMeasurements:ne}},PS=function(t,r,o,c,v){return qD({name:t,icon:E.some(r),disabled:o,tooltip:E.some(t),primary:!1,borderless:!1},c,v)},wO=function(t,r){r?pr.enable(t):pr.disable(t)},VN=function(t){var r=function(m,p,C){o.getOpt(m).each(function(S){wO(S,p)}),c.getOpt(m).each(function(S){wO(S,C)})},o=Ca(PS("Undo","undo",!0,function(m){Hn(m,qi.undo(),{direction:1})},t)),c=Ca(PS("Redo","redo",!0,function(m){Hn(m,qi.redo(),{direction:1})},t)),v=Su.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),c.asSpec(),PS("Zoom in","zoom-in",!1,function(m){Hn(m,qi.zoom(),{direction:1})},t),PS("Zoom out","zoom-out",!1,function(m){Hn(m,qi.zoom(),{direction:-1})},t)]});return{container:v,updateButtonUndoStates:r}};function UN(){var t=[],r=-1,o=function(C){var S=t.splice(++r);return t.push(C),{state:C,removed:S}},c=function(){if(m())return t[--r]},v=function(){if(p())return t[++r]},m=function(){return r>0},p=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:c,redo:v,canUndo:m,canRedo:p}}var WN=function(t){var r=nn(t),o=nn(E.none()),c=UN();c.add(t);var v=function(){return r.get()},m=function(Oe){r.set(Oe)},p=function(){return o.get().fold(function(){return r.get()},function(Oe){return Oe})},C=function(Oe){var Re=S(Oe);return B(),o.set(E.some(Re)),Re.url},S=function(Oe){return{blob:Oe,url:URL.createObjectURL(Oe)}},k=function(Oe){URL.revokeObjectURL(Oe.url)},D=function(Oe){ii.each(Oe,k)},B=function(){o.get().each(k),o.set(E.none())},N=function(Oe){var Re=S(Oe);m(Re);var tt=c.add(Re).removed;return D(tt),Re.url},j=function(Oe){var Re=S(Oe);return o.set(E.some(Re)),Re.url},te=function(Oe){return o.get().fold(nt,function(Re){N(Re.blob),Oe()})},ne=function(){var Oe=c.undo();return m(Oe),Oe.url},be=function(){var Oe=c.redo();return m(Oe),Oe.url},ae=function(){var Oe=c.canUndo(),Re=c.canRedo();return{undoEnabled:Oe,redoEnabled:Re}};return{getBlobState:v,setBlobState:m,addBlobState:N,getTempState:p,updateTempState:C,addTempState:j,applyTempState:te,destroyTempState:B,undo:ne,redo:be,getHistoryStates:ae}},jN=function(t,r){var o=WN(t.currentState),c=function(vt,Tt){var Mn=Tt.event.direction;Ke.zoom(vt,Mn)},v=function(vt){var Tt=o.getHistoryStates();Dt.updateButtonUndoStates(vt,Tt.undoEnabled,Tt.redoEnabled),Hn(vt,ks.formActionEvent,{name:ks.saveState(),value:Tt.undoEnabled})},m=function(vt){Dt.updateButtonUndoStates(vt,!1,!1)},p=function(vt,Tt){var Mn=o.undo();B(vt,Mn).then(function(yr){D(vt),v(vt)})},C=function(vt,Tt){var Mn=o.redo();B(vt,Mn).then(function(yr){D(vt),v(vt)})},S=function(vt){return vt.toBlob()},k=function(vt){Hn(vt,ks.formActionEvent,{name:ks.disable(),value:{}})},D=function(vt){Wn.getApplyButton(vt).each(function(Tt){pr.enable(Tt)}),Hn(vt,ks.formActionEvent,{name:ks.enable(),value:{}})},B=function(vt,Tt){return k(vt),Ke.updateSrc(vt,Tt)},N=function(vt,Tt,Mn,yr,qt){return k(vt),WM(Tt).then(Mn).then(S).then(yr).then(function(er){return B(vt,er).then(function(mr){return v(vt),qt(),D(vt),mr})}).catch(function(er){return console.log(er),D(vt),er})},j=function(vt,Tt,Mn){var yr=o.getBlobState().blob,qt=function(er){return o.updateTempState(er)};N(vt,yr,Tt,qt,Mn)},te=function(vt,Tt){var Mn=o.getTempState().blob,yr=function(qt){return o.addTempState(qt)};N(vt,Mn,Tt,yr,nt)},ne=function(vt,Tt,Mn){var yr=o.getBlobState().blob,qt=function(er){var mr=o.addBlobState(er);return ae(vt),mr};N(vt,yr,Tt,qt,Mn)},be=function(vt,Tt){var Mn=function(){ae(vt);var yr=Tt.event.swap;yr()};o.applyTempState(Mn)},ae=function(vt){var Tt=o.getBlobState().url;return o.destroyTempState(),v(vt),Tt},Oe=function(vt){var Tt=ae(vt);B(vt,Tt).then(function(Mn){D(vt)})},Re=function(vt,Tt){Oe(vt);var Mn=Tt.event.swap;Mn(),Ke.hideCrop()},tt=function(vt,Tt){return j(vt,Tt.event.transform,nt)},Ue=function(vt,Tt){return te(vt,Tt.event.transform)},et=function(vt,Tt){return ne(vt,Tt.event.transform,Tt.event.swap)},Ke=HN(t.currentState.url),Dt=VN(r),Wn=bO(Ke,r),ln=function(vt,Tt){m(vt);var Mn=Tt.event.transform,yr=Tt.event.swap;Mn.fold(function(){yr()},function(qt){j(vt,qt,yr)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Wn.memContainer.asSpec(),Ke.memContainer.asSpec(),Dt.container],behaviours:Lt([wn.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),Yr("image-tools-events",[Et(qi.undo(),p),Et(qi.redo(),C),Et(qi.zoom(),c),Et(qi.back(),Re),Et(qi.apply(),be),Et(qi.transform(),tt),Et(qi.tempTransform(),Ue),Et(qi.transformApply(),et),Et(qi.swap(),ln)]),Al.self()])}},qN=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},c=Pe(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(c),behaviours:Lt([Al.self(),Fr.config({}),Im.domHtml(E.none()),vr.config({mode:"acyclic"})])}},MS=function(t){return!Oa(t,"items")},r_="data-value",a_=function(t,r,o,c){return Pe(o,function(v){return MS(v)?{type:"togglemenuitem",text:v.text,value:v.value,active:v.value===c,onAction:function(){wn.setValue(t,v.value),Hn(t,rc,{name:r}),Ar.focus(t)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:function(){return a_(t,r,v.items,c)}}})},o_=function(t,r){return sn(t,function(o){return MS(o)?Zp(o.value===r,o):o_(o.items,r)})},i_=function(t,r){var o=r.shared.providers,c=He(t.items).filter(MS),v=t.label.map(function(C){return Pm(C,o)}),m=Ea.parts.field({dom:{},factory:{sketch:function(C){return cO({uid:C.uid,text:c.map(function(S){return S.text}),icon:E.none(),tooltip:t.label,role:E.none(),fetch:function(S,k){var D=a_(S,t.name,t.items,wn.getValue(S));k(K1(D,of.CLOSE_ON_EXECUTE,r,!1))},onSetup:re(nt),getApi:re({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Yo.config({}),wn.config({store:{mode:"manual",initialValue:c.map(function(S){return S.value}).getOr(""),getValue:function(S){return du(S.element,r_)},setValue:function(S,k){o_(t.items,k).each(function(D){ya(S.element,r_,D.value),Hn(S,Ah,{text:D.text})})}}})]},"tox-listbox",r.shared)}}}),p={dom:{tag:"div",classes:["tox-listboxfield"]},components:[m]};return Ea.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:br([v.toArray(),[p]]),fieldBehaviours:Lt([pr.config({disabled:re(t.disabled),onDisabled:function(C){Ea.getField(C).each(pr.disable)},onEnabled:function(C){Ea.getField(C).each(pr.enable)}})])})},u_=function(t,r){return{dom:{tag:"div",classes:t.classes},components:Pe(t.items,r.shared.interpreter)}},GN=function(t,r){var o=Pe(t.options,function(v){return{dom:{tag:"option",value:v.value,innerHtml:v.text}}}),c=t.data.map(function(v){return fn("initialValue",v)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:oi(t.selectBehaviours,[Ar.config({}),wn.config({store:se({mode:"manual",getValue:function(v){return Mf(v.element)},setValue:function(v,m){var p=ke(t.options,function(C){return C.value===m});p.isSome()&&Eg(v.element,m)}},c)})])}},KN=Ls({name:"HtmlSelect",configFields:[ve("options"),Si("selectBehaviours",[Ar,wn]),Me("selectClasses",[]),Me("selectAttributes",{}),pa("data")],factory:GN}),uc=function(t,r){var o=Pe(t.items,function(C){return{text:r.translate(C.text),value:C.value}}),c=t.label.map(function(C){return Pm(C,r)}),v=Ea.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:KN,selectBehaviours:Lt([pr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Yo.config({}),Yr("selectbox-change",[Et(ig(),function(C,S){Hn(C,rc,{name:t.name})})])])}),m=t.size>1?E.none():E.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:Vu("chevron-down",r.icons)}}),p={dom:{tag:"div",classes:["tox-selectfield"]},components:br([[v],m.toArray()])};return Ea.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:br([c.toArray(),[p]]),fieldBehaviours:Lt([pr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(C){Ea.getField(C).each(pr.disable)},onEnabled:function(C){Ea.getField(C).each(pr.enable)}}),ki()])})},XN=function(t,r){var o=function(C){return{dom:{tag:"th",innerHtml:r.translate(C)}}},c=function(C){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Pe(C,o)}]}},v=function(C){return{dom:{tag:"td",innerHtml:r.translate(C)}}},m=function(C){return{dom:{tag:"tr"},components:Pe(C,v)}},p=function(C){return{dom:{tag:"tbody"},components:Pe(C,m)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[c(t.header),p(t.cells)],behaviours:Lt([Yo.config({}),Ar.config({})])}},NS=function(t,r){var o=t.label.map(function(N){return Pm(N,r)}),c=[pr.config({disabled:function(){return t.disabled||r.isDisabled()}}),ki(),vr.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(N){return va(N,$y),E.some(!0)}}),Yr("textfield-change",[Et(Ad(),function(N,j){Hn(N,rc,{name:t.name})}),Et(Yc(),function(N,j){Hn(N,rc,{name:t.name})})]),Yo.config({})],v=t.validation.map(function(N){return sf.config({getRoot:function(j){return $i(j.element)},invalidClass:"tox-invalid",validator:{validate:function(j){var te=wn.getValue(j),ne=N.validator(te);return ru.pure(ne===!0?vn.value(te):vn.error(ne))},validateOnLoad:N.validateOnLoad}})}).toArray(),m=t.placeholder.fold(re({}),function(N){return{placeholder:r.translate(N)}}),p=t.inputMode.fold(re({}),function(N){return{inputmode:N}}),C=se(se({},m),p),S=Ea.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:C,inputClasses:[t.classname],inputBehaviours:Lt(br([c,v])),selectOnFocus:!1,factory:Iy}),k=t.flex?["tox-form__group--stretched"]:[],D=k.concat(t.maximized?["tox-form-group--maximize"]:[]),B=[pr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(N){Ea.getField(N).each(pr.disable)},onEnabled:function(N){Ea.getField(N).each(pr.enable)}}),ki()];return P1(o,S,D,B)},s_=function(t,r){return NS({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:E.none(),maximized:t.maximized},r)},c_=function(t,r){return NS({name:t.name,multiline:!0,label:t.label,inputMode:E.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:E.none(),maximized:t.maximized},r)},FS=function(t,r){var o=t.stream.streams,c=o.setup(t,r);return ba([Et(t.event,c),Yu(function(){return r.cancel()})].concat(t.cancelEvent.map(function(v){return[Et(v,function(){return r.cancel()})]}).getOr([])))},YN=Object.freeze({__proto__:null,events:FS}),Qy=function(t){var r=nn(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},c=function(m){r.set(m)},v=function(){var m=r.get();m!==null&&m.cancel()};return Ii({readState:o,setTimer:c,cancel:v})},JN=function(t){return t.stream.streams.state(t)},ew=Object.freeze({__proto__:null,throttle:Qy,init:JN}),l_=function(t,r){var o=t.stream,c=n4(t.onStream,o.delay);return r.setTimer(c),function(v,m){c.throttle(v,m),o.stopEvent&&m.stop()}},Lc=[Kt("stream",mi("mode",{throttle:[ve("delay"),Me("stopEvent",!0),ao("streams",{setup:l_,state:Qy})]})),Me("event","input"),pa("cancelEvent"),No("onStream")],f_=Do({fields:Lc,name:"streaming",active:YN,state:ew}),tw=function(t,r,o){var c=wn.getValue(o);wn.setValue(r,c),d_(r)},v_=function(t,r){var o=t.element,c=Mf(o),v=o.dom;du(o,"type")!=="number"&&r(v,c)},d_=function(t){v_(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},ZN=function(t,r){v_(t,function(o,c){return o.setSelectionRange(r,c.length)})},QN=function(t,r,o){if(t.selectsOver){var c=wn.getValue(r),v=t.getDisplayText(c),m=wn.getValue(o),p=t.getDisplayText(m);return p.indexOf(v)===0?E.some(function(){tw(t,r,o),ZN(r,v.length)}):E.none()}else return E.none()},CO=re("alloy.typeahead.itemexecute"),eF=function(t,r,o,c){var v=function(S,k,D){t.previewing.set(!1);var B=$o.getCoupled(S,"sandbox");if(ua.isOpen(B))da.getCurrent(B).each(function(j){Ba.getHighlighted(j).fold(function(){D(j)},function(){yi(B,j.element,"keydown",k)})});else{var N=function(j){da.getCurrent(j).each(D)};OE(t,p(S),S,B,c,N,Ic.HighlightFirst).get(nt)}},m=rA(t),p=function(S){return function(k){return k.map(function(D){var B=io(D.menus),N=on(B,function(te){return de(te.items,function(ne){return ne.type==="item"})}),j=wn.getState(S);return j.update(Pe(N,function(te){return te.data})),D})}},C=[Ar.config({}),wn.config({onSetValue:t.onSetValue,store:se({mode:"dataset",getDataKey:function(S){return Mf(S.element)},getFallbackEntry:function(S){return{value:S,meta:{}}},setValue:function(S,k){Eg(S.element,t.model.getDisplayText(k))}},t.initialData.map(function(S){return fn("initialValue",S)}).getOr({}))}),f_.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(S,k){var D=$o.getCoupled(S,"sandbox"),B=Ar.isFocused(S);if(B&&Mf(S.element).length>=t.minChars){var N=da.getCurrent(D).bind(function(te){return Ba.getHighlighted(te).map(wn.getValue)});t.previewing.set(!0);var j=function(te){da.getCurrent(D).each(function(ne){N.fold(function(){t.model.selectsOver&&Ba.highlightFirst(ne)},function(be){Ba.highlightBy(ne,function(ae){var Oe=wn.getValue(ae);return Oe.value===be.value}),Ba.getHighlighted(ne).orThunk(function(){return Ba.highlightFirst(ne),E.none()})})})};OE(t,p(S),S,D,c,j,Ic.HighlightFirst).get(nt)}},cancelEvent:cg()}),vr.config({mode:"special",onDown:function(S,k){return v(S,k,Ba.highlightFirst),E.some(!0)},onEscape:function(S){var k=$o.getCoupled(S,"sandbox");return ua.isOpen(k)?(ua.close(k),E.some(!0)):E.none()},onUp:function(S,k){return v(S,k,Ba.highlightLast),E.some(!0)},onEnter:function(S){var k=$o.getCoupled(S,"sandbox"),D=ua.isOpen(k);if(D&&!t.previewing.get())return da.getCurrent(k).bind(function(N){return Ba.getHighlighted(N)}).map(function(N){return Hn(S,CO(),{item:N}),!0});var B=wn.getValue(S);return va(S,cg()),t.onExecute(k,S,B),D&&ua.close(k),E.some(!0)}}),ze.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),$o.config({others:{sandbox:function(S){return DE(t,S,{onOpen:function(){return ze.on(S)},onClose:function(){return ze.off(S)}})}}}),Yr("typeaheadevents",[Zc(function(S){var k=nt;$1(t,p(S),S,c,k,Ic.HighlightFirst).get(nt)}),Et(CO(),function(S,k){var D=$o.getCoupled(S,"sandbox");tw(t.model,S,k.event.item),va(S,cg()),t.onItemExecute(S,D,k.event.item,wn.getValue(S)),ua.close(D),d_(S)})].concat(t.dismissOnBlur?[Et(cb(),function(S){var k=$o.getCoupled(S,"sandbox");yu(k.element).isNone()&&ua.close(k)})]:[]))];return{uid:t.uid,dom:aA(Hr(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:se(se({},m),oi(t.typeaheadBehaviours,C)),eventOrder:t.eventOrder}},tF=re([pa("lazySink"),ve("fetch"),Me("minChars",5),Me("responseTime",1e3),wa("onOpen"),Me("getHotspot",E.some),Me("getAnchorOverrides",re({})),Me("layouts",E.none()),Me("eventOrder",{}),pi("model",{},[Me("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),Me("selectsOver",!0),Me("populateFromBrowse",!0)]),wa("onSetValue"),Lo("onExecute"),wa("onItemExecute"),Me("inputClasses",[]),Me("inputAttributes",{}),Me("inputStyles",{}),Me("matchWidth",!0),Me("useMinWidth",!1),Me("dismissOnBlur",!0),ol(["openClass"]),pa("initialData"),Si("typeaheadBehaviours",[Ar,wn,f_,vr,ze,$o]),si("previewing",function(){return nn(!0)})].concat(nA()).concat(BE())),nF=re([Zs({schema:[zf()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(c){QN(t.model,c,o).fold(function(){return Ba.dehighlight(r,o)},function(v){return v()})}):r.getSystem().getByUid(t.uid).each(function(c){t.model.populateFromBrowse&&tw(t.model,c,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(c){return Hn(c,CO(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(c){t.model.populateFromBrowse&&tw(t.model,c,o)})}}}})]),rF=Cu({name:"Typeahead",configFields:tF(),partFields:nF(),factory:eF}),Hc=function(t){var r=function(){return Hc(t.toCached())},o=function(S){return Hc(t.bind(function(k){return k.fold(function(D){return ru.pure(vn.error(D))},function(D){return S(D)})}))},c=function(S){return Hc(t.map(function(k){return k.bind(S)}))},v=function(S){return Hc(t.map(function(k){return k.map(S)}))},m=function(S){return Hc(t.map(function(k){return k.mapError(S)}))},p=function(S,k){return t.map(function(D){return D.fold(S,k)})},C=function(S,k){return Hc(ru.nu(function(D){var B=!1,N=setTimeout(function(){B=!0,D(vn.error(k()))},S);t.get(function(j){B||(clearTimeout(N),D(j))})}))};return se(se({},t),{toCached:r,bindFuture:o,bindResult:c,mapResult:v,mapError:m,foldResult:p,withTimeout:C})},SO=function(t){return Hc(ru.nu(t))},xO=function(t){return Hc(ru.pure(vn.value(t)))},aF=function(t){return Hc(ru.pure(vn.error(t)))},m_=function(t){return Hc(ru.pure(t))},oF=function(t){return Hc(t.map(vn.value))},iF=function(t){return SO(function(r){t.then(function(o){r(vn.value(o))},function(o){r(vn.error(o))})})},uF={nu:SO,wrap:Hc,pure:xO,value:xO,error:aF,fromResult:m_,fromFuture:oF,fromPromise:iF},sF={type:"separator"},cF=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:nt}},kO=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:nt}},lF=function(t){return Pe(t,cF)},fF=function(t,r){return de(r,function(o){return o.type===t})},g_=function(t,r){return lF(fF(t,r))},vF=function(t){return g_("header",t.targets)},dF=function(t){return g_("anchor",t.targets)},mF=function(t){return E.from(t.anchorTop).map(function(r){return kO("<top>",r)}).toArray()},gF=function(t){return E.from(t.anchorBottom).map(function(r){return kO("<bottom>",r)}).toArray()},hF=function(t){return Pe(t,function(r){return kO(r,r)})},h_=function(t){return Be(t,function(r,o){var c=r.length===0||o.length===0;return c?r.concat(o):r.concat(sF,o)},[])},TO=function(t,r){var o=t.toLowerCase();return de(r,function(c){var v=c.meta!==void 0&&c.meta.text!==void 0?c.meta.text:c.text;return bi(v.toLowerCase(),o)||bi(c.value.toLowerCase(),o)})},pF=function(t,r,o){var c=wn.getValue(r),v=c.meta.text!==void 0?c.meta.text:c.value,m=o.getLinkInformation();return m.fold(function(){return[]},function(p){var C=TO(v,hF(o.getHistory(t)));return t==="file"?h_([C,TO(v,vF(p)),TO(v,br([mF(p),dF(p),gF(p)]))]):C})},p_=Qn("aria-invalid"),b_=function(t,r,o){var c,v=r.shared.providers,m=function(ae){var Oe=wn.getValue(ae);o.addToHistory(Oe.value,t.filetype)},p=Ea.parts.field({factory:rF,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":p_,type:"url"},minChars:0,responseTime:0,fetch:function(ae){var Oe=pF(t.filetype,ae,o),Re=K1(Oe,of.BUBBLE_TO_SANDBOX,r,!1);return ru.pure(Re)},getHotspot:function(ae){return j.getOpt(ae)},onSetValue:function(ae,Oe){ae.hasConfigured(sf)&&sf.run(ae).get(nt)},typeaheadBehaviours:Lt(br([o.getValidationHandler().map(function(ae){return sf.config({getRoot:function(Oe){return $i(Oe.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Oe,Re){k.getOpt(Oe).each(function(tt){ya(tt.element,"title",v.translate(Re))})}},validator:{validate:function(Oe){var Re=wn.getValue(Oe);return uF.nu(function(tt){ae({type:t.filetype,url:Re.value},function(Ue){if(Ue.status==="invalid"){var et=vn.error(Ue.message);tt(et)}else{var Ke=vn.value(Ue.message);tt(Ke)}})})},validateOnLoad:!1}})}).toArray(),[pr.config({disabled:function(){return t.disabled||v.isDisabled()}}),Yo.config({}),Yr("urlinput-events",br([t.filetype==="file"?[Et(Ad(),function(ae){Hn(ae,rc,{name:t.name})})]:[],[Et(ig(),function(ae){Hn(ae,rc,{name:t.name}),m(ae)}),Et(Yc(),function(ae){Hn(ae,rc,{name:t.name}),m(ae)})]]))]])),eventOrder:(c={},c[Ad()]=["streaming","urlinput-events","invalidating"],c),model:{getDisplayText:function(ae){return ae.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:PC(!1,1,"normal")},onExecute:function(ae,Oe,Re){Hn(Oe,$y,{})},onItemExecute:function(ae,Oe,Re,tt){m(ae),Hn(ae,rc,{name:t.name})}}),C=t.label.map(function(ae){return Pm(ae,v)}),S=function(ae,Oe,Re,tt){return Re===void 0&&(Re=ae),tt===void 0&&(tt=ae),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ae],innerHtml:Vu(Re,v.icons),attributes:se({title:v.translate(tt),"aria-live":"polite"},Oe.fold(function(){return{}},function(Ue){return{id:Ue}}))}}},k=Ca(S("invalid",E.some(p_),"warning")),D=Ca({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[k.asSpec()]}),B=o.getUrlPicker(t.filetype),N=Qn("browser.url.event"),j=Ca({dom:{tag:"div",classes:["tox-control-wrap"]},components:[p,D.asSpec()],behaviours:Lt([pr.config({disabled:function(){return t.disabled||v.isDisabled()}})])}),te=Ca(dO({name:t.name,icon:E.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(ae){return va(ae,N)},v,[],["tox-browse-url"])),ne=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:br([[j.asSpec()],B.map(function(){return te.asSpec()}).toArray()])}},be=function(ae){da.getCurrent(ae).each(function(Oe){var Re=wn.getValue(Oe),tt=se({fieldname:t.name},Re);B.each(function(Ue){Ue(tt).get(function(et){wn.setValue(Oe,et),Hn(ae,rc,{name:t.name})})})})};return Ea.sketch({dom:y5(),components:C.toArray().concat([ne()]),fieldBehaviours:Lt([pr.config({disabled:function(){return t.disabled||v.isDisabled()},onDisabled:function(ae){Ea.getField(ae).each(pr.disable),te.getOpt(ae).each(pr.disable)},onEnabled:function(ae){Ea.getField(ae).each(pr.enable),te.getOpt(ae).each(pr.enable)}}),ki(),Yr("url-input-events",[Et(N,be)])])})},bF=function(t,r){return Su.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Hu.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Vu(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){Hn(o,iv,{name:"alert-banner",value:t.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},yF=function(t,r){var o=wn.config({store:{mode:"manual",getValue:function(S){var k=S.element.dom;return k.checked},setValue:function(S,k){var D=S.element.dom;D.checked=k}}}),c=function(S){return S.element.dom.click(),E.some(!0)},v=Ea.parts.field({factory:{sketch:_t},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Lt([Al.self(),pr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Yo.config({}),Ar.config({}),o,vr.config({mode:"special",onEnter:c,onSpace:c,stopSpaceKeyup:!0}),Yr("checkbox-events",[Et(ig(),function(S,k){Hn(S,rc,{name:t.name})})])])}),m=Ea.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:Lt([zy.config({})])}),p=function(S){var k=S==="checked"?"selected":"unselected";return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+S],innerHtml:Vu(k,r.icons)}}},C=Ca({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[p("checked"),p("unchecked")]});return Ea.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[v,C.asSpec(),m],fieldBehaviours:Lt([pr.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(S){Ea.getField(S).each(pr.disable)},onEnabled:function(S){Ea.getField(S).each(pr.enable)}}),ki()])})},wF=function(t){return t.presets==="presentation"?Su.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Su.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Lt([Yo.config({}),Ar.config({})])})},Gi=function(t){return function(r,o,c){return Pn(o,"name").fold(function(){return t(o,c)},function(v){return r.field(v,t(o,c))})}},CF=function(t){return function(r,o,c){var v=Hr(o,{source:"dynamic"});return Gi(t)(r,v,c)}},SF={bar:Gi(function(t,r){return JC(t,r.shared)}),collection:Gi(function(t,r){return tA(t,r.shared.providers)}),alertbanner:Gi(function(t,r){return bF(t,r.shared.providers)}),input:Gi(function(t,r){return s_(t,r.shared.providers)}),textarea:Gi(function(t,r){return c_(t,r.shared.providers)}),label:Gi(function(t,r){return qN(t,r.shared)}),iframe:CF(function(t,r){return ED(t,r.shared.providers)}),button:Gi(function(t,r){return kN(t,r.shared.providers)}),checkbox:Gi(function(t,r){return yF(t,r.shared.providers)}),colorinput:Gi(function(t,r){return as(t,r.shared,r.colorinput)}),colorpicker:Gi(AM),dropzone:Gi(function(t,r){return MM(t,r.shared.providers)}),grid:Gi(function(t,r){return NM(t,r.shared)}),listbox:Gi(function(t,r){return i_(t,r)}),selectbox:Gi(function(t,r){return uc(t,r.shared.providers)}),sizeinput:Gi(function(t,r){return QD(t,r.shared.providers)}),urlinput:Gi(function(t,r){return b_(t,r,r.urlinput)}),customeditor:Gi(BM),htmlpanel:Gi(wF),imagetools:Gi(function(t,r){return jN(t,r.shared.providers)}),table:Gi(function(t,r){return XN(t,r.shared.providers)}),panel:Gi(function(t,r){return u_(t,r)})},$S={field:function(t,r){return r}},y_=function(t,r,o){var c=Hr(o,{shared:{interpreter:function(v){return EO(t,v,c)}}});return EO(t,r,c)},EO=function(t,r,o){return Pn(SF,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(c){return c(t,r,o)})},xF=function(t,r){var o=$S;return EO(o,t,r)},kF={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},TF=function(t,r,o){var c=Wv(-12,12,kF),v={maxHeightFunction:Rg()},m=function(){return{anchor:"node",root:Tv(t()),node:E.from(t()),bubble:c,layouts:{onRtl:function(){return[dh]},onLtr:function(){return[vh]}},overrides:v}},p=function(){return{anchor:"hotspot",hotspot:r(),bubble:c,layouts:{onRtl:function(){return[oo]},onLtr:function(){return[Ei]}},overrides:v}};return function(){return o()?m():p()}},EF=function(t,r,o){var c=function(){return{anchor:"node",root:Tv(t()),node:E.from(t()),layouts:{onRtl:function(){return[vd]},onLtr:function(){return[vd]}}}},v=function(){return{anchor:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[eu]},onLtr:function(){return[eu]}}}};return function(){return o()?c():v()}},OF=function(t,r){return function(){return{anchor:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return E.some($g.range(yn.fromDom(o.startContainer),o.startOffset,yn.fromDom(o.endContainer),o.endOffset))}}}},w_=function(t){return function(r){return{anchor:"node",root:t(),node:r}}},AF=function(t,r,o){var c=HC(t),v=function(){return yn.fromDom(t.getBody())},m=function(){return yn.fromDom(t.getContentAreaContainer())},p=function(){return c||!o()};return{inlineDialog:TF(m,r,p),banner:EF(m,r,p),cursor:OF(t,v),node:w_(v)}},DF=function(t){return function(r,o){var c=B3(t);c(r,o)}},_F=function(t){return function(){return x3(t)}},BF=function(t){return function(){return pE(t)}},RF=function(t){return function(){return T3(t)}},PF=function(t){return{colorPicker:DF(t),hasCustomColors:_F(t),getColors:BF(t),getColorCols:RF(t)}},MF=function(t){return function(){return qR(t)}},C_=function(t){return{isDraggableModal:MF(t)}},NF=function(t){var r=nn(tE(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},S_=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],FF=function(t){return Oa(t,"items")},$F=function(t){return Oa(t,"block")},IF=function(t){return Oa(t,"inline")},zF=function(t){return Oa(t,"selector")},OO=function(t){return Be(t,function(r,o){if(FF(o)){var c=OO(o.items);return{customFormats:r.customFormats.concat(c.customFormats),formats:r.formats.concat([{title:o.title,items:c.formats}])}}else if(IF(o)||$F(o)||zF(o)){var v=pn(o.name)?o.name:o.title.toLowerCase(),m="custom-"+v;return{customFormats:r.customFormats.concat([{name:m,format:o}]),formats:r.formats.concat([{title:o.title,format:m,icon:o.icon}])}}else return se(se({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},Dh=function(t,r){var o=OO(r),c=function(v){Ct(v,function(m){t.formatter.has(m.name)||t.formatter.register(m.name,m.format)})};return t.formatter?c(o.customFormats):t.on("init",function(){c(o.customFormats)}),o.formats},nw=function(t){return K4(t).map(function(r){var o=Dh(t,r);return ZT(t)?S_.concat(o):o}).getOr(S_)},x_=function(t,r,o){var c={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return Hr(t,c)},k_=function(t,r,o,c){var v=function(S){return x_(S,o,c)},m=function(S){var k={type:"submenu"};return Hr(S,k)},p=function(S){var k=pn(S.name)?S.name:Qn(S.title),D="custom-"+k,B={type:"formatter",format:D,isSelected:o(D),getStylePreview:c(D)},N=Hr(S,B);return t.formatter.register(k,N),N},C=function(S){return Pe(S,function(k){var D=hr(k);if(La(k,"items")){var B=C(k.items);return Hr(m(k),{getStyleItems:function(){return B}})}else return La(k,"format")?v(k):D.length===1&&Sn(D,"title")?Hr(k,{type:"separator"}):p(k)})};return C(r)},AO=function(t){var r=function(B){return function(){return t.formatter.match(B)}},o=function(B){return function(){var N=t.formatter.get(B);return N!==void 0?E.some({tag:N.length>0&&(N[0].inline||N[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(B))}):E.none()}},c=function(B){var N=B.items;return N!==void 0&&N.length>0?on(N,c):[B.format]},v=nn([]),m=nn([]),p=nn([]),C=nn([]),S=nn(!1);t.on("PreInit",function(B){var N=nw(t),j=k_(t,N,r,o);v.set(j),m.set(on(j,c))}),t.on("addStyleModifications",function(B){var N=k_(t,B.items,r,o);p.set(N),S.set(B.replace),C.set(on(N,c))});var k=function(){var B=S.get()?[]:v.get(),N=p.get();return B.concat(N)},D=function(){var B=S.get()?[]:m.get(),N=C.get();return B.concat(N)};return{getData:k,getFlattenedKeys:D}},LF=function(t){return Cn(t)&&t.nodeType===1},HF=ii.trim,DO=function(t){return function(r){return!!(LF(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},T_=DO("true"),VF=DO("false"),E_=function(t,r,o,c,v){return{type:t,title:r,url:o,level:c,attach:v}},UF=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return T_(t)}return!1},WF=function(t,r){return Pe(Iu(yn.fromDom(r),t),function(o){return o.dom})},O_=function(t){return t.innerText||t.textContent},A_=function(t){return t.id?t.id:Qn("h")},jF=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},qF=function(t){return jF(t)&&zS(t)},IS=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},zS=function(t){return UF(t)&&!VF(t)},rw=function(t){return IS(t)&&zS(t)},GF=function(t){return IS(t)?parseInt(t.nodeName.substr(1),10):0},KF=function(t){var r=A_(t),o=function(){t.id=r};return E_("header",O_(t),"#"+r,GF(t),o)},XF=function(t){var r=t.id||t.name,o=O_(t);return E_("anchor",o||"#"+r,"#"+r,0,nt)},YF=function(t){return Pe(de(t,rw),KF)},JF=function(t){return Pe(de(t,qF),XF)},D_=function(t){var r=WF("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},__=function(t){return HF(t.title).length>0},B_=function(t){var r=D_(t);return de(YF(r).concat(JF(r)),__)},ZF={find:B_},LS="tinymce-url-history",R_=5,P_=function(t){return pn(t)&&/^https?/.test(t)},QF=function(t){return Nn(t)&&t.length<=R_&&zr(t,P_)},_O=function(t){return rr(t)&&xo(t,function(r){return!QF(r)}).isNone()},M_=function(){var t=My.getItem(LS);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+LS+" was not valid JSON",o),{};throw o}return _O(r)?r:(console.log("Local storage "+LS+" was not valid format",r),{})},e$=function(t){if(!_O(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));My.setItem(LS,JSON.stringify(t))},t$=function(t){var r=M_();return Object.prototype.hasOwnProperty.call(r,t)?r[t]:[]},n$=function(t,r){if(!!P_(t)){var o=M_(),c=Object.prototype.hasOwnProperty.call(o,r)?o[r]:[],v=de(c,function(m){return m!==t});o[r]=[t].concat(v).slice(0,R_),e$(o)}},HS=function(t){return!!t},_h=function(t){return Or(ii.makeMap(t,/[, ]/),HS)},VS=function(t){return E.from(XR(t)).filter(ut)},r$=function(t){var r=E.some(YR(t)).filter(HS),o=E.some(JR(t)).filter(HS),c=r.or(o).map(_h);return VS(t).fold(Gt,function(v){return c.fold(Zt,function(m){return hr(m).length>0?m:!1})})},a$=function(t,r){var o=r$(t);return jn(o)?o?VS(t):E.none():o[r]?VS(t):E.none()},o$=function(t,r){return a$(t,r).map(function(o){return function(c){return ru.nu(function(v){var m=function(C,S){if(!pn(C))throw new Error("Expected value to be string");if(S!==void 0&&!rr(S))throw new Error("Expected meta to be a object");var k={value:C,meta:S};v(k)},p=se({filetype:r,fieldname:c.fieldname},E.from(c.meta).getOr({}));o.call(t,m,c.value,p)})}})},BO=function(t){return E.from(t).filter(pn).getOrUndefined()},i$=function(t){return ZR(t)?E.none():E.some({targets:ZF.find(t.getBody()),anchorTop:BO(QR(t)),anchorBottom:BO(aE(t))})},u$=function(t){return E.from(oE(t))},s$=function(t){return{getHistory:t$,addToHistory:n$,getLinkInformation:function(){return i$(t)},getValidationHandler:function(){return u$(t)},getUrlPicker:function(r){return o$(t,r)}}},c$=function(t,r,o){var c=nn(!1),v=NF(r),m={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:$c.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(p){return xF(p,m)},anchors:AF(r,o,v.isPositionedAtTop),header:v,getSink:function(){return vn.value(t)}},urlinput:s$(r),styleselect:AO(r),colorinput:PF(r),dialog:C_(r),isContextMenuOpen:function(){return c.get()},setContextMenuState:function(p){return c.set(p)}};return m},RO=re(function(t,r){kc(t,Math.floor(r))}),l$="contexttoolbar-show",N_="contexttoolbar-hide",X1=re([ve("dom"),Me("shell",!0),Si("toolbarBehaviours",[Fr])]),f$=function(){return{behaviours:Lt([Fr.config({})])}},v$=re([Qs({name:"groups",overrides:f$})]),F_=function(t,r,o,c){var v=function(C,S){m(C).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(k){Fr.set(k,S)})},m=function(C){return t.shell?E.some(C):qa(C,t,"groups")},p=t.shell?{behaviours:[Fr.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:p.components,behaviours:oi(t.toolbarBehaviours,p.behaviours),apis:{setGroups:v},domModification:{attributes:{role:"group"}}}},lf=Cu({name:"Toolbar",configFields:X1(),partFields:v$(),factory:F_,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),d$=function(t,r){var o={len:0,list:[]},c=Be(t,function(v,m){var p=r(m,v.len);return p.fold(re(v),function(C){return{len:C.finish,list:v.list.concat([C])}})},o);return c.list},PO=function(t,r,o){return{within:t,extra:r,withinWidth:o}},$_=function(t,r,o){var c=d$(t,function(C,S){var k=o(C);return E.some({element:C,start:S,finish:S+k,width:k})}),v=de(c,function(C){return C.finish<=r}),m=We(v,function(C,S){return C+S.width},0),p=c.slice(v.length);return{within:v,extra:p,withinWidth:m}},Y1=function(t){return Pe(t,function(r){return r.element})},I_=function(t,r,o){var c=Y1(t.concat(r));return PO(c,[],o)},m$=function(t,r,o,c){var v=Y1(t).concat([o]);return PO(v,Y1(r),c)},g$=function(t,r,o){return PO(Y1(t),[],o)},h$=function(t,r,o){var c=$_(r,t,o);return c.extra.length===0?E.some(c):E.none()},p$=function(t,r,o,c){var v=h$(t,r,o).getOrThunk(function(){return $_(r,t-o(c),o)}),m=v.within,p=v.extra,C=v.withinWidth;return p.length===1&&p[0].width<=o(c)?I_(m,p,C):p.length>=1?m$(m,p,c,C):g$(m,p,C)},z_=function(t,r){var o=Pe(r,function(c){return Pu(c)});lf.setGroups(t,o)},b$=function(t){return sn(t,function(r){return yu(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},L_=function(t,r,o){var c=Nc(t,r,"primary"),v=$o.getCoupled(t,"overflowGroup");Ir(c.element,"visibility","hidden");var m=r.builtGroups.get().concat([v]),p=b$(m);o([]),z_(c,m);var C=Mu(c.element),S=p$(C,r.builtGroups.get(),function(k){return Mu(k.element)},v);S.extra.length===0?(Fr.remove(c,v),o([])):(z_(c,S.within),o(S.extra)),mo(c.element,"visibility"),Xs(c.element),p.each(Ar.focus)},H_=re([Si("splitToolbarBehaviours",[$o]),si("builtGroups",function(){return nn([])})]),y$=re([ol(["overflowToggledClass"]),ti("getOverflowBounds"),ve("lazySink"),si("overflowGroups",function(){return nn([])})].concat(H_())),US=re([xi({factory:lf,schema:X1(),name:"primary"}),Zs({schema:X1(),name:"overflow"}),Zs({name:"overflow-button"}),Zs({name:"overflow-group"})]),w$=re([ol(["toggledClass"]),ve("lazySink"),na("fetch"),ti("getBounds"),Bi("fireDismissalEventInstead",[Me("event",Bd())]),ll()]),C$=re([Zs({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Lt([ze.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Zs({factory:lf,schema:X1(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Lt([vr.config({mode:"cyclic",onEscape:function(r){return qa(r,t,"button").each(Ar.focus),E.none()}})])}}})]),MO=function(t,r){var o=$o.getCoupled(t,"toolbarSandbox");ua.isOpen(o)?ua.close(o):ua.open(o,r.toolbar())},hd=function(t,r,o,c){var v=o.getBounds.map(function(p){return p()}),m=o.lazySink(t).getOrDie();wu.positionWithinBounds(m,{anchor:"hotspot",hotspot:t,layouts:c,overrides:{maxWidthFunction:RO()}},r,v)},V_=function(t,r,o,c,v){lf.setGroups(r,v),hd(t,r,o,c),ze.on(t)},NO=function(t,r,o){var c=al(),v=function(p,C){o.fetch().get(function(S){V_(t,C,o,r.layouts,S),c.link(t.element),vr.focusIn(C)})},m=function(){ze.off(t),Ar.focus(t),c.unlink(t.element)};return{dom:{tag:"div",attributes:{id:c.id}},behaviours:Lt([vr.config({mode:"special",onEscape:function(p){return ua.close(p),E.some(!0)}}),ua.config({onOpen:v,onClose:m,isPartOf:function(p,C,S){return Ec(C,S)||Ec(t,S)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),tu.config({channels:se(se({},lm(se({isExtraPart:Gt},o.fireDismissalEventInstead.map(function(p){return{fireEventInstead:{event:p.event}}}).getOr({})))),T0({doReposition:function(){ua.getState($o.getCoupled(t,"toolbarSandbox")).each(function(p){hd(t,p,o,r.layouts)})}}))})])}},WS=function(t,r,o,c){return se(se({},Hu.sketch(se(se({},c.button()),{action:function(v){MO(v,c)},buttonBehaviours:ts.augment({dump:c.button().buttonBehaviours},[$o.config({others:{toolbarSandbox:function(v){return NO(v,o,t)}}})])}))),{apis:{setGroups:function(v,m){ua.getState($o.getCoupled(v,"toolbarSandbox")).each(function(p){V_(v,p,t,o.layouts,m)})},reposition:function(v){ua.getState($o.getCoupled(v,"toolbarSandbox")).each(function(m){hd(v,m,t,o.layouts)})},toggle:function(v){MO(v,c)},getToolbar:function(v){return ua.getState($o.getCoupled(v,"toolbarSandbox"))},isOpen:function(v){return ua.isOpen($o.getCoupled(v,"toolbarSandbox"))}}})},Bh=Cu({name:"FloatingToolbarButton",factory:WS,configFields:w$(),partFields:C$(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),S$=re([ve("items"),ol(["itemSelector"]),Si("tgroupBehaviours",[vr])]),x$=re([jg({name:"items",unit:"item"})]),k$=function(t,r,o,c){return{uid:t.uid,dom:t.dom,components:r,behaviours:oi(t.tgroupBehaviours,[vr.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},jS=Cu({name:"ToolbarGroup",configFields:S$(),partFields:x$(),factory:k$}),Hm=function(t){return Pe(t,function(r){return Pu(r)})},FO=function(t,r,o){L_(t,o,function(c){o.overflowGroups.set(c),r.getOpt(t).each(function(v){Bh.setGroups(v,Hm(c))})})},T$=function(t,r,o,c){var v=Ca(Bh.sketch({fetch:function(){return ru.nu(function(m){m(Hm(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Ei,oo]},onRtl:function(){return[oo,Ei]},onBottomLtr:function(){return[Hi,wi]},onBottomRtl:function(){return[wi,Hi]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:c["overflow-button"](),toolbar:c.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:oi(t.splitToolbarBehaviours,[$o.config({others:{overflowGroup:function(){return jS.sketch(se(se({},c["overflow-group"]()),{items:[v.asSpec()]}))}}})]),apis:{setGroups:function(m,p){t.builtGroups.set(Pe(p,m.getSystem().build)),FO(m,v,t)},refresh:function(m){return FO(m,v,t)},toggle:function(m){v.getOpt(m).each(function(p){Bh.toggle(p)})},isOpen:function(m){return v.getOpt(m).map(Bh.isOpen).getOr(!1)},reposition:function(m){v.getOpt(m).each(function(p){Bh.reposition(p)})},getOverflow:function(m){return v.getOpt(m).bind(Bh.getToolbar)}},domModification:{attributes:{role:"group"}}}},U_=Cu({name:"SplitFloatingToolbar",configFields:y$(),partFields:US(),factory:T$,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),aw=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},Vm=function(t){return t.dimension.property},J1=function(t,r){return t.dimension.getDimension(r)},$O=function(t,r){var o=aw(t,r);bo(o,[r.shrinkingClass,r.growingClass])},ow=function(t,r){vo(t.element,r.openClass),ja(t.element,r.closedClass),Ir(t.element,Vm(r),"0px"),Xs(t.element)},Z1=function(t,r){vo(t.element,r.closedClass),ja(t.element,r.openClass),mo(t.element,Vm(r))},iw=function(t,r,o,c){o.setCollapsed(),Ir(t.element,Vm(r),J1(r,t.element)),Xs(t.element),$O(t,r),ow(t,r),r.onStartShrink(t),r.onShrunk(t)},qS=function(t,r,o,c){var v=c.getOrThunk(function(){return J1(r,t.element)});o.setCollapsed(),Ir(t.element,Vm(r),v),Xs(t.element);var m=aw(t,r);vo(m,r.growingClass),ja(m,r.shrinkingClass),ow(t,r),r.onStartShrink(t)},Um=function(t,r,o){var c=J1(r,t.element),v=c==="0px"?iw:qS;v(t,r,o,E.some(c))},uw=function(t,r,o){var c=aw(t,r),v=fi(c,r.shrinkingClass),m=J1(r,t.element);Z1(t,r);var p=J1(r,t.element),C=function(){Ir(t.element,Vm(r),m),Xs(t.element)},S=function(){ow(t,r)},k=v?C:S;k(),vo(c,r.shrinkingClass),ja(c,r.growingClass),Z1(t,r),Ir(t.element,Vm(r),p),o.setExpanded(),r.onStartGrow(t)},E$=function(t,r,o){if(o.isExpanded()){mo(t.element,Vm(r));var c=J1(r,t.element);Ir(t.element,Vm(r),c)}},W_=function(t,r,o){o.isExpanded()||uw(t,r,o)},j_=function(t,r,o){o.isExpanded()&&Um(t,r,o)},q_=function(t,r,o){o.isExpanded()&&iw(t,r,o)},O$=function(t,r,o){return o.isExpanded()},G_=function(t,r,o){return o.isCollapsed()},K_=function(t,r,o){var c=aw(t,r);return fi(c,r.growingClass)===!0},X_=function(t,r,o){var c=aw(t,r);return fi(c,r.shrinkingClass)===!0},A$=function(t,r,o){return K_(t,r)||X_(t,r)},IO=function(t,r,o){var c=o.isExpanded()?Um:uw;c(t,r,o)},zO=Object.freeze({__proto__:null,refresh:E$,grow:W_,shrink:j_,immediateShrink:q_,hasGrown:O$,hasShrunk:G_,isGrowing:K_,isShrinking:X_,isTransitioning:A$,toggleGrow:IO,disableTransitions:$O}),D$=function(t,r,o){var c=r.expanded;return Ns(c?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:fn(r.dimension.property,"0px")})},Y_=function(t,r){return ba([wc(Cf(),function(o,c){var v=c.event.raw;if(v.propertyName===t.dimension.property){$O(o,t),r.isExpanded()&&mo(o.element,t.dimension.property);var m=r.isExpanded()?t.onGrown:t.onShrunk;m(o)}})])},_$=Object.freeze({__proto__:null,exhibit:D$,events:Y_}),J_=[ve("closedClass"),ve("openClass"),ve("shrinkingClass"),ve("growingClass"),pa("getAnimationRoot"),wa("onShrunk"),wa("onStartShrink"),wa("onGrown"),wa("onStartGrow"),Me("expanded",!1),Kt("dimension",mi("property",{width:[ao("property","width"),ao("getDimension",function(t){return Mu(t)+"px"})],height:[ao("property","height"),ao("getDimension",function(t){return bu(t)+"px"})]}))],B$=function(t){var r=nn(t.expanded),o=function(){return"expanded: "+r.get()};return Ii({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:ar(r.set,!1),setExpanded:ar(r.set,!0),readState:o})},R$=Object.freeze({__proto__:null,init:B$}),_l=Do({fields:J_,name:"sliding",active:_$,apis:zO,state:R$}),P$=re([ol(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),wa("onOpened"),wa("onClosed")].concat(H_())),M$=re([xi({factory:lf,schema:X1(),name:"primary"}),xi({factory:lf,schema:X1(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Lt([_l.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){qa(r,t,"overflow-button").each(function(o){ze.off(o),Ar.focus(o)}),t.onClosed(r)},onGrown:function(r){vr.focusIn(r),t.onOpened(r)},onStartGrow:function(r){qa(r,t,"overflow-button").each(ze.on)}}),vr.config({mode:"acyclic",onEscape:function(r){return qa(r,t,"overflow-button").each(Ar.focus),E.some(!0)}})])}}}),Zs({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Lt([ze.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Zs({name:"overflow-group"})]),N$=function(t,r){return qa(t,r,"overflow").map(_l.hasGrown).getOr(!1)},Wm=function(t,r){qa(t,r,"overflow-button").bind(function(){return qa(t,r,"overflow")}).each(function(o){pd(t,r),_l.toggleGrow(o)})},pd=function(t,r){qa(t,r,"overflow").each(function(o){L_(t,r,function(c){var v=Pe(c,function(m){return Pu(m)});lf.setGroups(o,v)}),qa(t,r,"overflow-button").each(function(c){_l.hasGrown(o)&&ze.on(c)}),_l.refresh(o)})},Z_=function(t,r,o,c){var v="alloy.toolbar.toggle",m=function(p,C){var S=Pe(C,p.getSystem().build);t.builtGroups.set(S)};return{uid:t.uid,dom:t.dom,components:r,behaviours:oi(t.splitToolbarBehaviours,[$o.config({others:{overflowGroup:function(p){return jS.sketch(se(se({},c["overflow-group"]()),{items:[Hu.sketch(se(se({},c["overflow-button"]()),{action:function(C){va(p,v)}}))]}))}}}),Yr("toolbar-toggle-events",[Et(v,function(p){Wm(p,t)})])]),apis:{setGroups:function(p,C){m(p,C),pd(p,t)},refresh:function(p){return pd(p,t)},toggle:function(p){return Wm(p,t)},isOpen:function(p){return N$(p,t)}},domModification:{attributes:{role:"group"}}}},LO=Cu({name:"SplitSlidingToolbar",configFields:P$(),partFields:M$(),factory:Z_,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),GS=re(Qn("toolbar-height-change")),Q_=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:se({tag:"div",classes:["tox-toolbar__group"]},r),components:[jS.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Lt([Yo.config({}),Ar.config({})])}},Rh=function(t){return jS.sketch(Q_(t))},Vc=function(t,r){var o=Oo(function(c){var v=Pe(t.initGroups,Rh);lf.setGroups(c,v)});return Lt([xl.toolbarButton(t.providers.isDisabled),ki(),vr.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Yr("toolbar-events",[o])])},eB=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":Q_({title:E.none(),items:[]}),"overflow-button":vO({name:"more",icon:E.some("more-drawer"),disabled:!1,tooltip:E.some("More..."),primary:!1,borderless:!1},E.none(),t.providers)},splitToolbarBehaviours:Vc(t,r)}},fv=function(t){var r=eB(t),o=4,c=U_.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return U_.sketch(se(se({},r),{lazySink:t.getSink,getOverflowBounds:function(){var v=t.moreDrawerData.lazyHeader().element,m=Xl(v),p=el(v),C=Xl(p),S=Math.max(p.dom.scrollHeight,C.height);return iu(m.x+o,C.y,m.width-o*2,S)},parts:se(se({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},F$=function(t){var r=LO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=LO.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),c=eB(t);return LO.sketch(se(se({},c),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(v){v.getSystem().broadcastOn([GS()],{type:"opened"})},onClosed:function(v){v.getSystem().broadcastOn([GS()],{type:"closed"})}}))},KS=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return lf.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===cu.scrolling?["tox-toolbar--scrolling"]:[])},components:[lf.parts.groups({})],toolbarBehaviours:Vc(t,r)})},tB=Se([un("type"),Kt("items",nr([Rl([un("name"),fu("items",Le)]),Le]))].concat(S1)),XS=function(t){return xa("GroupToolbarButton",tB,t)},jm=[_a("text"),_a("tooltip"),_a("icon"),na("fetch"),Ua("onSetup",function(){return nt})],Es=Se(qe([un("type")],jm)),nB=function(t){return xa("menubutton",Es,t)},rB=Se([un("type"),_a("tooltip"),_a("icon"),_a("text"),ti("select"),na("fetch"),Ua("onSetup",function(){return nt}),vu("presets","normal",["normal","color","listpreview"]),Me("columns",1),na("onAction"),na("onItemAction")]),aB=function(t){return xa("SplitButton",rB,t)},oB=function(t,r){var o=function(c,v){t.updateState.each(function(m){var p=m(c,v);r.set(p)}),t.renderComponents.each(function(m){var p=m(v,r.get()),C=Pe(p,c.getSystem().build);Kv(c,C)})};return ba([Et(gs(),function(c,v){var m=v;if(!m.universal){var p=t.channel;Sn(m.channels,p)&&o(c,m.data)}}),Oo(function(c,v){t.initialData.each(function(m){o(c,m)})})])},$$=Object.freeze({__proto__:null,events:oB}),I$=function(t,r,o){return o},qm=Object.freeze({__proto__:null,getState:I$}),iB=[ve("channel"),pa("renderComponents"),pa("updateState"),pa("initialData")],Q1=function(){var t=nn(E.none()),r=function(m){return t.set(m)},o=function(){return t.set(E.none())},c=function(){return t.get()},v=function(){return t.get().fold(function(){return"none"},function(m){return m})};return{readState:v,get:c,set:r,clear:o}},YS=Object.freeze({__proto__:null,init:Q1}),Os=Do({fields:iB,name:"reflecting",active:$$,apis:qm,state:YS}),z$=re([ve("toggleClass"),ve("fetch"),No("onExecute"),Me("getHotspot",E.some),Me("getAnchorOverrides",re({})),ll(),No("onItemExecute"),pa("lazySink"),ve("dom"),wa("onOpen"),Si("splitDropdownBehaviours",[$o,vr,Ar]),Me("matchWidth",!1),Me("useMinWidth",!1),Me("eventOrder",{}),pa("role")].concat(BE())),L$=xi({factory:Hu,schema:[ve("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Lt([Ar.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(Tf)},buttonBehaviours:Lt([ze.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),H$=xi({factory:Hu,schema:[ve("dom")],name:"button",defaults:function(){return{buttonBehaviours:Lt([Ar.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),V$=re([L$,H$,Qs({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[ve("text")],name:"aria-descriptor"}),Zs({schema:[zf()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(c){t.onItemExecute(c,r,o)})}}}}),eS()]),eb=function(t,r,o,c){var v,m=function(B){da.getCurrent(B).each(function(N){Ba.highlightFirst(N),vr.focusIn(N)})},p=function(B){var N=m;$1(t,function(j){return j},B,c,N,Ic.HighlightFirst).get(nt)},C=function(B){return p(B),E.some(!0)},S=function(B){var N=Nc(B,t,"button");return Tf(N),E.some(!0)},k=se(se({},ba([Oo(function(B,N){var j=qa(B,t,"aria-descriptor");j.each(function(te){var ne=Qn("aria");ya(te.element,"id",ne),ya(B.element,"aria-describedby",ne)})})])),Mt(E.some(p))),D={repositionMenus:function(B){ze.isOn(B)&&_E(B)}};return{uid:t.uid,dom:t.dom,components:r,apis:D,eventOrder:se(se({},t.eventOrder),(v={},v[Du()]=["disabling","toggling","alloy.base.behaviour"],v)),events:k,behaviours:oi(t.splitDropdownBehaviours,[$o.config({others:{sandbox:function(B){var N=Nc(B,t,"arrow"),j={onOpen:function(){ze.on(N),ze.on(B)},onClose:function(){ze.off(N),ze.off(B)}};return DE(t,B,j)}}}),vr.config({mode:"special",onSpace:S,onEnter:S,onDown:C}),Ar.config({}),ze.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},JS=Cu({name:"SplitDropdown",configFields:z$(),partFields:V$(),factory:eb,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),U$=function(t){return{isDisabled:function(){return pr.isDisabled(t)},setDisabled:function(r){return pr.set(t,r)}}},W$=function(t){return{setActive:function(r){ze.set(t,r)},isActive:function(){return ze.isOn(t)},isDisabled:function(){return pr.isDisabled(t)},setDisabled:function(r){return pr.set(t,r)}}},uB=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},sB=Qn("focus-button"),ZS=["checklist","ordered-list"],j$=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],QS=function(t,r,o,c,v,m){var p,C=function(k){return $c.isRtl()&&Sn(ZS,k)?k+"-rtl":k},S=$c.isRtl()&&t.exists(function(k){return Sn(j$,k)});return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]).concat(S?["tox-tbtn__icon-rtl"]:[]),attributes:uB(o,m)},components:A1([t.map(function(k){return Xy(C(k),m.icons)}),r.map(function(k){return oO(k,"tox-tbtn",m)})]),eventOrder:(p={},p[js()]=["focusing","alloy.base.behaviour","common-button-display-events"],p),buttonBehaviours:Lt([xl.toolbarButton(m.isDisabled),ki(),Yr("common-button-display-events",[Et(js(),function(k,D){D.event.prevent(),va(k,sB)})])].concat(c.map(function(k){return Os.config({channel:k,initialData:{icon:t,text:r},renderComponents:function(D,B){return A1([D.icon.map(function(N){return Xy(C(N),m.icons)}),D.text.map(function(N){return oO(N,"tox-tbtn",m)})])}})}).toArray()).concat(v.getOr([])))}},HO=function(t,r,o,c){var v=r.shared;return Bh.sketch({lazySink:v.getSink,fetch:function(){return ru.nu(function(m){m(Pe(o(t.items),Rh))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:QS(t.icon,t.text,t.tooltip,E.none(),E.none(),v.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:c}}}})},VO=function(t,r,o){var c=nn(nt),v=QS(t.icon,t.text,t.tooltip,E.none(),E.none(),o);return Hu.sketch({dom:v.dom,components:v.components,eventOrder:uO,buttonBehaviours:Lt([Yr("toolbar-button-events",[G1({onAction:t.onAction,getApi:r.getApi}),Dy(r,c),_y(r,c)]),xl.toolbarButton(function(){return t.disabled||o.isDisabled()}),ki()].concat(r.toolbarButtonBehaviours))})},ex=function(t,r){return sw(t,r,[])},sw=function(t,r,o){return VO(t,{toolbarButtonBehaviours:[].concat(o.length>0?[Yr("toolbarButtonWith",o)]:[]),getApi:U$,onSetup:t.onSetup},r)},Ph=function(t,r){return cB(t,r,[])},cB=function(t,r,o){return Hr(VO(t,{toolbarButtonBehaviours:[Fr.config({}),ze.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[Yr("toolbarToggleButtonWith",o)]:[]),getApi:W$,onSetup:t.onSetup},r))},q$=function(t,r,o){return function(c){return ru.nu(function(v){return r.fetch(v)}).map(function(v){return E.from(L3(Hr(yE(Qn("menu-value"),v,function(m){r.onItemAction(t(c),m)},r.columns,r.presets,of.CLOSE_ON_EXECUTE,r.select.getOr(Gt),o),{movement:KC(r.columns,r.presets),menuBehaviours:FC.unnamedEvents(r.columns!=="auto"?[]:[Oo(function(m,p){Ty(m,4,T4(r.presets)).each(function(C){var S=C.numRows,k=C.numColumns;vr.setGridSize(m,S,k)})})])})))})}},UO=function(t,r){var o,c=Qn("channel-update-split-dropdown-display"),v=function(C){return{isDisabled:function(){return pr.isDisabled(C)},setDisabled:function(S){return pr.set(C,S)},setIconFill:function(S,k){Zi(C.element,'svg path[id="'+S+'"], rect[id="'+S+'"]').each(function(D){ya(D,"fill",k)})},setIconStroke:function(S,k){Zi(C.element,'svg path[id="'+S+'"], rect[id="'+S+'"]').each(function(D){ya(D,"stroke",k)})},setActive:function(S){C.getSystem().isConnected()&&(ya(C.element,"aria-pressed",S),Zi(C.element,"span").each(function(k){C.getSystem().getByDom(k).each(function(D){return ze.set(D,S)})}))},isActive:function(){return Zi(C.element,"span").exists(function(S){return C.getSystem().isConnected()?C.getSystem().getByDom(S).exists(ze.isOn):!1})}}},m=nn(nt),p={getApi:v,onSetup:t.onSetup};return JS.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:se({"aria-pressed":!1},uB(t.tooltip,r.providers))},onExecute:function(C){t.onAction(v(C))},onItemExecute:function(C,S,k){},splitDropdownBehaviours:Lt([xl.splitButton(r.providers.isDisabled),ki(),Yr("split-dropdown-events",[Et(sB,Ar.focus),Dy(p,m),_y(p,m)]),zy.config({})]),eventOrder:(o={},o[Jc()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:q$(v,t,r.providers),parts:{menu:PC(!1,t.columns,t.presets)},components:[JS.parts.button(QS(t.icon,t.text,E.none(),E.some(c),E.some([ze.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),JS.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Vu("chevron-down",r.providers.icons)},buttonBehaviours:Lt([xl.splitButton(r.providers.isDisabled),ki()])}),JS.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},G$=function(t){return{hide:function(){return va(t,sg())},getValue:function(){return wn.getValue(t)}}},cw=function(t,r){return Et(la,function(o,c){var v=t.get(o),m=G$(v);r.onAction(m,c.event.buttonApi)})},lB=function(t,r,o){var c=r.original;c.primary;var v=Z(c,["primary"]),m=ku(g4(se(se({},v),{type:"button",onAction:nt})));return sw(m,o.backstage.shared.providers,[cw(t,r)])},K$=function(t,r,o){var c=r.original;c.primary;var v=Z(c,["primary"]),m=ku(h4(se(se({},v),{type:"togglebutton",onAction:nt})));return cB(m,o.backstage.shared.providers,[cw(t,r)])},X$=function(t,r,o){var c={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?K$(t,r,c):lB(t,r,c)},lw=function(t,r,o){var c=Pe(r,function(p){return Ca(X$(t,p,o))}),v=function(){return Pe(c,function(p){return p.asSpec()})},m=function(p){return sn(r,function(C,S){return C.primary?E.from(c[S]).bind(function(k){return k.getOpt(p)}).filter(qn(pr.isDisabled)):E.none()})};return{asSpecs:v,findPrimary:m}},tx=function(t,r){var o=t.label.fold(function(){return{}},function(m){return{"aria-label":m}}),c=Ca(Iy.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:Lt([vr.config({mode:"special",onEnter:function(m){return v.findPrimary(m).map(function(p){return Tf(p),!0})},onLeft:function(m,p){return p.cut(),E.none()},onRight:function(m,p){return p.cut(),E.none()}})])})),v=lw(c,t.commands,r);return[{title:E.none(),items:[c.asSpec()]},{title:E.none(),items:v.asSpecs()}]},Y$=function(t,r,o){return KS({type:t,uid:Qn("context-toolbar"),initGroups:tx(r,o),onEscape:E.none,cyclicKeying:!0,providers:o})},J$={renderContextForm:Y$,buildInitGroups:tx},fB=function(t,r){var o=Math.max(r.x,t.x),c=t.right-o,v=r.width-(o-r.x),m=Math.min(c,v);return{x:o,width:m}},Z$=function(t,r,o,c){var v=yn.fromDom(t.getContainer()),m=Zi(v,".tox-editor-header").getOr(v),p=ys(m),C=p.y>=r.bottom,S=c&&!C;if(t.inline&&S)return{y:Math.max(p.bottom,o.y),bottom:o.bottom};if(t.inline&&!S)return{y:o.y,bottom:Math.min(p.y,o.bottom)};var k=ys(v);return S?{y:Math.max(p.bottom,o.y),bottom:Math.min(k.bottom,o.bottom)}:{y:Math.max(k.y,o.y),bottom:Math.min(p.y,o.bottom)}},vB=function(t,r){var o=cp(window),c=ys(yn.fromDom(t.getContentAreaContainer())),v=QT(t)||O1(t)||Oy(t),m=fB(c,o),p=m.x,C=m.width;if(t.inline&&!v)return iu(p,o.y,C,o.height);var S=r.header.isPositionedAtTop(),k=Z$(t,c,o,S),D=k.y,B=k.bottom;return iu(p,D,C,B-D)},e=function(t,r){var o=de(r,function(p){return p.predicate(t.dom)}),c=Bn(o,function(p){return p.type==="contexttoolbar"}),v=c.pass,m=c.fail;return{contextToolbars:v,contextForms:m}},n=function(t){if(t.length<=1)return t;var r=function(C){return Dn(t,function(S){return S.position===C})},o=function(C){return de(t,function(S){return S.position===C})},c=r("selection"),v=r("node");if(c||v)if(v&&c){var m=o("node"),p=Pe(o("selection"),function(C){return se(se({},C),{position:"node"})});return m.concat(p)}else return o(c?"selection":"node");else return o("line")},a=function(t){if(t.length<=1)return t;var r=function(c){return ke(t,function(v){return v.position===c})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(c){return c.position});return o.fold(function(){return[]},function(c){return de(t,function(v){return v.position===c})})},i=function(t,r,o){var c=e(t,r);if(c.contextForms.length>0)return E.some({elem:t,toolbars:[c.contextForms[0]]});var v=e(t,o);if(v.contextForms.length>0)return E.some({elem:t,toolbars:[v.contextForms[0]]});if(c.contextToolbars.length>0||v.contextToolbars.length>0){var m=n(c.contextToolbars.concat(v.contextToolbars));return E.some({elem:t,toolbars:m})}else return E.none()},s=function(t,r,o){return t(r)?E.none():T(r,function(c){var v=e(c,o.inNodeScope),m=v.contextToolbars,p=v.contextForms,C=p.length>0?p:a(m);return C.length>0?E.some({elem:c,toolbars:C}):E.none()},t)},f=function(t,r){var o=yn.fromDom(r.getBody()),c=function(p){return Ko(p,o)},v=function(p){return!c(p)&&!Sv(o,p)},m=yn.fromDom(r.selection.getNode());return v(m)?E.none():i(m,t.inNodeScope,t.inEditorScope).orThunk(function(){return s(c,m,t)})},g=function(t,r){var o={},c=[],v=[],m={},p={},C=function(D,B){var N=ku(rR(B));o[D]=N,N.launch.map(function(j){m["form:"+D]=se(se({},B.launch),{type:j.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(N)}})}),N.scope==="editor"?v.push(N):c.push(N),p[D]=N},S=function(D,B){oR(B).each(function(N){B.scope==="editor"?v.push(N):c.push(N),p[D]=N})},k=hr(t);return Ct(k,function(D){var B=t[D];B.type==="contextform"?C(D,B):B.type==="contexttoolbar"&&S(D,B)}),{forms:o,inNodeScope:c,inEditorScope:v,lookupTable:p,formNavigators:m}},b=Qn("forward-slide"),y=Qn("backward-slide"),O=Qn("change-slide-event"),P="tox-pop--resizing",R=function(t){var r=nn([]);return Ho.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),Ho.getContent(o).each(function(c){mo(c.element,"visibility")}),vo(o.element,P),mo(o.element,"width")},inlineBehaviours:Lt([Yr("context-toolbar-events",[wc(Cf(),function(o,c){vo(o.element,P),mo(o.element,"width")}),Et(O,function(o,c){var v=o.element;mo(v,"width");var m=Mu(v);Ho.setContent(o,c.event.contents),ja(v,P);var p=Mu(v);Ir(v,"width",m+"px"),Ho.getContent(o).each(function(C){c.event.focus.bind(function(S){return Is(S),yu(v)}).orThunk(function(){return vr.focusIn(C),Oc(li(v))})}),Cl.setTimeout(function(){Ir(o.element,"width",p+"px")},0)}),Et(b,function(o,c){Ho.getContent(o).each(function(v){r.set(r.get().concat([{bar:v,focus:Oc(li(o.element))}]))}),Hn(o,O,{contents:c.event.forwardContents,focus:E.none()})}),Et(y,function(o,c){mt(r.get()).each(function(v){r.set(r.get().slice(0,r.get().length-1)),Hn(o,O,{contents:Pu(v.bar),focus:v.focus})})})]),vr.config({mode:"special",onEscape:function(o){return mt(r.get()).fold(function(){return t.onEscape()},function(c){return va(o,y),E.some(!0)})}})]),lazySink:function(){return vn.value(t.sink)}})},M=function(t,r,o){var c=function(C,S,k,D){var B=r.shared.providers.translate(C.title);if(C.type==="separator")return E.some({type:"separator",text:B});if(C.type==="submenu"){var N=on(C.getStyleItems(),function(j){return v(j,S,D)});return S===0&&N.length<=0?E.none():E.some({type:"nestedmenuitem",text:B,disabled:N.length<=0,getSubmenuItems:function(){return on(C.getStyleItems(),function(j){return v(j,S,D)})}})}else return E.some(se({type:"togglemenuitem",text:B,icon:C.icon,active:C.isSelected(D),disabled:k,onAction:o.onAction(C)},C.getStylePreview().fold(function(){return{}},function(j){return{meta:{style:j}}})))},v=function(C,S,k){var D=C.type==="formatter"&&o.isInvalid(C);return S===0?D?[]:c(C,S,!1,k).toArray():c(C,S,D,k).toArray()},m=function(C){var S=o.getCurrentValue(),k=o.shouldHide?0:1;return on(C,function(D){return v(D,k,S)})},p=function(C,S){return function(k,D){var B=S(),N=m(B),j=K1(N,of.CLOSE_ON_EXECUTE,C,!1);D(j)}};return{validateItems:m,getFetch:p}},W=function(t,r,o){var c=o.dataset,v=c.type==="basic"?function(){return Pe(c.data,function(m){return x_(m,o.isSelectedFor,o.getPreviewFor)})}:c.getData;return{items:M(t,r,o),getStyleItems:v}},K=function(t,r,o){var c=W(t,r,o),v=c.items,m=c.getStyleItems,p=function(S){return{getComponent:re(S)}},C=function(S){var k=function(){var D=S.getComponent();D.getSystem().isConnected()&&o.updateText(D)};return k(),t.on("NodeChange",k),function(){t.off("NodeChange",k)}};return cO({text:o.icon.isSome()?E.none():E.some(""),icon:o.icon,tooltip:E.from(o.tooltip),role:E.none(),fetch:v.getFetch(r,m),onSetup:C,getApi:p,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},J=function(t){return Pe(t,function(r){var o=r,c=r,v=r.split("=");return v.length>1&&(o=v[0],c=v[1]),{title:o,format:c}})},V=function(t){return{type:"basic",data:t}},ge;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(ge||(ge={}));var le=function(t,r){return r===ge.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},pe=function(t,r,o,c){var v=t.getParam(r,o,"string"),m=J(le(v,c));return{type:"basic",data:m}},we=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Ne=function(t){var r=function(){return ke(we,function(C){return t.formatter.match(C.format)})},o=function(C){return function(){return t.formatter.match(C)}},c=function(C){return function(){return E.none()}},v=function(C){var S=r(),k=S.fold(function(){return"left"},function(D){return D.title.toLowerCase()});Hn(C,sO,{icon:"align-"+k})},m=V(we),p=function(C){return function(){return ke(we,function(S){return S.format===C.format}).each(function(S){return t.execCommand(S.command)})}};return{tooltip:"Align",icon:E.some("align-left"),isSelectedFor:o,getCurrentValue:E.none,getPreviewFor:c,onAction:p,updateText:v,dataset:m,shouldHide:!1,isInvalid:function(C){return!t.formatter.canApply(C.format)}}},gt=function(t,r){return K(t,r,Ne(t))},Xt=function(t,r){var o=W(t,r,Ne(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},en="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",Vn=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],Yn=function(t){var r=t.split(/\s*,\s*/);return Pe(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},Nt=function(t){var r=function(){var o=Yn(t.toLowerCase());return zr(Vn,function(c){return o.indexOf(c.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},Dr=function(t){var r=function(){var S=function(j){return j?Yn(j)[0]:""},k=t.queryCommandValue("FontName"),D=C.data,B=k?k.toLowerCase():"",N=ke(D,function(j){var te=j.format;return te.toLowerCase()===B||S(te).toLowerCase()===S(B).toLowerCase()}).orThunk(function(){return Nt(B)?E.from({title:"System Font",format:B}):E.none()});return{matchOpt:N,font:k}},o=function(S){return function(k){return k.exists(function(D){return D.format===S})}},c=function(){var S=r().matchOpt;return S},v=function(S){return function(){return E.some({tag:"div",styles:S.indexOf("dings")===-1?{"font-family":S}:{}})}},m=function(S){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,S.format)})}},p=function(S){var k=r(),D=k.matchOpt,B=k.font,N=D.fold(function(){return B},function(j){return j.title});Hn(S,Ah,{text:N})},C=pe(t,"font_formats",en,ge.SemiColon);return{tooltip:"Fonts",icon:E.none(),isSelectedFor:o,getCurrentValue:c,getPreviewFor:v,onAction:m,updateText:p,dataset:C,shouldHide:!1,isInvalid:Gt}},gn=function(t,r){return K(t,r,Dr(t))},Un=function(t,r){var o=W(t,r,Dr(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},rn="8pt 10pt 12pt 14pt 18pt 24pt 36pt",kn={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},In={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},It=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},Fn=function(t,r){return/[0-9.]+px$/.test(t)?It(parseInt(t,10)*72/96,r||0)+"pt":Pn(In,t).getOr(t)},Sa=function(t){return Pn(kn,t).getOr("")},to=function(t){var r=function(){var S=E.none(),k=C.data,D=t.queryCommandValue("FontSize");if(D)for(var B=function(j){var te=Fn(D,j),ne=Sa(te);S=ke(k,function(be){return be.format===D||be.format===te||be.format===ne})},N=3;S.isNone()&&N>=0;N--)B(N);return{matchOpt:S,size:D}},o=function(S){return function(k){return k.exists(function(D){return D.format===S})}},c=function(){var S=r().matchOpt;return S},v=re(E.none),m=function(S){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,S.format)})}},p=function(S){var k=r(),D=k.matchOpt,B=k.size,N=D.fold(function(){return B},function(j){return j.title});Hn(S,Ah,{text:N})},C=pe(t,"fontsize_formats",rn,ge.Space);return{tooltip:"Font sizes",icon:E.none(),isSelectedFor:o,getPreviewFor:v,getCurrentValue:c,onAction:m,updateText:p,dataset:C,shouldHide:!1,isInvalid:Gt}},za=function(t,r){return K(t,r,to(t))},vi=function(t,r){var o=W(t,r,to(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},Jo=function(t,r){var o=r(),c=Pe(o,function(v){return v.format});return E.from(t.formatter.closest(c)).bind(function(v){return ke(o,function(m){return m.format===v})}).orThunk(function(){return Zp(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},us=function(t){var r=nn(E.none()),o=function(){return r.get().each(t)},c=function(){o(),r.set(E.none())},v=function(){return r.get().isSome()},m=function(p){o(),r.set(E.some(p))};return{clear:c,isSet:v,set:m}},Uu=function(){return us(function(t){return t.destroy()})},Bt=function(){return us(function(t){return t.unbind()})},at=function(){var t=nn(E.none()),r=function(){return t.set(E.none())},o=function(m){return t.set(E.some(m))},c=function(){return t.get().isSome()},v=function(m){return t.get().each(m)};return{clear:r,set:o,isSet:c,on:v}},kt=function(t,r){return function(o){var c=Bt(),v=function(){o.setActive(t.formatter.match(r));var m=t.formatter.formatChanged(r,o.setActive);c.set(m)};return t.initialized?v():t.on("init",v),c.clear}},rt=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},Tn="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",An=function(t){var r=function(m){return function(){return t.formatter.match(m)}},o=function(m){return function(){var p=t.formatter.get(m);return E.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(m))})}},c=function(m){var p=Jo(t,function(){return v.data}),C=p.fold(function(){return"Paragraph"},function(S){return S.title});Hn(m,Ah,{text:C})},v=pe(t,"block_formats",Tn,ge.SemiColon);return{tooltip:"Blocks",icon:E.none(),isSelectedFor:r,getCurrentValue:E.none,getPreviewFor:o,onAction:rt(t),updateText:c,dataset:v,shouldHide:!1,isInvalid:function(m){return!t.formatter.canApply(m.format)}}},_r=function(t,r){return K(t,r,An(t))},ra=function(t,r){var o=W(t,r,An(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},yo=function(t,r){var o=function(m){return function(){return t.formatter.match(m)}},c=function(m){return function(){var p=t.formatter.get(m);return p!==void 0?E.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(m))}):E.none()}},v=function(m){var p=function(D){var B=D.items;return B!==void 0&&B.length>0?on(B,p):[{title:D.title,format:D.format}]},C=on(nw(t),p),S=Jo(t,function(){return C}),k=S.fold(function(){return"Paragraph"},function(D){return D.title});Hn(m,Ah,{text:k})};return{tooltip:"Formats",icon:E.none(),isSelectedFor:o,getCurrentValue:E.none,getPreviewFor:c,onAction:rt(t),updateText:v,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(m){return!t.formatter.canApply(m.format)},dataset:r}},au=function(t,r){var o=se({type:"advanced"},r.styleselect);return K(t,r,yo(t,o))},ss=function(t,r){var o=se({type:"advanced"},r.styleselect),c=W(t,r,yo(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return c.items.validateItems(c.getStyleItems())}})},bd=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Ki=function(t,r){return function(o,c,v){var m=t(o).mapError(function(p){return qu(p)}).getOrDie();return r(m,c,v)}},Xi={button:Ki(g4,function(t,r){return ex(t,r.backstage.shared.providers)}),togglebutton:Ki(h4,function(t,r){return Ph(t,r.backstage.shared.providers)}),menubutton:Ki(nB,function(t,r){return fO(t,"tox-tbtn",r.backstage,E.none())}),splitbutton:Ki(aB,function(t,r){return UO(t,r.backstage.shared)}),grouptoolbarbutton:Ki(XS,function(t,r,o){var c,v=o.ui.registry.getAll().buttons,m=function(C){return sc(o,{buttons:v,toolbar:C,allowToolbarGroups:!1},r,E.none())},p=(c={},c[tm]=r.backstage.shared.header.isPositionedAtTop()?cl.TopToBottom:cl.BottomToTop,c);switch(Ay(o)){case cu.floating:return HO(t,r.backstage,m,p);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return au(t,r.backstage)},fontsizeSelectButton:function(t,r){return za(t,r.backstage)},fontSelectButton:function(t,r){return gn(t,r.backstage)},formatButton:function(t,r){return _r(t,r.backstage)},alignMenuButton:function(t,r){return gt(t,r.backstage)}},Vo=function(t,r,o){return Pn(Xi,t.type).fold(function(){return console.error("skipping button defined by",t),E.none()},function(c){return E.some(c(t,r,o))})},ff={styleselect:Xi.styleSelectButton,fontsizeselect:Xi.fontsizeSelectButton,fontselect:Xi.fontSelectButton,formatselect:Xi.formatButton,align:Xi.alignMenuButton},As=function(t){var r=Pe(bd,function(o){var c=de(o.items,function(v){return Oa(t,v)||Oa(ff,v)});return{name:o.name,items:c}});return de(r,function(o){return o.items.length>0})},uo=function(t){var r=t.split("|");return Pe(r,function(o){return{items:o.trim().split(" ")}})},no=function(t){return Jt(t,function(r){return Oa(r,"name")&&Oa(r,"items")})},lu=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?As(o):pn(r)?uo(r):no(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},vf=function(t,r,o,c,v,m){return Pn(r,o.toLowerCase()).orThunk(function(){return m.bind(function(p){return sn(p,function(C){return Pn(r,C+o.toLowerCase())})})}).fold(function(){return Pn(ff,o.toLowerCase()).map(function(p){return p(t,v)}).orThunk(function(){return E.none()})},function(p){return p.type==="grouptoolbarbutton"&&!c?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),E.none()):Vo(p,v,t)})},sc=function(t,r,o,c){var v=lu(r),m=Pe(v,function(p){var C=on(p.items,function(S){return S.trim().length===0?[]:vf(t,r.buttons,S,r.allowToolbarGroups,o,c).toArray()});return{title:E.from(t.translate(p.name)),items:C}});return de(m,function(p){return p.items.length>0})},cc=12,yd={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Mh={maxHeightFunction:Rg(),maxWidthFunction:RO()},Gm={onLtr:function(){return[Fu,eu,wi,oo,Hi,Ei,vd,mh,vh,w1,dh,C1]},onRtl:function(){return[Fu,eu,Hi,Ei,wi,oo,vd,mh,dh,C1,vh,w1]}},nx={onLtr:function(){return[eu,oo,Ei,wi,Hi,Fu,vd,mh,vh,w1,dh,C1]},onRtl:function(){return[eu,Ei,oo,Hi,wi,Fu,vd,mh,dh,C1,vh,w1]}},Q$=function(t,r){return t==="line"?{bubble:Wv(cc,0,yd),layouts:{onLtr:function(){return[jb]},onRtl:function(){return[Kd]}},overrides:Mh}:{bubble:Wv(0,cc,yd),layouts:r?nx:Gm,overrides:Mh}},dB=function(t,r,o,c){var v=Mi().deviceType.isTouch,m=pu(R({sink:o,onEscape:function(){return t.focus(),E.some(!0)}})),p=function(){return vB(t,c.backstage.shared)},C=function(ln,vt,Tt,Mn){return Math.max(ln,Tt)<=Math.min(vt,Mn)},S=function(){var ln=te.get().filter(function(Tt){return Ru(yn.fromDom(Tt))}).map(function(Tt){return Tt.getBoundingClientRect()}).getOrThunk(function(){return t.selection.getRng().getBoundingClientRect()}),vt=t.inline?Ys().top:Xl(yn.fromDom(t.getBody())).y;return{y:ln.top+vt,bottom:ln.bottom+vt}},k=function(){if(v()&&c.backstage.isContextMenuOpen())return!0;var ln=S(),vt=p();return!C(ln.y,ln.bottom,vt.y,vt.bottom)},D=function(){j.set(E.none()),Ho.hide(m)},B=function(){Ho.hide(m)},N=function(){j.get().each(function(ln){var vt=m.element;mo(vt,"display"),k()?Ir(vt,"display","none"):wu.positionWithinBounds(o,ln,m,E.some(p()))})},j=nn(E.none()),te=nn(E.none()),ne=nn(null),be=function(ln){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ln],behaviours:Lt([vr.config({mode:"acyclic"}),Yr("pop-dialog-wrap-events",[Oo(function(vt){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return vr.focusIn(vt)})}),Yu(function(vt){t.shortcuts.remove("ctrl+F9")})])])}},ae=ko(function(){return g(r,function(ln){var vt=tt([ln]);Hn(m,b,{forwardContents:be(vt)})})}),Oe=function(ln,vt){return sc(t,{buttons:ln,toolbar:vt.items,allowToolbarGroups:!1},c,E.some(["form:"]))},Re=function(ln,vt){return J$.buildInitGroups(ln,vt)},tt=function(ln){var vt=t.ui.registry.getAll().buttons,Tt=ae(),Mn=se(se({},vt),Tt.formNavigators),yr=Ay(t)===cu.scrolling?cu.scrolling:cu.default,qt=br(Pe(ln,function(er){return er.type==="contexttoolbar"?Oe(Mn,er):Re(er,c.backstage.shared.providers)}));return KS({type:yr,uid:Qn("context-toolbar"),initGroups:qt,onEscape:E.none,cyclicKeying:!0,providers:c.backstage.shared.providers})};t.on(l$,function(ln){var vt=ae();Pn(vt.lookupTable,ln.toolbarKey).each(function(Tt){et([Tt],ln.target===t?E.none():E.some(ln)),Ho.getContent(m).each(vr.focusIn)})});var Ue=function(ln,vt){var Tt=ln==="node"?c.backstage.shared.anchors.node(vt):c.backstage.shared.anchors.cursor();return Hr(Tt,Q$(ln,v()))},et=function(ln,vt){if(Dt(),!(v()&&c.backstage.isContextMenuOpen())){var Tt=tt(ln),Mn=vt.map(yn.fromDom),yr=Ue(ln[0].position,Mn);j.set(E.some(yr)),te.set(vt);var qt=m.element;mo(qt,"display"),Ho.showWithinBounds(m,yr,be(Tt),function(){return E.some(p())}),k()&&Ir(qt,"display","none")}},Ke=function(){if(!!t.hasFocus()){var ln=ae();f(ln,t).fold(D,function(vt){et(vt.toolbars,E.some(vt.elem.dom))})}},Dt=function(){var ln=ne.get();ln!==null&&(Cl.clearTimeout(ln),ne.set(null))},Wn=function(){Dt(),ne.set(Cl.setEditorTimeout(t,Ke,0))};t.on("init",function(){t.on(N_,B),t.on("ScrollContent ScrollWindow longpress",N),t.on("click keyup focus SetContent ObjectResized ResizeEditor",function(){Wn()}),t.on("focusout",function(ln){Cl.setEditorTimeout(t,function(){yu(o.element).isNone()&&yu(m.element).isNone()&&D()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&D()}),t.on("AfterProgressState",function(ln){ln.state?D():t.hasFocus()&&Wn()}),t.on("NodeChange",function(ln){yu(m.element).fold(Wn,nt)})})},mB=function(t,r,o){var c=function(ae,Oe){Ct([r,o],function(Re){Re.broadcastEvent(ae,Oe)})},v=function(ae,Oe){Ct([r,o],function(Re){Re.broadcastOn([ae],Oe)})},m=function(ae){return v(zu(),{target:ae.target})},p=kl(yn.fromDom(document),"touchstart",m),C=kl(yn.fromDom(document),"touchmove",function(ae){return c(Uh(),ae)}),S=kl(yn.fromDom(document),"touchend",function(ae){return c($l(),ae)}),k=kl(yn.fromDom(document),"mousedown",m),D=kl(yn.fromDom(document),"mouseup",function(ae){ae.raw.button===0&&v(Zv(),{target:ae.target})}),B=function(ae){return v(zu(),{target:yn.fromDom(ae.target)})},N=function(ae){ae.button===0&&v(Zv(),{target:yn.fromDom(ae.target)})},j=function(ae){return c(lg(),V3(ae))},te=function(ae){v(vl(),{}),c(Il(),V3(ae))},ne=function(){return v(vl(),{})},be=function(ae){ae.state&&v(zu(),{target:yn.fromDom(t.getContainer())})};t.on("PostRender",function(){t.on("click",B),t.on("tap",B),t.on("mouseup",N),t.on("ScrollWindow",j),t.on("ResizeWindow",te),t.on("ResizeEditor",ne),t.on("AfterProgressState",be)}),t.on("remove",function(){t.off("click",B),t.off("tap",B),t.off("mouseup",N),t.off("ScrollWindow",j),t.off("ResizeWindow",te),t.off("ResizeEditor",ne),t.off("AfterProgressState",be),k.unbind(),p.unbind(),C.unbind(),S.unbind(),D.unbind()}),t.on("detach",function(){Yv(r),Yv(o),r.destroy(),o.destroy()})},Ds=Xp,Km=F0,eI=re([Me("shell",!1),ve("makeItem"),Me("setupItem",nt),ts.field("listBehaviours",[Fr])]),tI=function(){return{behaviours:Lt([Fr.config({})])}},nI=Qs({name:"items",overrides:tI}),rI=re([nI]),Nh=re("CustomList"),gB=function(t,r,o,c){var v=function(C,S){p(C).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(k){var D=Fr.contents(k),B=S.length,N=B-D.length,j=N>0?wr(N,function(){return t.makeItem()}):[],te=D.slice(B);Ct(te,function(be){return Fr.remove(k,be)}),Ct(j,function(be){return Fr.append(k,be)});var ne=Fr.contents(k);Ct(ne,function(be,ae){t.setupItem(C,be,S[ae],ae)})})},m=t.shell?{behaviours:[Fr.config({})],components:[]}:{behaviours:[],components:r},p=function(C){return t.shell?E.some(C):qa(C,t,"items")};return{uid:t.uid,dom:t.dom,components:m.components,behaviours:oi(t.listBehaviours,m.behaviours),apis:{setItems:v}}},Te=Cu({name:Nh(),configFields:eI(),partFields:rI(),factory:gB,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),ot=nt,tn=Gt,hn=re([]),jr=Object.freeze({__proto__:null,setup:ot,isDocked:tn,getBehaviours:hn}),Da=function(t){var r=Bo(t,"position").is("fixed"),o=r?E.none():Hl(t);return o.orThunk(function(){var c=yn.fromTag("span");return $i(t).bind(function(v){Bu(v,c);var m=Hl(c);return tl(c),m})})},wo=function(t){return Da(t).map(ka).getOrThunk(function(){return Ro(0,0)})},vv=Gn.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),Rz=function(t,r){var o=t.element;ja(o,r.transitionClass),vo(o,r.fadeOutClass),ja(o,r.fadeInClass),r.onShow(t)},Pz=function(t,r){var o=t.element;ja(o,r.transitionClass),vo(o,r.fadeInClass),ja(o,r.fadeOutClass),r.onHide(t)},Mz=function(t,r){return t.y<r.bottom&&t.bottom>r.y},Nz=function(t,r){return t.y>=r.y},Fz=function(t,r){return t.bottom<=r.bottom},qI=function(t,r,o){return zr(t,function(c){switch(c){case"bottom":return Fz(r,o);case"top":return Nz(r,o)}})},GI=function(t,r){return r.getInitialPosition().map(function(o){return iu(o.bounds.x,o.bounds.y,Mu(t),bu(t))})},$z=function(t,r,o){o.setInitialPosition(E.some({style:rp(t),position:Fs(t,"position")||"static",bounds:r}))},KI=function(t,r,o){return o.getInitialPosition().bind(function(c){switch(o.setInitialPosition(E.none()),c.position){case"static":return E.some(vv.static());case"absolute":var v=Da(t).map(ys).getOrThunk(function(){return ys(Gl())});return E.some(vv.absolute(Ac("absolute",Pn(c.style,"left").map(function(m){return r.x-v.x}),Pn(c.style,"top").map(function(m){return r.y-v.y}),Pn(c.style,"right").map(function(m){return v.right-r.right}),Pn(c.style,"bottom").map(function(m){return v.bottom-r.bottom}))));default:return E.none()}})},Iz=function(t,r,o){return GI(t,o).filter(function(c){return qI(o.getModes(),c,r)}).bind(function(c){return KI(t,c,o)})},zz=function(t,r,o){var c=ys(t);if(qI(o.getModes(),c,r))return E.none();$z(t,c,o);var v=Ji(),m=c.x-v.x,p=r.y-v.y,C=v.bottom-r.bottom,S=c.y<=r.y;return E.some(vv.fixed(Ac("fixed",E.some(m),S?E.some(p):E.none(),E.none(),S?E.none():E.some(C))))},Lz=function(t,r,o){var c=t.element,v=Bo(c,"position").is("fixed");return v?Iz(c,r,o):zz(c,r,o)},Hz=function(t,r){var o=t.element;return GI(o,r).bind(function(c){return KI(o,c,r)})},XI=function(t,r){Ct(["left","right","top","bottom","position"],function(o){return mo(t.element,o)}),r.onUndocked(t)},aI=function(t,r,o){Hv(t.element,o);var c=o.position==="fixed"?r.onDocked:r.onUndocked;c(t)},YI=function(t,r,o,c,v){v===void 0&&(v=!1),r.contextual.each(function(m){m.lazyContext(t).each(function(p){var C=Mz(p,c);if(C!==o.isVisible())if(o.setVisible(C),v&&!C)Rf(t.element,[m.fadeOutClass]),m.onHide(t);else{var S=C?Rz:Pz;S(t,m)}})})},Vz=function(t,r,o){var c=r.lazyViewport(t),v=o.isDocked();v&&YI(t,r,o,c),Lz(t,c,o).each(function(m){o.setDocked(!v),m.fold(function(){return XI(t,r)},function(p){return aI(t,r,p)},function(p){YI(t,r,o,c,!0),aI(t,r,p)})})},Uz=function(t,r,o){var c=t.element;o.setDocked(!1),Hz(t,o).each(function(v){v.fold(function(){return XI(t,r)},function(m){return aI(t,r,m)},nt)}),o.setVisible(!0),r.contextual.each(function(v){bo(c,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(t)}),oI(t,r,o)},oI=function(t,r,o){t.getSystem().isConnected()&&Vz(t,r,o)},JI=function(t,r,o){o.isDocked()&&Uz(t,r,o)},Wz=function(t,r,o){return o.isDocked()},jz=function(t,r,o,c){return o.setModes(c)},qz=function(t,r,o){return o.getModes()},Gz=Object.freeze({__proto__:null,refresh:oI,reset:JI,isDocked:Wz,getModes:qz,setModes:jz}),Kz=function(t,r){return ba([wc(Cf(),function(o,c){t.contextual.each(function(v){if(fi(o.element,v.transitionClass)){bo(o.element,[v.transitionClass,v.fadeInClass]);var m=r.isVisible()?v.onShown:v.onHidden;m(o)}c.stop()})}),Et(lg(),function(o,c){oI(o,t,r)}),Et(Il(),function(o,c){JI(o,t,r)})])},Xz=Object.freeze({__proto__:null,events:Kz}),Yz=[Bi("contextual",[un("fadeInClass"),un("fadeOutClass"),un("transitionClass"),na("lazyContext"),wa("onShow"),wa("onShown"),wa("onHide"),wa("onHidden")]),Ua("lazyViewport",Ji),dc("modes",["top","bottom"],Le),wa("onDocked"),wa("onUndocked")],Jz=function(t){var r=nn(!1),o=nn(!0),c=nn(E.none()),v=nn(t.modes),m=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+v.get().join(",")};return Ii({isDocked:r.get,setDocked:r.set,getInitialPosition:c.get,setInitialPosition:c.set,isVisible:o.get,setVisible:o.set,getModes:v.get,setModes:v.set,readState:m})},Zz=Object.freeze({__proto__:null,init:Jz}),_s=Do({fields:Yz,name:"docking",active:Xz,apis:Gz,state:Zz}),Xm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},ZI="tox-tinymce--toolbar-sticky-on",QI="tox-tinymce--toolbar-sticky-off",Qz=function(t,r){var o=Ao(r),c=o.dom.defaultView.innerHeight,v=Ys(o),m=yn.fromDom(t.elm),p=Xl(m),C=bu(m),S=p.y,k=S+C,D=ka(r),B=bu(r),N=D.top,j=N+B,te=Math.abs(N-v.top)<2,ne=Math.abs(j-(v.top+c))<2;if(te&&S<j)Vd(v.left,S-B,o);else if(ne&&k>N){var be=S-c+C+B;Vd(v.left,be,o)}},e6=function(t,r){return Sn(_s.getModes(t),r)},iI=function(t){var r=function(c){return Kl(c)+(parseInt(Fs(c,"margin-top"),10)||0)+(parseInt(Fs(c,"margin-bottom"),10)||0)},o=t.element;$i(o).each(function(c){var v="padding-"+_s.getModes(t)[0];if(_s.isDocked(t)){var m=Mu(c);Ir(o,"width",m+"px"),Ir(c,v,r(o)+"px")}else mo(o,"width"),mo(c,v)})},e8=function(t,r){r?(vo(t,Xm.fadeOutClass),Rf(t,[Xm.transitionClass,Xm.fadeInClass])):(vo(t,Xm.fadeInClass),Rf(t,[Xm.fadeOutClass,Xm.transitionClass]))},t8=function(t,r){var o=yn.fromDom(t.getContainer());r?(ja(o,ZI),vo(o,QI)):(ja(o,QI),vo(o,ZI))},t6=function(t,r){var o=Ao(r);Oc(o).filter(function(c){return!Ko(r,c)}).filter(function(c){return Ko(c,yn.fromDom(o.dom.body))||Sv(t,c)}).each(function(){return Is(r)})},n6=function(t,r){return yu(t).orThunk(function(){return r().toOptional().bind(function(o){return yu(o.element)})})},r6=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(_s.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(iI)}),t.on("SkinLoaded",function(){o().each(function(c){_s.isDocked(c)?_s.reset(c):_s.refresh(c)})}),t.on("FullscreenStateChanged",function(){o().each(_s.reset)})),t.on("AfterScrollIntoView",function(c){o().each(function(v){_s.refresh(v);var m=v.element;Zf(m)&&Qz(c,m)})}),t.on("PostRender",function(){t8(t,!1)})},a6=function(t){return t().map(_s.isDocked).getOr(!1)},o6=function(){var t;return[tu.config({channels:(t={},t[GS()]={onReceive:iI},t)})]},n8=function(t,r){var o=nn(E.none()),c=r.getSink,v=function(C){c().each(function(S){return C(S.element)})},m=function(C){t.inline||iI(C),t8(t,_s.isDocked(C)),C.getSystem().broadcastOn([vl()],{}),c().each(function(S){return S.getSystem().broadcastOn([vl()],{})})},p=t.inline?[]:o6();return qe([Ar.config({}),_s.config({contextual:se({lazyContext:function(C){var S=Kl(C.element),k=t.inline?t.getContentAreaContainer():t.getContainer(),D=ys(yn.fromDom(k)),B=D.height-S,N=D.y+(e6(C,"top")?0:S);return E.some(iu(D.x,N,D.width,B))},onShow:function(){v(function(C){return e8(C,!0)})},onShown:function(C){v(function(S){return bo(S,[Xm.transitionClass,Xm.fadeInClass])}),o.get().each(function(S){t6(C.element,S),o.set(E.none())})},onHide:function(C){o.set(n6(C.element,c)),v(function(S){return e8(S,!1)})},onHidden:function(){v(function(C){return bo(C,[Xm.transitionClass])})}},Xm),modes:[r.header.getDockingMode()],onDocked:m,onUndocked:m})],p)},i6=Object.freeze({__proto__:null,setup:r6,isDocked:a6,getBehaviours:n8}),u6=function(t){var r=t.editor,o=t.sticky?n8:hn;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Lt(o(r,t.sharedBackstage))}},s6=function(t,r){var o=function(v,m){var p=Pe(m,function(C){var S={type:"menubutton",text:C.text,fetch:function(D){D(C.getItems())}},k=nB(S).mapError(function(D){return qu(D)}).getOrDie();return fO(k,"tox-mbtn",r.backstage,E.some("menuitem"))});Fr.set(v,p)},c={focus:vr.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:Lt([Fr.config({}),Yr("menubar-events",[Oo(function(v){t.onSetup(v)}),Et(wf(),function(v,m){Zi(v.element,".tox-mbtn--active").each(function(p){Tc(m.event.target,".tox-mbtn").each(function(C){Ko(p,C)||v.getSystem().getByDom(p).each(function(S){v.getSystem().getByDom(C).each(function(k){Tl.expand(k),Tl.close(S),Ar.focus(k)})})})})}),Et(Wh(),function(v,m){m.event.prevFocus.bind(function(p){return v.getSystem().getByDom(p).toOptional()}).each(function(p){m.event.newFocus.bind(function(C){return v.getSystem().getByDom(C).toOptional()}).each(function(C){Tl.isOpen(p)&&(Tl.expand(C),Tl.close(p))})})})]),vr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(v){return t.onEscape(v),E.some(!0)}}),Yo.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},uI=Ls({factory:s6,name:"silver.Menubar",configFields:[ve("dom"),ve("uid"),ve("onEscape"),ve("backstage"),Me("onSetup",nt)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),r8="container",c6=[Si("slotBehaviours",[])],a8=function(t){return"<alloy.field."+t+">"},l6=function(t){var r=function(){var m=[],p=function(C,S){return m.push(C),$0(r8,a8(C),S)};return{slot:p,record:function(){return m}}}(),o=t(r),c=r.record(),v=Pe(c,function(m){return xi({name:m,pname:a8(m)})});return U0(r8,c6,v,f6,o)},f6=function(t,r){var o=function(ne){return L0(t)},c=function(ne,be){return qa(ne,t,be)},v=function(ne,be){return function(ae,Oe){return qa(ae,t,Oe).map(function(Re){return ne(Re,Oe)}).getOr(be)}},m=function(ne){return function(be,ae){Ct(ae,function(Oe){return ne(be,Oe)})}},p=function(ne,be){return du(ne.element,"aria-hidden")!=="true"},C=function(ne,be){if(!p(ne)){var ae=ne.element;mo(ae,"display"),Ju(ae,"aria-hidden"),Hn(ne,jh(),{name:be,visible:!0})}},S=function(ne,be){if(p(ne)){var ae=ne.element;Ir(ae,"display","none"),ya(ae,"aria-hidden","true"),Hn(ne,jh(),{name:be,visible:!1})}},k=v(p,!1),D=v(S),B=m(D),N=function(ne){return B(ne,o())},j=v(C),te={getSlotNames:o,getSlot:c,isShowing:k,hideSlot:D,hideAllSlots:N,showSlot:j};return{uid:t.uid,dom:t.dom,components:r,behaviours:Up(t.slotBehaviours),apis:te}},v6=Or({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Ul(t)}),Ym=se(se({},v6),{sketch:l6}),d6=Se([_a("icon"),_a("tooltip"),Ua("onShow",nt),Ua("onHide",nt),Ua("onSetup",function(){return nt})]),m6=function(t){return xa("sidebar",d6,t)},g6=function(t){var r=t.ui.registry.getAll().sidebars;Ct(hr(r),function(o){var c=r[o],v=function(){return E.from(t.queryCommandValue("ToggleSidebar")).is(o)};t.ui.registry.addToggleButton(o,{icon:c.icon,tooltip:c.tooltip,onAction:function(m){t.execCommand("ToggleSidebar",!1,o),m.setActive(v())},onSetup:function(m){var p=function(){return m.setActive(v())};return t.on("ToggleSidebar",p),function(){t.off("ToggleSidebar",p)}}})})},h6=function(t){return{element:function(){return t.element.dom}}},p6=function(t,r){var o=Pe(hr(r),function(c){var v=r[c],m=ku(m6(v));return{name:c,getApi:h6,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return Pe(o,function(c){var v=nn(nt);return t.slot(c.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:FC.unnamedEvents([Dy(c,v),_y(c,v),Et(jh(),function(m,p){var C=p.event,S=ke(o,function(k){return k.name===C.name});S.each(function(k){var D=C.visible?k.onShow:k.onHide;D(k.getApi(m))})})])})})},b6=function(t){return Ym.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:p6(r,t),slotBehaviours:FC.unnamedEvents([Oo(function(o){return Ym.hideAllSlots(o)})])}})},y6=function(t,r){var o=da.getCurrent(t);o.each(function(c){return Fr.set(c,[b6(r)])})},w6=function(t,r){var o=da.getCurrent(t);o.each(function(c){var v=da.getCurrent(c);v.each(function(m){_l.hasGrown(c)?Ym.isShowing(m,r)?_l.shrink(c):(Ym.hideAllSlots(m),Ym.showSlot(m,r)):(Ym.hideAllSlots(m),Ym.showSlot(m,r),_l.grow(c))})})},C6=function(t){var r=da.getCurrent(t);return r.bind(function(o){var c=_l.isGrowing(o)||_l.hasGrown(o);if(c){var v=da.getCurrent(o);return v.bind(function(m){return ke(Ym.getSlotNames(m),function(p){return Ym.isShowing(m,p)})})}else return E.none()})},sI=Qn("FixSizeEvent"),cI=Qn("AutoSizeEvent"),S6=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Lt([Yo.config({}),Ar.config({}),_l.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=da.getCurrent(r);o.each(Ym.hideAllSlots),va(r,cI)},onGrown:function(r){va(r,cI)},onStartGrow:function(r){Hn(r,sI,{width:Bo(r.element,"width").getOr("")})},onStartShrink:function(r){Hn(r,sI,{width:Mu(r.element)+"px"})}}),Fr.config({}),da.config({find:function(r){var o=Fr.contents(r);return He(o)}})])}],behaviours:Lt([Al.childAt(0),Yr("sidebar-sliding-events",[Et(sI,function(r,o){Ir(r.element,"width",o.event.width)}),Et(cI,function(r,o){mo(r.element,"width")})])])}},x6=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return Be(r,function(o,c){var v;return c.name==="class"?o:se(se({},o),(v={},v[c.name]=c.value,v))},{})},k6=function(t){return Array.prototype.slice.call(t.dom.classList,0)},tb=function(t){var r=yn.fromHtml(t),o=qs(r),c=x6(r),v=k6(r),m=o.length===0?{}:{innerHtml:Cb(r)};return se({tag:hs(r),classes:v,attributes:c},m)},T6=function(t){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:tb('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Lt([vr.config({mode:"special",onTab:function(){return E.some(!0)},onShiftTab:function(){return E.some(!0)}}),Ar.config({})])}},E6=function(t,r,o){var c=t.element;r===!0?(Fr.set(t,[T6(o)]),mo(c,"display"),Ju(c,"aria-hidden")):(Fr.set(t,[]),Ir(c,"display","none"),ya(c,"aria-hidden","true"))},O6=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Lt([Fr.config({})]),components:[]}},A6=function(t,r,o){var c=nn(!1),v=nn(E.none()),m=function(p){p!==c.get()&&(E6(r(),p,o.providers),c.set(p),t.fire("AfterProgressState",{state:p}))};t.on("ProgressState",function(p){if(v.get().each(Cl.clearTimeout),On(p.time)){var C=Cl.setEditorTimeout(t,function(){return m(p.state)},p.time);v.set(E.some(C))}else m(p.state),v.set(E.none())})},D6=function(t,r,o){var c={getSocket:function(v){return Ds.getPart(v,t,"socket")},setSidebar:function(v,m){Ds.getPart(v,t,"sidebar").each(function(p){return y6(p,m)})},toggleSidebar:function(v,m){Ds.getPart(v,t,"sidebar").each(function(p){return w6(p,m)})},whichSidebar:function(v){return Ds.getPart(v,t,"sidebar").bind(C6).getOrNull()},getHeader:function(v){return Ds.getPart(v,t,"header")},getToolbar:function(v){return Ds.getPart(v,t,"toolbar")},setToolbar:function(v,m){Ds.getPart(v,t,"toolbar").each(function(p){p.getApis().setGroups(p,m)})},setToolbars:function(v,m){Ds.getPart(v,t,"multiple-toolbar").each(function(p){Te.setItems(p,m)})},refreshToolbar:function(v){var m=Ds.getPart(v,t,"toolbar");m.each(function(p){return p.getApis().refresh(p)})},toggleToolbarDrawer:function(v){Ds.getPart(v,t,"toolbar").each(function(m){Jp(m.getApis().toggle,function(p){return p(m)})})},isToolbarDrawerToggled:function(v){return Ds.getPart(v,t,"toolbar").bind(function(m){return E.from(m.getApis().isOpen).map(function(p){return p(m)})}).getOr(!1)},getThrobber:function(v){return Ds.getPart(v,t,"throbber")},focusToolbar:function(v){var m=Ds.getPart(v,t,"toolbar").orThunk(function(){return Ds.getPart(v,t,"multiple-toolbar")});m.each(function(p){vr.focusIn(p)})},setMenubar:function(v,m){Ds.getPart(v,t,"menubar").each(function(p){uI.setMenus(p,m)})},focusMenubar:function(v){Ds.getPart(v,t,"menubar").each(function(m){uI.focus(m)})}};return{uid:t.uid,dom:t.dom,components:r,apis:c,behaviours:t.behaviours}},_6=Km.optional({factory:uI,name:"menubar",schema:[ve("backstage")]}),B6=function(t){return t.type===cu.sliding?F$:t.type===cu.floating?fv:KS},R6=Km.optional({factory:{sketch:function(t){return Te.sketch({uid:t.uid,dom:t.dom,listBehaviours:Lt([vr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return KS({type:t.type,uid:Qn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),E.some(!0)}})},setupItem:function(r,o,c,v){lf.setGroups(o,c)},shell:!0})}},name:"multiple-toolbar",schema:[ve("dom"),ve("onEscape")]}),P6=Km.optional({factory:{sketch:function(t){var r=B6(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),E.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[ve("dom"),ve("onEscape"),ve("getSink")]}),M6=Km.optional({factory:{sketch:u6},name:"header",schema:[ve("dom")]}),N6=Km.optional({name:"socket",schema:[ve("dom")]}),F6=Km.optional({factory:{sketch:S6},name:"sidebar",schema:[ve("dom")]}),$6=Km.optional({factory:{sketch:O6},name:"throbber",schema:[ve("dom")]}),ui=Cu({name:"OuterContainer",factory:D6,configFields:[ve("dom"),ve("behaviours")],partFields:[M6,_6,P6,R6,N6,F6,$6],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var c=Pe(o,function(v){return Rh(v)});t.setToolbar(r,c)},setToolbars:function(t,r,o){var c=Pe(o,function(v){return Pe(v,Rh)});t.setToolbars(r,c)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),I6="file edit view insert format tools table help",lI={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},z6=function(t,r,o){var c=HR(o).split(/[ ,]/);return{text:t.title,getItems:function(){return on(t.items,function(v){var m=v.toLowerCase();return m.trim().length===0?[]:Dn(c,function(p){return p===m})?[]:m==="separator"||m==="|"?[{type:"separator"}]:r.menuItems[m]?[r.menuItems[m]]:[]})}}},fI=function(t){return typeof t=="string"?t.split(" "):t},o8=function(t,r){var o=se(se({},lI),r.menus),c=hr(r.menus).length>0,v=r.menubar===void 0||r.menubar===!0?fI(I6):fI(r.menubar===!1?"":r.menubar),m=de(v,function(C){return c&&r.menus.hasOwnProperty(C)&&r.menus[C].hasOwnProperty("items")||lI.hasOwnProperty(C)}),p=Pe(m,function(C){var S=o[C];return z6({title:S.title,items:fI(S.items)},r,t)});return de(p,function(C){var S=function(k){return k.type!=="separator"};return C.getItems().length>0&&Dn(C.getItems(),S)})},i8=function(t){var r=function(){t._skinLoaded=!0,hP(t)};return function(){t.initialized?r():t.on("init",r)}},L6=function(t,r){return function(){return pP(t,{message:r})}},u8=function(t,r,o){return new _m(function(c,v){o.load(r,c,v),t.on("remove",function(){return o.unload(r)})})},H6=function(t,r){var o=r+"/skin.min.css";return u8(t,o,t.ui.styleSheetLoader)},V6=function(t,r){var o=dx(yn.fromDom(t.getElement()));if(o){var c=r+"/skin.shadowdom.min.css";return u8(t,c,E1.DOM.styleSheetLoader)}else return _m.resolve()},s8=function(t,r){var o=W4(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),Ey(r)===!1&&pn(o)?_m.all([H6(r,o),V6(r,o)]).then(i8(r),L6(r,"Skin could not be loaded")):i8(r)()},U6=ar(s8,!1),W6=ar(s8,!0),c8=function(t,r,o,c){var v=r.outerContainer,m=o.toolbar,p=o.buttons;if(Jt(m,pn)){var C=m.map(function(S){var k={toolbar:S,buttons:p,allowToolbarGroups:o.allowToolbarGroups};return sc(t,k,{backstage:c},E.none())});ui.setToolbars(v,C)}else ui.setToolbar(v,sc(t,o,{backstage:c},E.none()))},l8=Mi(),j6=l8.os.isiOS()&&l8.os.version.major<=12,q6=function(t,r){var o=t.dom,c=t.getWin(),v=t.getDoc().documentElement,m=nn(Ro(c.innerWidth,c.innerHeight)),p=nn(Ro(v.offsetWidth,v.offsetHeight)),C=function(){var N=m.get();(N.left!==c.innerWidth||N.top!==c.innerHeight)&&(m.set(Ro(c.innerWidth,c.innerHeight)),gE(t))},S=function(){var N=t.getDoc().documentElement,j=p.get();(j.left!==N.offsetWidth||j.top!==N.offsetHeight)&&(p.set(Ro(N.offsetWidth,N.offsetHeight)),gE(t))},k=function(N){return yP(t,N)};o.bind(c,"resize",C),o.bind(c,"scroll",k);var D=Ny(yn.fromDom(t.getBody()),"load",S),B=r.uiMothership.element;t.on("hide",function(){Ir(B,"display","none")}),t.on("show",function(){mo(B,"display")}),t.on("NodeChange",S),t.on("remove",function(){D.unbind(),o.unbind(c,"resize",C),o.unbind(c,"scroll",k),c=null})},G6=function(t,r,o,c,v){var m=nn(0),p=r.outerContainer;U6(t);var C=yn.fromDom(v.targetNode),S=Tv(li(C));k2(C,r.mothership),$p(S,r.uiMothership),t.on("PostRender",function(){c8(t,r,o,c),m.set(t.getWin().innerWidth),ui.setMenubar(p,o8(t,o)),ui.setSidebar(p,o.sidebar),q6(t,r)});var k=ui.getSocket(p).getOrDie("Could not find expected socket element");if(j6){Id(k.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var D=LB(function(){t.fire("ScrollContent")},20),B=kl(k.element,"scroll",D.throttle);t.on("remove",B.unbind)}Z4(t,r),t.addCommand("ToggleSidebar",function(ne,be){ui.toggleSidebar(p,be),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return ui.whichSidebar(p)});var N=Ay(t),j=function(){ui.refreshToolbar(r.outerContainer)};(N===cu.sliding||N===cu.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var ne=t.getWin().innerWidth;ne!==m.get()&&(j(),m.set(ne))});var te={enable:function(){yh(r,!1)},disable:function(){yh(r,!0)},isDisabled:function(){return pr.isDisabled(p)}};return{iframeContainer:k.element.dom,editorContainer:p.element.dom,api:te}},K6=Object.freeze({__proto__:null,render:G6}),vI=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?E.some(parseInt(""+t,10)):E.none()},dI=function(t){return On(t)?t+"px":t},hB=function(t,r,o){var c=r.filter(function(m){return t<m}),v=o.filter(function(m){return t>m});return c.or(v).getOr(t)},X6=function(t){var r=q4(t),o=G4(t),c=JT(t);return vI(r).map(function(v){return hB(v,o,c)})},Y6=function(t){var r=X6(t);return r.getOr(q4(t))},f8=function(t){var r=zC(t),o=ph(t),c=LC(t);return vI(r).map(function(v){return hB(v,o,c)})},J6=function(t){var r=f8(t);return r.getOr(zC(t))},Z6=function(t,r,o,c,v){var m=o.uiMothership,p=o.outerContainer,C=E1.DOM,S=HC(t),k=VC(t),D=LC(t).or(f8(t)),B=c.shared.header,N=B.isPositionedAtTop,j=Ay(t),te=j===cu.sliding||j===cu.floating,ne=nn(!1),be=function(){return ne.get()&&!t.removed},ae=function(vt){return te?vt.fold(function(){return 0},function(Tt){return Tt.components().length>1?bu(Tt.components()[1].element):0}):0},Oe=function(vt){switch(eE(t)){case bh.auto:var Tt=ui.getToolbar(p),Mn=ae(Tt),yr=bu(vt.element)-Mn,qt=ys(r),er=qt.y>yr;if(er)return"top";var mr=el(r),ma=Math.max(mr.dom.scrollHeight,bu(mr)),Ya=qt.bottom<ma-yr;if(Ya)return"bottom";var Uo=Ji(),df=Uo.bottom<qt.bottom-yr;return df?"bottom":"top";case bh.bottom:return"bottom";case bh.top:default:return"top"}},Re=function(vt){var Tt=v.get();_s.setModes(Tt,[vt]),B.setDockingMode(vt);var Mn=N()?cl.TopToBottom:cl.BottomToTop;ya(Tt.element,tm,Mn)},tt=function(){var vt=D.getOrThunk(function(){var Tt=vI(Fs(Gl(),"margin-left")).getOr(0);return Mu(Gl())-ka(r).left+Tt});Ir(v.get().element,"max-width",vt+"px")},Ue=function(){var vt=ui.getToolbar(p),Tt=ae(vt),Mn=ys(r),yr=N()?Math.max(Mn.y-bu(v.get().element)+Tt,0):Mn.bottom;Id(p.element,{position:"absolute",top:Math.round(yr)+"px",left:Math.round(Mn.x)+"px"})},et=function(){m.broadcastOn([vl()],{})},Ke=function(vt){if(vt===void 0&&(vt=!1),!!be()){if(S||tt(),te&&ui.refreshToolbar(p),S||Ue(),k){var Tt=v.get();vt?_s.reset(Tt):_s.refresh(Tt)}et()}},Dt=function(vt){if(vt===void 0&&(vt=!0),!(S||!k||!be())){var Tt=B.getDockingMode(),Mn=Oe(v.get());Mn!==Tt&&(Re(Mn),vt&&Ke(!0))}},Wn=function(){ne.set(!0),Ir(p.element,"display","flex"),C.addClass(t.getBody(),"mce-edit-focus"),mo(m.element,"display"),Dt(!1),Ke()},ln=function(){ne.set(!1),o.outerContainer&&(Ir(p.element,"display","none"),C.removeClass(t.getBody(),"mce-edit-focus")),Ir(m.element,"display","none")};return{isVisible:be,isPositionedAtTop:N,show:Wn,hide:ln,update:Ke,updateMode:Dt,repositionPopups:et}},v8=function(t,r){var o=ys(t);return{pos:r?o.y:o.bottom,bounds:o}},Q6=function(t,r,o,c){var v=nn(v8(r,o.isPositionedAtTop())),m=function(C){var S=v8(r,o.isPositionedAtTop()),k=S.pos,D=S.bounds,B=v.get(),N=B.pos,j=B.bounds,te=D.height!==j.height||D.width!==j.width;v.set({pos:k,bounds:D}),te&&gE(t,C),o.isVisible()&&(N!==k?o.update(!0):te&&(o.updateMode(),o.repositionPopups()))};c||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(C){Cl.requestAnimationFrame(function(){return m(C)})}),t.on("ScrollWindow",function(){return o.updateMode()});var p=Bt();p.set(Ny(yn.fromDom(t.getBody()),"load",m)),t.on("remove",function(){p.clear()})},eL=function(t,r,o,c,v){var m=r.mothership,p=r.uiMothership,C=r.outerContainer,S=nn(null),k=yn.fromDom(v.targetNode),D=Z6(t,k,r,c,S),B=jR(t);W6(t);var N=function(){if(S.get()){D.show();return}S.set(ui.getHeader(C).getOrDie());var ne=Sl(t);$p(ne,m),$p(ne,p),c8(t,r,o,c),ui.setMenubar(C,o8(t,o)),D.show(),Q6(t,k,D,B),t.nodeChanged()},j=function(){return Cl.setEditorTimeout(t,N,0)};t.on("show",N),t.on("hide",D.hide),B||(t.on("focus",j),t.on("blur",D.hide)),t.on("init",function(){(t.hasFocus()||B)&&j()}),Z4(t,r);var te={show:function(){D.show()},hide:function(){D.hide()},enable:function(){yh(r,!1)},disable:function(){yh(r,!0)},isDisabled:function(){return pr.isDisabled(C)}};return{editorContainer:C.element.dom,api:te}},tL=Object.freeze({__proto__:null,render:eL}),nL=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];ii.each(r,function(c){t.ui.registry.addToggleButton(c.name,{tooltip:c.text,onAction:function(){return t.execCommand(c.cmd)},icon:c.icon,onSetup:kt(t,c.name)})});var o={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};t.ui.registry.addButton(o.name,{tooltip:o.text,onAction:function(){return t.execCommand(o.cmd)},icon:o.icon})},rL=function(t,r){Xt(t,r),Un(t,r),ss(t,r),ra(t,r),vi(t,r)},aL=function(t,r){t.setDisabled(!r.queryCommandState("outdent"));var o=function(){t.setDisabled(!r.queryCommandState("outdent"))};return r.on("NodeChange",o),function(){return r.off("NodeChange",o)}},oL=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(r){return aL(r,t)},onAction:function(){return t.execCommand("outdent")}}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return t.execCommand("indent")}})},iL=function(t){oL(t)},uL={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},sL=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,c="\\.",v=function(C){return"(?:"+C+")?"},m=["Infinity",t+c+v(t)+v(o),c+t+v(o),t+v(o)].join("|"),p="[+-]?(?:"+m+")";return new RegExp("^("+p+")(.*)$")}(),cL=function(t,r){return Dn(r,function(o){return Dn(uL[o],function(c){return t===c})})},lL=function(t,r){var o=E.from(sL.exec(t));return o.bind(function(c){var v=Number(c[1]),m=c[2];return cL(m,r)?E.some({value:v,unit:m}):E.none()})},fL=function(t,r){return lL(t,r).map(function(o){var c=o.value,v=o.unit;return c+v})},d8=function(t){return fL(t,["fixed","relative","empty"]).getOr(t)},m8=function(t){var r=X4(t),o=new Map,c=Uu(),v=function(){var m=d8(t.queryCommandValue("LineHeight"));E.from(o.get(m)).fold(function(){return c.clear()},function(p){c.set({destroy:function(){p.setActive(!1)}}),p.setActive(!0)})};return t.on("nodeChange",v),Pe(r,function(m,p){return{type:"togglemenuitem",text:m,onSetup:function(C){return o.set(d8(m),C),p+1===r.length&&v(),function(){p===0&&(t.off("nodeChange",v),c.clear())}},onAction:function(){return t.execCommand("LineHeight",!1,m)}}})},vL=function(t){t.ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return m8(t)}})},dL=function(t){t.ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(r){return r(m8(t))}})},mL=function(t){vL(t),dL(t)},mI=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},gL=function(t){ii.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(c,v){t.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onSetup:kt(t,c.name),onAction:mI(t,c.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:kt(t,o),onAction:mI(t,o)})}},hL=function(t){ii.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:function(){return t.execCommand(r.action)}})})},pL=function(t){ii.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:function(){return t.execCommand(r.action)},onSetup:kt(t,r.name)})})},bL=function(t){gL(t),hL(t),pL(t)},yL=function(t){ii.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:function(){return t.execCommand(r.action)}})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:mI(t,"code")})},wL=function(t){bL(t),yL(t)},pB=function(t,r,o){var c=function(){return r.undoManager?r.undoManager[o]():!1},v=function(){t.setDisabled(r.mode.isReadOnly()||!c())};return t.setDisabled(!c()),r.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",v),function(){return r.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",v)}},CL=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(r){return pB(r,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(r){return pB(r,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})},SL=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(r){return pB(r,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(r){return pB(r,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})},xL=function(t){CL(t),SL(t)},kL=function(t,r){t.setActive(r.hasVisual);var o=function(c){t.setActive(c.hasVisual)};return r.on("VisualAid",o),function(){return r.off("VisualAid",o)}},TL=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(r){return kL(r,t)},onAction:function(){t.execCommand("mceToggleVisualAid")}})},EL=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return t.execCommand("mceToggleVisualAid")}})},OL=function(t){EL(t),TL(t)},AL=function(t,r){nL(t),wL(t),rL(t,r),xL(t),BP(t),OL(t),iL(t),mL(t)},WO=function(t,r){return{anchor:"makeshift",x:t,y:r}},DL=function(t,r,o){return WO(t.x+r,t.y+o)},g8=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},_L=function(t){if(g8(t)){var r=t.touches[0];return WO(r.pageX,r.pageY)}else return WO(t.pageX,t.pageY)},BL=function(t){if(g8(t)){var r=t.touches[0];return WO(r.clientX,r.clientY)}else return WO(t.clientX,t.clientY)},RL=function(t,r){var o=E1.DOM.getPos(t);return DL(r,o.x,o.y)},h8=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?_L(r):RL(t.getContentAreaContainer(),BL(r)):PL(t)},PL=function(t){return{anchor:"selection",root:yn.fromDom(t.selection.getNode())}},p8=function(t){return{anchor:"node",node:E.some(yn.fromDom(t.selection.getNode())),root:yn.fromDom(t.getBody())}},ML=function(t,r,o,c,v,m){var p=o(),C=m?p8(t):h8(t,r);K1(p,of.CLOSE_ON_EXECUTE,c,!1).map(function(S){r.preventDefault(),Ho.showMenuAt(v,C,{menu:{markers:k1("normal")},data:S})})},NL={onLtr:function(){return[eu,oo,Ei,wi,Hi,Fu,vd,mh,vh,w1,dh,C1]},onRtl:function(){return[eu,Ei,oo,Hi,wi,Fu,vd,mh,dh,C1,vh,w1]}},FL=12,$L={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},IL=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var c=r.touches[0],v=o.getRng(),m=g0(t.getWin(),$g.domRange(v));return m.exists(function(p){return p.left<=c.clientX&&p.right>=c.clientX&&p.top<=c.clientY&&p.bottom>=c.clientY})},zL=function(t,r){return se({bubble:Wv(0,FL,$L),layouts:NL,overrides:{maxWidthFunction:RO(),maxHeightFunction:Rg()}},h8(t,r))},LL=function(t){var r=t.selection.getRng(),o=function(){Cl.setEditorTimeout(t,function(){t.selection.setRng(r)},10),m()};t.once("touchend",o);var c=function(p){p.preventDefault(),p.stopImmediatePropagation()};t.on("mousedown",c,!0);var v=function(){return m()};t.once("longpresscancel",v);var m=function(){t.off("touchend",o),t.off("longpresscancel",v),t.off("mousedown",c)}},HL=function(t,r,o,c,v,m,p){var C=m?p8(t):zL(t,r);K1(o,of.CLOSE_ON_EXECUTE,c,!0).map(function(S){r.preventDefault(),Ho.showMenuWithinBounds(v,C,{menu:{markers:k1("normal"),highlightImmediately:p},data:S,type:"horizontal"},function(){return E.some(vB(t,c.shared))}),t.fire(N_)})},VL=function(t,r,o,c,v,m){var p=Mi(),C=p.os.isiOS(),S=p.os.isOSX(),k=p.os.isAndroid(),D=p.deviceType.isTouch(),B=function(){return!(k||C||S&&D)},N=function(){var te=o();HL(t,r,te,c,v,m,B())};if((S||C)&&!m){var j=function(){LL(t),N()};IL(t,r)?j():(t.once("selectionchange",j),t.once("touchend",function(){return t.off("selectionchange",j)}))}else k&&!m&&t.selection.setCursorLocation(r.target,0),N()},b8=function(t){return typeof t=="string"?t.split(/[ ,]/):t},y8=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},UL=function(t,r,o){var c=t.ui.registry.getAll().contextMenus;return E.from(t.getParam(r)).map(b8).getOrThunk(function(){return de(b8(o),function(v){return Oa(c,v)})})},WL=function(t){return t.getParam("contextmenu")===!1},jL=function(t){return UL(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},qL=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},w8=function(t){return pn(t)?t==="|":t.type==="separator"},gI={type:"separator"},C8=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(pn(t))return t;switch(t.type){case"separator":return gI;case"submenu":return se(se({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return pn(o)?o:Pe(o,C8)}});default:return se(se({type:"menuitem"},r(t)),{onAction:cr(t.onAction)})}},S8=function(t,r){if(r.length===0)return t;var o=mt(t).filter(function(v){return!w8(v)}),c=o.fold(function(){return[]},function(v){return[gI]});return t.concat(c).concat(r).concat([gI])},GL=function(t,r,o){var c=Be(r,function(v,m){return Pn(t,m.toLowerCase()).map(function(p){var C=p.update(o);if(pn(C))return S8(v,C.split(" "));if(C.length>0){var S=Pe(C,C8);return S8(v,S)}else return v}).getOrThunk(function(){return v.concat([m])})},[]);return c.length>0&&w8(c[c.length-1])&&c.pop(),c},KL=function(t,r){return r.ctrlKey&&!y8(t)},x8=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},k8=function(t,r){return x8(t,r)?t.selection.getStart(!0):r.target},XL=function(t,r){var o=qL(t);if(x8(t,r))return!0;if(o){var c=k8(t,r);return B1(yn.fromDom(c),o)}else return!1},YL=function(t,r,o){var c=Mi(),v=c.deviceType.isTouch,m=pu(Ho.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Lt([Yr("dismissContextMenu",[Et(Bd(),function(S,k){ua.close(S),t.focus()})])])})),p=function(S){return Ho.hide(m)},C=function(S){if(y8(t)&&S.preventDefault(),!(KL(t,S)||WL(t))){var k=XL(t,S),D=function(){var N=k8(t,S),j=t.ui.registry.getAll(),te=jL(t);return GL(j.contextMenus,te,N)},B=v()?VL:ML;B(t,S,D,o,m,k)}};t.on("init",function(){var S="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(v()?"":" ResizeWindow");t.on(S,p),t.on("longpress contextmenu",C)})},hI=Gn.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),bB=function(t){return function(r){return r.translate(-t.left,-t.top)}},yB=function(t){return function(r){return r.translate(t.left,t.top)}},Fh=function(t){return function(r,o){return Be(t,function(c,v){return v(c)},Ro(r,o))}},wB=function(t,r,o){return t.fold(Fh([yB(o),bB(r)]),Fh([bB(r)]),Fh([]))},rx=function(t,r,o){return t.fold(Fh([yB(o)]),Fh([]),Fh([yB(r)]))},T8=function(t,r,o){return t.fold(Fh([]),Fh([bB(o)]),Fh([yB(r),bB(o)]))},JL=function(t,r,o,c,v,m){var p=rx(t,v,m),C=rx(r,v,m);return Math.abs(p.left-C.left)<=o&&Math.abs(p.top-C.top)<=c},ZL=function(t,r,o,c,v,m){var p=rx(t,v,m),C=rx(r,v,m),S=Math.abs(p.left-C.left),k=Math.abs(p.top-C.top);return Ro(S,k)},E8=function(t,r,o){var c=t.fold(function(v,m){return{position:E.some("absolute"),left:E.some(v+"px"),top:E.some(m+"px")}},function(v,m){return{position:E.some("absolute"),left:E.some(v-o.left+"px"),top:E.some(m-o.top+"px")}},function(v,m){return{position:E.some("fixed"),left:E.some(v+"px"),top:E.some(m+"px")}});return se({right:E.none(),bottom:E.none()},c)},QL=function(t,r,o){return t.fold(function(c,v){return CB(c+r,v+o)},function(c,v){return nb(c+r,v+o)},function(c,v){return fw(c+r,v+o)})},pI=function(t,r,o,c){var v=function(m,p){return function(C,S){var k=m(r,o,c);return p(C.getOr(k.left),S.getOr(k.top))}};return t.fold(v(T8,CB),v(rx,nb),v(wB,fw))},CB=hI.offset,nb=hI.absolute,fw=hI.fixed,O8=function(t,r){var o=du(t,r);return kr(o)?NaN:parseInt(o,10)},e7=function(t,r){var o=t.element,c=O8(o,r.leftAttr),v=O8(o,r.topAttr);return isNaN(c)||isNaN(v)?E.none():E.some(Ro(c,v))},t7=function(t,r,o){var c=t.element;ya(c,r.leftAttr,o.left+"px"),ya(c,r.topAttr,o.top+"px")},n7=function(t,r){var o=t.element;Ju(o,r.leftAttr),Ju(o,r.topAttr)},r7=function(t,r,o,c){return e7(t,r).fold(function(){return o},function(v){return fw(v.left+c.left,v.top+c.top)})},a7=function(t,r,o,c,v,m){var p=r7(t,r,o,c),C=r.mustSnap?i7(t,r,p,v,m):u7(t,r,p,v,m),S=wB(p,v,m);return t7(t,r,S),C.fold(function(){return{coord:fw(S.left,S.top),extra:E.none()}},function(k){return{coord:k.output,extra:k.extra}})},o7=function(t,r){n7(t,r)},A8=function(t,r,o,c){return sn(t,function(v){var m=v.sensor,p=JL(r,m,v.range.left,v.range.top,o,c);return p?E.some({output:pI(v.output,r,o,c),extra:v.extra}):E.none()})},i7=function(t,r,o,c,v){var m=r.getSnapPoints(t),p=A8(m,o,c,v);return p.orThunk(function(){var C=Be(m,function(S,k){var D=k.sensor,B=ZL(o,D,k.range.left,k.range.top,c,v);return S.deltas.fold(function(){return{deltas:E.some(B),snap:E.some(k)}},function(N){var j=(B.left+B.top)/2,te=(N.left+N.top)/2;return j<=te?{deltas:E.some(B),snap:E.some(k)}:S})},{deltas:E.none(),snap:E.none()});return C.snap.map(function(S){return{output:pI(S.output,o,c,v),extra:S.extra}})})},u7=function(t,r,o,c,v){var m=r.getSnapPoints(t);return A8(m,o,c,v)},s7=function(t,r,o){return{coord:pI(t.output,t.output,r,o),extra:t.extra}},c7=function(t,r,o,c){var v=r.getTarget(t.element);if(r.repositionTarget){var m=Ao(t.element),p=Ys(m),C=wo(v),S=s7(c,p,C),k=E8(S.coord,p,C);zd(v,k)}},l7=Object.freeze({__proto__:null,snapTo:c7}),bI="data-initial-z-index",f7=function(t){$i(t.element).filter(Qc).each(function(r){nl(r,bI).fold(function(){return mo(r,"z-index")},function(o){return Ir(r,"z-index",o)}),Ju(r,bI)})},v7=function(t){$i(t.element).filter(Qc).each(function(r){Bo(r,"z-index").each(function(o){ya(r,bI,o)}),Ir(r,"z-index",Fs(t.element,"z-index"))})},D8=function(t,r){t.getSystem().addToGui(r),v7(r)},d7=function(t){f7(t),t.getSystem().removeFromGui(t)},_8=function(t,r,o){return t.getSystem().build(Su.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},m7=Bi("snaps",[ve("getSnapPoints"),wa("onSensor"),ve("leftAttr"),ve("topAttr"),Me("lazyViewport",Ji),Me("mustSnap",!1)]),yI=[Me("useFixed",Gt),ve("blockerClass"),Me("getTarget",_t),Me("onDrag",nt),Me("repositionTarget",!0),Me("onDrop",nt),Ua("getBounds",Ji),m7],g7=function(t){return hl(Bo(t,"left"),Bo(t,"top"),Bo(t,"position"),function(r,o,c){var v=c==="fixed"?fw:CB;return v(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=ka(t);return nb(r.left,r.top)})},h7=function(t,r,o,c,v){var m=v.bounds,p=rx(r,o,c),C=ul(p.left,m.x,m.x+m.width-v.width),S=ul(p.top,m.y,m.y+m.height-v.height),k=nb(C,S);return r.fold(function(){var D=T8(k,o,c);return CB(D.left,D.top)},function(){return k},function(){var D=wB(k,o,c);return fw(D.left,D.top)})},p7=function(t,r,o,c,v,m,p){var C=r.fold(function(){var S=QL(o,m.left,m.top),k=wB(S,c,v);return fw(k.left,k.top)},function(S){var k=a7(t,S,o,m,c,v);return k.extra.each(function(D){S.onSensor(t,D)}),k.coord});return h7(t,C,c,v,p)},b7=function(t,r,o,c){var v=r.getTarget(t.element);if(r.repositionTarget){var m=Ao(t.element),p=Ys(m),C=wo(v),S=g7(v),k=p7(t,r.snaps,S,p,C,c,o),D=E8(k,p,C);zd(v,D)}r.onDrag(t,v,c)},B8=function(t,r){return{bounds:t.getBounds(),height:Kl(r.element),width:Fv(r.element)}},wI=function(t,r,o,c,v){var m=o.update(c,v),p=o.getStartData().getOrThunk(function(){return B8(r,t)});m.each(function(C){b7(t,r,p,C)})},SB=function(t,r,o,c){r.each(d7),o.snaps.each(function(m){o7(t,m)});var v=o.getTarget(t.element);c.reset(),o.onDrop(t,v)},CI=function(t){return function(r,o){var c=function(v){o.setStartData(B8(r,v))};return ba(qe([Et(lg(),function(v){o.getStartData().each(function(){return c(v)})})],t(r,o,c)))}},y7=function(t){return ba([Et(js(),t.forceDrop),Et(rg(),t.drop),Et(xv(),function(r,o){t.move(o.event)}),Et(Od(),t.delayDrop)])},w7=function(t){return E.from(Ro(t.x,t.y))},C7=function(t,r){return Ro(r.left-t.left,r.top-t.top)},S7=Object.freeze({__proto__:null,getData:w7,getDelta:C7}),R8=function(t,r,o){return[Et(js(),function(c,v){var m=v.event.raw;if(m.button===0){v.stop();var p=function(){return SB(c,E.some(k),t,r)},C=U3(p,200),S={drop:p,delayDrop:C.schedule,forceDrop:p,move:function(B){C.cancel(),wI(c,t,r,S7,B)}},k=_8(c,t.blockerClass,y7(S)),D=function(){o(c),D8(c,k)};D()}})]},x7=qe(yI,[ao("dragger",{handlers:CI(R8)})]),k7=function(t){return ba([Et(Xr(),t.forceDrop),Et(fo(),t.drop),Et(Vh(),t.drop),Et(Wa(),function(r,o){t.move(o.event)})])},T7=function(t){var r=t[0];return E.some(Ro(r.clientX,r.clientY))},E7=function(t){var r=t.raw,o=r.touches;return o.length===1?T7(o):E.none()},O7=function(t,r){return Ro(r.left-t.left,r.top-t.top)},P8=Object.freeze({__proto__:null,getData:E7,getDelta:O7}),M8=function(t,r,o){var c=nn(E.none());return[Et(Xr(),function(v,m){m.stop();var p=function(){SB(v,c.get(),t,r),c.set(E.none())},C={drop:p,delayDrop:nt,forceDrop:p,move:function(D){wI(v,t,r,P8,D)}},S=_8(v,t.blockerClass,k7(C));c.set(E.some(S));var k=function(){o(v),D8(v,S)};k()}),Et(Wa(),function(v,m){m.stop(),wI(v,t,r,P8,m.event)}),Et(fo(),function(v,m){m.stop(),SB(v,c.get(),t,r),c.set(E.none())}),Et(Vh(),function(v){SB(v,c.get(),t,r),c.set(E.none())})]},A7=qe(yI,[ao("dragger",{handlers:CI(M8)})]),D7=function(t,r,o){return qe(R8(t,r,o),M8(t,r,o))},_7=qe(yI,[ao("dragger",{handlers:CI(D7)})]),B7=x7,R7=A7,P7=_7,M7=Object.freeze({__proto__:null,mouse:B7,touch:R7,mouseOrTouch:P7}),N7=function(){var t=E.none(),r=E.none(),o=function(){t=E.none(),r=E.none()},c=function(S,k){var D=t.map(function(B){return S.getDelta(B,k)});return t=E.some(k),D},v=function(S,k){return S.getData(k).bind(function(D){return c(S,D)})},m=function(S){r=E.some(S)},p=function(){return r},C=re({});return Ii({readState:C,reset:o,update:v,getStartData:p,setStartData:m})},F7=Object.freeze({__proto__:null,init:N7}),vw=Xw({branchKey:"mode",branches:M7,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:E.from(t.extra)}}},state:F7,apis:l7}),SI=40,xB=SI/2,N8=function(t,r,o,c,v,m){return t.fold(function(){return vw.snap({sensor:nb(o-xB,c-xB),range:Ro(v,m),output:nb(E.some(o),E.some(c)),extra:{td:r}})},function(p){var C=o-xB,S=c-xB,k=SI,D=SI,B=p.element.dom.getBoundingClientRect();return vw.snap({sensor:nb(C,S),range:Ro(k,D),output:nb(E.some(o-B.width/2),E.some(c-B.height/2)),extra:{td:r}})})},F8=function(t,r,o){var c=function(v,m){return v.exists(function(p){return Ko(p,m)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(v,m){var p=m.td;c(r.get(),p)||(r.set(E.some(p)),o(p))},mustSnap:!0}},$8=function(t){return Ca(Hu.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Lt([vw.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),zy.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},$7=function(t,r){var o=nn([]),c=nn([]),v=nn(!1),m=nn(E.none()),p=nn(E.none()),C=function(Ke){var Dt=Xl(Ke);return N8(j.getOpt(r),Ke,Dt.x,Dt.y,Dt.width,Dt.height)},S=function(){return Pe(o.get(),function(Ke){return C(Ke)})},k=function(Ke){var Dt=Xl(Ke);return N8(te.getOpt(r),Ke,Dt.right,Dt.bottom,Dt.width,Dt.height)},D=function(){return Pe(c.get(),function(Ke){return k(Ke)})},B=F8(S,m,function(Ke){p.get().each(function(Dt){t.fire("TableSelectorChange",{start:Ke,finish:Dt})})}),N=F8(D,p,function(Ke){m.get().each(function(Dt){t.fire("TableSelectorChange",{start:Dt,finish:Ke})})}),j=$8(B),te=$8(N),ne=pu(j.asSpec()),be=pu(te.asSpec()),ae=function(Ke,Dt,Wn,ln){var vt=Dt.dom.getBoundingClientRect();mo(Ke.element,"display");var Tt=Rd(yn.fromDom(t.getBody())).dom.innerHeight,Mn=Wn(vt),yr=ln(vt,Tt);(Mn||yr)&&Ir(Ke.element,"display","none")},Oe=function(Ke,Dt,Wn,ln){var vt=Wn(Dt);vw.snapTo(Ke,vt);var Tt=function(yr){return yr[ln]<0},Mn=function(yr,qt){return yr[ln]>qt};ae(Ke,Dt,Tt,Mn)},Re=function(Ke){return Oe(ne,Ke,C,"top")},tt=function(){return m.get().each(Re)},Ue=function(Ke){return Oe(be,Ke,k,"bottom")},et=function(){return p.get().each(Ue)};Mi().deviceType.isTouch()&&(t.on("TableSelectionChange",function(Ke){v.get()||(Ss(r,ne),Ss(r,be),v.set(!0)),m.set(E.some(Ke.start)),p.set(E.some(Ke.finish)),Ke.otherCells.each(function(Dt){o.set(Dt.upOrLeftCells),c.set(Dt.downOrRightCells),Re(Ke.start),Ue(Ke.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){tt(),et()}),t.on("TableSelectionClear",function(){v.get()&&(Xv(ne),Xv(be),v.set(!1)),m.set(E.none()),p.set(E.none())}))},I7=function(t){return t.nodeType===1&&(t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark")},z7=function(t,r,o){r.delimiter||(r.delimiter="\xBB");var c=function(m){var p=m||[],C=Pe(p,function(k,D){return Hu.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":D,"tab-index":-1,"aria-level":D+1},innerHtml:k.name},action:function(B){t.focus(),t.selection.select(k.element),t.nodeChanged()},buttonBehaviours:Lt([xl.button(o.isDisabled),ki()])})}),S={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return Be(C.slice(1),function(k,D){var B=k;return B.push(S),B.push(D),B},[C[0]])},v=function(m){for(var p=[],C=m.length;C-- >0;){var S=m[C];if(S.nodeType===1&&!I7(S)){var k=t.fire("ResolveName",{name:S.nodeName.toLowerCase(),target:S});if(k.isDefaultPrevented()||p.push({name:k.name,element:S}),k.isPropagationStopped())break}}return p};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Lt([vr.config({mode:"flow",selector:"div[role=button]"}),pr.config({disabled:o.isDisabled}),ki(),Yo.config({}),Fr.config({}),Yr("elementPathEvents",[Oo(function(m,p){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return vr.focusIn(m)}),t.on("NodeChange",function(C){var S=v(C.parents);S.length>0?Fr.set(m,c(S)):Fr.set(m,[])})})])]),components:[]}},dw;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(dw||(dw={}));var L7=function(t,r,o,c,v){var m={};return m.height=hB(c+r.top,G4(t),JT(t)),o===dw.Both&&(m.width=hB(v+r.left,ph(t),LC(t))),m},I8=function(t,r,o){var c=yn.fromDom(t.getContainer()),v=L7(t,r,o,bu(c),Mu(c));Rr(v,function(m,p){return Ir(c,p,dI(m))}),bP(t)},H7=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?dw.None:o==="both"?dw.Both:dw.Vertical},kB=function(t,r,o,c){var v=20,m=Ro(o*v,c*v);return I8(t,m,r),E.some(!0)},V7=function(t,r){var o=H7(t);return o===dw.None?E.none():E.some({dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},innerHtml:Vu("resize-handle",r.icons)},behaviours:Lt([vw.config({mode:"mouse",repositionTarget:!1,onDrag:function(c,v,m){return I8(t,m,o)},blockerClass:"tox-blocker"}),vr.config({mode:"special",onLeft:function(){return kB(t,o,-1,0)},onRight:function(){return kB(t,o,1,0)},onUp:function(){return kB(t,o,0,-1)},onDown:function(){return kB(t,o,0,1)}}),Yo.config({}),Ar.config({})])})},U7=function(t,r){var o,c=function(v,m,p){return Fr.set(v,[Ff(r.translate(["{0} "+p,m[p]]))])};return Hu.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Lt([xl.button(r.isDisabled),ki(),Yo.config({}),Fr.config({}),wn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Yr("wordcount-events",[Zc(function(v){var m=wn.getValue(v),p=m.mode==="words"?"characters":"words";wn.setValue(v,{mode:p,count:m.count}),c(v,m.count,p)}),Oo(function(v){t.on("wordCountUpdate",function(m){var p=wn.getValue(v).mode;wn.setValue(v,{mode:p,count:m.wordCount}),c(v,m.wordCount,p)})})])]),eventOrder:(o={},o[Du()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},W7=function(t,r){var o=function(){var m=$c.translate(["Powered by {0}","Tiny"]),p='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+m+'">'+m+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:p}}},c=function(){var m=[];return t.getParam("elementpath",!0,"boolean")&&m.push(z7(t,{},r)),t.hasPlugin("wordcount")&&m.push(U7(t,r)),t.getParam("branding",!0,"boolean")&&m.push(o()),m.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:m}]:[]},v=function(){var m=c(),p=V7(t,r);return m.concat(p.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:v()}},j7=function(t){var r,o=t.inline,c=o?tL:K6,v=VC(t)?i6:jr,m=E.none(),p=Mi(),C=p.browser.isIE(),S=C?["tox-platform-ie"]:[],k=p.deviceType.isTouch(),D="tox-platform-touch",B=k?[D]:[],N=tE(t),j=Sl(t),te=$c.isRtl()?{attributes:{dir:"rtl"}}:{},ne={attributes:(r={},r[tm]=N?cl.BottomToTop:cl.TopToBottom,r)},be=function(){return m.bind(ui.getHeader)},ae=function(){return v.isDocked(be)},Oe=function(){Ir(lc.element,"width",document.body.clientWidth+"px")},Re=function(){var Wu=Ko(Gl(),j)&&Fs(j,"display")==="grid",rb={dom:se({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(S).concat(B)},te),behaviours:Lt([wu.config({useFixed:function(){return ae()}})])},ix={dom:{styles:{width:document.body.clientWidth+"px"}},events:ba([Et(Il(),Oe)])};return Hr(rb,Wu?ix:{})},tt=pu(Re()),Ue=function(){return vn.value(tt)},et=Ca({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ke=function(){return m.bind(function(Wu){return et.getOpt(Wu)}).getOrDie("Could not find a anchor bar element")},Dt=function(){return m.bind(function(Wu){return ui.getToolbar(Wu)}).getOrDie("Could not find more toolbar element")},Wn=function(){return m.bind(function(Wu){return ui.getThrobber(Wu)}).getOrDie("Could not find throbber element")},ln=c$(tt,t,Ke),vt=ui.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ln,onEscape:function(){t.focus()}}),Tt=Ay(t),Mn=ui.parts.toolbar(se({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Ue,providers:ln.shared.providers,onEscape:function(){t.focus()},type:Tt,lazyToolbar:Dt,lazyHeader:function(){return be().getOrDie("Could not find header element")}},ne)),yr=ui.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ln.shared.providers,onEscape:function(){t.focus()},type:Tt}),qt=ui.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),er=ui.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),mr=ui.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ln}),ma=t.getParam("statusbar",!0,"boolean"),Ya=ma&&!o?E.some(W7(t,ln.shared.providers)):E.none(),Uo={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[qt,er]},df=Oy(t),Bl=O1(t),NI=QT(t),FI=function(){return df?[yr]:Bl?[Mn]:[]},EB=ui.parts.header({dom:se({tag:"div",classes:["tox-editor-header"]},ne),components:br([NI?[vt]:[],FI(),HC(t)?[]:[et.asSpec()]]),sticky:VC(t),editor:t,sharedBackstage:ln.shared}),$I=br([N?[]:[EB],o?[]:[Uo],N?[EB]:[]]),qO={dom:{tag:"div",classes:["tox-editor-container"]},components:$I},OB=br([[qO],o?[]:Ya.toArray(),[mr]]),GO=nE(t),AB=se(se({role:"application"},$c.isRtl()?{dir:"rtl"}:{}),GO?{"aria-hidden":"true"}:{}),mv=pu(ui.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(N?["tox-tinymce--toolbar-bottom"]:[]).concat(B).concat(S),styles:se({visibility:"hidden"},GO?{opacity:"0",border:"0"}:{}),attributes:AB},components:OB,behaviours:Lt([ki(),pr.config({disableClass:"tox-tinymce--disabled"}),vr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));m=E.some(mv),t.shortcuts.add("alt+F9","focus menubar",function(){ui.focusMenubar(mv)}),t.shortcuts.add("alt+F10","focus toolbar",function(){ui.focusToolbar(mv)}),t.addCommand("ToggleToolbarDrawer",function(){ui.toggleToolbarDrawer(mv)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return ui.isToolbarDrawerToggled(mv)});var KO=YC(mv),lc=YC(tt);mB(t,KO,lc);var II=function(){var Wu={broadcastAll:lc.broadcast,broadcastOn:lc.broadcastOn,register:nt};return{channels:Wu}},zI=function(){var Wu=dI(Y6(t)),rb=dI(J6(t));return t.inline||(Rv("div","width",rb)&&Ir(mv.element,"width",rb),Rv("div","height",Wu)?Ir(mv.element,"height",Wu):Ir(mv.element,"height","200px")),Wu},LI=function(){v.setup(t,ln.shared,be),AL(t,ln),YL(t,Ue,ln),g6(t),A6(t,Wn,ln.shared),Or(VR(t),function(vc,mf){t.ui.registry.addGroupToolbarButton(mf,vc)});var Wu=t.ui.registry.getAll(),rb=Wu.buttons,ix=Wu.menuItems,HI=Wu.contextToolbars,ux=Wu.sidebars,VI=Y4(t),Rn={menuItems:ix,menus:rE(t),menubar:GR(t),toolbar:VI.getOrThunk(function(){return KR(t)}),allowToolbarGroups:Tt===cu.floating,buttons:rb,sidebar:ux};dB(t,HI,tt,{backstage:ln}),$7(t,tt);var ta=t.getElement(),Ga=zI(),Zo={mothership:KO,uiMothership:lc,outerContainer:mv},fc={targetNode:ta,height:Ga};return c.render(t,Zo,Rn,ln,fc)};return{mothership:KO,uiMothership:lc,backstage:ln,renderUI:LI,getUi:II}},q7=function(t,r){var o=E.from(du(t,"id")).fold(function(){var c=Qn("dialog-describe");return ya(r,"id",c),c},_t);ya(t,"aria-describedby",o)},G7=function(t,r){var o=nl(t,"id").fold(function(){var c=Qn("dialog-label");return ya(r,"id",c),c},_t);ya(t,"aria-labelledby",o)},K7=re([ve("lazySink"),pa("dragBlockClass"),Ua("getBounds",Ji),Me("useTabstopAt",Zt),Me("eventOrder",{}),Si("modalBehaviours",[vr]),Lo("onExecute"),Ib("onEscape")]),xI={sketch:_t},X7=re([Qs({name:"draghandle",overrides:function(t,r){return{behaviours:Lt([vw.config({mode:"mouse",getTarget:function(o){return Nu(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),xi({schema:[ve("dom")],name:"title"}),xi({factory:xI,schema:[ve("dom")],name:"close"}),xi({factory:xI,schema:[ve("dom")],name:"body"}),Qs({factory:xI,schema:[ve("dom")],name:"footer"}),Zs({factory:{sketch:function(t,r){return se(se({},t),{dom:r.dom,components:r.components})}},schema:[Me("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Me("components",[])],name:"blocker"})]),Y7=function(t,r,o,c){ya(t.element,"aria-busy",!0);var v=r.getRoot(t).getOr(t),m=Lt([vr.config({mode:"special",onTab:function(){return E.some(!0)},onShiftTab:function(){return E.some(!0)}}),Ar.config({})]),p=c(v,m),C=v.getSystem().build(p);Fr.append(v,Pu(C)),C.hasConfigured(vr)&&vr.focusIn(C),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return Fr.remove(v,C)})},J7=function(t,r,o){Ju(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},Z7=Object.freeze({__proto__:null,block:Y7,unblock:J7}),Q7=[Ua("getRoot",E.none),wa("onBlock"),wa("onUnblock")],eH=function(){var t=Uu(),r=function(o){t.set({destroy:o})};return Ii({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},tH=Object.freeze({__proto__:null,init:eH}),ax=Do({fields:Q7,name:"blocking",apis:Z7,state:tH}),nH=function(t,r,o,c){var v,m=nn(E.none()),p=function(te){m.set(E.some(te));var ne=t.lazySink(te).getOrDie(),be=c.blocker(),ae=ne.getSystem().build(se(se({},be),{components:be.components.concat([Pu(te)]),behaviours:Lt([Ar.config({}),Yr("dialog-blocker-events",[wc(Fl(),function(){vr.focusIn(te)})])])}));Ss(ne,ae),vr.focusIn(te)},C=function(te){m.set(E.none()),$i(te.element).each(function(ne){te.getSystem().getByDom(ne).each(function(be){Xv(be)})})},S=function(te){return Nc(te,t,"body")},k=function(te){return Nc(te,t,"footer")},D=function(te,ne){ax.block(te,ne)},B=function(te){ax.unblock(te)},N=Qn("modal-events"),j=se(se({},t.eventOrder),(v={},v[Jc()]=[N].concat(t.eventOrder["alloy.system.attached"]||[]),v));return{uid:t.uid,dom:t.dom,components:r,apis:{show:p,hide:C,getBody:S,getFooter:k,setIdle:B,setBusy:D},eventOrder:j,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:oi(t.modalBehaviours,[Fr.config({}),vr.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),ax.config({getRoot:m.get}),Yr(N,[Oo(function(te){G7(te.element,Nc(te,t,"title").element),q7(te.element,Nc(te,t,"body").element)})])])}},Yi=Cu({name:"ModalDialog",configFields:K7(),partFields:X7(),factory:nH,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),rH=Se([un("type"),un("name")].concat(Bm)),aH=At,z8=[aa("name","name",je(function(){return Qn("button-name")}),Le),_a("icon"),vu("align","end",["start","end"]),Aa("primary",!1),Aa("disabled",!1)],L8=qe(z8,[un("text")]),kI=qe([fa("type",["submit","cancel","custom"])],L8),oH=qe([fa("type",["menu"]),_a("text"),_a("tooltip"),_a("icon"),fu("items",rH)],z8),iH=mi("type",{submit:kI,cancel:kI,custom:kI,menu:oH}),uH=[un("type"),un("text"),fa("level",["info","warn","error","success"]),un("icon"),Me("url","")],sH=Se(uH),cH=function(t){return[un("type"),t]},lH=[un("type"),un("text"),Aa("disabled",!1),Aa("primary",!1),aa("name","name",je(function(){return Qn("button-name")}),Le),_a("icon"),Aa("borderless",!1)],fH=Se(lH),vH=[un("type"),un("name"),un("label"),Aa("disabled",!1)],dH=Se(vH),mH=At,TI=[un("type"),un("name")],dv=TI.concat([_a("label")]),gH=dv.concat([Me("columns","auto")]),hH=Se(gH),pH=Rl([un("value"),un("text"),un("icon")]),bH=dv,yH=Se(bH),wH=Le,CH=dv,SH=Se(CH),xH=Le,kH=TI.concat([Pl("tag","textarea"),un("scriptId"),un("scriptUrl"),Ti("settings",void 0)]),TH=TI.concat([Pl("tag","textarea"),na("init")]),EH=fs(function(t){return xa("customeditor.old",_e(TH),t).orThunk(function(){return xa("customeditor.new",_e(kH),t)})}),OH=Le,AH=dv,DH=Se(AH),_H=ha(),BH=function(t){return[un("type"),ur("columns"),t]},RH=[un("type"),un("html"),vu("presets","presentation",["presentation","document"])],PH=Se(RH),MH=dv.concat([Aa("sandboxed",!0)]),NH=Se(MH),FH=Le,$H=dv.concat([Kt("currentState",Se([ve("blob"),un("url")]))]),IH=Se($H),zH=dv.concat([_a("inputMode"),_a("placeholder"),Aa("maximized",!1),Aa("disabled",!1)]),LH=Se(zH),HH=Le,VH=function(t){return[un("type"),un("label"),t]},UH=[un("text"),un("value")],WH=[un("text"),fu("items",gv("items",function(){return H8}))],H8=nr([Se(UH),Se(WH)]),jH=dv.concat([fu("items",H8),Aa("disabled",!1)]),qH=Se(jH),GH=Le,KH=dv.concat([Us("items",[un("text"),un("value")]),hi("size",1),Aa("disabled",!1)]),XH=Se(KH),YH=Le,JH=dv.concat([Aa("constrain",!0),Aa("disabled",!1)]),ZH=Se(JH),V8=Se([un("width"),un("height")]),QH=[un("type"),fu("header",Le),fu("cells",Yt(Le))],e9=Se(QH),t9=dv.concat([_a("placeholder"),Aa("maximized",!1),Aa("disabled",!1)]),n9=Se(t9),r9=Le,a9=dv.concat([vu("filetype","file",["image","media","file"]),Me("disabled",!1)]),o9=Se(a9),i9=Se([un("value"),Me("meta",{})]),EI=function(t){return aa("items","items",Ee(),Yt(fs(function(r){return xa("Checking item of "+t,OI,r).fold(function(o){return vn.error(qu(o))},function(o){return vn.value(o)})})))},OI=Mr(function(){return Tu("type",{alertbanner:sH,bar:Se(cH(EI("bar"))),button:fH,checkbox:dH,colorinput:yH,colorpicker:SH,dropzone:DH,grid:Se(BH(EI("grid"))),iframe:NH,input:LH,listbox:qH,selectbox:XH,sizeinput:ZH,textarea:n9,urlinput:o9,customeditor:EH,htmlpanel:PH,imagetools:IH,collection:hH,label:Se(VH(EI("label"))),table:e9,panel:U8})}),u9=[un("type"),Me("classes",[]),fu("items",OI)],U8=Se(u9),s9=[aa("name","name",je(function(){return Qn("tab-name")}),Le),un("title"),fu("items",OI)],c9=[un("type"),Us("tabs",s9)],l9=Se(c9),f9=L8,v9=iH,d9=Se([un("title"),Kt("body",Tu("type",{panel:U8,tabpanel:l9})),Pl("size","normal"),fu("buttons",v9),Me("initialData",{}),Ua("onAction",nt),Ua("onChange",nt),Ua("onSubmit",nt),Ua("onClose",nt),Ua("onCancel",nt),Me("onTabChange",nt)]),m9=function(t){return xa("dialog",d9,t)},g9=Se(qe([fa("type",["cancel","custom"])],f9)),h9=Se([un("title"),un("url"),Wc("height"),Wc("width"),ni("buttons",g9),Ua("onAction",nt),Ua("onCancel",nt),Ua("onClose",nt),Ua("onMessage",nt)]),p9=function(t){return xa("dialog",h9,t)},AI=function(t){return rr(t)?[t].concat(on(io(t),AI)):Nn(t)?on(t,AI):[]},b9=function(t){return pn(t.type)&&pn(t.name)},y9={checkbox:mH,colorinput:wH,colorpicker:xH,dropzone:_H,input:HH,iframe:FH,sizeinput:V8,selectbox:YH,listbox:GH,size:V8,textarea:r9,urlinput:i9,customeditor:OH,collection:pH,togglemenuitem:aH},w9=function(t){return E.from(y9[t.type])},C9=function(t){return de(AI(t),b9)},S9=function(t){var r=C9(t),o=on(r,function(c){return w9(c).fold(function(){return[]},function(v){return[Kt(c.name,v)]})});return Se(o)},W8=function(t){var r=ku(m9(t)),o=S9(t),c=t.initialData;return{internalDialog:r,dataValidator:o,initialData:c}},jO={open:function(t,r){var o=W8(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=ku(p9(r));return t(o)},redial:function(t){return W8(t)}},j8=function(t){var r=[],o={};return Rr(t,function(c,v){c.fold(function(){r.push(v)},function(m){o[v]=m})}),r.length>0?vn.error(r):vn.value(o)},x9=function(t,r){var o=Ca(W1.sketch(function(c){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Pe(t.items,function(v){return y_(c,v,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Lt([vr.config({mode:"acyclic",useTabstopAt:qn(Gy)}),Al.memento(o),Im.memento(o,{postprocess:function(c){return j8(c).fold(function(v){return console.error(v),{}},function(v){return v})}})])}},k9=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:Mt(t.action),behaviours:oi(t.tabButtonBehaviours,[Ar.config({}),vr.config({mode:"execution",useSpace:!0,useEnter:!0}),wn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},T9=Ls({name:"TabButton",configFields:[Me("uid",void 0),ve("value"),aa("dom","dom",G(function(){return{attributes:{role:"tab",id:Qn("aria"),"aria-selected":"false"}}}),F()),pa("action"),Me("domModification",{}),Si("tabButtonBehaviours",[Ar,vr,wn]),ve("view")],factory:k9}),E9=re([ve("tabs"),ve("dom"),Me("clickToDismiss",!1),Si("tabbarBehaviours",[Ba,vr]),ol(["tabClass","selectedClass"])]),O9=jg({factory:T9,name:"tabs",unit:"tab",overrides:function(t){var r=function(c,v){Ba.dehighlight(c,v),Hn(c,kf(),{tabbar:c,button:v})},o=function(c,v){Ba.highlight(c,v),Hn(c,fg(),{tabbar:c,button:v})};return{action:function(c){var v=c.getSystem().getByUid(t.uid).getOrDie(),m=Ba.isHighlighted(v,c),p=function(){return m&&t.clickToDismiss?r:m?nt:o}();p(v,c)},domModification:{classes:[t.markers.tabClass]}}}}),A9=re([O9]),D9=function(t,r,o,c){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:oi(t.tabbarBehaviours,[Ba.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(v,m){ya(m.element,"aria-selected","true")},onDehighlight:function(v,m){ya(m.element,"aria-selected","false")}}),vr.config({mode:"flow",getInitial:function(v){return Ba.getHighlighted(v).map(function(m){return m.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},q8=Cu({name:"Tabbar",configFields:E9(),partFields:A9(),factory:D9}),_9=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:oi(t.tabviewBehaviours,[Fr.config({})]),domModification:{attributes:{role:"tabpanel"}}}},B9=Ls({name:"Tabview",configFields:[Si("tabviewBehaviours",[Fr])],factory:_9}),R9=re([Me("selectFirst",!0),wa("onChangeTab"),wa("onDismissTab"),Me("tabs",[]),Si("tabSectionBehaviours",[])]),P9=xi({factory:q8,schema:[ve("dom"),gi("markers",[ve("tabClass"),ve("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),M9=xi({factory:B9,name:"tabview"}),N9=re([P9,M9]),F9=function(t,r,o,c){var v=function(p){var C=wn.getValue(p);qa(p,t,"tabview").each(function(S){var k=ke(t.tabs,function(D){return D.value===C});k.each(function(D){var B=D.view();nl(p.element,"id").each(function(N){ya(S.element,"aria-labelledby",N)}),Fr.set(S,B),t.onChangeTab(S,p,B)})})},m=function(p,C){qa(p,t,"tabbar").each(function(S){C(S).each(Tf)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:Up(t.tabSectionBehaviours),events:ba(br([t.selectFirst?[Oo(function(p,C){m(p,Ba.getFirst)})]:[],[Et(fg(),function(p,C){var S=C.event.button;v(S)}),Et(kf(),function(p,C){var S=C.event.button;t.onDismissTab(p,S)})]])),apis:{getViewItems:function(p){return qa(p,t,"tabview").map(function(C){return Fr.contents(C)}).getOr([])},showTab:function(p,C){var S=function(k){var D=Ba.getCandidates(k),B=ke(D,function(N){return wn.getValue(N)===C});return B.filter(function(N){return!Ba.isHighlighted(k,N)})};m(p,S)}}}},ox=Cu({name:"TabSection",configFields:R9(),partFields:N9(),factory:F9,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),$9=function(t,r,o){return Pe(t,function(c,v){Fr.set(o,t[v].view());var m=r.dom.getBoundingClientRect();return Fr.set(o,[]),m.height})},I9=function(t){return He(xn(t,function(r,o){return r>o?-1:r<o?1:0}))},z9=function(t,r,o){var c=el(t).dom,v=Nu(t,".tox-dialog-wrap").getOr(t),m=Fs(v,"position")==="fixed",p;m?p=Math.max(c.clientHeight,window.innerHeight):p=Math.max(c.offsetHeight,c.scrollHeight);var C=bu(r),S=r.dom.offsetLeft>=o.dom.offsetLeft+Mu(o),k=S?Math.max(bu(o),C):C,D=parseInt(Fs(t,"margin-top"),10)||0,B=parseInt(Fs(t,"margin-bottom"),10)||0,N=bu(t)+D+B,j=N-k;return p-j},L9=function(t,r){He(t).each(function(o){return ox.showTab(r,o.value)})},G8=function(t,r){Ir(t,"height",r+"px"),Mi().browser.isIE()?mo(t,"flex-basis"):Ir(t,"flex-basis",r+"px")},TB=function(t,r,o){Nu(t,'[role="dialog"]').each(function(c){Zi(c,'[role="tablist"]').each(function(v){o.get().map(function(m){return Ir(r,"height","0"),Ir(r,"flex-basis","0"),Math.min(m,z9(c,r,v))}).each(function(m){G8(r,m)})})})},DI=function(t){return Zi(t,'[role="tabpanel"]')},H9=function(t){var r=function(){var c=nn(E.none()),v=[Oo(function(p){var C=p.element;DI(C).each(function(S){Ir(S,"visibility","hidden"),p.getSystem().getByDom(S).toOptional().each(function(k){var D=$9(t,S,k),B=I9(D);c.set(B)}),TB(C,S,c),mo(S,"visibility"),L9(t,p),Cl.requestAnimationFrame(function(){TB(C,S,c)})})}),Et(Il(),function(p){var C=p.element;DI(C).each(function(S){TB(C,S,c)})}),Et(eA,function(p,C){var S=p.element;DI(S).each(function(k){var D=Oc(li(k));Ir(k,"visibility","hidden");var B=Bo(k,"height").map(function(te){return parseInt(te,10)});mo(k,"height"),mo(k,"flex-basis");var N=k.dom.getBoundingClientRect().height,j=B.forall(function(te){return N>te});j?(c.set(E.from(N)),TB(S,k,c)):B.each(function(te){G8(k,te)}),mo(k,"visibility"),D.each(Is)})})],m=!1;return{extraEvents:v,selectFirst:m}}(),o=function(){var c=[],v=!0;return{extraEvents:c,selectFirst:v}}();return{smartTabHeight:r,naiveTabHeight:o}},K8="send-data-to-section",X8="send-data-to-view",V9=function(t,r){var o=nn({}),c=function(S){var k=wn.getValue(S),D=j8(k).getOr({}),B=o.get(),N=Hr(B,D);o.set(N)},v=function(S){var k=o.get();wn.setValue(S,k)},m=nn(null),p=Pe(t.tabs,function(S){return{value:S.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(S.title)},view:function(){return[W1.sketch(function(k){return{dom:{tag:"div",classes:["tox-form"]},components:Pe(S.items,function(D){return y_(k,D,r)}),formBehaviours:Lt([vr.config({mode:"acyclic",useTabstopAt:qn(Gy)}),Yr("TabView.form.events",[Oo(v),Yu(c)]),tu.config({channels:Ln([{key:K8,value:{onReceive:c}},{key:X8,value:{onReceive:v}}])})])}})]}}}),C=H9(p).smartTabHeight;return ox.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(S,k,D){var B=wn.getValue(k);Hn(S,Q3,{name:B,oldName:m.get()}),m.set(B)},tabs:p,components:[ox.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[q8.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Lt([Yo.config({})])}),ox.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:C.selectFirst,tabSectionBehaviours:Lt([Yr("tabpanel",C.extraEvents),vr.config({mode:"acyclic"}),da.config({find:function(S){return He(ox.getViewItems(S))}}),wn.config({store:{mode:"manual",getValue:function(S){return S.getSystem().broadcastOn([K8],{}),o.get()},setValue:function(S,k){o.set(k),S.getSystem().broadcastOn([X8],{})}}})])})},_I=Qn("update-dialog"),Y8=Qn("update-title"),J8=Qn("update-body"),Z8=Qn("update-footer"),Q8=Qn("body-send-message"),ez=function(t,r,o,c){var v=function(C){switch(C.body.type){case"tabpanel":return[V9(C.body,o)];default:return[x9(C.body,o)]}},m=function(C,S){return E.some({isTabPanel:function(){return S.body.type==="tabpanel"}})},p={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:se(se({},r.map(function(C){return{id:C}}).getOr({})),c?p:{})},components:[],behaviours:Lt([Al.childAt(0),Os.config({channel:J8,updateState:m,renderComponents:v,initialData:t})])}},U9=function(t,r,o,c){return ez(t,E.some(r),o,c)},W9=function(t,r){var o=ez(t,E.none(),r,!1);return Yi.parts.body(o)},j9=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[xD({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Lt([Yo.config({}),Ar.config({})])})]}],behaviours:Lt([vr.config({mode:"acyclic",useTabstopAt:qn(Gy)})])};return Yi.parts.body(r)},q9=uE.deviceType.isTouch(),tz=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},nz=function(t,r){return Yi.parts.close(Hu.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:Lt([Yo.config({})])}))},rz=function(){return Yi.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},az=function(t,r){return Yi.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:tb("<p>"+r.translate(t)+"</p>")}]}]})},oz=function(t){return Yi.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},iz=function(t,r){return[Su.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Su.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},BI=function(t){var r,o="tox-dialog",c=o+"-wrap",v=c+"__backdrop",m=o+"__disable-scroll";return Yi.sketch({lazySink:t.lazySink,onEscape:function(p){return t.onEscape(p),E.some(!0)},useTabstopAt:function(p){return!Gy(p)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:se({position:"relative"},t.extraStyles)},components:qe([t.header,t.body],t.footer.toArray()),parts:{blocker:{dom:tb('<div class="'+c+'"></div>'),components:[{dom:{tag:"div",classes:q9?[v,v+"--opaque"]:[v]}}]}},dragBlockClass:c,modalBehaviours:Lt(qe([Ar.config({}),Yr("dialog-events",t.dialogEvents.concat([wc(Fl(),function(p,C){vr.focusIn(p)})])),Yr("scroll-lock",[Oo(function(){ja(Gl(),m)}),Yu(function(){vo(Gl(),m)})])],t.extraBehaviours)),eventOrder:se((r={},r[Du()]=["dialog-events"],r[Jc()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[kv()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},uz=function(t){return Hu.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:Vu("close",t.icons)}}],action:function(r){va(r,uf)}})},sz=function(t,r,o){var c=function(v){return[Ff(o.translate(v.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:se({},r.map(function(v){return{id:v}}).getOr({}))},components:c(t),behaviours:Lt([Os.config({channel:Y8,renderComponents:c})])}},cz=function(){return{dom:tb('<div class="tox-dialog__draghandle"></div>')}},G9=function(t,r,o){return Su.sketch({dom:tb('<div class="tox-dialog__header"></div>'),components:[sz(t,E.some(r),o),cz(),uz(o)],containerBehaviours:Lt([vw.config({mode:"mouse",blockerClass:"blocker",getTarget:function(c){return Tc(c,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},K9=function(t,r){var o=Yi.parts.title(sz(t,E.none(),r)),c=Yi.parts.draghandle(cz()),v=Yi.parts.close(uz(r)),m=[o].concat(t.draggable?[c]:[]).concat([v]);return Su.sketch({dom:tb('<div class="tox-dialog__header"></div>'),components:m})},lz=function(t,r){return K9({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},fz=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:tb('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},vz=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(c){Yi.setBusy(t(),function(v,m){return fz(c.message,m,r)})},onUnblock:function(){Yi.setIdle(t())}}},dz=function(t,r,o,c){var v,m=function(p,C){return E.some(C)};return pu(BI(se(se({},t),{lazySink:c.shared.getSink,extraBehaviours:qe([Os.config({channel:_I,updateState:m,initialData:r}),Im.memory({})],t.extraBehaviours),onEscape:function(p){va(p,uf)},dialogEvents:o,eventOrder:(v={},v[gs()]=[Os.name(),tu.name()],v[Jc()]=["scroll-lock",Os.name(),"messages","dialog-events","alloy.base.behaviour"],v[kv()]=["alloy.base.behaviour","dialog-events","messages",Os.name(),"scroll-lock"],v)})))},mz=function(t){var r=function(o){var c=Pe(o.items,function(v){var m=nn(!1);return se(se({},v),{storage:m})});return se(se({},o),{items:c})};return Pe(t,function(o){return o.type==="menu"?r(o):o})},gz=function(t){return Be(t,function(r,o){if(o.type==="menu"){var c=o;return Be(c.items,function(v,m){return v[m.name]=m.storage,v},r)}return r},{})},hz=function(t,r){return[Ms(Fl(),ES),t(M1,function(o,c){r.onClose(),c.onClose()}),t(uf,function(o,c,v,m){c.onCancel(o),va(m,M1)}),Et(N1,function(o,c){return r.onUnblock()}),Et(TE,function(o,c){return r.onBlock(c.event)})]},X9=function(t,r){var o=function(v,m){return Et(v,function(p,C){c(p,function(S,k){m(t(),S,C.event,p)})})},c=function(v,m){Os.getState(v).get().each(function(p){m(p,v)})};return qe(hz(o,r),[o(iv,function(v,m,p){m.onAction(v,{name:p.name})})])},Y9=function(t,r,o){var c=function(m,p){return Et(m,function(C,S){v(C,function(k,D){p(t(),k,S.event,C)})})},v=function(m,p){Os.getState(m).get().each(function(C){p(C.internalDialog,m)})};return qe(hz(c,r),[c($y,function(m,p){return p.onSubmit(m)}),c(rc,function(m,p,C){p.onChange(m,{name:C.name})}),c(iv,function(m,p,C,S){var k=function(){return vr.focusIn(S)},D=function(j){return ww(j,"disabled")||nl(j,"aria-disabled").exists(function(te){return te==="true"})},B=li(S.element),N=Oc(B);p.onAction(m,{name:C.name,value:C.value}),Oc(B).fold(k,function(j){D(j)||N.exists(function(te){return Sv(j,te)&&D(te)})?k():o().toOptional().filter(function(te){return!Sv(te.element,j)}).each(k)})}),c(Q3,function(m,p,C){p.onTabChange(m,{newTabName:C.name,oldTabName:C.oldName})}),Yu(function(m){var p=t();wn.setValue(m,p.getData())})])},RI={initUrlDialog:X9,initDialog:Y9},J9=function(t,r){return Yy(t,t.type,r)},Z9=function(t,r,o){return ke(r,function(c){return c.name===o}).bind(function(c){return c.memento.getOpt(t)})},Q9=function(t,r){var o=r.map(function(C){return C.footerButtons}).getOr([]),c=Bn(o,function(C){return C.align==="start"}),v=function(C,S){return Su.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+C]},components:Pe(S,function(k){return k.memento.asSpec()})})},m=v("start",c.pass),p=v("end",c.fail);return[m,p]},pz=function(t,r){var o=function(c,v){var m=Pe(v.buttons,function(C){var S=Ca(J9(C,r));return{name:C.name,align:C.align,memento:S}}),p=function(C,S){return Z9(C,m,S)};return E.some({lookupByName:p,footerButtons:m})};return{dom:tb('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Lt([Os.config({channel:Z8,initialData:t,updateState:o,renderComponents:Q9})])}},eV=function(t,r){return pz(t,r)},bz=function(t,r){return Yi.parts.footer(pz(t,r))},PI=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var c=da.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return W1.getField(c,r).fold(function(){var v=t.getFooter(),m=Os.getState(v);return m.get().bind(function(p){return p.lookupByName(c,r)})},function(v){return E.some(v)})}else return E.none()},tV=function(t,r){var o=t.getRoot();return Os.getState(o).get().map(function(c){return ku(xa("data",c.dataValidator,r))}).getOr(r)},yz=function(t,r,o){var c=function(ne){var be=t.getRoot();be.getSystem().isConnected()&&ne(be)},v=function(){var ne=t.getRoot(),be=ne.getSystem().isConnected()?t.getFormWrapper():ne,ae=wn.getValue(be),Oe=Or(o,function(Re){return Re.get()});return se(se({},ae),Oe)},m=function(ne){c(function(be){var ae=te.getData(),Oe=se(se({},ae),ne),Re=tV(t,Oe),tt=t.getFormWrapper();wn.setValue(tt,Re),Rr(o,function(Ue,et){Oa(Oe,et)&&Ue.set(Oe[et])})})},p=function(ne){PI(t,ne).each(pr.disable)},C=function(ne){PI(t,ne).each(pr.enable)},S=function(ne){PI(t,ne).each(Ar.focus)},k=function(ne){if(!pn(ne))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c(function(be){Hn(be,TE,{message:ne})})},D=function(){c(function(ne){va(ne,N1)})},B=function(ne){c(function(be){var ae=t.getBody(),Oe=Os.getState(ae);Oe.get().exists(function(Re){return Re.isTabPanel()})&&da.getCurrent(ae).each(function(Re){ox.showTab(Re,ne)})})},N=function(ne){c(function(be){var ae=r(ne);be.getSystem().broadcastOn([_I],ae),be.getSystem().broadcastOn([Y8],ae.internalDialog),be.getSystem().broadcastOn([J8],ae.internalDialog),be.getSystem().broadcastOn([Z8],ae.internalDialog),te.setData(ae.initialData)})},j=function(){c(function(ne){va(ne,M1)})},te={getData:v,setData:m,disable:p,enable:C,focus:S,block:k,unblock:D,showTab:B,redial:N,close:j};return te},nV=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},rV=function(t,r,o){var c=lz(t.internalDialog.title,o),v=W9({body:t.internalDialog.body},o),m=mz(t.internalDialog.buttons),p=gz(m),C=bz({buttons:m},o),S=RI.initDialog(function(){return j},vz(function(){return B},o.shared.providers,r),o.shared.getSink),k=nV(t.internalDialog.size),D={header:c,body:v,footer:E.some(C),extraClasses:k,extraBehaviours:[],extraStyles:{}},B=dz(D,t,S,o),N=function(){var te=function(){var ne=Yi.getBody(B);return da.getCurrent(ne).getOr(ne)};return{getRoot:function(){return B},getBody:function(){return Yi.getBody(B)},getFooter:function(){return Yi.getFooter(B)},getFormWrapper:te}}(),j=yz(N,r.redial,p);return{dialog:B,instanceApi:j}},aV=function(t,r,o,c){var v,m,p=Qn("dialog-label"),C=Qn("dialog-content"),S=function(ae,Oe){return E.some(Oe)},k=Ca(G9({title:t.internalDialog.title,draggable:!0},p,o.shared.providers)),D=Ca(U9({body:t.internalDialog.body},C,o,c)),B=mz(t.internalDialog.buttons),N=gz(B),j=Ca(eV({buttons:B},o)),te=RI.initDialog(function(){return be},{onBlock:function(ae){ax.block(ne,function(Oe,Re){return fz(ae.message,Re,o.shared.providers)})},onUnblock:function(){ax.unblock(ne)},onClose:function(){return r.closeWindow()}},o.shared.getSink),ne=pu({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(v={role:"dialog"},v["aria-labelledby"]=p,v["aria-describedby"]=""+C,v)},eventOrder:(m={},m[gs()]=[Os.name(),tu.name()],m[Du()]=["execute-on-form"],m[Jc()]=["reflecting","execute-on-form"],m),behaviours:Lt([vr.config({mode:"cyclic",onEscape:function(ae){return va(ae,M1),E.some(!0)},useTabstopAt:function(ae){return!Gy(ae)&&(hs(ae)!=="button"||du(ae,"disabled")!=="disabled")}}),Os.config({channel:_I,updateState:S,initialData:t}),Ar.config({}),Yr("execute-on-form",te.concat([wc(Fl(),function(ae,Oe){vr.focusIn(ae)})])),ax.config({getRoot:function(){return E.some(ne)}}),Fr.config({}),Im.memory({})]),components:[k.asSpec(),D.asSpec(),j.asSpec()]}),be=yz({getRoot:function(){return ne},getFooter:function(){return j.get(ne)},getBody:function(){return D.get(ne)},getFormWrapper:function(){var ae=D.get(ne);return da.getCurrent(ae).getOr(ae)}},r.redial,N);return{dialog:ne,instanceApi:be}},MI=tinymce.util.Tools.resolve("tinymce.util.URI"),oV=function(t){var r=function(p){t.getSystem().isConnected()&&p(t)},o=function(p){if(!pn(p))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(C){Hn(C,TE,{message:p})})},c=function(){r(function(p){va(p,N1)})},v=function(){r(function(p){va(p,M1)})},m=function(p){r(function(C){C.getSystem().broadcastOn([Q8],p)})};return{block:o,unblock:c,close:v,sendMessage:m}},iV=["insertContent","setContent","execCommand","close","block","unblock"],wz=function(t){return rr(t)&&iV.indexOf(t.mceAction)!==-1},uV=function(t){return!wz(t)&&rr(t)&&Oa(t,"mceAction")},sV=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var c=jn(o.ui)?o.ui:!1;t.execCommand(o.cmd,c,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},cV=function(t,r,o,c){var v,m=lz(t.title,c),p=j9(t),C=t.buttons.bind(function(Oe){return Oe.length===0?E.none():E.some(bz({buttons:Oe},c))}),S=RI.initUrlDialog(function(){return ae},vz(function(){return be},c.shared.providers,r)),k=se(se({},t.height.fold(function(){return{}},function(Oe){return{height:Oe+"px","max-height":Oe+"px"}})),t.width.fold(function(){return{}},function(Oe){return{width:Oe+"px","max-width":Oe+"px"}})),D=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],B=new MI(t.url,{base_uri:new MI(window.location.href)}),N=B.protocol+"://"+B.host+(B.port?":"+B.port:""),j=nn(E.none()),te=[Yr("messages",[Oo(function(){var Oe=kl(yn.fromDom(window),"message",function(Re){if(B.isSameOrigin(new MI(Re.raw.origin))){var tt=Re.raw.data;wz(tt)?sV(o,ae,tt):uV(tt)&&t.onMessage(ae,tt)}});j.set(E.some(Oe))}),Yu(function(){j.get().each(function(Oe){return Oe.unbind()})})]),tu.config({channels:(v={},v[Q8]={onReceive:function(Oe,Re){Zi(Oe.element,"iframe").each(function(tt){var Ue=tt.dom.contentWindow;Ue.postMessage(Re,N)})}},v)})],ne={header:m,body:p,footer:C,extraClasses:D,extraBehaviours:te,extraStyles:k},be=dz(ne,t,S,c),ae=oV(be);return{dialog:be,instanceApi:ae}},lV=function(t){var r=t.backstage.shared,o=function(c,v){var m=function(){Yi.hide(k),v()},p=Ca(Yy({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:E.none()},"cancel",t.backstage)),C=rz(),S=nz(m,r.providers),k=pu(BI({lazySink:function(){return r.getSink()},header:tz(C,S),body:az(c,r.providers),footer:E.some(oz(iz([],[p.asSpec()]))),onEscape:m,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Et(uf,m)],eventOrder:{}}));Yi.show(k);var D=p.get(k);Ar.focus(D)};return{open:o}},fV=function(t){var r=t.backstage.shared,o=function(c,v){var m=function(N){Yi.hide(D),v(N)},p=Ca(Yy({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:E.none()},"submit",t.backstage)),C=Yy({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:E.none()},"cancel",t.backstage),S=rz(),k=nz(function(){return m(!1)},r.providers),D=pu(BI({lazySink:function(){return r.getSink()},header:tz(S,k),body:az(c,r.providers),footer:E.some(oz(iz([],[C,p.asSpec()]))),onEscape:function(){return m(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Et(uf,function(){return m(!1)}),Et($y,function(){return m(!0)})],eventOrder:{}}));Yi.show(D);var B=p.get(D);Ar.focus(B)};return{open:o}},vV=function(t,r){return ku(xa("data",r,t))},dV=function(t){return B1(t,".tox-alert-dialog")||B1(t,".tox-confirm-dialog")},mV=function(t,r,o){return r&&o?[]:[_s.config({contextual:{lazyContext:function(){return E.some(ys(yn.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},gV=function(t){var r=t.backstage,o=t.editor,c=VC(o),v=lV(t),m=fV(t),p=function(te,ne,be){return ne!==void 0&&ne.inline==="toolbar"?D(te,r.shared.anchors.inlineDialog(),be,ne.ariaAttrs):ne!==void 0&&ne.inline==="cursor"?D(te,r.shared.anchors.cursor(),be,ne.ariaAttrs):k(te,be)},C=function(te,ne){return S(te,ne)},S=function(te,ne){var be=function(ae){var Oe=cV(ae,{closeWindow:function(){Yi.hide(Oe.dialog),ne(Oe.instanceApi)}},o,r);return Yi.show(Oe.dialog),Oe.instanceApi};return jO.openUrl(be,te)},k=function(te,ne){var be=function(ae,Oe,Re){var tt=Oe,Ue={dataValidator:Re,initialData:tt,internalDialog:ae},et=rV(Ue,{redial:jO.redial,closeWindow:function(){Yi.hide(et.dialog),ne(et.instanceApi)}},r);return Yi.show(et.dialog),et.instanceApi.setData(tt),et.instanceApi};return jO.open(be,te)},D=function(te,ne,be,ae){var Oe=function(Re,tt,Ue){var et=vV(tt,Ue),Ke=at(),Dt=r.shared.header.isPositionedAtTop(),Wn={dataValidator:Ue,initialData:et,internalDialog:Re},ln=function(){return Ke.on(function(Mn){Ho.reposition(Mn),_s.refresh(Mn)})},vt=aV(Wn,{redial:jO.redial,closeWindow:function(){Ke.on(Ho.hide),o.off("ResizeEditor",ln),Ke.clear(),be(vt.instanceApi)}},r,ae),Tt=pu(Ho.sketch(se(se({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},Dt?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Lt(qe([Yr("window-manager-inline-events",[Et(Bd(),function(Mn,yr){va(vt.dialog,uf)})])],mV(o,c,Dt))),isExtraPart:function(Mn,yr){return dV(yr)}})));return Ke.set(Tt),Ho.showWithin(Tt,ne,Pu(vt.dialog),E.some(Gl())),(!c||!Dt)&&(_s.refresh(Tt),o.on("ResizeEditor",ln)),vt.instanceApi.setData(et),vr.focusIn(vt.dialog),vt.instanceApi};return jO.open(Oe,te)},B=function(te,ne){m.open(te,function(be){ne(be)})},N=function(te,ne){v.open(te,function(){ne()})},j=function(te){te.close()};return{open:p,openUrl:C,alert:N,close:j,confirm:B}};function hV(){Vt.add("silver",function(t){var r=j7(t),o=r.uiMothership,c=r.backstage,v=r.renderUI,m=r.getUi;JP.register(t,c.shared);var p=gV({editor:t,backstage:c});return{renderUI:v,getWindowManagerImpl:re(p),getNotificationManagerImpl:function(){return t4(t,{backstage:c},o)},ui:m()}})}hV()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(Z,qe,Ve){var Ft=qe==="UL"?"InsertUnorderedList":"InsertOrderedList";Z.execCommand(Ft,!1,Ve===!1?null:{"list-style-type":Ve})},En=function(Z){Z.addCommand("ApplyUnorderedListStyle",function(qe,Ve){Ht(Z,"UL",Ve["list-style-type"])}),Z.addCommand("ApplyOrderedListStyle",function(qe,Ve){Ht(Z,"OL",Ve["list-style-type"])})},lr=tinymce.util.Tools.resolve("tinymce.util.Tools"),pn=function(Z){var qe=Z.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return qe?qe.split(/[ ,]/):[]},rr=function(Z){var qe=Z.getParam("advlist_bullet_styles","default,circle,square");return qe?qe.split(/[ ,]/):[]},Nn=function(){},jn=function(Z){return function(){return Z}},kr=jn(!1),$r=jn(!0),Cn=function(){return ut},ut=function(){var Z=function(st){return st.isNone()},qe=function(st){return st()},Ve=function(st){return st},Ft={fold:function(st,Xn){return st()},is:kr,isSome:kr,isNone:$r,getOr:Ve,getOrThunk:qe,getOrDie:function(st){throw new Error(st||"error: getOrDie called on none.")},getOrNull:jn(null),getOrUndefined:jn(void 0),or:Ve,orThunk:qe,map:Cn,each:Nn,bind:Cn,exists:kr,forall:$r,filter:Cn,equals:Z,equals_:Z,toArray:function(){return[]},toString:jn("none()")};return Ft}(),On=function(Z){var qe=jn(Z),Ve=function(){return st},Ft=function(Xn){return Xn(Z)},st={fold:function(Xn,E){return E(Z)},is:function(Xn){return Z===Xn},isSome:$r,isNone:kr,getOr:qe,getOrThunk:qe,getOrDie:qe,getOrNull:qe,getOrUndefined:qe,or:Ve,orThunk:Ve,map:function(Xn){return On(Xn(Z))},each:function(Xn){Xn(Z)},bind:Ft,exists:Ft,forall:Ft,filter:function(Xn){return Xn(Z)?st:ut},toArray:function(){return[Z]},toString:function(){return"some("+Z+")"},equals:function(Xn){return Xn.is(Z)},equals_:function(Xn,E){return Xn.fold(kr,function(yt){return E(Z,yt)})}};return st},Jt=function(Z){return Z==null?ut:On(Z)},nt={some:On,none:Cn,from:Jt},cr=function(Z,qe){return Z.$.contains(Z.getBody(),qe)},ct=function(Z){return Z&&/^(TH|TD)$/.test(Z.nodeName)},tr=function(Z){return function(qe){return qe&&/^(OL|UL|DL)$/.test(qe.nodeName)&&cr(Z,qe)}},re=function(Z){var qe=Z.dom.getParent(Z.selection.getNode(),"ol,ul"),Ve=Z.dom.getStyle(qe,"listStyleType");return nt.from(Ve)},_t=function(Z,qe){for(var Ve=0;Ve<Z.length;Ve++){var Ft=Z[Ve];if(qe(Ft))return Ve}return-1},ar=function(Z){return Z.replace(/\-/g," ").replace(/\b\w/g,function(qe){return qe.toUpperCase()})},qn=function(Z,qe,Ve){var Ft=_t(qe.parents,ct),st=Ft!==-1?qe.parents.slice(0,Ft):qe.parents,Xn=lr.grep(st,tr(Z));return Xn.length>0&&Xn[0].nodeName===Ve},Qt=function(Z,qe,Ve,Ft,st,Xn){Z.ui.registry.addSplitButton(qe,{tooltip:Ve,icon:st==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(E){var yt=lr.map(Xn,function(wt){var bt=st==="OL"?"num":"bull",or=wt==="disc"||wt==="decimal"?"default":wt,dr=wt==="default"?"":wt,Sn=ar(wt);return{type:"choiceitem",value:dr,icon:"list-"+bt+"-"+or,text:Sn}});E(yt)},onAction:function(){return Z.execCommand(Ft)},onItemAction:function(E,yt){Ht(Z,st,yt)},select:function(E){var yt=re(Z);return yt.map(function(wt){return E===wt}).getOr(!1)},onSetup:function(E){var yt=function(wt){E.setActive(qn(Z,wt,st))};return Z.on("NodeChange",yt),function(){return Z.off("NodeChange",yt)}}})},Gt=function(Z,qe,Ve,Ft,st,Xn){Z.ui.registry.addToggleButton(qe,{active:!1,tooltip:Ve,icon:st==="OL"?"ordered-list":"unordered-list",onSetup:function(E){var yt=function(wt){E.setActive(qn(Z,wt,st))};return Z.on("NodeChange",yt),function(){return Z.off("NodeChange",yt)}},onAction:function(){return Z.execCommand(Ft)}})},Zt=function(Z,qe,Ve,Ft,st,Xn){Xn.length>1?Qt(Z,qe,Ve,Ft,st,Xn):Gt(Z,qe,Ve,Ft,st)},Vt=function(Z){Zt(Z,"numlist","Numbered list","InsertOrderedList","OL",pn(Z)),Zt(Z,"bullist","Bullet list","InsertUnorderedList","UL",rr(Z))};function se(){Ze.add("advlist",function(Z){Z.hasPlugin("lists")?(Vt(Z),En(Z)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}se()})();(function(){var Ze=function(re){var _t=re,ar=function(){return _t},qn=function(Qt){_t=Qt};return{get:ar,set:qn}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),En=tinymce.util.Tools.resolve("tinymce.Env"),lr=tinymce.util.Tools.resolve("tinymce.util.Delay"),pn=function(re){return re.fire("ResizeEditor")},rr=function(re){return re.getParam("min_height",re.getElement().offsetHeight,"number")},Nn=function(re){return re.getParam("max_height",0,"number")},jn=function(re){return re.getParam("autoresize_overflow_padding",1,"number")},kr=function(re){return re.getParam("autoresize_bottom_margin",50,"number")},$r=function(re){return re.getParam("autoresize_on_init",!0,"boolean")},Cn=function(re){return re.plugins.fullscreen&&re.plugins.fullscreen.isFullscreen()},ut=function(re,_t,ar,qn,Qt){lr.setEditorTimeout(re,function(){nt(re,_t),ar--?ut(re,_t,ar,qn,Qt):Qt&&Qt()},qn)},On=function(re,_t){var ar=re.getBody();ar&&(ar.style.overflowY=_t?"":"hidden",_t||(ar.scrollTop=0))},Jt=function(re,_t,ar,qn){var Qt=parseInt(re.getStyle(_t,ar,qn),10);return isNaN(Qt)?0:Qt},nt=function(re,_t){var ar=re.dom,qn=re.getDoc();if(!!qn){if(Cn(re)){On(re,!0);return}var Qt=qn.documentElement,Gt=kr(re),Zt=rr(re),Vt=Jt(ar,Qt,"margin-top",!0),se=Jt(ar,Qt,"margin-bottom",!0),Z=Qt.offsetHeight+Vt+se+Gt;Z<0&&(Z=0);var qe=re.getContainer().offsetHeight,Ve=re.getContentAreaContainer().offsetHeight,Ft=qe-Ve;Z+Ft>rr(re)&&(Zt=Z+Ft);var st=Nn(re);if(st&&Zt>st?(Zt=st,On(re,!0)):On(re,!1),Zt!==_t.get()){var Xn=Zt-_t.get();if(ar.setStyle(re.getContainer(),"height",Zt+"px"),_t.set(Zt),pn(re),En.browser.isSafari()&&En.mac){var E=re.getWin();E.scrollTo(E.pageXOffset,E.pageYOffset)}re.hasFocus()&&re.selection.scrollIntoView(re.selection.getNode()),En.webkit&&Xn<0&&nt(re,_t)}}},cr=function(re,_t){re.on("init",function(){var ar=jn(re),qn=re.dom;qn.setStyles(re.getDoc().documentElement,{height:"auto"}),qn.setStyles(re.getBody(),{paddingLeft:ar,paddingRight:ar,"min-height":0})}),re.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(){nt(re,_t)}),$r(re)&&re.on("init",function(){ut(re,_t,20,100,function(){ut(re,_t,5,1e3)})})},ct=function(re,_t){re.addCommand("mceAutoResize",function(){nt(re,_t)})};function tr(){Ht.add("autoresize",function(re){if(re.settings.hasOwnProperty("resize")||(re.settings.resize=!1),!re.inline){var _t=Ze(0);ct(re,_t),cr(re,_t)}})}tr()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(qe){return function(Ve){return qe===Ve}},En=Ht(void 0),lr=tinymce.util.Tools.resolve("tinymce.util.Delay"),pn=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),rr=tinymce.util.Tools.resolve("tinymce.util.Tools"),Nn=function(qe){return qe.fire("RestoreDraft")},jn=function(qe){return qe.fire("StoreDraft")},kr=function(qe){return qe.fire("RemoveDraft")},$r=function(qe,Ve){var Ft={s:1e3,m:6e4},st=qe||Ve,Xn=/^(\d+)([ms]?)$/.exec(""+st);return(Xn[2]?Ft[Xn[2]]:1)*parseInt(st,10)},Cn=function(qe){return qe.getParam("autosave_ask_before_unload",!0)},ut=function(qe){var Ve=document.location;return qe.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,Ve.pathname).replace(/{query}/g,Ve.search).replace(/{hash}/g,Ve.hash).replace(/{id}/g,qe.id)},On=function(qe){return qe.getParam("autosave_restore_when_empty",!1)},Jt=function(qe){return $r(qe.getParam("autosave_interval"),"30s")},nt=function(qe){return $r(qe.getParam("autosave_retention"),"20m")},cr=function(qe,Ve){if(En(Ve))return qe.dom.isEmpty(qe.getBody());var Ft=rr.trim(Ve);if(Ft==="")return!0;var st=new DOMParser().parseFromString(Ft,"text/html");return qe.dom.isEmpty(st)},ct=function(qe){var Ve=parseInt(pn.getItem(ut(qe)+"time"),10)||0;return new Date().getTime()-Ve>nt(qe)?(tr(qe,!1),!1):!0},tr=function(qe,Ve){var Ft=ut(qe);pn.removeItem(Ft+"draft"),pn.removeItem(Ft+"time"),Ve!==!1&&kr(qe)},re=function(qe){var Ve=ut(qe);!cr(qe)&&qe.isDirty()&&(pn.setItem(Ve+"draft",qe.getContent({format:"raw",no_events:!0})),pn.setItem(Ve+"time",new Date().getTime().toString()),jn(qe))},_t=function(qe){var Ve=ut(qe);ct(qe)&&(qe.setContent(pn.getItem(Ve+"draft"),{format:"raw"}),Nn(qe))},ar=function(qe){var Ve=Jt(qe);lr.setEditorInterval(qe,function(){re(qe)},Ve)},qn=function(qe){qe.undoManager.transact(function(){_t(qe),tr(qe)}),qe.focus()},Qt=function(qe){return{hasDraft:function(){return ct(qe)},storeDraft:function(){return re(qe)},restoreDraft:function(){return _t(qe)},removeDraft:function(Ve){return tr(qe,Ve)},isEmpty:function(Ve){return cr(qe,Ve)}}},Gt=tinymce.util.Tools.resolve("tinymce.EditorManager"),Zt=function(qe){qe.editorManager.on("BeforeUnload",function(Ve){var Ft;rr.each(Gt.get(),function(st){st.plugins.autosave&&st.plugins.autosave.storeDraft(),!Ft&&st.isDirty()&&Cn(st)&&(Ft=st.translate("You have unsaved changes are you sure you want to navigate away?"))}),Ft&&(Ve.preventDefault(),Ve.returnValue=Ft)})},Vt=function(qe){return function(Ve){Ve.setDisabled(!ct(qe));var Ft=function(){return Ve.setDisabled(!ct(qe))};return qe.on("StoreDraft RestoreDraft RemoveDraft",Ft),function(){return qe.off("StoreDraft RestoreDraft RemoveDraft",Ft)}}},se=function(qe){ar(qe),qe.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){qn(qe)},onSetup:Vt(qe)}),qe.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){qn(qe)},onSetup:Vt(qe)})};function Z(){Ze.add("autosave",function(qe){return Zt(qe),se(qe),qe.on("init",function(){On(qe)&&qe.dom.isEmpty(qe.getBody())&&_t(qe)}),Qt(qe)})}Z()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(de,We){return de.fire("insertCustomChar",{chr:We})},En=function(de,We){var Be=Ht(de,We).chr;de.execCommand("mceInsertContent",!1,Be)},lr=function(de){var We=typeof de;return de===null?"null":We==="object"&&(Array.prototype.isPrototypeOf(de)||de.constructor&&de.constructor.name==="Array")?"array":We==="object"&&(String.prototype.isPrototypeOf(de)||de.constructor&&de.constructor.name==="String")?"string":We},pn=function(de){return function(We){return lr(We)===de}},rr=pn("array"),Nn=function(){},jn=function(de){return function(){return de}},kr=jn(!1),$r=jn(!0),Cn=function(){return ut},ut=function(){var de=function(ke){return ke.isNone()},We=function(ke){return ke()},Be=function(ke){return ke},pt={fold:function(ke,bn){return ke()},is:kr,isSome:kr,isNone:$r,getOr:Be,getOrThunk:We,getOrDie:function(ke){throw new Error(ke||"error: getOrDie called on none.")},getOrNull:jn(null),getOrUndefined:jn(void 0),or:Be,orThunk:We,map:Cn,each:Nn,bind:Cn,exists:kr,forall:$r,filter:Cn,equals:de,equals_:de,toArray:function(){return[]},toString:jn("none()")};return pt}(),On=function(de){var We=jn(de),Be=function(){return ke},pt=function(bn){return bn(de)},ke={fold:function(bn,br){return br(de)},is:function(bn){return de===bn},isSome:$r,isNone:kr,getOr:We,getOrThunk:We,getOrDie:We,getOrNull:We,getOrUndefined:We,or:Be,orThunk:Be,map:function(bn){return On(bn(de))},each:function(bn){bn(de)},bind:pt,exists:pt,forall:pt,filter:function(bn){return bn(de)?ke:ut},toArray:function(){return[de]},toString:function(){return"some("+de+")"},equals:function(bn){return bn.is(de)},equals_:function(bn,br){return bn.fold(kr,function(on){return br(de,on)})}};return ke},Jt=function(de){return de==null?ut:On(de)},nt={some:On,none:Cn,from:Jt},cr=Array.prototype.push,ct=function(de,We){for(var Be=de.length,pt=new Array(Be),ke=0;ke<Be;ke++){var bn=de[ke];pt[ke]=We(bn,ke)}return pt},tr=function(de,We){for(var Be=0,pt=de.length;Be<pt;Be++){var ke=de[Be];We(ke,Be)}},re=function(de,We,Be){for(var pt=0,ke=de.length;pt<ke;pt++){var bn=de[pt];if(We(bn,pt))return nt.some(bn);if(Be(bn,pt))break}return nt.none()},_t=function(de,We){return re(de,We,kr)},ar=function(de){for(var We=[],Be=0,pt=de.length;Be<pt;++Be){if(!rr(de[Be]))throw new Error("Arr.flatten item "+Be+" was not an array, input: "+de);cr.apply(We,de[Be])}return We},qn=function(de,We){return ar(ct(de,We))},Qt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Gt=function(de){return de.getParam("charmap")},Zt=function(de){return de.getParam("charmap_append")},Vt=Qt.isArray,se="User Defined",Z=function(){return[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]},qe=function(de){return Qt.grep(de,function(We){return Vt(We)&&We.length===2})},Ve=function(de){return Vt(de)?[].concat(qe(de)):typeof de=="function"?de():[]},Ft=function(de,We){var Be=Gt(de);Be&&(We=[{name:se,characters:Ve(Be)}]);var pt=Zt(de);if(pt){var ke=Qt.grep(We,function(bn){return bn.name===se});return ke.length?(ke[0].characters=[].concat(ke[0].characters).concat(Ve(pt)),We):[].concat(We).concat({name:se,characters:Ve(pt)})}return We},st=function(de){var We=Ft(de,Z());return We.length>1?[{name:"All",characters:qn(We,function(Be){return Be.characters})}].concat(We):We},Xn=function(de){var We=function(){return st(de)},Be=function(pt){En(de,pt)};return{getCharMap:We,insertChar:Be}},E=function(de){var We=de,Be=function(){return We},pt=function(ke){We=ke};return{get:Be,set:pt}},yt=function(de,We){var Be=null,pt=function(){Be!==null&&(clearTimeout(Be),Be=null)},ke=function(){for(var bn=[],br=0;br<arguments.length;br++)bn[br]=arguments[br];Be!==null&&clearTimeout(Be),Be=setTimeout(function(){de.apply(null,bn),Be=null},We)};return{cancel:pt,throttle:ke}},wt=String.fromCodePoint,bt=function(de,We){return de.indexOf(We)!==-1},or=function(){for(var de=[],We=0;We<arguments.length;We++)de[We]=arguments[We];if(wt)return wt.apply(void 0,de);for(var Be=[],pt=0,ke="",bn=0,br=de.length;bn!==br;++bn){var on=+de[bn];if(!(on<1114111&&on>>>0===on))throw RangeError("Invalid code point: "+on);on<=65535?pt=Be.push(on):(on-=65536,pt=Be.push((on>>10)+55296,on%1024+56320)),pt>=16383&&(ke+=String.fromCharCode.apply(null,Be),Be.length=0)}return ke+String.fromCharCode.apply(null,Be)},dr=function(de,We,Be){return bt(or(de).toLowerCase(),Be)?!0:bt(We.toLowerCase(),Be)||bt(We.toLowerCase().replace(/\s+/g,""),Be)},Sn=function(de,We){var Be=[],pt=We.toLowerCase();return tr(de.characters,function(ke){dr(ke[0],ke[1],pt)&&Be.push(ke)}),ct(Be,function(ke){return{text:ke[1],value:or(ke[0]),icon:or(ke[0])}})},Dn="pattern",wr=function(de,We){var Be=function(){return[{label:"Search",type:"input",name:Dn},{type:"collection",name:"results"}]},pt=function(){return ct(We,function(He){return{title:He.name,name:He.name,items:Be()}})},ke=function(){return{type:"panel",items:Be()}},bn=function(){return{type:"tabpanel",tabs:pt()}},br=We.length===1?E(se):E("All"),on=function(He,mt){_t(We,function(Wt){return Wt.name===br.get()}).each(function(Wt){var sn=Sn(Wt,mt);He.setData({results:sn})})},zr=40,Jn=yt(function(He){var mt=He.getData().pattern;on(He,mt)},zr),it=We.length===1?ke():bn(),Ut={pattern:"",results:Sn(We[0],"")},xn={title:"Special Character",size:"normal",body:it,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Ut,onAction:function(He,mt){mt.name==="results"&&(En(de,mt.value),He.close())},onTabChange:function(He,mt){br.set(mt.newTabName),Jn.throttle(He)},onChange:function(He,mt){mt.name===Dn&&Jn.throttle(He)}},Ye=de.windowManager.open(xn);Ye.focus(Dn)},ee=function(de,We){de.addCommand("mceShowCharmap",function(){wr(de,We)})},Pe=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ct=function(de,We){de.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(Be,pt){return new Pe(function(ke,bn){ke(Sn(We,Be))})},onAction:function(Be,pt,ke){de.selection.setRng(pt),de.insertContent(ke),Be.hide()}})},$n=function(de){de.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return de.execCommand("mceShowCharmap")}}),de.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return de.execCommand("mceShowCharmap")}})};function Bn(){Ze.add("charmap",function(de){var We=st(de);return ee(de,We),$n(de),Ct(de,We[0]),Xn(de)})}Bn()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(jn,kr){jn.focus(),jn.undoManager.transact(function(){jn.setContent(kr)}),jn.selection.setCursorLocation(),jn.nodeChanged()},En=function(jn){return jn.getContent({source_view:!0})},lr=function(jn){var kr=En(jn);jn.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:kr},onSubmit:function($r){Ht(jn,$r.getData().code),$r.close()}})},pn=function(jn){jn.addCommand("mceCodeEditor",function(){lr(jn)})},rr=function(jn){jn.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return lr(jn)}}),jn.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return lr(jn)}})};function Nn(){Ze.add("code",function(jn){return pn(jn),rr(jn),{}})}Nn()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(){},En=function(yt){return function(){return yt}},lr=En(!1),pn=En(!0),rr=function(){return Nn},Nn=function(){var yt=function(dr){return dr.isNone()},wt=function(dr){return dr()},bt=function(dr){return dr},or={fold:function(dr,Sn){return dr()},is:lr,isSome:lr,isNone:pn,getOr:bt,getOrThunk:wt,getOrDie:function(dr){throw new Error(dr||"error: getOrDie called on none.")},getOrNull:En(null),getOrUndefined:En(void 0),or:bt,orThunk:wt,map:rr,each:Ht,bind:rr,exists:lr,forall:pn,filter:rr,equals:yt,equals_:yt,toArray:function(){return[]},toString:En("none()")};return or}(),jn=function(yt){var wt=En(yt),bt=function(){return dr},or=function(Sn){return Sn(yt)},dr={fold:function(Sn,Dn){return Dn(yt)},is:function(Sn){return yt===Sn},isSome:pn,isNone:lr,getOr:wt,getOrThunk:wt,getOrDie:wt,getOrNull:wt,getOrUndefined:wt,or:bt,orThunk:bt,map:function(Sn){return jn(Sn(yt))},each:function(Sn){Sn(yt)},bind:or,exists:or,forall:or,filter:function(Sn){return Sn(yt)?dr:Nn},toArray:function(){return[yt]},toString:function(){return"some("+yt+")"},equals:function(Sn){return Sn.is(yt)},equals_:function(Sn,Dn){return Sn.fold(lr,function(wr){return Dn(yt,wr)})}};return dr},kr=function(yt){return yt==null?Nn:jn(yt)},$r={some:jn,none:rr,from:kr},Cn=function(yt,wt){return wt>=0&&wt<yt.length?$r.some(yt[wt]):$r.none()},ut=function(yt){return Cn(yt,0)},On=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Jt=function(yt){return yt&&yt.nodeName==="PRE"&&yt.className.indexOf("language-")!==-1},nt=function(yt){return function(wt,bt){return yt(bt)}},cr=typeof window!="undefined"?window:Function("return this;")(),ct={},tr={exports:ct},re={};(function(yt,wt,bt,or){var dr=window.Prism;window.Prism={manual:!0},function(Dn){if(typeof wt=="object"&&typeof bt!="undefined")bt.exports=Dn();else if(typeof yt=="function"&&yt.amd)yt([],Dn);else{var wr;typeof window!="undefined"?wr=window:typeof re!="undefined"?wr=re:typeof self!="undefined"?wr=self:wr=this,wr.EphoxContactWrapper=Dn()}}(function(){return function(){function Dn(wr,ee,Pe){function Ct(de,We){if(!ee[de]){if(!wr[de]){var Be=typeof or=="function"&&or;if(!We&&Be)return Be(de,!0);if($n)return $n(de,!0);var pt=new Error("Cannot find module '"+de+"'");throw pt.code="MODULE_NOT_FOUND",pt}var ke=ee[de]={exports:{}};wr[de][0].call(ke.exports,function(bn){var br=wr[de][1][bn];return Ct(br||bn)},ke,ke.exports,Dn,wr,ee,Pe)}return ee[de].exports}for(var $n=typeof or=="function"&&or,Bn=0;Bn<Pe.length;Bn++)Ct(Pe[Bn]);return Ct}return Dn}()({1:[function(Dn,wr,ee){Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean},{}],2:[function(Dn,wr,ee){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},{}],3:[function(Dn,wr,ee){(function(Pe){(function(){var Ct=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{},$n=function(Bn){var de=/\blang(?:uage)?-([\w-]+)\b/i,We=0,Be={manual:Bn.Prism&&Bn.Prism.manual,disableWorkerMessageHandler:Bn.Prism&&Bn.Prism.disableWorkerMessageHandler,util:{encode:function Ye(He){return He instanceof pt?new pt(He.type,Ye(He.content),He.alias):Array.isArray(He)?He.map(Ye):He.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Ye){return Object.prototype.toString.call(Ye).slice(8,-1)},objId:function(Ye){return Ye.__id||Object.defineProperty(Ye,"__id",{value:++We}),Ye.__id},clone:function Ye(He,mt){mt=mt||{};var Wt,sn;switch(Be.util.type(He)){case"Object":if(sn=Be.util.objId(He),mt[sn])return mt[sn];Wt={},mt[sn]=Wt;for(var gr in He)He.hasOwnProperty(gr)&&(Wt[gr]=Ye(He[gr],mt));return Wt;case"Array":return sn=Be.util.objId(He),mt[sn]?mt[sn]:(Wt=[],mt[sn]=Wt,He.forEach(function(Lr,Cr){Wt[Cr]=Ye(Lr,mt)}),Wt);default:return He}},getLanguage:function(Ye){for(;Ye&&!de.test(Ye.className);)Ye=Ye.parentElement;return Ye?(Ye.className.match(de)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(Wt){var Ye=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(Wt.stack)||[])[1];if(Ye){var He=document.getElementsByTagName("script");for(var mt in He)if(He[mt].src==Ye)return He[mt]}return null}},isActive:function(Ye,He,mt){for(var Wt="no-"+He;Ye;){var sn=Ye.classList;if(sn.contains(He))return!0;if(sn.contains(Wt))return!1;Ye=Ye.parentElement}return!!mt}},languages:{extend:function(Ye,He){var mt=Be.util.clone(Be.languages[Ye]);for(var Wt in He)mt[Wt]=He[Wt];return mt},insertBefore:function(Ye,He,mt,Wt){Wt=Wt||Be.languages;var sn=Wt[Ye],gr={};for(var Lr in sn)if(sn.hasOwnProperty(Lr)){if(Lr==He)for(var Cr in mt)mt.hasOwnProperty(Cr)&&(gr[Cr]=mt[Cr]);mt.hasOwnProperty(Lr)||(gr[Lr]=sn[Lr])}var vn=Wt[Ye];return Wt[Ye]=gr,Be.languages.DFS(Be.languages,function(Br,qr){qr===vn&&Br!=Ye&&(this[Br]=gr)}),gr},DFS:function Ye(He,mt,Wt,sn){sn=sn||{};var gr=Be.util.objId;for(var Lr in He)if(He.hasOwnProperty(Lr)){mt.call(He,Lr,He[Lr],Wt||Lr);var Cr=He[Lr],vn=Be.util.type(Cr);vn==="Object"&&!sn[gr(Cr)]?(sn[gr(Cr)]=!0,Ye(Cr,mt,null,sn)):vn==="Array"&&!sn[gr(Cr)]&&(sn[gr(Cr)]=!0,Ye(Cr,mt,Lr,sn))}}},plugins:{},highlightAll:function(Ye,He){Be.highlightAllUnder(document,Ye,He)},highlightAllUnder:function(Ye,He,mt){var Wt={callback:mt,container:Ye,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Be.hooks.run("before-highlightall",Wt),Wt.elements=Array.prototype.slice.apply(Wt.container.querySelectorAll(Wt.selector)),Be.hooks.run("before-all-elements-highlight",Wt);for(var sn=0,gr;gr=Wt.elements[sn++];)Be.highlightElement(gr,He===!0,Wt.callback)},highlightElement:function(Ye,He,mt){var Wt=Be.util.getLanguage(Ye),sn=Be.languages[Wt];Ye.className=Ye.className.replace(de,"").replace(/\s+/g," ")+" language-"+Wt;var gr=Ye.parentElement;gr&&gr.nodeName.toLowerCase()==="pre"&&(gr.className=gr.className.replace(de,"").replace(/\s+/g," ")+" language-"+Wt);var Lr=Ye.textContent,Cr={element:Ye,language:Wt,grammar:sn,code:Lr};function vn(qr){Cr.highlightedCode=qr,Be.hooks.run("before-insert",Cr),Cr.element.innerHTML=Cr.highlightedCode,Be.hooks.run("after-highlight",Cr),Be.hooks.run("complete",Cr),mt&&mt.call(Cr.element)}if(Be.hooks.run("before-sanity-check",Cr),!Cr.code){Be.hooks.run("complete",Cr),mt&&mt.call(Cr.element);return}if(Be.hooks.run("before-highlight",Cr),!Cr.grammar){vn(Be.util.encode(Cr.code));return}if(He&&Bn.Worker){var Br=new Worker(Be.filename);Br.onmessage=function(qr){vn(qr.data)},Br.postMessage(JSON.stringify({language:Cr.language,code:Cr.code,immediateClose:!0}))}else vn(Be.highlight(Cr.code,Cr.grammar,Cr.language))},highlight:function(Ye,He,mt){var Wt={code:Ye,grammar:He,language:mt};return Be.hooks.run("before-tokenize",Wt),Wt.tokens=Be.tokenize(Wt.code,Wt.grammar),Be.hooks.run("after-tokenize",Wt),pt.stringify(Be.util.encode(Wt.tokens),Wt.language)},tokenize:function(Ye,He){var mt=He.rest;if(mt){for(var Wt in mt)He[Wt]=mt[Wt];delete He.rest}var sn=new br;return on(sn,sn.head,Ye),bn(Ye,sn,He,sn.head,0),Jn(sn)},hooks:{all:{},add:function(Ye,He){var mt=Be.hooks.all;mt[Ye]=mt[Ye]||[],mt[Ye].push(He)},run:function(Ye,He){var mt=Be.hooks.all[Ye];if(!(!mt||!mt.length))for(var Wt=0,sn;sn=mt[Wt++];)sn(He)}},Token:pt};Bn.Prism=Be;function pt(Ye,He,mt,Wt){this.type=Ye,this.content=He,this.alias=mt,this.length=(Wt||"").length|0}pt.stringify=function Ye(He,mt){if(typeof He=="string")return He;if(Array.isArray(He)){var Wt="";return He.forEach(function(vn){Wt+=Ye(vn,mt)}),Wt}var sn={type:He.type,content:Ye(He.content,mt),tag:"span",classes:["token",He.type],attributes:{},language:mt},gr=He.alias;gr&&(Array.isArray(gr)?Array.prototype.push.apply(sn.classes,gr):sn.classes.push(gr)),Be.hooks.run("wrap",sn);var Lr="";for(var Cr in sn.attributes)Lr+=" "+Cr+'="'+(sn.attributes[Cr]||"").replace(/"/g,"&quot;")+'"';return"<"+sn.tag+' class="'+sn.classes.join(" ")+'"'+Lr+">"+sn.content+"</"+sn.tag+">"};function ke(Ye,He,mt,Wt){Ye.lastIndex=He;var sn=Ye.exec(mt);if(sn&&Wt&&sn[1]){var gr=sn[1].length;sn.index+=gr,sn[0]=sn[0].slice(gr)}return sn}function bn(Ye,He,mt,Wt,sn,gr){for(var Lr in mt)if(!(!mt.hasOwnProperty(Lr)||!mt[Lr])){var Cr=mt[Lr];Cr=Array.isArray(Cr)?Cr:[Cr];for(var vn=0;vn<Cr.length;++vn){if(gr&&gr.cause==Lr+","+vn)return;var Br=Cr[vn],qr=Br.inside,Ma=!!Br.lookbehind,Na=!!Br.greedy,Pa=Br.alias;if(Na&&!Br.pattern.global){var Gr=Br.pattern.toString().match(/[imsuy]*$/)[0];Br.pattern=RegExp(Br.pattern.source,Gr+"g")}for(var Fa=Br.pattern||Br,De=Wt.next,dt=sn;De!==He.tail&&!(gr&&dt>=gr.reach);dt+=De.value.length,De=De.next){var jt=De.value;if(He.length>Ye.length)return;if(!(jt instanceof pt)){var zn=1,cn;if(Na){if(cn=ke(Fa,dt,Ye,Ma),!cn)break;var Or=cn.index,hr=cn.index+cn[0].length,Ka=dt;for(Ka+=De.value.length;Or>=Ka;)De=De.next,Ka+=De.value.length;if(Ka-=De.value.length,dt=Ka,De.value instanceof pt)continue;for(var Rr=De;Rr!==He.tail&&(Ka<hr||typeof Rr.value=="string");Rr=Rr.next)zn++,Ka+=Rr.value.length;zn--,jt=Ye.slice(dt,Ka),cn.index-=dt}else if(cn=ke(Fa,0,jt,Ma),!cn)continue;var Or=cn.index,go=cn[0],Co=jt.slice(0,Or),So=jt.slice(Or+go.length),di=dt+jt.length;gr&&di>gr.reach&&(gr.reach=di);var Ja=De.prev;Co&&(Ja=on(He,Ja,Co),dt+=Co.length),zr(He,Ja,zn);var xo=new pt(Lr,qr?Be.tokenize(go,qr):go,Pa,go);De=on(He,Ja,xo),So&&on(He,De,So),zn>1&&bn(Ye,He,mt,De.prev,dt,{cause:Lr+","+vn,reach:di})}}}}}function br(){var Ye={value:null,prev:null,next:null},He={value:null,prev:Ye,next:null};Ye.next=He,this.head=Ye,this.tail=He,this.length=0}function on(Ye,He,mt){var Wt=He.next,sn={value:mt,prev:He,next:Wt};return He.next=sn,Wt.prev=sn,Ye.length++,sn}function zr(Ye,He,mt){for(var Wt=He.next,sn=0;sn<mt&&Wt!==Ye.tail;sn++)Wt=Wt.next;He.next=Wt,Wt.prev=He,Ye.length-=sn}function Jn(Ye){for(var He=[],mt=Ye.head.next;mt!==Ye.tail;)He.push(mt.value),mt=mt.next;return He}if(!Bn.document)return Bn.addEventListener&&(Be.disableWorkerMessageHandler||Bn.addEventListener("message",function(Ye){var He=JSON.parse(Ye.data),mt=He.language,Wt=He.code,sn=He.immediateClose;Bn.postMessage(Be.highlight(Wt,Be.languages[mt],mt)),sn&&Bn.close()},!1)),Be;var it=Be.util.currentScript();it&&(Be.filename=it.src,it.hasAttribute("data-manual")&&(Be.manual=!0));function Ut(){Be.manual||Be.highlightAll()}if(!Be.manual){var xn=document.readyState;xn==="loading"||xn==="interactive"&&it&&it.defer?document.addEventListener("DOMContentLoaded",Ut):window.requestAnimationFrame?window.requestAnimationFrame(Ut):window.setTimeout(Ut,16)}return Be}(Ct);typeof wr!="undefined"&&wr.exports&&(wr.exports=$n),typeof Pe!="undefined"&&(Pe.Prism=$n)}).call(this)}).call(this,typeof re!="undefined"?re:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],4:[function(Dn,wr,ee){(function(Pe){var Ct=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/;Pe.languages.cpp=Pe.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return Ct.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:Ct,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),Pe.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Pe.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Pe.languages.extend("cpp",{})}}),Pe.languages.insertBefore("inside","operator",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Pe.languages.cpp["base-clause"])})(Prism)},{}],5:[function(Dn,wr,ee){(function(Pe){function Ct(jt,zn){return jt.replace(/<<(\d+)>>/g,function(cn,hr){return"(?:"+zn[+hr]+")"})}function $n(jt,zn,cn){return RegExp(Ct(jt,zn),cn||"")}function Bn(jt,zn){for(var cn=0;cn<zn;cn++)jt=jt.replace(/<<self>>/g,function(){return"(?:"+jt+")"});return jt.replace(/<<self>>/g,"[^\\s\\S]")}var de={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface struct",contextual:"add alias and ascending async await by descending from get global group into join let nameof not notnull on or orderby partial remove select set unmanaged value when where",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function We(jt){return"\\b(?:"+jt.trim().replace(/ /g,"|")+")\\b"}var Be=We(de.typeDeclaration),pt=RegExp(We(de.type+" "+de.typeDeclaration+" "+de.contextual+" "+de.other)),ke=We(de.typeDeclaration+" "+de.contextual+" "+de.other),bn=We(de.type+" "+de.typeDeclaration+" "+de.other),br=Bn(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),on=Bn(/\((?:[^()]|<<self>>)*\)/.source,2),zr=/@?\b[A-Za-z_]\w*\b/.source,Jn=Ct(/<<0>>(?:\s*<<1>>)?/.source,[zr,br]),it=Ct(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[ke,Jn]),Ut=/\[\s*(?:,\s*)*\]/.source,xn=Ct(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[it,Ut]),Ye=Ct(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[br,on,Ut]),He=Ct(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Ye]),mt=Ct(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[He,it,Ut]),Wt={keyword:pt,punctuation:/[<>()?,.:[\]]/},sn=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,gr=/"(?:\\.|[^\\"\r\n])*"/.source,Lr=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Pe.languages.csharp=Pe.languages.extend("clike",{string:[{pattern:$n(/(^|[^$\\])<<0>>/.source,[Lr]),lookbehind:!0,greedy:!0},{pattern:$n(/(^|[^@$\\])<<0>>/.source,[gr]),lookbehind:!0,greedy:!0},{pattern:RegExp(sn),greedy:!0,alias:"character"}],"class-name":[{pattern:$n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[it]),lookbehind:!0,inside:Wt},{pattern:$n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[zr,mt]),lookbehind:!0,inside:Wt},{pattern:$n(/(\busing\s+)<<0>>(?=\s*=)/.source,[zr]),lookbehind:!0},{pattern:$n(/(\b<<0>>\s+)<<1>>/.source,[Be,Jn]),lookbehind:!0,inside:Wt},{pattern:$n(/(\bcatch\s*\(\s*)<<0>>/.source,[it]),lookbehind:!0,inside:Wt},{pattern:$n(/(\bwhere\s+)<<0>>/.source,[zr]),lookbehind:!0},{pattern:$n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[xn]),lookbehind:!0,inside:Wt},{pattern:$n(/\b<<0>>(?=\s+(?!<<1>>)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[mt,bn,zr]),inside:Wt}],keyword:pt,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Pe.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Pe.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:$n(/([(,]\s*)<<0>>(?=\s*:)/.source,[zr]),lookbehind:!0,alias:"punctuation"}}),Pe.languages.insertBefore("csharp","class-name",{namespace:{pattern:$n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[zr]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:$n(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[on]),lookbehind:!0,alias:"class-name",inside:Wt},"return-type":{pattern:$n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[mt,it]),inside:Wt,alias:"class-name"},"constructor-invocation":{pattern:$n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[mt]),lookbehind:!0,inside:Wt,alias:"class-name"},"generic-method":{pattern:$n(/<<0>>\s*<<1>>(?=\s*\()/.source,[zr,br]),inside:{function:$n(/^<<0>>/.source,[zr]),generic:{pattern:RegExp(br),alias:"class-name",inside:Wt}}},"type-list":{pattern:$n(/\b((?:<<0>>\s+<<1>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>)(?:\s*,\s*(?:<<3>>|<<4>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[Be,Jn,zr,mt,pt.source]),lookbehind:!0,inside:{keyword:pt,"class-name":{pattern:RegExp(mt),greedy:!0,inside:Wt},punctuation:/,/}},preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(\s*#)\b(?:define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Cr=gr+"|"+sn,vn=Ct(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Cr]),Br=Bn(Ct(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[vn]),2),qr=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,Ma=Ct(/<<0>>(?:\s*\(<<1>>*\))?/.source,[it,Br]);Pe.languages.insertBefore("csharp","class-name",{attribute:{pattern:$n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[qr,Ma]),lookbehind:!0,greedy:!0,inside:{target:{pattern:$n(/^<<0>>(?=\s*:)/.source,[qr]),alias:"keyword"},"attribute-arguments":{pattern:$n(/\(<<0>>*\)/.source,[Br]),inside:Pe.languages.csharp},"class-name":{pattern:RegExp(it),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Na=/:[^}\r\n]+/.source,Pa=Bn(Ct(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[vn]),2),Gr=Ct(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Pa,Na]),Fa=Bn(Ct(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Cr]),2),De=Ct(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Fa,Na]);function dt(jt,zn){return{interpolation:{pattern:$n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[jt]),lookbehind:!0,inside:{"format-string":{pattern:$n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[zn,Na]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Pe.languages.csharp}}},string:/[\s\S]+/}}Pe.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:$n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Gr]),lookbehind:!0,greedy:!0,inside:dt(Gr,Pa)},{pattern:$n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[De]),lookbehind:!0,greedy:!0,inside:dt(De,Fa)}]})})(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp},{}],6:[function(Dn,wr,ee){(function(Pe){var Ct=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;Pe.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Ct.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Ct.source+"$"),alias:"url"}}},selector:RegExp(`[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Ct.source+")*(?=\\s*\\{)"),string:{pattern:Ct,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},Pe.languages.css.atrule.inside.rest=Pe.languages.css;var $n=Pe.languages.markup;$n&&($n.tag.addInlined("style","css"),Pe.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:Pe.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},$n.tag))})(Prism)},{}],7:[function(Dn,wr,ee){(function(Pe){var Ct=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,$n=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Bn={pattern:RegExp($n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Pe.languages.java=Pe.languages.extend("clike",{"class-name":[Bn,{pattern:RegExp($n+/[A-Z]\w*(?=\s+\w+\s*[;,=())])/.source),lookbehind:!0,inside:Bn.inside}],keyword:Ct,function:[Pe.languages.clike.function,{pattern:/(\:\:\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),Pe.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),Pe.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":Bn,keyword:Ct,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return Ct.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism)},{}],8:[function(Dn,wr,ee){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.js=Prism.languages.javascript},{}],9:[function(Dn,wr,ee){(function(Pe){function Ct($n,Bn){return"___"+$n.toUpperCase()+Bn+"___"}Object.defineProperties(Pe.languages["markup-templating"]={},{buildPlaceholders:{value:function($n,Bn,de,We){if($n.language===Bn){var Be=$n.tokenStack=[];$n.code=$n.code.replace(de,function(pt){if(typeof We=="function"&&!We(pt))return pt;for(var ke=Be.length,bn;$n.code.indexOf(bn=Ct(Bn,ke))!==-1;)++ke;return Be[ke]=pt,bn}),$n.grammar=Pe.languages.markup}}},tokenizePlaceholders:{value:function($n,Bn){if($n.language!==Bn||!$n.tokenStack)return;$n.grammar=Pe.languages[Bn];var de=0,We=Object.keys($n.tokenStack);function Be(pt){for(var ke=0;ke<pt.length&&!(de>=We.length);ke++){var bn=pt[ke];if(typeof bn=="string"||bn.content&&typeof bn.content=="string"){var br=We[de],on=$n.tokenStack[br],zr=typeof bn=="string"?bn:bn.content,Jn=Ct(Bn,br),it=zr.indexOf(Jn);if(it>-1){++de;var Ut=zr.substring(0,it),xn=new Pe.Token(Bn,Pe.tokenize(on,$n.grammar),"language-"+Bn,on),Ye=zr.substring(it+Jn.length),He=[];Ut&&He.push.apply(He,Be([Ut])),He.push(xn),Ye&&He.push.apply(He,Be([Ye])),typeof bn=="string"?pt.splice.apply(pt,[ke,1].concat(He)):bn.content=He}}else bn.content&&Be(bn.content)}return pt}Be($n.tokens)}}})})(Prism)},{}],10:[function(Dn,wr,ee){Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(Pe){Pe.type==="entity"&&(Pe.attributes.title=Pe.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(Ct,$n){var Bn={};Bn["language-"+$n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[$n]},Bn.cdata=/^<!\[CDATA\[|\]\]>$/i;var de={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Bn}};de["language-"+$n]={pattern:/[\s\S]+/,inside:Prism.languages[$n]};var We={};We[Ct]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Ct}),"i"),lookbehind:!0,greedy:!0,inside:de},Prism.languages.insertBefore("markup","cdata",We)}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},{}],11:[function(Dn,wr,ee){(function(Pe){var Ct=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,$n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/,/\b(?:null)\b/i],Bn=/\b0b[01]+\b|\b0x[\da-f]+\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+)(?:e[+-]?\d+)?/i,de=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,We=/[{}\[\](),:;]/;Pe.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:Ct,variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[a-z0-9_|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[a-z0-9_|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i],"argument-name":/\b[a-z_]\w*(?=\s*:(?!:))/i,"class-name":[{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:$n,function:/\w+\s*(?=\()/,property:{pattern:/(->)[\w]+/,lookbehind:!0},number:Bn,operator:de,punctuation:We};var Be={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)*)/,lookbehind:!0,inside:Pe.languages.php},pt=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:Be}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:Be}}];Pe.languages.insertBefore("php","variable",{string:pt}),Pe.languages.insertBefore("php","variable",{attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/mi,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=]$)/,lookbehind:!0,inside:{comment:Ct,string:pt,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:$n,number:Bn,operator:de,punctuation:We}},delimiter:{pattern:/^#\[|]$/,alias:"punctuation"}}}}),Pe.hooks.add("before-tokenize",function(ke){if(!!/<\?/.test(ke.code)){var bn=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/ig;Pe.languages["markup-templating"].buildPlaceholders(ke,"php",bn)}}),Pe.hooks.add("after-tokenize",function(ke){Pe.languages["markup-templating"].tokenizePlaceholders(ke,"php")})})(Prism)},{}],12:[function(Dn,wr,ee){Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},{}],13:[function(Dn,wr,ee){(function(Pe){Pe.languages.ruby=Pe.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var Ct={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:Pe.languages.ruby}};delete Pe.languages.ruby.function,Pe.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1[gim]{0,3}/.source,/\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/.source,/<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/.source].join("|")+")"),greedy:!0,inside:{interpolation:Ct}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[gim]{0,3}(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:Pe.languages.ruby}}}),Pe.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),Pe.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:Ct}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:Ct}}],Pe.languages.rb=Pe.languages.ruby})(Prism)},{}],14:[function(Dn,wr,ee){var Pe=Dn("prismjs/components/prism-core");Dn("prismjs/components/prism-clike"),Dn("prismjs/components/prism-markup-templating"),Dn("prismjs/components/prism-c"),Dn("prismjs/components/prism-cpp"),Dn("prismjs/components/prism-csharp"),Dn("prismjs/components/prism-css"),Dn("prismjs/components/prism-java"),Dn("prismjs/components/prism-javascript"),Dn("prismjs/components/prism-markup"),Dn("prismjs/components/prism-php"),Dn("prismjs/components/prism-python"),Dn("prismjs/components/prism-ruby"),wr.exports={boltExport:Pe}},{"prismjs/components/prism-c":1,"prismjs/components/prism-clike":2,"prismjs/components/prism-core":3,"prismjs/components/prism-cpp":4,"prismjs/components/prism-csharp":5,"prismjs/components/prism-css":6,"prismjs/components/prism-java":7,"prismjs/components/prism-javascript":8,"prismjs/components/prism-markup":10,"prismjs/components/prism-markup-templating":9,"prismjs/components/prism-php":11,"prismjs/components/prism-python":12,"prismjs/components/prism-ruby":13}]},{},[14])(14)});var Sn=window.Prism;return window.Prism=dr,Sn})(void 0,ct,tr,void 0);var _t=tr.exports.boltExport,ar=function(yt){return yt.getParam("codesample_languages")},qn=function(yt){return yt.getParam("codesample_global_prismjs",!1,"boolean")},Qt=function(yt){return cr.Prism&&qn(yt)?cr.Prism:_t},Gt=function(yt){var wt=yt.selection?yt.selection.getNode():null;return Jt(wt)?$r.some(wt):$r.none()},Zt=function(yt,wt,bt){yt.undoManager.transact(function(){var or=Gt(yt);return bt=On.DOM.encode(bt),or.fold(function(){yt.insertContent('<pre id="__new" class="language-'+wt+'">'+bt+"</pre>"),yt.selection.select(yt.$("#__new").removeAttr("id")[0])},function(dr){yt.dom.setAttrib(dr,"class","language-"+wt),dr.innerHTML=bt,Qt(yt).highlightElement(dr),yt.selection.select(dr)})})},Vt=function(yt){var wt=Gt(yt);return wt.fold(function(){return""},function(bt){return bt.textContent})},se=function(yt){var wt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],bt=ar(yt);return bt||wt},Z=function(yt,wt){var bt=Gt(yt);return bt.fold(function(){return wt},function(or){var dr=or.className.match(/language-(\w+)/);return dr?dr[1]:wt})},qe=function(yt){var wt=se(yt),bt=ut(wt).fold(function(){return""},function(Sn){return Sn.value}),or=Z(yt,bt),dr=Vt(yt);yt.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:wt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:or,code:dr},onSubmit:function(Sn){var Dn=Sn.getData();Zt(yt,Dn.language,Dn.code),Sn.close()}})},Ve=function(yt){yt.addCommand("codesample",function(){var wt=yt.selection.getNode();yt.selection.isCollapsed()||Jt(wt)?qe(yt):yt.formatter.toggle("code")})},Ft=function(yt){var wt=yt.$;yt.on("PreProcess",function(bt){wt("pre[contenteditable=false]",bt.node).filter(nt(Jt)).each(function(or,dr){var Sn=wt(dr),Dn=dr.textContent;Sn.attr("class",wt.trim(Sn.attr("class"))),Sn.removeAttr("contentEditable"),Sn.empty().append(wt("<code></code>").each(function(){this.textContent=Dn}))})}),yt.on("SetContent",function(){var bt=wt("pre").filter(nt(Jt)).filter(function(or,dr){return dr.contentEditable!=="false"});bt.length&&yt.undoManager.transact(function(){bt.each(function(or,dr){wt(dr).find("br").each(function(Sn,Dn){Dn.parentNode.replaceChild(yt.getDoc().createTextNode(`
`),Dn)}),dr.contentEditable="false",dr.innerHTML=yt.dom.encode(dr.textContent),Qt(yt).highlightElement(dr),dr.className=wt.trim(dr.className)})})})},st=function(yt){var wt=yt.selection.getStart();return yt.dom.is(wt,'pre[class*="language-"]')},Xn=function(yt){yt.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:function(){return qe(yt)},onSetup:function(wt){var bt=function(){wt.setActive(st(yt))};return yt.on("NodeChange",bt),function(){return yt.off("NodeChange",bt)}}}),yt.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:function(){return qe(yt)}})};function E(){Ze.add("codesample",function(yt){Ft(yt),Xn(yt),Ve(yt),yt.on("dblclick",function(wt){Jt(wt.target)&&qe(yt)})})}E()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=tinymce.util.Tools.resolve("tinymce.util.Tools"),En=function(de,We){var Be=de.dom,pt,ke=de.selection.getSelectedBlocks();ke.length&&(pt=Be.getAttrib(ke[0],"dir"),Ht.each(ke,function(bn){Be.getParent(bn.parentNode,'*[dir="'+We+'"]',Be.getRoot())||Be.setAttrib(bn,"dir",pt!==We?We:null)}),de.nodeChanged())},lr=function(de){de.addCommand("mceDirectionLTR",function(){En(de,"ltr")}),de.addCommand("mceDirectionRTL",function(){En(de,"rtl")})},pn=function(de){return function(We){return typeof We===de}},rr=function(de){return de==null},Nn=function(de){return!rr(de)},jn=pn("function"),kr=function(){},$r=function(de,We){return function(Be){return de(We(Be))}},Cn=function(de){return function(){return de}},ut=Cn(!1),On=Cn(!0),Jt=function(){return nt},nt=function(){var de=function(ke){return ke.isNone()},We=function(ke){return ke()},Be=function(ke){return ke},pt={fold:function(ke,bn){return ke()},is:ut,isSome:ut,isNone:On,getOr:Be,getOrThunk:We,getOrDie:function(ke){throw new Error(ke||"error: getOrDie called on none.")},getOrNull:Cn(null),getOrUndefined:Cn(void 0),or:Be,orThunk:We,map:Jt,each:kr,bind:Jt,exists:ut,forall:On,filter:Jt,equals:de,equals_:de,toArray:function(){return[]},toString:Cn("none()")};return pt}(),cr=function(de){var We=Cn(de),Be=function(){return ke},pt=function(bn){return bn(de)},ke={fold:function(bn,br){return br(de)},is:function(bn){return de===bn},isSome:On,isNone:ut,getOr:We,getOrThunk:We,getOrDie:We,getOrNull:We,getOrUndefined:We,or:Be,orThunk:Be,map:function(bn){return cr(bn(de))},each:function(bn){bn(de)},bind:pt,exists:pt,forall:pt,filter:function(bn){return bn(de)?ke:nt},toArray:function(){return[de]},toString:function(){return"some("+de+")"},equals:function(bn){return bn.is(de)},equals_:function(bn,br){return bn.fold(ut,function(on){return br(de,on)})}};return ke},ct=function(de){return de==null?nt:cr(de)},tr={some:cr,none:Jt,from:ct},re=function(de){return de.style!==void 0&&jn(de.style.getPropertyValue)},_t=function(de,We){var Be=We||document,pt=Be.createElement("div");if(pt.innerHTML=de,!pt.hasChildNodes()||pt.childNodes.length>1)throw console.error("HTML does not have a single root node",de),new Error("HTML must have a single root node");return Qt(pt.childNodes[0])},ar=function(de,We){var Be=We||document,pt=Be.createElement(de);return Qt(pt)},qn=function(de,We){var Be=We||document,pt=Be.createTextNode(de);return Qt(pt)},Qt=function(de){if(de==null)throw new Error("Node cannot be null or undefined");return{dom:de}},Gt=function(de,We,Be){return tr.from(de.dom.elementFromPoint(We,Be)).map(Qt)},Zt={fromHtml:_t,fromTag:ar,fromText:qn,fromDom:Qt,fromPoint:Gt};typeof window!="undefined"||Function("return this;")();var Vt=9,se=11,Z=3,qe=function(de){return de.dom.nodeType},Ve=function(de){return function(We){return qe(We)===de}},Ft=Ve(Z),st=Ve(Vt),Xn=Ve(se),E=function(de){return Zt.fromDom(de.dom.ownerDocument)},yt=function(de){return st(de)?de:E(de)},wt=function(de){return Xn(de)&&Nn(de.dom.host)},bt=jn(Element.prototype.attachShadow)&&jn(Node.prototype.getRootNode),or=bt?function(de){return Zt.fromDom(de.dom.getRootNode())}:yt,dr=function(de){var We=or(de);return wt(We)?tr.some(We):tr.none()},Sn=function(de){return Zt.fromDom(de.dom.host)},Dn=function(de){var We=Ft(de)?de.dom.parentNode:de.dom;if(We==null||We.ownerDocument===null)return!1;var Be=We.ownerDocument;return dr(Zt.fromDom(We)).fold(function(){return Be.body.contains(We)},$r(Dn,Sn))},wr=function(de,We){var Be=de.dom,pt=window.getComputedStyle(Be),ke=pt.getPropertyValue(We);return ke===""&&!Dn(de)?ee(Be,We):ke},ee=function(de,We){return re(de)?de.style.getPropertyValue(We):""},Pe=function(de){return wr(de,"direction")==="rtl"?"rtl":"ltr"},Ct=function(de,We){return function(Be){var pt=function(ke){var bn=Zt.fromDom(ke.element);Be.setActive(Pe(bn)===We)};return de.on("NodeChange",pt),function(){return de.off("NodeChange",pt)}}},$n=function(de){de.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return de.execCommand("mceDirectionLTR")},onSetup:Ct(de,"ltr")}),de.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return de.execCommand("mceDirectionRTL")},onSetup:Ct(de,"rtl")})};function Bn(){Ze.add("directionality",function(de){lr(de),$n(de)})}Bn()})();(function(){var Ze=function(X){var he=X,Je=function(){return he},Rt=function(dn){he=dn};return{get:Je,set:Rt}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),En=function(X){return{isFullscreen:function(){return X.get()!==null}}},lr=function(X){var he=typeof X;return X===null?"null":he==="object"&&(Array.prototype.isPrototypeOf(X)||X.constructor&&X.constructor.name==="Array")?"array":he==="object"&&(String.prototype.isPrototypeOf(X)||X.constructor&&X.constructor.name==="String")?"string":he},pn=function(X){return function(he){return lr(he)===X}},rr=function(X){return function(he){return typeof he===X}},Nn=pn("string"),jn=pn("array"),kr=rr("boolean"),$r=function(X){return X==null},Cn=function(X){return!$r(X)},ut=rr("function"),On=rr("number"),Jt=function(){},nt=function(X,he){return function(){for(var Je=[],Rt=0;Rt<arguments.length;Rt++)Je[Rt]=arguments[Rt];return X(he.apply(null,Je))}},cr=function(X,he){return function(Je){return X(he(Je))}},ct=function(X){return function(){return X}};function tr(X){for(var he=[],Je=1;Je<arguments.length;Je++)he[Je-1]=arguments[Je];return function(){for(var Rt=[],dn=0;dn<arguments.length;dn++)Rt[dn]=arguments[dn];var ir=he.concat(Rt);return X.apply(null,ir)}}var re=ct(!1),_t=ct(!0),ar=function(){return qn},qn=function(){var X=function(dn){return dn.isNone()},he=function(dn){return dn()},Je=function(dn){return dn},Rt={fold:function(dn,ir){return dn()},is:re,isSome:re,isNone:_t,getOr:Je,getOrThunk:he,getOrDie:function(dn){throw new Error(dn||"error: getOrDie called on none.")},getOrNull:ct(null),getOrUndefined:ct(void 0),or:Je,orThunk:he,map:ar,each:Jt,bind:ar,exists:re,forall:_t,filter:ar,equals:X,equals_:X,toArray:function(){return[]},toString:ct("none()")};return Rt}(),Qt=function(X){var he=ct(X),Je=function(){return dn},Rt=function(ir){return ir(X)},dn={fold:function(ir,mn){return mn(X)},is:function(ir){return X===ir},isSome:_t,isNone:re,getOr:he,getOrThunk:he,getOrDie:he,getOrNull:he,getOrUndefined:he,or:Je,orThunk:Je,map:function(ir){return Qt(ir(X))},each:function(ir){ir(X)},bind:Rt,exists:Rt,forall:Rt,filter:function(ir){return ir(X)?dn:qn},toArray:function(){return[X]},toString:function(){return"some("+X+")"},equals:function(ir){return ir.is(X)},equals_:function(ir,mn){return ir.fold(re,function(Zn){return mn(X,Zn)})}};return dn},Gt=function(X){return X==null?qn:Qt(X)},Zt={some:Qt,none:ar,from:Gt},Vt=function(X){var he=Ze(Zt.none()),Je=function(){return he.get().each(X)},Rt=function(){Je(),he.set(Zt.none())},dn=function(){return he.get().isSome()},ir=function(mn){Je(),he.set(Zt.some(mn))};return{clear:Rt,isSet:dn,set:ir}},se=function(){return Vt(function(X){return X.unbind()})},Z=function(){var X=Ze(Zt.none()),he=function(){return X.set(Zt.none())},Je=function(ir){return X.set(Zt.some(ir))},Rt=function(){return X.get().isSome()},dn=function(ir){return X.get().each(ir)};return{clear:he,set:Je,isSet:Rt,on:dn}},qe=Array.prototype.push,Ve=function(X,he){for(var Je=X.length,Rt=new Array(Je),dn=0;dn<Je;dn++){var ir=X[dn];Rt[dn]=he(ir,dn)}return Rt},Ft=function(X,he){for(var Je=0,Rt=X.length;Je<Rt;Je++){var dn=X[Je];he(dn,Je)}},st=function(X,he){for(var Je=[],Rt=0,dn=X.length;Rt<dn;Rt++){var ir=X[Rt];he(ir,Rt)&&Je.push(ir)}return Je},Xn=function(X){for(var he=[],Je=0,Rt=X.length;Je<Rt;++Je){if(!jn(X[Je]))throw new Error("Arr.flatten item "+Je+" was not an array, input: "+X);qe.apply(he,X[Je])}return he},E=function(X,he){return Xn(Ve(X,he))},yt=function(X,he){return he>=0&&he<X.length?Zt.some(X[he]):Zt.none()},wt=function(X){return yt(X,0)},bt=Object.keys,or=function(X,he){for(var Je=bt(X),Rt=0,dn=Je.length;Rt<dn;Rt++){var ir=Je[Rt],mn=X[ir];he(mn,ir)}},dr=function(X){return X.style!==void 0&&ut(X.style.getPropertyValue)},Sn=function(X,he){var Je=he||document,Rt=Je.createElement("div");if(Rt.innerHTML=X,!Rt.hasChildNodes()||Rt.childNodes.length>1)throw console.error("HTML does not have a single root node",X),new Error("HTML must have a single root node");return ee(Rt.childNodes[0])},Dn=function(X,he){var Je=he||document,Rt=Je.createElement(X);return ee(Rt)},wr=function(X,he){var Je=he||document,Rt=Je.createTextNode(X);return ee(Rt)},ee=function(X){if(X==null)throw new Error("Node cannot be null or undefined");return{dom:X}},Pe=function(X,he,Je){return Zt.from(X.dom.elementFromPoint(he,Je)).map(ee)},Ct={fromHtml:Sn,fromTag:Dn,fromText:wr,fromDom:ee,fromPoint:Pe};typeof window!="undefined"||Function("return this;")();var $n=9,Bn=11,de=1,We=3,Be=function(X){return X.dom.nodeType},pt=function(X){return function(he){return Be(he)===X}},ke=pt(de),bn=pt(We),br=pt($n),on=pt(Bn),zr=function(X,he){var Je=X.dom;if(Je.nodeType!==de)return!1;var Rt=Je;if(Rt.matches!==void 0)return Rt.matches(he);if(Rt.msMatchesSelector!==void 0)return Rt.msMatchesSelector(he);if(Rt.webkitMatchesSelector!==void 0)return Rt.webkitMatchesSelector(he);if(Rt.mozMatchesSelector!==void 0)return Rt.mozMatchesSelector(he);throw new Error("Browser lacks native selectors")},Jn=function(X){return X.nodeType!==de&&X.nodeType!==$n&&X.nodeType!==Bn||X.childElementCount===0},it=function(X,he){var Je=he===void 0?document:he.dom;return Jn(Je)?[]:Ve(Je.querySelectorAll(X),Ct.fromDom)},Ut=function(X,he){return X.dom===he.dom},xn=function(X){return Ct.fromDom(X.dom.ownerDocument)},Ye=function(X){return br(X)?X:xn(X)},He=function(X){return Zt.from(X.dom.parentNode).map(Ct.fromDom)},mt=function(X,he){for(var Je=ut(he)?he:re,Rt=X.dom,dn=[];Rt.parentNode!==null&&Rt.parentNode!==void 0;){var ir=Rt.parentNode,mn=Ct.fromDom(ir);if(dn.push(mn),Je(mn)===!0)break;Rt=ir}return dn},Wt=function(X){var he=function(Je){return st(Je,function(Rt){return!Ut(X,Rt)})};return He(X).map(sn).map(he).getOr([])},sn=function(X){return Ve(X.dom.childNodes,Ct.fromDom)},gr=function(X){return on(X)&&Cn(X.dom.host)},Lr=ut(Element.prototype.attachShadow)&&ut(Node.prototype.getRootNode),Cr=ct(Lr),vn=Lr?function(X){return Ct.fromDom(X.dom.getRootNode())}:Ye,Br=function(X){var he=vn(X);return gr(he)?Zt.some(he):Zt.none()},qr=function(X){return Ct.fromDom(X.dom.host)},Ma=function(X){if(Cr()&&Cn(X.target)){var he=Ct.fromDom(X.target);if(ke(he)&&Na(he)&&X.composed&&X.composedPath){var Je=X.composedPath();if(Je)return wt(Je)}}return Zt.from(X.target)},Na=function(X){return Cn(X.dom.shadowRoot)},Pa=function(X){var he=bn(X)?X.dom.parentNode:X.dom;if(he==null||he.ownerDocument===null)return!1;var Je=he.ownerDocument;return Br(Ct.fromDom(he)).fold(function(){return Je.body.contains(he)},cr(Pa,qr))},Gr=function(X){var he=X.dom.body;if(he==null)throw new Error("Body is not available yet");return Ct.fromDom(he)},Fa=function(X,he,Je){if(Nn(Je)||kr(Je)||On(Je))X.setAttribute(he,Je+"");else throw console.error("Invalid call to Attribute.set. Key ",he,":: Value ",Je,":: Element ",X),new Error("Attribute value was not simple")},De=function(X,he,Je){Fa(X.dom,he,Je)},dt=function(X,he){var Je=X.dom.getAttribute(he);return Je===null?void 0:Je},jt=function(X,he){X.dom.removeAttribute(he)},zn=function(X,he,Je){if(!Nn(Je))throw console.error("Invalid call to CSS.set. Property ",he,":: Value ",Je,":: Element ",X),new Error("CSS value must be a string: "+Je);dr(X)&&X.style.setProperty(he,Je)},cn=function(X,he){var Je=X.dom;or(he,function(Rt,dn){zn(Je,dn,Rt)})},hr=function(X,he){var Je=X.dom,Rt=window.getComputedStyle(Je),dn=Rt.getPropertyValue(he);return dn===""&&!Pa(X)?Ka(Je,he):dn},Ka=function(X,he){return dr(X)?X.style.getPropertyValue(he):""},Rr=function(X,he,Je,Rt,dn,ir,mn){return{target:X,x:he,y:Je,stop:Rt,prevent:dn,kill:ir,raw:mn}},Or=function(X){var he=Ct.fromDom(Ma(X).getOr(X.target)),Je=function(){return X.stopPropagation()},Rt=function(){return X.preventDefault()},dn=nt(Rt,Je);return Rr(he,X.clientX,X.clientY,Je,Rt,dn,X)},go=function(X,he){return function(Je){X(Je)&&he(Or(Je))}},Co=function(X,he,Je,Rt,dn){var ir=go(Je,Rt);return X.dom.addEventListener(he,ir,dn),{unbind:tr(di,X,he,ir,dn)}},So=function(X,he,Je,Rt){return Co(X,he,Je,Rt,!1)},di=function(X,he,Je,Rt){X.dom.removeEventListener(he,Je,Rt)},Ja=_t,xo=function(X,he,Je){return So(X,he,Ja,Je)},io=function(X,he){var Je=function(Rt,dn){return io(X+Rt,he+dn)};return{left:X,top:he,translate:Je}},Pn=io,Oa=function(X){var he=X!==void 0?X.dom:document,Je=he.body.scrollLeft||he.documentElement.scrollLeft,Rt=he.body.scrollTop||he.documentElement.scrollTop;return Pn(Je,Rt)},La=function(X){var he=X===void 0?window:X;return Zt.from(he.visualViewport)},so=function(X,he,Je,Rt){return{x:X,y:he,width:Je,height:Rt,right:X+Je,bottom:he+Rt}},Gn=function(X){var he=X===void 0?window:X,Je=he.document,Rt=Oa(Ct.fromDom(Je));return La(he).fold(function(){var dn=he.document.documentElement,ir=dn.clientWidth,mn=dn.clientHeight;return so(Rt.left,Rt.top,ir,mn)},function(dn){return so(Math.max(dn.pageLeft,Rt.left),Math.max(dn.pageTop,Rt.top),dn.width,dn.height)})},ho=function(X,he,Je){return La(Je).map(function(Rt){var dn=function(ir){return he(Or(ir))};return Rt.addEventListener(X,dn),{unbind:function(){return Rt.removeEventListener(X,dn)}}}).getOrThunk(function(){return{unbind:Jt}})},_o=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Io=tinymce.util.Tools.resolve("tinymce.Env"),ei=tinymce.util.Tools.resolve("tinymce.util.Delay"),Hr=function(X,he){X.fire("FullscreenStateChanged",{state:he})},Wo=function(X){return X.getParam("fullscreen_native",!1,"boolean")},ko=function(X){var he=Ct.fromDom(X.getElement());return Br(he).map(qr).getOrThunk(function(){return Gr(xn(he))})},Po=function(X){return X.fullscreenElement!==void 0?X.fullscreenElement:X.msFullscreenElement!==void 0?X.msFullscreenElement:X.webkitFullscreenElement!==void 0?X.webkitFullscreenElement:null},jo=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},ce=function(X){var he=X.dom;he.requestFullscreen?he.requestFullscreen():he.msRequestFullscreen?he.msRequestFullscreen():he.webkitRequestFullScreen&&he.webkitRequestFullScreen()},Ee=function(X){var he=X.dom;he.exitFullscreen?he.exitFullscreen():he.msExitFullscreen?he.msExitFullscreen():he.webkitCancelFullScreen&&he.webkitCancelFullScreen()},$e=function(X){return X.dom===Po(xn(X).dom)},je=function(X,he,Je){return st(mt(X,Je),he)},G=function(X,he){return st(Wt(X),he)},ue=function(X){return it(X)},Fe=function(X,he,Je){return je(X,function(Rt){return zr(Rt,he)},Je)},Ge=function(X,he){return G(X,function(Je){return zr(Je,he)})},Xe="data-ephox-mobile-fullscreen-style",zt="display:none!important;",fn="position:absolute!important;",Ln="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Sr="background-color:rgb(255,255,255)!important;",lt=Io.os.isAndroid(),Vr=function(X){var he=hr(X,"background-color");return he!==void 0&&he!==""?"background-color:"+he+"!important":Sr},Za=function(X,he,Je){var Rt=function(Tr){return Ge(Tr,"*:not(.tox-silver-sink)")},dn=function(Tr){return function(H){var xe=dt(H,"style"),_e=xe===void 0?"no-styles":xe.trim();_e!==Tr&&(De(H,Xe,_e),cn(H,X.parseStyle(Tr)))}},ir=Fe(he,"*"),mn=E(ir,Rt),Zn=Vr(Je);Ft(mn,dn(zt)),Ft(ir,dn(fn+Ln+Zn));var Pr=lt===!0?"":fn;dn(Pr+Ln+Zn)(he)},co=function(X){var he=ue("["+Xe+"]");Ft(he,function(Je){var Rt=dt(Je,Xe);Rt!=="no-styles"?cn(Je,X.parseStyle(Rt)):jt(Je,"style"),jt(Je,Xe)})},Ha=_o.DOM,_n=function(){var X=Gn(window);return{x:X.x,y:X.y}},Qr=function(X){window.scrollTo(X.x,X.y)},Va=La().fold(function(){return{bind:Jt,unbind:Jt}},function(X){var he=Z(),Je=se(),Rt=se(),dn=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},ir=function(){window.requestAnimationFrame(function(){he.on(function(Tr){return cn(Tr,{top:X.offsetTop+"px",left:X.offsetLeft+"px",height:X.height+"px",width:X.width+"px"})})})},mn=ei.throttle(function(){dn(),ir()},50),Zn=function(Tr){he.set(Tr),mn(),Je.set(ho("resize",mn)),Rt.set(ho("scroll",mn))},Pr=function(){he.on(function(){Je.clear(),Rt.clear()}),he.clear()};return{bind:Zn,unbind:Pr}}),Y=function(X,he){var Je=document.body,Rt=document.documentElement,dn=X.getContainer(),ir=Ct.fromDom(dn),mn=ko(X),Zn=he.get(),Pr=Ct.fromDom(X.getBody()),Tr=Io.deviceType.isTouch(),H=dn.style,xe=X.iframeElement,_e=xe.style,Se=function(ga){ga(Je,"tox-fullscreen"),ga(Rt,"tox-fullscreen"),ga(dn,"tox-fullscreen"),Br(ir).map(function(Er){return qr(Er).dom}).each(function(Er){ga(Er,"tox-fullscreen"),ga(Er,"tox-shadowhost")})},Yt=function(){Tr&&co(X.dom),Se(Ha.removeClass),Va.unbind(),Zt.from(he.get()).each(function(ga){return ga.fullscreenChangeHandler.unbind()})};if(Zn)Zn.fullscreenChangeHandler.unbind(),Wo(X)&&$e(mn)&&Ee(xn(mn)),_e.width=Zn.iframeWidth,_e.height=Zn.iframeHeight,H.width=Zn.containerWidth,H.height=Zn.containerHeight,H.top=Zn.containerTop,H.left=Zn.containerLeft,Qr(Zn.scrollPos),he.set(null),Hr(X,!1),Yt(),X.off("remove",Yt);else{var nr=xo(xn(mn),jo(),function(ga){Wo(X)&&!$e(mn)&&he.get()!==null&&Y(X,he)}),ia={scrollPos:_n(),containerWidth:H.width,containerHeight:H.height,containerTop:H.top,containerLeft:H.left,iframeWidth:_e.width,iframeHeight:_e.height,fullscreenChangeHandler:nr};Tr&&Za(X.dom,ir,Pr),_e.width=_e.height="100%",H.width=H.height="",Se(Ha.addClass),Va.bind(ir),X.on("remove",Yt),he.set(ia),Wo(X)&&ce(mn),Hr(X,!0)}},Ce=function(X,he){X.addCommand("mceFullScreen",function(){Y(X,he)})},Ie=function(X,he){return function(Je){Je.setActive(he.get()!==null);var Rt=function(dn){return Je.setActive(dn.state)};return X.on("FullscreenStateChanged",Rt),function(){return X.off("FullscreenStateChanged",Rt)}}},St=function(X,he){X.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return X.execCommand("mceFullScreen")},onSetup:Ie(X,he)}),X.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return X.execCommand("mceFullScreen")},onSetup:Ie(X,he)})};function an(){Ht.add("fullscreen",function(X){var he=Ze(null);return X.inline||(Ce(X,he),St(X,he),X.addShortcut("Meta+Shift+F","","mceFullScreen")),En(he)})}an()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(pn){pn.addCommand("InsertHorizontalRule",function(){pn.execCommand("mceInsertContent",!1,"<hr />")})},En=function(pn){pn.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return pn.execCommand("InsertHorizontalRule")}}),pn.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return pn.execCommand("InsertHorizontalRule")}})};function lr(){Ze.add("hr",function(pn){Ht(pn),En(pn)})}lr()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(){return Ht=Object.assign||function(q){for(var ie,L=1,ve=arguments.length;L<ve;L++){ie=arguments[L];for(var Kt in ie)Object.prototype.hasOwnProperty.call(ie,Kt)&&(q[Kt]=ie[Kt])}return q},Ht.apply(this,arguments)},En=function(A){var q=typeof A;return A===null?"null":q==="object"&&(Array.prototype.isPrototypeOf(A)||A.constructor&&A.constructor.name==="Array")?"array":q==="object"&&(String.prototype.isPrototypeOf(A)||A.constructor&&A.constructor.name==="String")?"string":q},lr=function(A){return function(q){return En(q)===A}},pn=function(A){return function(q){return typeof q===A}},rr=function(A){return function(q){return A===q}},Nn=lr("string"),jn=lr("object"),kr=lr("array"),$r=rr(null),Cn=pn("boolean"),ut=function(A){return A==null},On=function(A){return!ut(A)},Jt=pn("number"),nt=function(){},cr=function(A){return function(){return A}},ct=cr(!1),tr=cr(!0),re=function(){return _t},_t=function(){var A=function(ve){return ve.isNone()},q=function(ve){return ve()},ie=function(ve){return ve},L={fold:function(ve,Kt){return ve()},is:ct,isSome:ct,isNone:tr,getOr:ie,getOrThunk:q,getOrDie:function(ve){throw new Error(ve||"error: getOrDie called on none.")},getOrNull:cr(null),getOrUndefined:cr(void 0),or:ie,orThunk:q,map:re,each:nt,bind:re,exists:ct,forall:tr,filter:re,equals:A,equals_:A,toArray:function(){return[]},toString:cr("none()")};return L}(),ar=function(A){var q=cr(A),ie=function(){return ve},L=function(Kt){return Kt(A)},ve={fold:function(Kt,ur){return ur(A)},is:function(Kt){return A===Kt},isSome:tr,isNone:ct,getOr:q,getOrThunk:q,getOrDie:q,getOrNull:q,getOrUndefined:q,or:ie,orThunk:ie,map:function(Kt){return ar(Kt(A))},each:function(Kt){Kt(A)},bind:L,exists:L,forall:L,filter:function(Kt){return Kt(A)?ve:_t},toArray:function(){return[A]},toString:function(){return"some("+A+")"},equals:function(Kt){return Kt.is(A)},equals_:function(Kt,ur){return Kt.fold(ct,function(un){return ur(A,un)})}};return ve},qn=function(A){return A==null?_t:ar(A)},Qt={some:ar,none:re,from:qn},Gt=Object.keys,Zt=Object.hasOwnProperty,Vt=function(A,q){for(var ie=Gt(A),L=0,ve=ie.length;L<ve;L++){var Kt=ie[L],ur=A[Kt];q(ur,Kt)}},se=function(A){return function(q,ie){A[ie]=q}},Z=function(A,q,ie,L){var ve={};return Vt(A,function(Kt,ur){(q(Kt,ur)?ie:L)(Kt,ur)}),ve},qe=function(A,q){var ie={};return Z(A,q,se(ie),nt),ie},Ve=function(A,q){return Zt.call(A,q)},Ft=function(A,q){return Ve(A,q)&&A[q]!==void 0&&A[q]!==null},st=Array.prototype.push,Xn=function(A){for(var q=[],ie=0,L=A.length;ie<L;++ie){if(!kr(A[ie]))throw new Error("Arr.flatten item "+ie+" was not an array, input: "+A);st.apply(q,A[ie])}return q},E=function(A,q){return q>=0&&q<A.length?Qt.some(A[q]):Qt.none()},yt=function(A){return E(A,0)},wt=function(A,q){for(var ie=0;ie<A.length;ie++){var L=q(A[ie],ie);if(L.isSome())return L}return Qt.none()};typeof window!="undefined"||Function("return this;")();var bt=function(A,q,ie){if(Nn(ie)||Cn(ie)||Jt(ie))A.setAttribute(q,ie+"");else throw console.error("Invalid call to Attribute.set. Key ",q,":: Value ",ie,":: Element ",A),new Error("Attribute value was not simple")},or=function(A,q,ie){bt(A.dom,q,ie)},dr=function(A,q){A.dom.removeAttribute(q)},Sn=function(A,q){var ie=q||document,L=ie.createElement("div");if(L.innerHTML=A,!L.hasChildNodes()||L.childNodes.length>1)throw console.error("HTML does not have a single root node",A),new Error("HTML must have a single root node");return ee(L.childNodes[0])},Dn=function(A,q){var ie=q||document,L=ie.createElement(A);return ee(L)},wr=function(A,q){var ie=q||document,L=ie.createTextNode(A);return ee(L)},ee=function(A){if(A==null)throw new Error("Node cannot be null or undefined");return{dom:A}},Pe=function(A,q,ie){return Qt.from(A.dom.elementFromPoint(q,ie)).map(ee)},Ct={fromHtml:Sn,fromTag:Dn,fromText:wr,fromDom:ee,fromPoint:Pe},$n=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Bn=tinymce.util.Tools.resolve("tinymce.util.Promise"),de=tinymce.util.Tools.resolve("tinymce.util.XHR"),We=function(A){return A.getParam("image_dimensions",!0,"boolean")},Be=function(A){return A.getParam("image_advtab",!1,"boolean")},pt=function(A){return A.getParam("image_uploadtab",!0,"boolean")},ke=function(A){return A.getParam("image_prepend_url","","string")},bn=function(A){return A.getParam("image_class_list")},br=function(A){return A.getParam("image_description",!0,"boolean")},on=function(A){return A.getParam("image_title",!1,"boolean")},zr=function(A){return A.getParam("image_caption",!1,"boolean")},Jn=function(A){return A.getParam("image_list",!1)},it=function(A){return On(A.getParam("images_upload_url"))},Ut=function(A){return On(A.getParam("images_upload_handler"))},xn=function(A){return A.getParam("a11y_advanced_options",!1,"boolean")},Ye=function(A){return A.getParam("automatic_uploads",!0,"boolean")},He=function(A,q){return Math.max(parseInt(A,10),parseInt(q,10))},mt=function(A){return new Bn(function(q){var ie=document.createElement("img"),L=function(Kt){ie.parentNode&&ie.parentNode.removeChild(ie),q(Kt)};ie.onload=function(){var Kt=He(ie.width,ie.clientWidth),ur=He(ie.height,ie.clientHeight),un={width:Kt,height:ur};L(Bn.resolve(un))},ie.onerror=function(){L(Bn.reject("Failed to get image dimensions for: "+A))};var ve=ie.style;ve.visibility="hidden",ve.position="fixed",ve.bottom=ve.left="0px",ve.width=ve.height="auto",document.body.appendChild(ie),ie.src=A})},Wt=function(A){return A&&(A=A.replace(/px$/,"")),A},sn=function(A){return A.length>0&&/^[0-9]+$/.test(A)&&(A+="px"),A},gr=function(A){if(A.margin){var q=String(A.margin).split(" ");switch(q.length){case 1:A["margin-top"]=A["margin-top"]||q[0],A["margin-right"]=A["margin-right"]||q[0],A["margin-bottom"]=A["margin-bottom"]||q[0],A["margin-left"]=A["margin-left"]||q[0];break;case 2:A["margin-top"]=A["margin-top"]||q[0],A["margin-right"]=A["margin-right"]||q[1],A["margin-bottom"]=A["margin-bottom"]||q[0],A["margin-left"]=A["margin-left"]||q[1];break;case 3:A["margin-top"]=A["margin-top"]||q[0],A["margin-right"]=A["margin-right"]||q[1],A["margin-bottom"]=A["margin-bottom"]||q[2],A["margin-left"]=A["margin-left"]||q[1];break;case 4:A["margin-top"]=A["margin-top"]||q[0],A["margin-right"]=A["margin-right"]||q[1],A["margin-bottom"]=A["margin-bottom"]||q[2],A["margin-left"]=A["margin-left"]||q[3]}delete A.margin}return A},Lr=function(A,q){var ie=Jn(A);typeof ie=="string"?de.send({url:ie,success:function(L){q(JSON.parse(L))}}):typeof ie=="function"?ie(q):q(ie)},Cr=function(A,q,ie){var L=function(){ie.onload=ie.onerror=null,A.selection&&(A.selection.select(ie),A.nodeChanged())};ie.onload=function(){!q.width&&!q.height&&We(A)&&A.dom.setAttribs(ie,{width:String(ie.clientWidth),height:String(ie.clientHeight)}),L()},ie.onerror=L},vn=function(A){return new Bn(function(q,ie){var L=new FileReader;L.onload=function(){q(L.result)},L.onerror=function(){ie(L.error.message)},L.readAsDataURL(A)})},Br=function(A){return A.nodeName==="IMG"&&(A.hasAttribute("data-mce-object")||A.hasAttribute("data-mce-placeholder"))},qr=$n.DOM,Ma=function(A){return A.style.marginLeft&&A.style.marginRight&&A.style.marginLeft===A.style.marginRight?Wt(A.style.marginLeft):""},Na=function(A){return A.style.marginTop&&A.style.marginBottom&&A.style.marginTop===A.style.marginBottom?Wt(A.style.marginTop):""},Pa=function(A){return A.style.borderWidth?Wt(A.style.borderWidth):""},Gr=function(A,q){return A.hasAttribute(q)?A.getAttribute(q):""},Fa=function(A,q){return A.style[q]?A.style[q]:""},De=function(A){return A.parentNode!==null&&A.parentNode.nodeName==="FIGURE"},dt=function(A,q,ie){ie===""?A.removeAttribute(q):A.setAttribute(q,ie)},jt=function(A){var q=qr.create("figure",{class:"image"});qr.insertAfter(q,A),q.appendChild(A),q.appendChild(qr.create("figcaption",{contentEditable:"true"},"Caption")),q.contentEditable="false"},zn=function(A){var q=A.parentNode;qr.insertAfter(A,q),qr.remove(q)},cn=function(A){De(A)?zn(A):jt(A)},hr=function(A,q){var ie=A.getAttribute("style"),L=q(ie!==null?ie:"");L.length>0?(A.setAttribute("style",L),A.setAttribute("data-mce-style",L)):A.removeAttribute("style")},Ka=function(A,q){return function(ie,L,ve){ie.style[L]?(ie.style[L]=sn(ve),hr(ie,q)):dt(ie,L,ve)}},Rr=function(A,q){return A.style[q]?Wt(A.style[q]):Gr(A,q)},Or=function(A,q){var ie=sn(q);A.style.marginLeft=ie,A.style.marginRight=ie},go=function(A,q){var ie=sn(q);A.style.marginTop=ie,A.style.marginBottom=ie},Co=function(A,q){var ie=sn(q);A.style.borderWidth=ie},So=function(A,q){A.style.borderStyle=q},di=function(A){return Fa(A,"borderStyle")},Ja=function(A){return A.nodeName==="FIGURE"},xo=function(A){return A.nodeName==="IMG"},io=function(A){return qr.getAttrib(A,"alt").length===0&&qr.getAttrib(A,"role")==="presentation"},Pn=function(A){return io(A)?"":Gr(A,"alt")},Oa=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},La=function(A,q){var ie=document.createElement("img");return dt(ie,"style",q.style),(Ma(ie)||q.hspace!=="")&&Or(ie,q.hspace),(Na(ie)||q.vspace!=="")&&go(ie,q.vspace),(Pa(ie)||q.border!=="")&&Co(ie,q.border),(di(ie)||q.borderStyle!=="")&&So(ie,q.borderStyle),A(ie.getAttribute("style"))},so=function(A,q){var ie=document.createElement("img");if(Hr(A,Ht(Ht({},q),{caption:!1}),ie),_o(ie,q.alt,q.isDecorative),q.caption){var L=qr.create("figure",{class:"image"});return L.appendChild(ie),L.appendChild(qr.create("figcaption",{contentEditable:"true"},"Caption")),L.contentEditable="false",L}else return ie},Gn=function(A,q){return{src:Gr(q,"src"),alt:Pn(q),title:Gr(q,"title"),width:Rr(q,"width"),height:Rr(q,"height"),class:Gr(q,"class"),style:A(Gr(q,"style")),caption:De(q),hspace:Ma(q),vspace:Na(q),border:Pa(q),borderStyle:Fa(q,"borderStyle"),isDecorative:io(q)}},ho=function(A,q,ie,L,ve){ie[L]!==q[L]&&ve(A,L,ie[L])},_o=function(A,q,ie){if(ie){qr.setAttrib(A,"role","presentation");var L=Ct.fromDom(A);or(L,"alt","")}else{if($r(q)){var L=Ct.fromDom(A);dr(L,"alt")}else{var L=Ct.fromDom(A);or(L,"alt",q)}qr.getAttrib(A,"role")==="presentation"&&qr.setAttrib(A,"role","")}},Io=function(A,q,ie){(ie.alt!==q.alt||ie.isDecorative!==q.isDecorative)&&_o(A,ie.alt,ie.isDecorative)},ei=function(A,q){return function(ie,L,ve){A(ie,ve),hr(ie,q)}},Hr=function(A,q,ie){var L=Gn(A,ie);ho(ie,L,q,"caption",function(ve,Kt,ur){return cn(ve)}),ho(ie,L,q,"src",dt),ho(ie,L,q,"title",dt),ho(ie,L,q,"width",Ka("width",A)),ho(ie,L,q,"height",Ka("height",A)),ho(ie,L,q,"class",dt),ho(ie,L,q,"style",ei(function(ve,Kt){return dt(ve,"style",Kt)},A)),ho(ie,L,q,"hspace",ei(Or,A)),ho(ie,L,q,"vspace",ei(go,A)),ho(ie,L,q,"border",ei(Co,A)),ho(ie,L,q,"borderStyle",ei(So,A)),Io(ie,L,q)},Wo=function(A,q){var ie=A.dom.styles.parse(q),L=gr(ie),ve=A.dom.styles.parse(A.dom.styles.serialize(L));return A.dom.styles.serialize(ve)},ko=function(A){var q=A.selection.getNode(),ie=A.dom.getParent(q,"figure.image");return ie?A.dom.select("img",ie)[0]:q&&(q.nodeName!=="IMG"||Br(q))?null:q},Po=function(A,q){var ie=A.dom,L=qe(A.schema.getTextBlockElements(),function(Kt,ur){return!A.schema.isValidChild(ur,"figure")}),ve=ie.getParent(q.parentNode,function(Kt){return Ft(L,Kt.nodeName)},A.getBody());return ve?ie.split(ve,q):q},jo=function(A){var q=ko(A);return q?Gn(function(ie){return Wo(A,ie)},q):Oa()},ce=function(A,q){var ie=so(function(Kt){return Wo(A,Kt)},q);A.dom.setAttrib(ie,"data-mce-id","__mcenew"),A.focus(),A.selection.setContent(ie.outerHTML);var L=A.dom.select('*[data-mce-id="__mcenew"]')[0];if(A.dom.setAttrib(L,"data-mce-id",null),Ja(L)){var ve=Po(A,L);A.selection.select(ve)}else A.selection.select(L)},Ee=function(A,q){A.dom.setAttrib(q,"src",q.getAttribute("src"))},$e=function(A,q){if(q){var ie=A.dom.is(q.parentNode,"figure.image")?q.parentNode:q;A.dom.remove(ie),A.focus(),A.nodeChanged(),A.dom.isEmpty(A.getBody())&&(A.setContent(""),A.selection.setCursorLocation())}},je=function(A,q){var ie=ko(A);if(Hr(function(ve){return Wo(A,ve)},q,ie),Ee(A,ie),Ja(ie.parentNode)){var L=ie.parentNode;Po(A,L),A.selection.select(ie.parentNode)}else A.selection.select(ie),Cr(A,q,ie)},G=function(A,q){var ie=ko(A);if(ie){var L=Gn(function(Kt){return Wo(A,Kt)},ie),ve=Ht(Ht({},L),q);ve.src?je(A,ve):$e(A,ie)}else q.src&&ce(A,Ht(Ht({},Oa()),q))},ue=Object.prototype.hasOwnProperty,Fe=function(A,q){var ie=jn(A)&&jn(q);return ie?Xe(A,q):q},Ge=function(A){return function(){for(var q=[],ie=0;ie<arguments.length;ie++)q[ie]=arguments[ie];if(q.length===0)throw new Error("Can't merge zero objects");for(var L={},ve=0;ve<q.length;ve++){var Kt=q[ve];for(var ur in Kt)ue.call(Kt,ur)&&(L[ur]=A(L[ur],Kt[ur]))}return L}},Xe=Ge(Fe),zt=function(A){return A.length>0},fn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Ln=tinymce.util.Tools.resolve("tinymce.util.Tools"),Sr=function(A){return Nn(A.value)?A.value:""},lt=function(A){return Nn(A.text)?A.text:Nn(A.title)?A.title:""},Vr=function(A,q){var ie=[];return Ln.each(A,function(L){var ve=lt(L);if(L.menu!==void 0){var Kt=Vr(L.menu,q);ie.push({text:ve,items:Kt})}else{var ur=q(L);ie.push({text:ve,value:ur})}}),ie},Za=function(A){return A===void 0&&(A=Sr),function(q){return q?Qt.from(q).map(function(ie){return Vr(ie,A)}):Qt.none()}},co=function(A){return Za(Sr)(A)},Ha=function(A){return Object.prototype.hasOwnProperty.call(A,"items")},_n=function(A,q){return wt(A,function(ie){return Ha(ie)?_n(ie.items,q):ie.value===q?Qt.some(ie):Qt.none()})},Qr=function(A,q){return A.bind(function(ie){return _n(ie,q)})},Va={sanitizer:Za,sanitize:co,findEntry:Qr},Y=function(A){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Ce={makeTab:Y},Ie=function(A){var q=Va.sanitizer(function(oa){return A.convertURL(oa.value||oa.url,"src")}),ie=new Bn(function(oa){Lr(A,function(Wc){oa(q(Wc).map(function(_a){return Xn([[{text:"None",value:""}],_a])}))})}),L=Va.sanitize(bn(A)),ve=Be(A),Kt=pt(A),ur=it(A),un=Ut(A),fa=jo(A),Kr=br(A),na=on(A),_i=We(A),gi=zr(A),Us=xn(A),fu=Ye(A),pa=Qt.some(ke(A)).filter(function(oa){return Nn(oa)&&oa.length>0});return ie.then(function(oa){return{image:fa,imageList:oa,classList:L,hasAdvTab:ve,hasUploadTab:Kt,hasUploadUrl:ur,hasUploadHandler:un,hasDescription:Kr,hasImageTitle:na,hasDimensions:_i,hasImageCaption:gi,prependURL:pa,hasAccessibilityOptions:Us,automaticUploads:fu}})},St=function(A){var q={name:"src",type:"urlinput",filetype:"image",label:"Source"},ie=A.imageList.map(function(na){return{name:"images",type:"listbox",label:"Image list",items:na}}),L={name:"alt",type:"input",label:"Alternative description",disabled:A.hasAccessibilityOptions&&A.image.isDecorative},ve={name:"title",type:"input",label:"Image title"},Kt={name:"dimensions",type:"sizeinput"},ur={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},un=A.classList.map(function(na){return{name:"classes",type:"listbox",label:"Class",items:na}}),fa={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Kr=function(na){return na?{type:"grid",columns:2}:{type:"panel"}};return Xn([[q],ie.toArray(),A.hasAccessibilityOptions&&A.hasDescription?[ur]:[],A.hasDescription?[L]:[],A.hasImageTitle?[ve]:[],A.hasDimensions?[Kt]:[],[Ht(Ht({},Kr(A.classList.isSome()&&A.hasImageCaption)),{items:Xn([un.toArray(),A.hasImageCaption?[fa]:[]])})]])},an=function(A){return{title:"General",name:"general",items:St(A)}},X={makeTab:an,makeItems:St},he=function(A){var q=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:q}},Je={makeTab:he},Rt=function(A){return{prevImage:Va.findEntry(A.imageList,A.image.src),prevAlt:A.image.alt,open:!0}},dn=function(A){return{src:{value:A.src,meta:{}},images:A.src,alt:A.alt,title:A.title,dimensions:{width:A.width,height:A.height},classes:A.class,caption:A.caption,style:A.style,vspace:A.vspace,border:A.border,hspace:A.hspace,borderstyle:A.borderStyle,fileinput:[],isDecorative:A.isDecorative}},ir=function(A,q){return{src:A.src.value,alt:A.alt.length===0&&q?null:A.alt,title:A.title,width:A.dimensions.width,height:A.dimensions.height,class:A.classes,style:A.style,caption:A.caption,hspace:A.hspace,vspace:A.vspace,border:A.border,borderStyle:A.borderstyle,isDecorative:A.isDecorative}},mn=function(A,q){return/^(?:[a-zA-Z]+:)?\/\//.test(q)?Qt.none():A.prependURL.bind(function(ie){return q.substring(0,ie.length)!==ie?Qt.some(ie+q):Qt.none()})},Zn=function(A,q){var ie=q.getData();mn(A,ie.src.value).each(function(L){q.setData({src:{value:L,meta:ie.src.meta}})})},Pr=function(A,q,ie){A.hasDescription&&Nn(ie.alt)&&(q.alt=ie.alt),A.hasAccessibilityOptions&&(q.isDecorative=ie.isDecorative||q.isDecorative||!1),A.hasImageTitle&&Nn(ie.title)&&(q.title=ie.title),A.hasDimensions&&(Nn(ie.width)&&(q.dimensions.width=ie.width),Nn(ie.height)&&(q.dimensions.height=ie.height)),Nn(ie.class)&&Va.findEntry(A.classList,ie.class).each(function(L){q.classes=L.value}),A.hasImageCaption&&Cn(ie.caption)&&(q.caption=ie.caption),A.hasAdvTab&&(Nn(ie.style)&&(q.style=ie.style),Nn(ie.vspace)&&(q.vspace=ie.vspace),Nn(ie.border)&&(q.border=ie.border),Nn(ie.hspace)&&(q.hspace=ie.hspace),Nn(ie.borderstyle)&&(q.borderstyle=ie.borderstyle))},Tr=function(A,q){var ie=q.getData(),L=ie.src.meta;if(L!==void 0){var ve=Xe({},ie);Pr(A,ve,L),q.setData(ve)}},H=function(A,q,ie,L){var ve=L.getData(),Kt=ve.src.value,ur=ve.src.meta||{};!ur.width&&!ur.height&&q.hasDimensions&&(zt(Kt)?A.imageSize(Kt).then(function(un){ie.open&&L.setData({dimensions:un})}).catch(function(un){return console.error(un)}):L.setData({dimensions:{width:"",height:""}}))},xe=function(A,q,ie){var L=ie.getData(),ve=Va.findEntry(A.imageList,L.src.value);q.prevImage=ve,ie.setData({images:ve.map(function(Kt){return Kt.value}).getOr("")})},_e=function(A,q,ie,L){Zn(q,L),Tr(q,L),H(A,q,ie,L),xe(q,ie,L)},Se=function(A,q,ie,L){var ve=L.getData(),Kt=Va.findEntry(q.imageList,ve.images);Kt.each(function(ur){var un=ve.alt===""||ie.prevImage.map(function(fa){return fa.text===ve.alt}).getOr(!1);un?ur.value===""?L.setData({src:ur,alt:ie.prevAlt}):L.setData({src:ur,alt:ur.text}):L.setData({src:ur})}),ie.prevImage=Kt,_e(A,q,ie,L)},Yt=function(A){var q=A["margin-top"]&&A["margin-bottom"]&&A["margin-top"]===A["margin-bottom"];return q?Wt(String(A["margin-top"])):""},nr=function(A){var q=A["margin-right"]&&A["margin-left"]&&A["margin-right"]===A["margin-left"];return q?Wt(String(A["margin-right"])):""},ia=function(A){return A["border-width"]?Wt(String(A["border-width"])):""},ga=function(A){return A["border-style"]?String(A["border-style"]):""},Er=function(A,q,ie){return q(A(q(ie)))},To=function(A,q,ie){var L=gr(A(ie.style)),ve=Xe({},ie);return ve.vspace=Yt(L),ve.hspace=nr(L),ve.border=ia(L),ve.borderstyle=ga(L),ve.style=Er(A,q,L),ve},Xa=function(A,q){var ie=q.getData(),L=To(A.parseStyle,A.serializeStyle,ie);q.setData(L)},aa=function(A,q,ie){var L=Xe(dn(q.image),ie.getData()),ve=La(A.normalizeCss,ir(L,!1));ie.setData({style:ve})},qo=function(A,q,ie,L){var ve=L.getData();L.block("Uploading image"),yt(ve.fileinput).fold(function(){L.unblock()},function(Kt){var ur=URL.createObjectURL(Kt),un=function(){L.unblock(),URL.revokeObjectURL(ur)},fa=function(Kr){L.setData({src:{value:Kr,meta:{}}}),L.showTab("general"),_e(A,q,ie,L)};vn(Kt).then(function(Kr){var na=A.createBlobCache(Kt,ur,Kr);q.automaticUploads?A.uploadImage(na).then(function(_i){fa(_i.url),un()}).catch(function(_i){un(),A.alertErr(_i)}):(A.addToBlobCache(na),fa(na.blobUri()),L.unblock())})})},Di=function(A,q,ie){return function(L,ve){ve.name==="src"?_e(A,q,ie,L):ve.name==="images"?Se(A,q,ie,L):ve.name==="alt"?ie.prevAlt=L.getData().alt:ve.name==="style"?Xa(A,L):ve.name==="vspace"||ve.name==="hspace"||ve.name==="border"||ve.name==="borderstyle"?aa(A,q,L):ve.name==="fileinput"?qo(A,q,ie,L):ve.name==="isDecorative"&&(L.getData().isDecorative?L.disable("alt"):L.enable("alt"))}},ls=function(A){return function(){A.open=!1}},Rl=function(A){if(A.hasAdvTab||A.hasUploadUrl||A.hasUploadHandler){var q={type:"tabpanel",tabs:Xn([[X.makeTab(A)],A.hasAdvTab?[Ce.makeTab(A)]:[],A.hasUploadTab&&(A.hasUploadUrl||A.hasUploadHandler)?[Je.makeTab(A)]:[]])};return q}else{var ie={type:"panel",items:X.makeItems(A)};return ie}},ha=function(A){return function(q){var ie=Rt(q);return{title:"Insert/Edit Image",size:"normal",body:Rl(q),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:dn(q.image),onSubmit:A.onSubmit(q),onChange:Di(A,q,ie),onClose:ls(ie)}}},Mr=function(A){return function(q){return function(ie){var L=Xe(dn(q.image),ie.getData());A.execCommand("mceUpdateImage",!1,ir(L,q.hasAccessibilityOptions)),A.editorUpload.uploadImagesAuto(),ie.close()}}},fs=function(A){return function(q){return mt(A.documentBaseURI.toAbsolute(q)).then(function(ie){return{width:String(ie.width),height:String(ie.height)}})}},Uc=function(A){return function(q,ie,L){return A.editorUpload.blobCache.create({blob:q,blobUri:ie,name:q.name?q.name.replace(/\.[^\.]+$/,""):null,filename:q.name,base64:L.split(",")[1]})}},ju=function(A){return function(q){A.editorUpload.blobCache.add(q)}},xa=function(A){return function(q){A.windowManager.alert(q)}},ku=function(A){return function(q){return Wo(A,q)}},po=function(A){return function(q){return A.dom.parseStyle(q)}},qu=function(A){return function(q,ie){return A.dom.serializeStyle(q,ie)}},Tu=function(A){return function(q){return fn(A).upload([q],!1).then(function(ie){return ie.length===0?Bn.reject("Failed to upload image"):ie[0].status===!1?Bn.reject(ie[0].error.message):ie[0]})}},mi=function(A){var q={onSubmit:Mr(A),imageSize:fs(A),addToBlobCache:ju(A),createBlobCache:Uc(A),alertErr:xa(A),normalizeCss:ku(A),parseStyle:po(A),serializeStyle:qu(A),uploadImage:Tu(A)},ie=function(){Ie(A).then(ha(q)).then(A.windowManager.open)};return{open:ie}},gv=function(A){A.addCommand("mceImage",mi(A).open),A.addCommand("mceUpdateImage",function(q,ie){A.undoManager.transact(function(){return G(A,ie)})})},F=function(A){var q=A.attr("class");return q&&/\bimage\b/.test(q)},fe=function(A){return function(q){for(var ie=q.length,L=function(Kt){Kt.attr("contenteditable",A?"true":null)};ie--;){var ve=q[ie];F(ve)&&(ve.attr("contenteditable",A?"false":null),Ln.each(ve.getAll("figcaption"),L))}}},Q=function(A){A.on("PreInit",function(){A.parser.addNodeFilter("figure",fe(!0)),A.serializer.addNodeFilter("figure",fe(!1))})},Le=function(A){A.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:mi(A).open,onSetup:function(q){return A.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",q.setActive).unbind}}),A.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:mi(A).open}),A.ui.registry.addContextMenu("image",{update:function(q){return Ja(q)||xo(q)&&!Br(q)?["image"]:[]}})};function At(){Ze.add("image",function(A){Q(A),Le(A),gv(A)})}At()})();(function(){var Ze=function(Y){var Ce=Y,Ie=function(){return Ce},St=function(an){Ce=an};return{get:Ie,set:St}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),En=tinymce.util.Tools.resolve("tinymce.util.Tools"),lr=function(Y){return function(Ce){return typeof Ce===Y}},pn=function(Y){return Y==null},rr=function(Y){return!pn(Y)},Nn=lr("function"),jn=function(){},kr=function(Y){return function(){return Y}},$r=kr(!1),Cn=kr(!0),ut=function(){return On},On=function(){var Y=function(an){return an.isNone()},Ce=function(an){return an()},Ie=function(an){return an},St={fold:function(an,X){return an()},is:$r,isSome:$r,isNone:Cn,getOr:Ie,getOrThunk:Ce,getOrDie:function(an){throw new Error(an||"error: getOrDie called on none.")},getOrNull:kr(null),getOrUndefined:kr(void 0),or:Ie,orThunk:Ce,map:ut,each:jn,bind:ut,exists:$r,forall:Cn,filter:ut,equals:Y,equals_:Y,toArray:function(){return[]},toString:kr("none()")};return St}(),Jt=function(Y){var Ce=kr(Y),Ie=function(){return an},St=function(X){return X(Y)},an={fold:function(X,he){return he(Y)},is:function(X){return Y===X},isSome:Cn,isNone:$r,getOr:Ce,getOrThunk:Ce,getOrDie:Ce,getOrNull:Ce,getOrUndefined:Ce,or:Ie,orThunk:Ie,map:function(X){return Jt(X(Y))},each:function(X){X(Y)},bind:St,exists:St,forall:St,filter:function(X){return X(Y)?an:On},toArray:function(){return[Y]},toString:function(){return"some("+Y+")"},equals:function(X){return X.is(Y)},equals_:function(X,he){return X.fold($r,function(Je){return he(Y,Je)})}};return an},nt=function(Y){return Y==null?On:Jt(Y)},cr={some:Jt,none:ut,from:nt},ct=function(Y,Ce){return _t(document.createElement("canvas"),Y,Ce)},tr=function(Y){var Ce=ct(Y.width,Y.height),Ie=re(Ce);return Ie.drawImage(Y,0,0),Ce},re=function(Y){return Y.getContext("2d")},_t=function(Y,Ce,Ie){return Y.width=Ce,Y.height=Ie,Y},ar=function(Y){return Y.naturalWidth||Y.width},qn=function(Y){return Y.naturalHeight||Y.height},Qt=function(){var Y=function(mn){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof mn!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],ir(mn,St(he,this),St(Je,this))},Ce=window,Ie=Y.immediateFn||typeof Ce.setImmediate=="function"&&Ce.setImmediate||function(mn){return setTimeout(mn,1)},St=function(mn,Zn){return function(){for(var Pr=[],Tr=0;Tr<arguments.length;Tr++)Pr[Tr]=arguments[Tr];return mn.apply(Zn,Pr)}},an=Array.isArray||function(mn){return Object.prototype.toString.call(mn)==="[object Array]"};function X(mn){var Zn=this;if(this._state===null){this._deferreds.push(mn);return}Ie(function(){var Pr=Zn._state?mn.onFulfilled:mn.onRejected;if(Pr===null){(Zn._state?mn.resolve:mn.reject)(Zn._value);return}var Tr;try{Tr=Pr(Zn._value)}catch(H){mn.reject(H);return}mn.resolve(Tr)})}function he(mn){try{if(mn===this)throw new TypeError("A promise cannot be resolved with itself.");if(mn&&(typeof mn=="object"||typeof mn=="function")){var Zn=mn.then;if(typeof Zn=="function"){ir(St(Zn,mn),St(he,this),St(Je,this));return}}this._state=!0,this._value=mn,Rt.call(this)}catch(Pr){Je.call(this,Pr)}}function Je(mn){this._state=!1,this._value=mn,Rt.call(this)}function Rt(){for(var mn=0,Zn=this._deferreds;mn<Zn.length;mn++){var Pr=Zn[mn];X.call(this,Pr)}this._deferreds=[]}function dn(mn,Zn,Pr,Tr){this.onFulfilled=typeof mn=="function"?mn:null,this.onRejected=typeof Zn=="function"?Zn:null,this.resolve=Pr,this.reject=Tr}var ir=function(mn,Zn,Pr){var Tr=!1;try{mn(function(H){Tr||(Tr=!0,Zn(H))},function(H){Tr||(Tr=!0,Pr(H))})}catch(H){if(Tr)return;Tr=!0,Pr(H)}};return Y.prototype.catch=function(mn){return this.then(null,mn)},Y.prototype.then=function(mn,Zn){var Pr=this;return new Y(function(Tr,H){X.call(Pr,new dn(mn,Zn,Tr,H))})},Y.all=function(){for(var mn=[],Zn=0;Zn<arguments.length;Zn++)mn[Zn]=arguments[Zn];var Pr=Array.prototype.slice.call(mn.length===1&&an(mn[0])?mn[0]:mn);return new Y(function(Tr,H){if(Pr.length===0)return Tr([]);for(var xe=Pr.length,_e=function(Yt,nr){try{if(nr&&(typeof nr=="object"||typeof nr=="function")){var ia=nr.then;if(typeof ia=="function"){ia.call(nr,function(ga){_e(Yt,ga)},H);return}}Pr[Yt]=nr,--xe===0&&Tr(Pr)}catch(ga){H(ga)}},Se=0;Se<Pr.length;Se++)_e(Se,Pr[Se])})},Y.resolve=function(mn){return mn&&typeof mn=="object"&&mn.constructor===Y?mn:new Y(function(Zn){Zn(mn)})},Y.reject=function(mn){return new Y(function(Zn,Pr){Pr(mn)})},Y.race=function(mn){return new Y(function(Zn,Pr){for(var Tr=0,H=mn;Tr<H.length;Tr++){var xe=H[Tr];xe.then(Zn,Pr)}})},Y},Gt=window.Promise?window.Promise:Qt(),Zt=function(Y){var Ce=Y.src;return Ce.indexOf("data:")===0?qe(Ce):se(Ce)},Vt=function(Y){return new Gt(function(Ce,Ie){var St=URL.createObjectURL(Y),an=new Image,X=function(){an.removeEventListener("load",he),an.removeEventListener("error",Je)},he=function(){X(),Ce(an)},Je=function(){X(),Ie("Unable to load data of type "+Y.type+": "+St)};an.addEventListener("load",he),an.addEventListener("error",Je),an.src=St,an.complete&&setTimeout(he,0)})},se=function(Y){return new Gt(function(Ce,Ie){var St=new XMLHttpRequest;St.open("GET",Y,!0),St.responseType="blob",St.onload=function(){this.status===200&&Ce(this.response)},St.onerror=function(){var an=this,X=function(){var Je=new Error("No access to download image");return Je.code=18,Je.name="SecurityError",Je},he=function(){return new Error("Error "+an.status+" downloading image")};Ie(this.status===0?X():he())},St.send()})},Z=function(Y){var Ce=Y.split(","),Ie=/data:([^;]+)/.exec(Ce[0]);if(!Ie)return cr.none();for(var St=Ie[1],an=Ce[1],X=1024,he=atob(an),Je=he.length,Rt=Math.ceil(Je/X),dn=new Array(Rt),ir=0;ir<Rt;++ir){for(var mn=ir*X,Zn=Math.min(mn+X,Je),Pr=new Array(Zn-mn),Tr=mn,H=0;Tr<Zn;++H,++Tr)Pr[H]=he[Tr].charCodeAt(0);dn[ir]=new Uint8Array(Pr)}return cr.some(new Blob(dn,{type:St}))},qe=function(Y){return new Gt(function(Ce,Ie){Z(Y).fold(function(){Ie("uri is not base64: "+Y)},Ce)})},Ve=function(Y,Ce,Ie){return Ce=Ce||"image/png",Nn(HTMLCanvasElement.prototype.toBlob)?new Gt(function(St,an){Y.toBlob(function(X){X?St(X):an()},Ce,Ie)}):qe(Y.toDataURL(Ce,Ie))},Ft=function(Y,Ce,Ie){return Ce=Ce||"image/png",Y.toDataURL(Ce,Ie)},st=function(Y){return Vt(Y).then(function(Ce){E(Ce);var Ie=ct(ar(Ce),qn(Ce)),St=re(Ie);return St.drawImage(Ce,0,0),Ie})},Xn=function(Y){return new Gt(function(Ce){var Ie=new FileReader;Ie.onloadend=function(){Ce(Ie.result)},Ie.readAsDataURL(Y)})},E=function(Y){URL.revokeObjectURL(Y.src)},yt=function(Y){return Vt(Y)},wt=function(Y){return Zt(Y)},bt=function(Y,Ce){for(var Ie=0,St=Y.length;Ie<St;Ie++){var an=Y[Ie];Ce(an,Ie)}},or=function(Y,Ce,Ie){return bt(Y,function(St){Ie=Ce(Ie,St)}),Ie},dr=function(Y,Ce,Ie){for(var St=0,an=Y.length;St<an;St++){var X=Y[St];if(Ce(X,St))return cr.some(X);if(Ie(X,St))break}return cr.none()},Sn=function(Y,Ce){return dr(Y,Ce,$r)},Dn=function(Y,Ce,Ie){var St=Ce.type,an=kr(St),X=function(){return Gt.resolve(Ce)},he=kr(Ie),Je=function(){return Ie.split(",")[1]},Rt=function(Zn,Pr){return Y.then(function(Tr){return Ve(Tr,Zn,Pr)})},dn=function(Zn,Pr){return Y.then(function(Tr){return Ft(Tr,Zn,Pr)})},ir=function(Zn,Pr){return dn(Zn,Pr).then(function(Tr){return Tr.split(",")[1]})},mn=function(){return Y.then(tr)};return{getType:an,toBlob:X,toDataURL:he,toBase64:Je,toAdjustedBlob:Rt,toAdjustedDataURL:dn,toAdjustedBase64:ir,toCanvas:mn}},wr=function(Y){return Xn(Y).then(function(Ce){return Dn(st(Y),Y,Ce)})},ee=function(Y,Ce){return Ve(Y,Ce).then(function(Ie){return Dn(Gt.resolve(Y),Ie,Y.toDataURL())})},Pe=function(Y,Ce){Ce===void 0&&(Ce=2);var Ie=Math.pow(10,Ce),St=Math.round(Y*Ie);return Math.ceil(St/Ie)},Ct=function(Y,Ce){return Y.toCanvas().then(function(Ie){return $n(Ie,Y.getType(),Ce)})},$n=function(Y,Ce,Ie){var St=Ie<0?360+Ie:Ie,an=St*Math.PI/180,X=Y.width,he=Y.height,Je=Math.sin(an),Rt=Math.cos(an),dn=Pe(Math.abs(X*Rt)+Math.abs(he*Je)),ir=Pe(Math.abs(X*Je)+Math.abs(he*Rt)),mn=ct(dn,ir),Zn=re(mn);return Zn.translate(dn/2,ir/2),Zn.rotate(an),Zn.drawImage(Y,-X/2,-he/2),ee(mn,Ce)},Bn=function(Y,Ce){return Y.toCanvas().then(function(Ie){return de(Ie,Y.getType(),Ce)})},de=function(Y,Ce,Ie){var St=ct(Y.width,Y.height),an=re(St);return Ie==="v"?(an.scale(1,-1),an.drawImage(Y,0,-St.height)):(an.scale(-1,1),an.drawImage(Y,-St.width,0)),ee(St,Ce)},We=function(Y,Ce){return Bn(Y,Ce)},Be=function(Y,Ce){return Ct(Y,Ce)},pt=Object.keys,ke=function(Y,Ce){for(var Ie=pt(Y),St=0,an=Ie.length;St<an;St++){var X=Ie[St],he=Y[X];Ce(he,X)}},bn=function(Y,Ce,Ie){return Ie===void 0&&(Ie=!1),new Gt(function(St){var an=new XMLHttpRequest;an.onreadystatechange=function(){an.readyState===4&&St({status:an.status,blob:an.response})},an.open("GET",Y,!0),an.withCredentials=Ie,ke(Ce,function(X,he){an.setRequestHeader(he,X)}),an.responseType="blob",an.send()})},br=function(Y){return new Gt(function(Ce,Ie){var St=new FileReader;St.onload=function(){Ce(St.result)},St.onerror=function(an){Ie(an)},St.readAsText(Y)})},on=function(Y){try{return cr.some(JSON.parse(Y))}catch{return cr.none()}},zr=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],Jn=[{type:"not_found",message:"Failed to load image."},{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],it=function(Y,Ce){var Ie=or(Ce,function(St,an){return rr(St)?St[an]:void 0},Y);return cr.from(Ie)},Ut=function(Y,Ce){return(Ce==null?void 0:Ce.type)==="application/json"&&(Y===400||Y===403||Y===404||Y===500)},xn=function(Y){var Ce=Sn(zr,function(Ie){return Y===Ie.code}).fold(kr("Unknown ImageProxy error"),function(Ie){return Ie.message});return"ImageProxy HTTP error: "+Ce},Ye=function(Y){var Ce=xn(Y);return Gt.reject(Ce)},He=function(Y){return Sn(Jn,function(Ce){return Ce.type===Y}).fold(kr("Unknown service error"),function(Ce){return Ce.message})},mt=function(Y){var Ce=on(Y),Ie=Ce.bind(function(St){return it(St,["error","type"]).map(He)}).getOr("Invalid JSON in service error message");return"ImageProxy Service error: "+Ie},Wt=function(Y){return br(Y).then(function(Ce){var Ie=mt(Ce);return Gt.reject(Ie)})},sn=function(Y,Ce){return Ut(Y,Ce)?Wt(Ce):Ye(Y)},gr=function(Y,Ce){var Ie=Y.indexOf("?")===-1?"?":"&";return/[?&]apiKey=/.test(Y)?Y:Y+Ie+"apiKey="+encodeURIComponent(Ce)},Lr=function(Y){return Y<200||Y>=300},Cr=function(Y,Ce){var Ie={"Content-Type":"application/json;charset=UTF-8","tiny-api-key":Ce};return bn(gr(Y,Ce),Ie).then(function(St){return Lr(St.status)?sn(St.status,St.blob):Gt.resolve(St.blob)})},vn=function(Y,Ce){return bn(Y,{},Ce).then(function(Ie){return Lr(Ie.status)?Ye(Ie.status):Gt.resolve(Ie.blob)})},Br=function(Y,Ce,Ie){return Ie===void 0&&(Ie=!1),Ce?Cr(Y,Ce):vn(Y,Ie)},qr=function(Y){return wr(Y)},Ma=1,Na=function(Y,Ce){var Ie=Ce||document,St=Ie.createElement("div");if(St.innerHTML=Y,!St.hasChildNodes()||St.childNodes.length>1)throw console.error("HTML does not have a single root node",Y),new Error("HTML must have a single root node");return Fa(St.childNodes[0])},Pa=function(Y,Ce){var Ie=Ce||document,St=Ie.createElement(Y);return Fa(St)},Gr=function(Y,Ce){var Ie=Ce||document,St=Ie.createTextNode(Y);return Fa(St)},Fa=function(Y){if(Y==null)throw new Error("Node cannot be null or undefined");return{dom:Y}},De=function(Y,Ce,Ie){return cr.from(Y.dom.elementFromPoint(Ce,Ie)).map(Fa)},dt={fromHtml:Na,fromTag:Pa,fromText:Gr,fromDom:Fa,fromPoint:De},jt=function(Y,Ce){var Ie=Y.dom;if(Ie.nodeType!==Ma)return!1;var St=Ie;if(St.matches!==void 0)return St.matches(Ce);if(St.msMatchesSelector!==void 0)return St.msMatchesSelector(Ce);if(St.webkitMatchesSelector!==void 0)return St.webkitMatchesSelector(Ce);if(St.mozMatchesSelector!==void 0)return St.mozMatchesSelector(Ce);throw new Error("Browser lacks native selectors")};typeof window!="undefined"||Function("return this;")();var zn=function(Y,Ce){var Ie=function(an){return Ce(dt.fromDom(an))},St=Sn(Y.dom.childNodes,Ie);return St.map(dt.fromDom)},cn=function(Y,Ce){return zn(Y,function(Ie){return jt(Ie,Ce)})},hr=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ka=tinymce.util.Tools.resolve("tinymce.util.Promise"),Rr=tinymce.util.Tools.resolve("tinymce.util.URI"),Or=function(Y){return Y.getParam("imagetools_toolbar","rotateleft rotateright flipv fliph editimage imageoptions")},go=function(Y){return Y.getParam("imagetools_proxy")},Co=function(Y){return Y.getParam("imagetools_cors_hosts",[],"string[]")},So=function(Y){return Y.getParam("imagetools_credentials_hosts",[],"string[]")},di=function(Y){return cr.from(Y.getParam("imagetools_fetch_image",null,"function"))},Ja=function(Y){return Y.getParam("api_key",Y.getParam("imagetools_api_key","","string"),"string")},xo=function(Y){return Y.getParam("images_upload_timeout",3e4,"number")},io=function(Y){return Y.getParam("images_reuse_filename",!1,"boolean")},Pn=function(Y){var Ce,Ie,St=function(an){return/^[0-9\.]+px$/.test(an)};return Ce=Y.style.width,Ie=Y.style.height,Ce||Ie?St(Ce)&&St(Ie)?{w:parseInt(Ce,10),h:parseInt(Ie,10)}:null:(Ce=Y.width,Ie=Y.height,Ce&&Ie?{w:parseInt(Ce,10),h:parseInt(Ie,10)}:null)},Oa=function(Y,Ce){var Ie,St;Ce&&(Ie=Y.style.width,St=Y.style.height,(Ie||St)&&(Y.style.width=Ce.w+"px",Y.style.height=Ce.h+"px",Y.removeAttribute("data-mce-style")),Ie=Y.width,St=Y.height,(Ie||St)&&(Y.setAttribute("width",String(Ce.w)),Y.setAttribute("height",String(Ce.h))))},La=function(Y){return{w:Y.naturalWidth,h:Y.naturalHeight}},so=0,Gn=function(Y){return cn(dt.fromDom(Y),"img")},ho=function(Y,Ce){return Y.dom.is(Ce,"figure")},_o=function(Y,Ce){return Y.dom.is(Ce,"img:not([data-mce-object],[data-mce-placeholder])")},Io=function(Y,Ce){var Ie=function(St){return _o(Y,St)&&(Po(Y,St)||jo(Y,St)||rr(go(Y)))};return ho(Y,Ce)?Gn(Ce).bind(function(St){return Ie(St.dom)?cr.some(St.dom):cr.none()}):Ie(Ce)?cr.some(Ce):cr.none()},ei=function(Y,Ce){Y.notificationManager.open({text:Ce,type:"error"})},Hr=function(Y){var Ce=Y.selection.getNode(),Ie=Y.dom.getParent(Ce,"figure.image");return Ie!==null&&ho(Y,Ie)?Gn(Ie):_o(Y,Ce)?cr.some(dt.fromDom(Ce)):cr.none()},Wo=function(Y,Ce,Ie){var St=Ce.match(/(?:\/|^)(([^\/\?]+)\.(?:[a-z0-9.]+))(?:\?|$)/i);return rr(St)?Y.dom.encode(St[Ie]):null},ko=function(){return"imagetools"+so++},Po=function(Y,Ce){var Ie=Ce.src;return Ie.indexOf("data:")===0||Ie.indexOf("blob:")===0||new Rr(Ie).host===Y.documentBaseURI.host},jo=function(Y,Ce){return En.inArray(Co(Y),new Rr(Ce.src).host)!==-1},ce=function(Y,Ce){return En.inArray(So(Y),new Rr(Ce.src).host)!==-1},Ee=function(Y,Ce){if(jo(Y,Ce))return Br(Ce.src,null,ce(Y,Ce));if(!Po(Y,Ce)){var Ie=go(Y),St=Ie+(Ie.indexOf("?")===-1?"?":"&")+"url="+encodeURIComponent(Ce.src),an=Ja(Y);return Br(St,an,!1)}return wt(Ce)},$e=function(Y,Ce){return di(Y).fold(function(){return Ee(Y,Ce)},function(Ie){return Ie(Ce)})},je=function(Y,Ce){var Ie=Y.editorUpload.blobCache.getByUri(Ce.src);return Ie?Ka.resolve(Ie.blob()):$e(Y,Ce)},G=function(Y,Ce){var Ie=hr.setEditorTimeout(Y,function(){Y.editorUpload.uploadImagesAuto()},xo(Y));Ce.set(Ie)},ue=function(Y){hr.clearTimeout(Y.get())},Fe=function(Y,Ce,Ie,St,an,X,he){return Ie.toBlob().then(function(Je){var Rt,dn,ir,mn,Zn=Y.editorUpload.blobCache;Rt=X.src;var Pr=Ce.type===Je.type;return io(Y)&&(mn=Zn.getByUri(Rt),rr(mn)?(Rt=mn.uri(),dn=mn.name(),ir=mn.filename()):(dn=Wo(Y,Rt,2),ir=Wo(Y,Rt,1))),mn=Zn.create({id:ko(),blob:Je,base64:Ie.toBase64(),uri:Rt,name:dn,filename:Pr?ir:void 0}),Zn.add(mn),Y.undoManager.transact(function(){var Tr=function(){Y.$(X).off("load",Tr),Y.nodeChanged(),St?Y.editorUpload.uploadImagesAuto():(ue(an),G(Y,an))};Y.$(X).on("load",Tr),he&&Y.$(X).attr({width:he.w,height:he.h}),Y.$(X).attr({src:mn.blobUri()}).removeAttr("data-mce-src")}),mn})},Ge=function(Y,Ce,Ie,St){return function(){var an=Hr(Y);return an.fold(function(){ei(Y,"Could not find selected image")},function(X){return Y._scanForImages().then(function(){return je(Y,X.dom)}).then(function(he){return qr(he).then(Ie).then(function(Je){return Fe(Y,he,Je,!1,Ce,X.dom,St)})}).catch(function(he){ei(Y,he)})})}},Xe=function(Y,Ce,Ie){return function(){var St=Hr(Y),an=St.fold(function(){return null},function(X){var he=Pn(X.dom);return he?{w:he.h,h:he.w}:null});return Ge(Y,Ce,function(X){return Be(X,Ie)},an)()}},zt=function(Y,Ce,Ie){return function(){return Ge(Y,Ce,function(St){return We(St,Ie)})()}},fn=function(Y,Ce,Ie,St,an){return yt(an).then(function(X){var he=La(X);return(St.w!==he.w||St.h!==he.h)&&Pn(Ie)&&Oa(Ie,he),URL.revokeObjectURL(X.src),an}).then(qr).then(function(X){return Fe(Y,an,X,!0,Ce,Ie)})},Ln="save-state",Sr="disable",lt="enable",Vr=function(Y){return{blob:Y,url:URL.createObjectURL(Y)}},Za=function(Y,Ce){return function(){var Ie=function(X){return{title:"Edit Image",size:"large",body:{type:"panel",items:[{type:"imagetools",name:"imagetools",label:"Edit Image",currentState:X}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0,disabled:!0}],onSubmit:function(he){var Je=he.getData().imagetools.blob;St.each(function(Rt){an.each(function(dn){fn(Y,Ce,Rt.dom,dn,Je)})}),he.close()},onCancel:jn,onAction:function(he,Je){switch(Je.name){case Ln:Je.value?he.enable("save"):he.disable("save");break;case Sr:he.disable("save"),he.disable("cancel");break;case lt:he.enable("cancel");break}}}},St=Hr(Y),an=St.map(function(X){return La(X.dom)});St.each(function(X){Io(Y,X.dom).each(function(he){je(Y,X.dom).then(function(Je){var Rt=Vr(Je);Y.windowManager.open(Ie(Rt))})})})}},co=function(Y,Ce){En.each({mceImageRotateLeft:Xe(Y,Ce,-90),mceImageRotateRight:Xe(Y,Ce,90),mceImageFlipVertical:zt(Y,Ce,"v"),mceImageFlipHorizontal:zt(Y,Ce,"h"),mceEditImage:Za(Y,Ce)},function(Ie,St){Y.addCommand(St,Ie)})},Ha=function(Y,Ce,Ie){Y.on("NodeChange",function(St){var an=Ie.get(),X=Io(Y,St.element);an&&!X.exists(function(he){return an.src===he.src})&&(ue(Ce),Y.editorUpload.uploadImagesAuto(),Ie.set(null)),X.each(Ie.set)})},_n=function(Y){var Ce=function(Ie){return function(){return Y.execCommand(Ie)}};Y.ui.registry.addButton("rotateleft",{tooltip:"Rotate counterclockwise",icon:"rotate-left",onAction:Ce("mceImageRotateLeft")}),Y.ui.registry.addButton("rotateright",{tooltip:"Rotate clockwise",icon:"rotate-right",onAction:Ce("mceImageRotateRight")}),Y.ui.registry.addButton("flipv",{tooltip:"Flip vertically",icon:"flip-vertically",onAction:Ce("mceImageFlipVertical")}),Y.ui.registry.addButton("fliph",{tooltip:"Flip horizontally",icon:"flip-horizontally",onAction:Ce("mceImageFlipHorizontal")}),Y.ui.registry.addButton("editimage",{tooltip:"Edit image",icon:"edit-image",onAction:Ce("mceEditImage"),onSetup:function(Ie){var St=function(){var an=Hr(Y).forall(function(X){return Io(Y,X.dom).isNone()});Ie.setDisabled(an)};return Y.on("NodeChange",St),function(){Y.off("NodeChange",St)}}}),Y.ui.registry.addButton("imageoptions",{tooltip:"Image options",icon:"image",onAction:Ce("mceImage")}),Y.ui.registry.addContextMenu("imagetools",{update:function(Ie){return Io(Y,Ie).fold(function(){return[]},function(St){return[{text:"Edit image",icon:"edit-image",onAction:Ce("mceEditImage")}]})}})},Qr=function(Y){Y.ui.registry.addContextToolbar("imagetools",{items:Or(Y),predicate:function(Ce){return Io(Y,Ce).isSome()},position:"node",scope:"node"})};function Va(){Ht.add("imagetools",function(Y){var Ce=Ze(0),Ie=Ze(null);co(Y,Ce),_n(Y),Qr(Y),Ha(Y,Ce,Ie)})}Va()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=tinymce.util.Tools.resolve("tinymce.util.VK"),En=function(H){var xe=typeof H;return H===null?"null":xe==="object"&&(Array.prototype.isPrototypeOf(H)||H.constructor&&H.constructor.name==="Array")?"array":xe==="object"&&(String.prototype.isPrototypeOf(H)||H.constructor&&H.constructor.name==="String")?"string":xe},lr=function(H){return function(xe){return En(xe)===H}},pn=function(H){return function(xe){return typeof xe===H}},rr=function(H){return function(xe){return H===xe}},Nn=lr("string"),jn=lr("array"),kr=rr(null),$r=pn("boolean"),Cn=pn("function"),ut=function(H){var xe=H.getParam("link_assume_external_targets",!1);return $r(xe)&&xe?1:Nn(xe)&&(xe==="http"||xe==="https")?xe:0},On=function(H){return H.getParam("link_context_toolbar",!1,"boolean")},Jt=function(H){return H.getParam("link_list")},nt=function(H){return H.getParam("default_link_target")},cr=function(H){return H.getParam("target_list",!0)},ct=function(H){return H.getParam("rel_list",[],"array")},tr=function(H){return H.getParam("link_class_list",[],"array")},re=function(H){return H.getParam("link_title",!0,"boolean")},_t=function(H){return H.getParam("allow_unsafe_link_target",!1,"boolean")},ar=function(H){return H.getParam("link_quicklink",!1,"boolean")},qn=function(H){return H.getParam("link_default_protocol","http","string")},Qt=function(){},Gt=function(H){return function(){return H}},Zt=Gt(!1),Vt=Gt(!0),se=function(){return Z},Z=function(){var H=function(Yt){return Yt.isNone()},xe=function(Yt){return Yt()},_e=function(Yt){return Yt},Se={fold:function(Yt,nr){return Yt()},is:Zt,isSome:Zt,isNone:Vt,getOr:_e,getOrThunk:xe,getOrDie:function(Yt){throw new Error(Yt||"error: getOrDie called on none.")},getOrNull:Gt(null),getOrUndefined:Gt(void 0),or:_e,orThunk:xe,map:se,each:Qt,bind:se,exists:Zt,forall:Vt,filter:se,equals:H,equals_:H,toArray:function(){return[]},toString:Gt("none()")};return Se}(),qe=function(H){var xe=Gt(H),_e=function(){return Yt},Se=function(nr){return nr(H)},Yt={fold:function(nr,ia){return ia(H)},is:function(nr){return H===nr},isSome:Vt,isNone:Zt,getOr:xe,getOrThunk:xe,getOrDie:xe,getOrNull:xe,getOrUndefined:xe,or:_e,orThunk:_e,map:function(nr){return qe(nr(H))},each:function(nr){nr(H)},bind:Se,exists:Se,forall:Se,filter:function(nr){return nr(H)?Yt:Z},toArray:function(){return[H]},toString:function(){return"some("+H+")"},equals:function(nr){return nr.is(H)},equals_:function(nr,ia){return nr.fold(Zt,function(ga){return ia(H,ga)})}};return Yt},Ve=function(H){return H==null?Z:qe(H)},Ft={some:qe,none:se,from:Ve},st=Array.prototype.indexOf,Xn=Array.prototype.push,E=function(H,xe){return st.call(H,xe)},yt=function(H,xe){return E(H,xe)>-1},wt=function(H,xe){for(var _e=H.length,Se=new Array(_e),Yt=0;Yt<_e;Yt++){var nr=H[Yt];Se[Yt]=xe(nr,Yt)}return Se},bt=function(H,xe){for(var _e=0,Se=H.length;_e<Se;_e++){var Yt=H[_e];xe(Yt,_e)}},or=function(H,xe,_e){return bt(H,function(Se){_e=xe(_e,Se)}),_e},dr=function(H){for(var xe=[],_e=0,Se=H.length;_e<Se;++_e){if(!jn(H[_e]))throw new Error("Arr.flatten item "+_e+" was not an array, input: "+H);Xn.apply(xe,H[_e])}return xe},Sn=function(H,xe){return dr(wt(H,xe))},Dn=function(H,xe){for(var _e=0;_e<H.length;_e++){var Se=xe(H[_e],_e);if(Se.isSome())return Se}return Ft.none()},wr=function(H){for(var xe=[],_e=function(Yt){xe.push(Yt)},Se=0;Se<H.length;Se++)H[Se].each(_e);return xe},ee=function(H,xe){return H?Ft.some(xe):Ft.none()},Pe=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ct=function(H){return Nn(H.value)?H.value:""},$n=function(H){return Nn(H.text)?H.text:Nn(H.title)?H.title:""},Bn=function(H,xe){var _e=[];return Pe.each(H,function(Se){var Yt=$n(Se);if(Se.menu!==void 0){var nr=Bn(Se.menu,xe);_e.push({text:Yt,items:nr})}else{var ia=xe(Se);_e.push({text:Yt,value:ia})}}),_e},de=function(H){return H===void 0&&(H=Ct),function(xe){return Ft.from(xe).map(function(_e){return Bn(_e,H)})}},We=function(H){return de(Ct)(H)},Be=function(H,xe){return function(_e){return{name:H,type:"listbox",label:xe,items:_e}}},pt={sanitize:We,sanitizeWith:de,createUi:Be,getValue:Ct},ke=function(){return ke=Object.assign||function(xe){for(var _e,Se=1,Yt=arguments.length;Se<Yt;Se++){_e=arguments[Se];for(var nr in _e)Object.prototype.hasOwnProperty.call(_e,nr)&&(xe[nr]=_e[nr])}return xe},ke.apply(this,arguments)},bn=Object.keys,br=Object.hasOwnProperty,on=function(H,xe){for(var _e=bn(H),Se=0,Yt=_e.length;Se<Yt;Se++){var nr=_e[Se],ia=H[nr];xe(ia,nr)}},zr=function(H){return function(xe,_e){H[_e]=xe}},Jn=function(H,xe,_e,Se){var Yt={};return on(H,function(nr,ia){(xe(nr,ia)?_e:Se)(nr,ia)}),Yt},it=function(H,xe){var _e={};return Jn(H,xe,zr(_e),Qt),_e},Ut=function(H,xe){return br.call(H,xe)},xn=function(H,xe){return Ut(H,xe)&&H[xe]!==void 0&&H[xe]!==null},Ye=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),He=function(H){return H&&H.nodeName.toLowerCase()==="a"},mt=function(H){return He(H)&&!!gr(H)},Wt=function(H,xe){if(H.collapsed)return[];var _e=H.cloneContents(),Se=new Ye(_e.firstChild,_e),Yt=[],nr=_e.firstChild;do xe(nr)&&Yt.push(nr);while(nr=Se.next());return Yt},sn=function(H){return/^\w+:/i.test(H)},gr=function(H){var xe=H.getAttribute("data-mce-href");return xe||H.getAttribute("href")},Lr=function(H,xe){var _e=["noopener"],Se=H?H.split(/\s+/):[],Yt=function(Er){return Pe.trim(Er.sort().join(" "))},nr=function(Er){return Er=ia(Er),Er.length>0?Er.concat(_e):_e},ia=function(Er){return Er.filter(function(To){return Pe.inArray(_e,To)===-1})},ga=xe?nr(Se):ia(Se);return ga.length>0?Yt(ga):""},Cr=function(H){return H.replace(/\uFEFF/g,"")},vn=function(H,xe){return xe=xe||H.selection.getNode(),Pa(xe)?H.dom.select("a[href]",xe)[0]:H.dom.getParent(xe,"a[href]")},Br=function(H,xe){var _e=xe?xe.innerText||xe.textContent:H.getContent({format:"text"});return Cr(_e)},qr=function(H){return Pe.grep(H,mt).length>0},Ma=function(H){return Wt(H,mt).length>0},Na=function(H){var xe=H.schema.getTextInlineElements(),_e=function(Yt){return Yt.nodeType===1&&!He(Yt)&&!Ut(xe,Yt.nodeName.toLowerCase())},Se=Wt(H.selection.getRng(),_e);return Se.length===0},Pa=function(H){return H&&H.nodeName==="FIGURE"&&/\bimage\b/i.test(H.className)},Gr=function(H){return or(["title","rel","class","target"],function(xe,_e){return H[_e].each(function(Se){xe[_e]=Se.length>0?Se:null}),xe},{href:H.href})},Fa=function(H,xe){return(xe==="http"||xe==="https")&&!sn(H)?xe+"://"+H:H},De=function(H,xe){var _e=ke({},xe);if(!(ct(H).length>0)&&_t(H)===!1){var Se=Lr(_e.rel,_e.target==="_blank");_e.rel=Se||null}return Ft.from(_e.target).isNone()&&cr(H)===!1&&(_e.target=nt(H)),_e.href=Fa(_e.href,ut(H)),_e},dt=function(H,xe,_e,Se){_e.each(function(Yt){xe.hasOwnProperty("innerText")?xe.innerText=Yt:xe.textContent=Yt}),H.dom.setAttribs(xe,Se),H.selection.select(xe)},jt=function(H,xe,_e,Se){Pa(xe)?Co(H,xe,Se):_e.fold(function(){H.execCommand("mceInsertLink",!1,Se)},function(Yt){H.insertContent(H.dom.createHTML("a",Se,H.dom.encode(Yt)))})},zn=function(H,xe,_e){var Se=H.selection.getNode(),Yt=vn(H,Se),nr=De(H,Gr(_e));H.undoManager.transact(function(){_e.href===xe.href&&xe.attach(),Yt?(H.focus(),dt(H,Yt,_e.text,nr)):jt(H,Se,_e.text,nr)})},cn=function(H){var xe=H.dom,_e=H.selection,Se=_e.getBookmark(),Yt=_e.getRng().cloneRange(),nr=xe.getParent(Yt.startContainer,"a[href]",H.getBody()),ia=xe.getParent(Yt.endContainer,"a[href]",H.getBody());nr&&Yt.setStartBefore(nr),ia&&Yt.setEndAfter(ia),_e.setRng(Yt),H.execCommand("unlink"),_e.moveToBookmark(Se)},hr=function(H){H.undoManager.transact(function(){var xe=H.selection.getNode();Pa(xe)?go(H,xe):cn(H),H.focus()})},Ka=function(H){var xe=H.class,_e=H.href,Se=H.rel,Yt=H.target,nr=H.text,ia=H.title;return it({class:xe.getOrNull(),href:_e,rel:Se.getOrNull(),target:Yt.getOrNull(),text:nr.getOrNull(),title:ia.getOrNull()},function(ga,Er){return kr(ga)===!1})},Rr=function(H,xe,_e){H.hasPlugin("rtc",!0)?H.execCommand("createlink",!1,Ka(_e)):zn(H,xe,_e)},Or=function(H){H.hasPlugin("rtc",!0)?H.execCommand("unlink"):hr(H)},go=function(H,xe){var _e=H.dom.select("img",xe)[0];if(_e){var Se=H.dom.getParents(_e,"a[href]",xe)[0];Se&&(Se.parentNode.insertBefore(_e,Se),H.dom.remove(Se))}},Co=function(H,xe,_e){var Se=H.dom.select("img",xe)[0];if(Se){var Yt=H.dom.create("a",_e);Se.parentNode.insertBefore(Yt,Se),Yt.appendChild(Se)}},So=function(H){return xn(H,"items")},di=function(H,xe){return Dn(xe,function(_e){return So(_e)?di(H,_e.items):ee(_e.value===H,_e)})},Ja=function(H,xe,_e,Se){var Yt=Se[xe],nr=H.length>0;return Yt!==void 0?di(Yt,_e).map(function(ia){return{url:{value:ia.value,meta:{text:nr?H:ia.text,attach:Qt}},text:nr?H:ia.text}}):Ft.none()},xo=function(H,xe){return xe==="link"?H.link:xe==="anchor"?H.anchor:Ft.none()},io=function(H,xe){var _e={text:H.text,title:H.title},Se=function(Er){return ee(_e.title.length<=0,Ft.from(Er.meta.title).getOr(""))},Yt=function(Er){return ee(_e.text.length<=0,Ft.from(Er.meta.text).getOr(Er.value))},nr=function(Er){var To=Yt(Er.url),Xa=Se(Er.url);return To.isSome()||Xa.isSome()?Ft.some(ke(ke({},To.map(function(aa){return{text:aa}}).getOr({})),Xa.map(function(aa){return{title:aa}}).getOr({}))):Ft.none()},ia=function(Er,To){var Xa=xo(xe,To.name).getOr([]);return Ja(_e.text,To.name,Xa,Er)},ga=function(Er,To){var Xa=To.name;return Xa==="url"?nr(Er()):yt(["anchor","link"],Xa)?ia(Er(),To):((Xa==="text"||Xa==="title")&&(_e[Xa]=Er()[Xa]),Ft.none())};return{onChange:ga}},Pn={init:io,getDelta:Ja},Oa=tinymce.util.Tools.resolve("tinymce.util.Delay"),La=tinymce.util.Tools.resolve("tinymce.util.Promise"),so=function(H,xe,_e){var Se=H.selection.getRng();Oa.setEditorTimeout(H,function(){H.windowManager.confirm(xe,function(Yt){H.selection.setRng(Se),_e(Yt)})})},Gn=function(H){var xe=H.href,_e=xe.indexOf("@")>0&&xe.indexOf("/")===-1&&xe.indexOf("mailto:")===-1;return _e?Ft.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Se){return ke(ke({},Se),{href:"mailto:"+xe})}}):Ft.none()},ho=function(H,xe){return function(_e){var Se=_e.href,Yt=H===1&&!sn(Se)||H===0&&/^\s*www(\.|\d\.)/i.test(Se);return Yt?Ft.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+xe+":// prefix?",preprocess:function(nr){return ke(ke({},nr),{href:xe+"://"+Se})}}):Ft.none()}},_o=function(H,xe){return Dn([Gn,ho(ut(H),qn(H))],function(_e){return _e(xe)}).fold(function(){return La.resolve(xe)},function(_e){return new La(function(Se){so(H,_e.message,function(Yt){Se(Yt?_e.preprocess(xe):xe)})})})},Io={preprocess:_o},ei=function(H){var xe=H.dom.select("a:not([href])"),_e=Sn(xe,function(Se){var Yt=Se.name||Se.id;return Yt?[{text:Yt,value:"#"+Yt}]:[]});return _e.length>0?Ft.some([{text:"None",value:""}].concat(_e)):Ft.none()},Hr={getAnchors:ei},Wo=function(H){var xe=tr(H);return xe.length>0?pt.sanitize(xe):Ft.none()},ko={getClasses:Wo},Po=tinymce.util.Tools.resolve("tinymce.util.XHR"),jo=function(H){try{return Ft.some(JSON.parse(H))}catch{return Ft.none()}},ce=function(H){var xe=function(Se){return H.convertURL(Se.value||Se.url,"href")},_e=Jt(H);return new La(function(Se){Nn(_e)?Po.send({url:_e,success:function(Yt){return Se(jo(Yt))},error:function(Yt){return Se(Ft.none())}}):Cn(_e)?_e(function(Yt){return Se(Ft.some(Yt))}):Se(Ft.from(_e))}).then(function(Se){return Se.bind(pt.sanitizeWith(xe)).map(function(Yt){if(Yt.length>0){var nr=[{text:"None",value:""}];return nr.concat(Yt)}else return Yt})})},Ee={getLinks:ce},$e=function(H,xe){var _e=ct(H);if(_e.length>0){var Se=xe.is("_blank"),Yt=_t(H)===!1,nr=function(ga){return Lr(pt.getValue(ga),Se)},ia=Yt?pt.sanitizeWith(nr):pt.sanitize;return ia(_e)}return Ft.none()},je={getRels:$e},G=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],ue=function(H){var xe=cr(H);return jn(xe)?pt.sanitize(xe).orThunk(function(){return Ft.some(G)}):xe===!1?Ft.none():Ft.some(G)},Fe={getTargets:ue},Ge=function(H,xe,_e){var Se=H.getAttrib(xe,_e);return Se!==null&&Se.length>0?Ft.some(Se):Ft.none()},Xe=function(H,xe){var _e=H.dom,Se=Na(H),Yt=Se?Ft.some(Br(H.selection,xe)):Ft.none(),nr=xe?Ft.some(_e.getAttrib(xe,"href")):Ft.none(),ia=xe?Ft.from(_e.getAttrib(xe,"target")):Ft.none(),ga=Ge(_e,xe,"rel"),Er=Ge(_e,xe,"class"),To=Ge(_e,xe,"title");return{url:nr,text:Yt,title:To,target:ia,rel:ga,linkClass:Er}},zt=function(H,xe){return Ee.getLinks(H).then(function(_e){var Se=Xe(H,xe);return{anchor:Se,catalogs:{targets:Fe.getTargets(H),rels:je.getRels(H,Se.target),classes:ko.getClasses(H),anchor:Hr.getAnchors(H),link:_e},optNode:Ft.from(xe),flags:{titleEnabled:re(H)}}})},fn={collect:zt},Ln=function(H,xe){return function(_e){var Se=_e.getData();if(!Se.url.value){Or(H),_e.close();return}var Yt=function(ga){return Ft.from(Se[ga]).filter(function(Er){return!xe.anchor[ga].is(Er)})},nr={href:Se.url.value,text:Yt("text"),target:Yt("target"),rel:Yt("rel"),class:Yt("linkClass"),title:Yt("title")},ia={href:Se.url.value,attach:Se.url.meta!==void 0&&Se.url.meta.attach?Se.url.meta.attach:Qt};Io.preprocess(H,nr).then(function(ga){Rr(H,ia,ga)}),_e.close()}},Sr=function(H){var xe=vn(H);return fn.collect(H,xe)},lt=function(H,xe){var _e=H.anchor,Se=_e.url.getOr("");return{url:{value:Se,meta:{original:{value:Se}}},text:_e.text.getOr(""),title:_e.title.getOr(""),anchor:Se,link:Se,rel:_e.rel.getOr(""),target:_e.target.or(xe).getOr(""),linkClass:_e.linkClass.getOr("")}},Vr=function(H,xe,_e){var Se=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Yt=H.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),nr=H.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],ia=Ft.from(nt(_e)),ga=lt(H,ia),Er=H.catalogs,To=Pn.init(ga,Er),Xa={type:"panel",items:dr([Se,Yt,nr,wr([Er.anchor.map(pt.createUi("anchor","Anchors")),Er.rels.map(pt.createUi("rel","Rel")),Er.targets.map(pt.createUi("target","Open link in...")),Er.link.map(pt.createUi("link","Link list")),Er.classes.map(pt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Xa,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ga,onChange:function(aa,qo){var Di=qo.name;To.onChange(aa.getData,{name:Di}).each(function(ls){aa.setData(ls)})},onSubmit:xe}},Za=function(H){var xe=Sr(H);xe.then(function(_e){var Se=Ln(H,_e);return Vr(_e,Se,H)}).then(function(_e){H.windowManager.open(_e)})},co=function(H,xe){document.body.appendChild(H),H.dispatchEvent(xe),document.body.removeChild(H)},Ha=function(H){var xe=document.createElement("a");xe.target="_blank",xe.href=H,xe.rel="noreferrer noopener";var _e=document.createEvent("MouseEvents");_e.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),co(xe,_e)},_n=function(H,xe){return H.dom.getParent(xe,"a[href]")},Qr=function(H){return _n(H,H.selection.getStart())},Va=function(H){return H.altKey===!0&&H.shiftKey===!1&&H.ctrlKey===!1&&H.metaKey===!1},Y=function(H,xe){if(xe){var _e=gr(xe);if(/^#/.test(_e)){var Se=H.$(_e);Se.length&&H.selection.scrollIntoView(Se[0],!0)}else Ha(xe.href)}},Ce=function(H){return function(){Za(H)}},Ie=function(H){return function(){Y(H,Qr(H))}},St=function(H){H.on("click",function(xe){var _e=_n(H,xe.target);_e&&Ht.metaKeyPressed(xe)&&(xe.preventDefault(),Y(H,_e))}),H.on("keydown",function(xe){var _e=Qr(H);_e&&xe.keyCode===13&&Va(xe)&&(xe.preventDefault(),Y(H,_e))})},an=function(H,xe){return H.on("NodeChange",xe),function(){return H.off("NodeChange",xe)}},X=function(H){return function(xe){return an(H,function(){xe.setActive(!H.mode.isReadOnly()&&vn(H,H.selection.getNode())!==null)})}},he=function(H){return function(xe){var _e=function(){return xe.setDisabled(vn(H,H.selection.getNode())===null)};return _e(),an(H,_e)}},Je=function(H){return function(xe){var _e=function(Yt){return qr(Yt)||Ma(H.selection.getRng())},Se=H.dom.getParents(H.selection.getStart());return xe.setDisabled(!_e(Se)),an(H,function(Yt){return xe.setDisabled(!_e(Yt.parents))})}},Rt=function(H){H.addCommand("mceLink",function(){ar(H)?H.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Ce(H)()})},dn=function(H){H.addShortcut("Meta+K","",function(){H.execCommand("mceLink")})},ir=function(H){H.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ce(H),onSetup:X(H)}),H.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ie(H),onSetup:he(H)}),H.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Or(H)},onSetup:Je(H)})},mn=function(H){H.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ie(H),onSetup:he(H)}),H.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ce(H)}),H.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Or(H)},onSetup:Je(H)})},Zn=function(H){var xe="link unlink openlink",_e="link";H.ui.registry.addContextMenu("link",{update:function(Se){return qr(H.dom.getParents(Se,"a"))?xe:_e}})},Pr=function(H){var xe=function(Se){Se.selection.collapse(!1)},_e=function(Se){var Yt=H.selection.getNode();return Se.setDisabled(!vn(H,Yt)),Qt};H.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:X(H)},label:"Link",predicate:function(Se){return!!vn(H,Se)&&On(H)},initValue:function(){var Se=vn(H);return Se?gr(Se):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Se){var Yt=H.selection.getNode();return Se.setActive(!!vn(H,Yt)),X(H)(Se)},onAction:function(Se){var Yt=vn(H),nr=Se.getValue();if(Yt)H.undoManager.transact(function(){H.dom.setAttrib(Yt,"href",nr),xe(H),Se.hide()});else{var ia={href:nr,attach:Qt},ga=Na(H),Er=ga?Ft.some(Br(H.selection,Yt)).filter(function(To){return To.length>0}).or(Ft.from(nr)):Ft.none();Rr(H,ia,{href:nr,text:Er,title:Ft.none(),rel:Ft.none(),target:Ft.none(),class:Ft.none()}),Se.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:_e,onAction:function(Se){Or(H),Se.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:_e,onAction:function(Se){Ie(H)(),Se.hide()}}]})};function Tr(){Ze.add("link",function(H){ir(H),mn(H),Zn(H),Pr(H),St(H),Rt(H),dn(H)})}Tr()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(T){var $=typeof T;return T===null?"null":$==="object"&&(Array.prototype.isPrototypeOf(T)||T.constructor&&T.constructor.name==="Array")?"array":$==="object"&&(String.prototype.isPrototypeOf(T)||T.constructor&&T.constructor.name==="String")?"string":$},En=function(T){return function($){return Ht($)===T}},lr=function(T){return function($){return typeof $===T}},pn=En("string"),rr=En("object"),Nn=En("array"),jn=lr("boolean"),kr=lr("function"),$r=lr("number"),Cn=function(){},ut=function(T){return function(){return T}},On=function(T){return function($){return!T($)}},Jt=ut(!1),nt=ut(!0),cr=function(){return ct},ct=function(){var T=function(Ae){return Ae.isNone()},$=function(Ae){return Ae()},U=function(Ae){return Ae},me={fold:function(Ae,xt){return Ae()},is:Jt,isSome:Jt,isNone:nt,getOr:U,getOrThunk:$,getOrDie:function(Ae){throw new Error(Ae||"error: getOrDie called on none.")},getOrNull:ut(null),getOrUndefined:ut(void 0),or:U,orThunk:$,map:cr,each:Cn,bind:cr,exists:Jt,forall:nt,filter:cr,equals:T,equals_:T,toArray:function(){return[]},toString:ut("none()")};return me}(),tr=function(T){var $=ut(T),U=function(){return Ae},me=function(xt){return xt(T)},Ae={fold:function(xt,sr){return sr(T)},is:function(xt){return T===xt},isSome:nt,isNone:Jt,getOr:$,getOrThunk:$,getOrDie:$,getOrNull:$,getOrUndefined:$,or:U,orThunk:U,map:function(xt){return tr(xt(T))},each:function(xt){xt(T)},bind:me,exists:me,forall:me,filter:function(xt){return xt(T)?Ae:ct},toArray:function(){return[T]},toString:function(){return"some("+T+")"},equals:function(xt){return xt.is(T)},equals_:function(xt,sr){return xt.fold(Jt,function(Zr){return sr(T,Zr)})}};return Ae},re=function(T){return T==null?ct:tr(T)},_t={some:tr,none:cr,from:re},ar=Array.prototype.slice,qn=Array.prototype.push,Qt=function(T,$){for(var U=T.length,me=new Array(U),Ae=0;Ae<U;Ae++){var xt=T[Ae];me[Ae]=$(xt,Ae)}return me},Gt=function(T,$){for(var U=0,me=T.length;U<me;U++){var Ae=T[U];$(Ae,U)}},Zt=function(T,$){for(var U=[],me=0,Ae=T.length;me<Ae;me++){var xt=T[me];$(xt,me)&&U.push(xt)}return U},Vt=function(T,$){if(T.length===0)return[];for(var U=$(T[0]),me=[],Ae=[],xt=0,sr=T.length;xt<sr;xt++){var Zr=T[xt],Nr=$(Zr);Nr!==U&&(me.push(Ae),Ae=[]),U=Nr,Ae.push(Zr)}return Ae.length!==0&&me.push(Ae),me},se=function(T,$,U){return Gt(T,function(me){U=$(U,me)}),U},Z=function(T,$,U){for(var me=0,Ae=T.length;me<Ae;me++){var xt=T[me];if($(xt,me))return _t.some(xt);if(U(xt,me))break}return _t.none()},qe=function(T,$){return Z(T,$,Jt)},Ve=function(T){for(var $=[],U=0,me=T.length;U<me;++U){if(!Nn(T[U]))throw new Error("Arr.flatten item "+U+" was not an array, input: "+T);qn.apply($,T[U])}return $},Ft=function(T,$){return Ve(Qt(T,$))},st=function(T){var $=ar.call(T,0);return $.reverse(),$},Xn=function(T,$){return $>=0&&$<T.length?_t.some(T[$]):_t.none()},E=function(T){return Xn(T,0)},yt=function(T){return Xn(T,T.length-1)},wt=function(){return wt=Object.assign||function($){for(var U,me=1,Ae=arguments.length;me<Ae;me++){U=arguments[me];for(var xt in U)Object.prototype.hasOwnProperty.call(U,xt)&&($[xt]=U[xt])}return $},wt.apply(this,arguments)};function bt(){for(var T=0,$=0,U=arguments.length;$<U;$++)T+=arguments[$].length;for(var me=Array(T),Ae=0,$=0;$<U;$++)for(var xt=arguments[$],sr=0,Zr=xt.length;sr<Zr;sr++,Ae++)me[Ae]=xt[sr];return me}var or=function(T){var $=!1,U;return function(){for(var me=[],Ae=0;Ae<arguments.length;Ae++)me[Ae]=arguments[Ae];return $||($=!0,U=T.apply(null,me)),U}},dr=function(T,$,U,me){var Ae=T.isiOS()&&/ipad/i.test(U)===!0,xt=T.isiOS()&&!Ae,sr=T.isiOS()||T.isAndroid(),Zr=sr||me("(pointer:coarse)"),Nr=Ae||!xt&&sr&&me("(min-device-width:768px)"),Xr=xt||sr&&!Nr,Wa=$.isSafari()&&T.isiOS()&&/safari/i.test(U)===!1,fo=!Xr&&!Nr&&!Wa;return{isiPad:ut(Ae),isiPhone:ut(xt),isTablet:ut(Nr),isPhone:ut(Xr),isTouch:ut(Zr),isAndroid:T.isAndroid,isiOS:T.isiOS,isWebView:ut(Wa),isDesktop:ut(fo)}},Sn=function(T,$){for(var U=0;U<T.length;U++){var me=T[U];if(me.test($))return me}},Dn=function(T,$){var U=Sn(T,$);if(!U)return{major:0,minor:0};var me=function(Ae){return Number($.replace(U,"$"+Ae))};return Pe(me(1),me(2))},wr=function(T,$){var U=String($).toLowerCase();return T.length===0?ee():Dn(T,U)},ee=function(){return Pe(0,0)},Pe=function(T,$){return{major:T,minor:$}},Ct={nu:Pe,detect:wr,unknown:ee},$n=function(T,$){var U=String($).toLowerCase();return qe(T,function(me){return me.search(U)})},Bn=function(T,$){return $n(T,$).map(function(U){var me=Ct.detect(U.versionRegexes,$);return{current:U.name,version:me}})},de=function(T,$){return $n(T,$).map(function(U){var me=Ct.detect(U.versionRegexes,$);return{current:U.name,version:me}})},We={detectBrowser:Bn,detectOs:de},Be=function(T,$){return T.indexOf($)!==-1},pt=function(T){return function($){return $.replace(T,"")}},ke=pt(/^\s+|\s+$/g),bn=function(T){return T.length>0},br=function(T){return!bn(T)},on=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zr=function(T){return function($){return Be($,T)}},Jn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(T){return Be(T,"edge/")&&Be(T,"chrome")&&Be(T,"safari")&&Be(T,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,on],search:function(T){return Be(T,"chrome")&&!Be(T,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(T){return Be(T,"msie")||Be(T,"trident")}},{name:"Opera",versionRegexes:[on,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zr("firefox")},{name:"Safari",versionRegexes:[on,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(T){return(Be(T,"safari")||Be(T,"mobile/"))&&Be(T,"applewebkit")}}],it=[{name:"Windows",search:zr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(T){return Be(T,"iphone")||Be(T,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:zr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zr("linux"),versionRegexes:[]},{name:"Solaris",search:zr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:zr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ut={browsers:ut(Jn),oses:ut(it)},xn="Edge",Ye="Chrome",He="IE",mt="Opera",Wt="Firefox",sn="Safari",gr=function(){return Lr({current:void 0,version:Ct.unknown()})},Lr=function(T){var $=T.current,U=T.version,me=function(Ae){return function(){return $===Ae}};return{current:$,version:U,isEdge:me(xn),isChrome:me(Ye),isIE:me(He),isOpera:me(mt),isFirefox:me(Wt),isSafari:me(sn)}},Cr={unknown:gr,nu:Lr,edge:ut(xn),chrome:ut(Ye),ie:ut(He),opera:ut(mt),firefox:ut(Wt),safari:ut(sn)},vn="Windows",Br="iOS",qr="Android",Ma="Linux",Na="OSX",Pa="Solaris",Gr="FreeBSD",Fa="ChromeOS",De=function(){return dt({current:void 0,version:Ct.unknown()})},dt=function(T){var $=T.current,U=T.version,me=function(Ae){return function(){return $===Ae}};return{current:$,version:U,isWindows:me(vn),isiOS:me(Br),isAndroid:me(qr),isOSX:me(Na),isLinux:me(Ma),isSolaris:me(Pa),isFreeBSD:me(Gr),isChromeOS:me(Fa)}},jt={unknown:De,nu:dt,windows:ut(vn),ios:ut(Br),android:ut(qr),linux:ut(Ma),osx:ut(Na),solaris:ut(Pa),freebsd:ut(Gr),chromeos:ut(Fa)},zn=function(T,$){var U=Ut.browsers(),me=Ut.oses(),Ae=We.detectBrowser(U,T).fold(Cr.unknown,Cr.nu),xt=We.detectOs(me,T).fold(jt.unknown,jt.nu),sr=dr(xt,Ae,T,$);return{browser:Ae,os:xt,deviceType:sr}},cn={detect:zn},hr=function(T){return window.matchMedia(T).matches},Ka=or(function(){return cn.detect(navigator.userAgent,hr)}),Rr=function(){return Ka()},Or=function(T,$,U){return(T.compareDocumentPosition($)&U)!==0},go=function(T,$){return Or(T,$,Node.DOCUMENT_POSITION_CONTAINED_BY)},Co=1,So=function(T,$){var U=$||document,me=U.createElement("div");if(me.innerHTML=T,!me.hasChildNodes()||me.childNodes.length>1)throw console.error("HTML does not have a single root node",T),new Error("HTML must have a single root node");return xo(me.childNodes[0])},di=function(T,$){var U=$||document,me=U.createElement(T);return xo(me)},Ja=function(T,$){var U=$||document,me=U.createTextNode(T);return xo(me)},xo=function(T){if(T==null)throw new Error("Node cannot be null or undefined");return{dom:T}},io=function(T,$,U){return _t.from(T.dom.elementFromPoint($,U)).map(xo)},Pn={fromHtml:So,fromTag:di,fromText:Ja,fromDom:xo,fromPoint:io},Oa=function(T,$){var U=T.dom;if(U.nodeType!==Co)return!1;var me=U;if(me.matches!==void 0)return me.matches($);if(me.msMatchesSelector!==void 0)return me.msMatchesSelector($);if(me.webkitMatchesSelector!==void 0)return me.webkitMatchesSelector($);if(me.mozMatchesSelector!==void 0)return me.mozMatchesSelector($);throw new Error("Browser lacks native selectors")},La=function(T,$){return T.dom===$.dom},so=function(T,$){var U=T.dom,me=$.dom;return U===me?!1:U.contains(me)},Gn=function(T,$){return go(T.dom,$.dom)},ho=function(T,$){return Rr().browser.isIE()?Gn(T,$):so(T,$)},_o=Oa,Io=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ei=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Hr=tinymce.util.Tools.resolve("tinymce.util.VK"),Wo=Object.keys,ko=function(T,$){for(var U=Wo(T),me=0,Ae=U.length;me<Ae;me++){var xt=U[me],sr=T[xt];$(sr,xt)}},Po=function(T){return function($,U){T[U]=$}},jo=function(T,$,U,me){var Ae={};return ko(T,function(xt,sr){($(xt,sr)?U:me)(xt,sr)}),Ae},ce=function(T,$){var U={};return jo(T,$,Po(U),Cn),U};typeof window!="undefined"||Function("return this;")();var Ee=function(T){var $=T.dom.nodeName;return $.toLowerCase()},$e=function(T){return T.dom.nodeType},je=function(T){return function($){return $e($)===T}},G=je(Co),ue=function(T,$,U){if(pn(U)||jn(U)||$r(U))T.setAttribute($,U+"");else throw console.error("Invalid call to Attribute.set. Key ",$,":: Value ",U,":: Element ",T),new Error("Attribute value was not simple")},Fe=function(T,$){var U=T.dom;ko($,function(me,Ae){ue(U,Ae,me)})},Ge=function(T){return se(T.dom.attributes,function($,U){return $[U.name]=U.value,$},{})},Xe=function(T){return _t.from(T.dom.parentNode).map(Pn.fromDom)},zt=function(T){return Qt(T.dom.childNodes,Pn.fromDom)},fn=function(T,$){var U=T.dom.childNodes;return _t.from(U[$]).map(Pn.fromDom)},Ln=function(T){return fn(T,0)},Sr=function(T){return fn(T,T.dom.childNodes.length-1)},lt=function(T,$){var U=Xe(T);U.each(function(me){me.dom.insertBefore($.dom,T.dom)})},Vr=function(T,$){T.dom.appendChild($.dom)},Za=function(T,$){Gt($,function(U){lt(T,U)})},co=function(T,$){Gt($,function(U){Vr(T,U)})},Ha=function(T){var $=T.dom;$.parentNode!==null&&$.parentNode.removeChild($)},_n=function(T,$){return Pn.fromDom(T.dom.cloneNode($))},Qr=function(T){return _n(T,!0)},Va=function(T,$){var U=Pn.fromTag($),me=Ge(T);return Fe(U,me),U},Y=function(T,$){var U=Va(T,$);lt(T,U);var me=zt(T);return co(U,me),Ha(T),U},Ce=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ie=tinymce.util.Tools.resolve("tinymce.util.Tools"),St=function(T){return function($){return $&&$.nodeName.toLowerCase()===T}},an=function(T){return function($){return $&&T.test($.nodeName)}},X=function(T){return T&&T.nodeType===3},he=an(/^(OL|UL|DL)$/),Je=an(/^(OL|UL)$/),Rt=St("ol"),dn=an(/^(LI|DT|DD)$/),ir=an(/^(DT|DD)$/),mn=an(/^(TH|TD)$/),Zn=St("br"),Pr=function(T){return T.parentNode.firstChild===T},Tr=function(T,$){return $&&!!T.schema.getTextBlockElements()[$.nodeName]},H=function(T,$){return T&&T.nodeName in $},xe=function(T,$){return Zn($)?T.isBlock($.nextSibling)&&!Zn($.previousSibling):!1},_e=function(T,$,U){var me=T.isEmpty($);return U&&T.select("span[data-mce-type=bookmark]",$).length>0?!1:me},Se=function(T,$){return T.isChildOf($,T.getRoot())},Yt=function(T){return T.getParam("lists_indent_on_tab",!0)},nr=function(T){var $=T.getParam("forced_root_block","p");return $===!1?"":$===!0?"p":$},ia=function(T){return T.getParam("forced_root_block_attrs",{})},ga=function(T,$){var U=T.dom,me=T.schema.getBlockElements(),Ae=U.createFragment(),xt=nr(T),sr,Zr,Nr;if(xt&&(Zr=U.create(xt),Zr.tagName===xt.toUpperCase()&&U.setAttribs(Zr,ia(T)),H($.firstChild,me)||Ae.appendChild(Zr)),$)for(;sr=$.firstChild;){var Xr=sr.nodeName;!Nr&&(Xr!=="SPAN"||sr.getAttribute("data-mce-type")!=="bookmark")&&(Nr=!0),H(sr,me)?(Ae.appendChild(sr),Zr=null):xt?(Zr||(Zr=U.create(xt),Ae.appendChild(Zr)),Zr.appendChild(sr)):Ae.appendChild(sr)}return xt?Nr||Zr.appendChild(U.create("br",{"data-mce-bogus":"1"})):Ae.appendChild(U.create("br")),Ae},Er=Ce.DOM,To=function(T,$,U){var me=function(Xr){Ie.each(Ae,function(Wa){Xr.parentNode.insertBefore(Wa,U.parentNode)}),Er.remove(Xr)},Ae=Er.select('span[data-mce-type="bookmark"]',$),xt=ga(T,U),sr=Er.createRng();sr.setStartAfter(U),sr.setEndAfter($);for(var Zr=sr.extractContents(),Nr=Zr.firstChild;Nr;Nr=Nr.firstChild)if(Nr.nodeName==="LI"&&T.dom.isEmpty(Nr)){Er.remove(Nr);break}T.dom.isEmpty(Zr)||Er.insertAfter(Zr,$),Er.insertAfter(xt,$),_e(T.dom,U.parentNode)&&me(U.parentNode),Er.remove(U),_e(T.dom,$)&&Er.remove($)},Xa=function(T,$){_o($,"dd")?Y($,"dt"):_o($,"dt")&&Xe($).each(function(U){return To(T,U.dom,$.dom)})},aa=function(T){_o(T,"dt")&&Y(T,"dd")},qo=function(T,$,U){$==="Indent"?Gt(U,aa):Gt(U,function(me){return Xa(T,me)})},Di=function(T,$){if(X(T))return{container:T,offset:$};var U=Io.getNode(T,$);return X(U)?{container:U,offset:$>=T.childNodes.length?U.data.length:0}:U.previousSibling&&X(U.previousSibling)?{container:U.previousSibling,offset:U.previousSibling.data.length}:U.nextSibling&&X(U.nextSibling)?{container:U.nextSibling,offset:0}:{container:T,offset:$}},ls=function(T){var $=T.cloneRange(),U=Di(T.startContainer,T.startOffset);$.setStart(U.container,U.offset);var me=Di(T.endContainer,T.endOffset);return $.setEnd(me.container,me.offset),$},Rl=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ha=function(T,$){var U=$||T.selection.getStart(!0);return T.dom.getParent(U,"OL,UL,DL",po(T,U))},Mr=function(T,$){return T&&$.length===1&&$[0]===T},fs=function(T){return Ie.grep(T.querySelectorAll("ol,ul,dl"),function($){return he($)})},Uc=function(T){var $=ha(T),U=T.selection.getSelectedBlocks();return Mr($,U)?fs($):Ie.grep(U,function(me){return he(me)&&$!==me})},ju=function(T,$){var U=Ie.map($,function(me){var Ae=T.dom.getParent(me,"li,dd,dt",po(T,me));return Ae||me});return Rl.unique(U)},xa=function(T){var $=T.selection.getSelectedBlocks();return Ie.grep(ju(T,$),function(U){return dn(U)})},ku=function(T){return Zt(xa(T),ir)},po=function(T,$){var U=T.dom.getParents($,"TD,TH"),me=U.length>0?U[0]:T.getBody();return me},qu=function(T,$){var U=T.dom.getParents($,"ol,ul",po(T,$));return yt(U)},Tu=function(T){var $=qu(T,T.selection.getStart()),U=Zt(T.selection.getSelectedBlocks(),Je);return $.toArray().concat(U)},mi=function(T){var $=Tu(T);return gv(T,$)},gv=function(T,$){var U=Qt($,function(me){return qu(T,me).getOr(me)});return Rl.unique(U)},F=function(T,$,U){return T.isSome()&&$.isSome()?_t.some(U(T.getOrDie(),$.getOrDie())):_t.none()},fe=function(T,$){var U=$||document,me=U.createDocumentFragment();return Gt(T,function(Ae){me.appendChild(Ae.dom)}),Pn.fromDom(me)},Q=function(T,$,U){return T.fire("ListMutation",{action:$,element:U})},Le=function(T){return T.style!==void 0&&kr(T.style.getPropertyValue)},At=function(T,$,U){if(!pn(U))throw console.error("Invalid call to CSS.set. Property ",$,":: Value ",U,":: Element ",T),new Error("CSS value must be a string: "+U);Le(T)&&T.style.setProperty($,U)},A=function(T,$,U){var me=T.dom;At(me,$,U)},q=function(T,$){Vr(T.item,$.list)},ie=function(T){for(var $=1;$<T.length;$++)q(T[$-1],T[$])},L=function(T,$){F(yt(T),E($),q)},ve=function(T,$){var U={list:Pn.fromTag($,T),item:Pn.fromTag("li",T)};return Vr(U.list,U.item),U},Kt=function(T,$,U){for(var me=[],Ae=0;Ae<U;Ae++)me.push(ve(T,$.listType));return me},ur=function(T,$){for(var U=0;U<T.length-1;U++)A(T[U].item,"list-style-type","none");yt(T).each(function(me){Fe(me.list,$.listAttributes),Fe(me.item,$.itemAttributes),co(me.item,$.content)})},un=function(T,$){Ee(T.list)!==$.listType&&(T.list=Y(T.list,$.listType)),Fe(T.list,$.listAttributes)},fa=function(T,$,U){var me=Pn.fromTag("li",T);return Fe(me,$),co(me,U),me},Kr=function(T,$){Vr(T.list,$),T.item=$},na=function(T,$,U){var me=$.slice(0,U.depth);return yt(me).each(function(Ae){var xt=fa(T,U.itemAttributes,U.content);Kr(Ae,xt),un(Ae,U)}),me},_i=function(T,$,U){var me=Kt(T,U,U.depth-$.length);return ie(me),ur(me,U),L($,me),$.concat(me)},gi=function(T,$){var U=se($,function(me,Ae){return Ae.depth>me.length?_i(T,me,Ae):na(T,me,Ae)},[]);return E(U).map(function(me){return me.list})},Us=function(T){return _o(T,"OL,UL")},fu=function(T){return Ln(T).map(Us).getOr(!1)},pa=function(T){return Sr(T).map(Us).getOr(!1)},oa=function(T){return T.depth>0},Wc=function(T){return T.isSelected},_a=function(T){var $=zt(T),U=pa(T)?$.slice(0,-1):$;return Qt(U,Qr)},ti=function(T,$,U){return Xe(T).filter(G).map(function(me){return{depth:$,dirty:!1,isSelected:U,content:_a(T),itemAttributes:Ge(T),listAttributes:Ge(me),listType:Ee(me)}})},ni=function(T,$){switch(T){case"Indent":$.depth++;break;case"Outdent":$.depth--;break;case"Flatten":$.depth=0}$.dirty=!0},Bi=function(T,$){T.listType=$.listType,T.listAttributes=wt({},$.listAttributes)},wd=function(T){T.listAttributes=ce(T.listAttributes,function($,U){return U!=="start"})},Me=function(T,$){var U=T[$].depth,me=function(xt){return xt.depth===U&&!xt.dirty},Ae=function(xt){return xt.depth<U};return Z(st(T.slice(0,$)),me,Ae).orThunk(function(){return Z(T.slice($+1),me,Ae)})},ri=function(T){return Gt(T,function($,U){Me(T,U).fold(function(){$.dirty&&wd($)},function(me){return Bi($,me)})}),T},hi=function(T){var $=T,U=function(){return $},me=function(Ae){$=Ae};return{get:U,set:me}},Pl=function(T,$,U,me){return Ln(me).filter(Us).fold(function(){$.each(function(sr){La(sr.start,me)&&U.set(!0)});var Ae=ti(me,T,U.get());$.each(function(sr){La(sr.end,me)&&U.set(!1)});var xt=Sr(me).filter(Us).map(function(sr){return vu(T,$,U,sr)}).getOr([]);return Ae.toArray().concat(xt)},function(Ae){return vu(T,$,U,Ae)})},vu=function(T,$,U,me){return Ft(zt(me),function(Ae){var xt=Us(Ae)?vu:Pl,sr=T+1;return xt(sr,$,U,Ae)})},Aa=function(T,$){var U=hi(!1),me=0;return Qt(T,function(Ae){return{sourceList:Ae,entries:vu(me,$,U,Ae)}})},Ua=function(T,$){var U=ri($);return Qt(U,function(me){var Ae=fe(me.content);return Pn.fromDom(ga(T,Ae.dom))})},Ti=function(T,$){var U=ri($);return gi(T.contentDocument,U).toArray()},dc=function(T,$){return Ft(Vt($,oa),function(U){var me=E(U).map(oa).getOr(!1);return me?Ti(T,U):Ua(T,U)})},pi=function(T,$){Gt(Zt(T,Wc),function(U){return ni($,U)})},si=function(T){var $=Qt(xa(T),Pn.fromDom);return F(qe($,On(fu)),qe(st($),On(fu)),function(U,me){return{start:U,end:me}})},nn=function(T,$,U){var me=Aa($,si(T));Gt(me,function(Ae){pi(Ae.entries,U);var xt=dc(T,Ae.entries);Gt(xt,function(sr){Q(T,U==="Indent"?"IndentList":"OutdentList",sr.dom)}),Za(Ae.sourceList,xt),Ha(Ae.sourceList)})},Ws=function(T,$){var U=Qt(mi(T),Pn.fromDom),me=Qt(ku(T),Pn.fromDom),Ae=!1;if(U.length||me.length){var xt=T.selection.getBookmark();nn(T,U,$),qo(T,$,me),T.selection.moveToBookmark(xt),T.selection.setRng(ls(T.selection.getRng())),T.nodeChanged(),Ae=!0}return Ae},Bs=function(T){return Ws(T,"Indent")},hv=function(T){return Ws(T,"Outdent")},mc=function(T){return Ws(T,"Flatten")},ro=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),yn=Ce.DOM,Eu=function(T){var $={},U=function(me){var Ae,xt,sr;xt=T[me?"startContainer":"endContainer"],sr=T[me?"startOffset":"endOffset"],xt.nodeType===1&&(Ae=yn.create("span",{"data-mce-type":"bookmark"}),xt.hasChildNodes()?(sr=Math.min(sr,xt.childNodes.length-1),me?xt.insertBefore(Ae,xt.childNodes[sr]):yn.insertAfter(Ae,xt.childNodes[sr])):xt.appendChild(Ae),xt=Ae,sr=0),$[me?"startContainer":"endContainer"]=xt,$[me?"startOffset":"endOffset"]=sr};return U(!0),T.collapsed||U(),$},jc=function(T){var $=function(me){var Ae,xt,sr,Zr=function(Nr){for(var Xr=Nr.parentNode.firstChild,Wa=0;Xr;){if(Xr===Nr)return Wa;(Xr.nodeType!==1||Xr.getAttribute("data-mce-type")!=="bookmark")&&Wa++,Xr=Xr.nextSibling}return-1};Ae=sr=T[me?"startContainer":"endContainer"],xt=T[me?"startOffset":"endOffset"],!!Ae&&(Ae.nodeType===1&&(xt=Zr(Ae),Ae=Ae.parentNode,yn.remove(sr),!Ae.hasChildNodes()&&yn.isBlock(Ae)&&Ae.appendChild(yn.create("br"))),T[me?"startContainer":"endContainer"]=Ae,T[me?"startOffset":"endOffset"]=xt)};$(!0),$();var U=yn.createRng();return U.setStart(T.startContainer,T.startOffset),T.endContainer&&U.setEnd(T.endContainer,T.endOffset),ls(U)},Gu=function(T){switch(T){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},gc=function(T){return/\btox\-/.test(T.className)},pv=function(T,$,U){var me=function(xt){var sr=Z(xt.parents,he,mn).filter(function(Zr){return Zr.nodeName===$&&!gc(Zr)}).isSome();U(sr)},Ae=T.dom.getParents(T.selection.getNode());return me({parents:Ae}),T.on("NodeChange",me),function(){return T.off("NodeChange",me)}},Rs=function(T,$,U){var me=U["list-style-type"]?U["list-style-type"]:null;T.setStyle($,"list-style-type",me)},qc=function(T,$){Ie.each($,function(U,me){T.setAttribute(me,U)})},Gc=function(T,$,U){qc($,U["list-attributes"]),Ie.each(T.select("li",$),function(me){qc(me,U["list-item-attributes"])})},gf=function(T,$,U){Rs(T,$,U),Gc(T,$,U)},Cd=function(T,$,U){Ie.each(U,function(me){var Ae;return T.setStyle($,(Ae={},Ae[me]="",Ae))})},Ml=function(T,$,U,me){var Ae=$[U?"startContainer":"endContainer"],xt=$[U?"startOffset":"endOffset"];for(Ae.nodeType===1&&(Ae=Ae.childNodes[Math.min(xt,Ae.childNodes.length-1)]||Ae),!U&&Zn(Ae.nextSibling)&&(Ae=Ae.nextSibling);Ae.parentNode!==me;){if(Tr(T,Ae)||/^(TD|TH)$/.test(Ae.parentNode.nodeName))return Ae;Ae=Ae.parentNode}return Ae},Zm=function(T,$,U){for(var me=[],Ae=T.dom,xt=Ml(T,$,!0,U),sr=Ml(T,$,!1,U),Zr,Nr=[],Xr=xt;Xr&&(Nr.push(Xr),Xr!==sr);Xr=Xr.nextSibling);return Ie.each(Nr,function(Wa){if(Tr(T,Wa)){me.push(Wa),Zr=null;return}if(Ae.isBlock(Wa)||Zn(Wa)){Zn(Wa)&&Ae.remove(Wa),Zr=null;return}var fo=Wa.nextSibling;if(ro.isBookmarkNode(Wa)&&(he(fo)||Tr(T,fo)||!fo&&Wa.parentNode===U)){Zr=null;return}Zr||(Zr=Ae.create("p"),Wa.parentNode.insertBefore(Zr,Wa),me.push(Zr)),Zr.appendChild(Wa)}),me},bi=function(T,$,U){var me=T.getStyle($,"list-style-type"),Ae=U?U["list-style-type"]:"";return Ae=Ae===null?"":Ae,me===Ae},ou=function(T,$,U){var me=T.selection.getRng(),Ae="LI",xt=po(T,T.selection.getStart(!0)),sr=T.dom;if(sr.getContentEditable(T.selection.getNode())!=="false"){$=$.toUpperCase(),$==="DL"&&(Ae="DT");var Zr=Eu(me),Nr=Zm(T,me,xt);Ie.each(Nr,function(Xr){var Wa,fo=Xr.previousSibling,Vh=Xr.parentNode;dn(Vh)||(fo&&he(fo)&&fo.nodeName===$&&bi(sr,fo,U)?(Wa=fo,Xr=sr.rename(Xr,Ae),fo.appendChild(Xr)):(Wa=sr.create($),Xr.parentNode.insertBefore(Wa,Xr),Wa.appendChild(Xr),Xr=sr.rename(Xr,Ae)),Cd(sr,Xr,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),gf(sr,Wa,U),Eo(T.dom,Wa))}),T.selection.setRng(jc(Zr))}},bv=function(T,$){return T&&$&&he(T)&&T.nodeName===$.nodeName},Sd=function(T,$,U){var me=T.getStyle($,"list-style-type",!0),Ae=T.getStyle(U,"list-style-type",!0);return me===Ae},Mo=function(T,$){return T.className===$.className},vs=function(T,$,U){return bv($,U)&&Sd(T,$,U)&&Mo($,U)},Eo=function(T,$){var U,me;if(U=$.nextSibling,vs(T,$,U)){for(;me=U.firstChild;)$.appendChild(me);T.remove(U)}if(U=$.previousSibling,vs(T,$,U)){for(;me=U.lastChild;)$.insertBefore(me,$.firstChild);T.remove(U)}},hf=function(T,$,U,me){if($.nodeName!==U){var Ae=T.dom.rename($,U);gf(T.dom,Ae,me),Q(T,Gu(U),Ae)}else gf(T.dom,$,me),Q(T,Gu(U),$)},yv=function(T,$,U,me,Ae){var xt=he($);if(xt&&$.nodeName===me&&!ci(Ae))mc(T);else{ou(T,me,Ae);var sr=Eu(T.selection.getRng(!0)),Zr=xt?bt([$],U):U;Ie.each(Zr,function(Nr){hf(T,Nr,me,Ae)}),T.selection.setRng(jc(sr))}},ci=function(T){return"list-style-type"in T},Qm=function(T,$,U,me){if($!==T.getBody())if($)if($.nodeName===U&&!ci(me)&&!gc($))mc(T);else{var Ae=Eu(T.selection.getRng(!0));gf(T.dom,$,me);var xt=T.dom.rename($,U);Eo(T.dom,xt),T.selection.setRng(jc(Ae)),ou(T,U,me),Q(T,Gu(U),xt)}else ou(T,U,me),Q(T,Gu(U),$)},hc=function(T,$,U){var me=ha(T),Ae=Uc(T),xt=rr(U)?U:{};Ae.length>0?yv(T,me,Ae,$,xt):Qm(T,me,$,xt)},xd=Ce.DOM,pc=function(T,$){var U,me=$.parentNode;me.nodeName==="LI"&&me.firstChild===$&&(U=me.previousSibling,U&&U.nodeName==="LI"?(U.appendChild($),_e(T,me)&&xd.remove(me)):xd.setStyle(me,"listStyleType","none")),he(me)&&(U=me.previousSibling,U&&U.nodeName==="LI"&&U.appendChild($))},eg=function(T,$){Ie.each(Ie.grep(T.select("ol,ul",$)),function(U){pc(T,U)})},bc=function(T,$,U,me){var Ae=$.startContainer,xt=$.startOffset;if(X(Ae)&&(U?xt<Ae.data.length:xt>0))return Ae;var sr=T.schema.getNonEmptyElements();Ae.nodeType===1&&(Ae=Io.getNode(Ae,xt));var Zr=new ei(Ae,me);for(U&&xe(T.dom,Ae)&&Zr.next();Ae=Zr[U?"next":"prev2"]();)if(Ae.nodeName==="LI"&&!Ae.hasChildNodes()||sr[Ae.nodeName]||X(Ae)&&Ae.data.length>0)return Ae},kd=function(T,$){var U=$.childNodes;return U.length===1&&!he(U[0])&&T.isBlock(U[0])},wv=function(T,$){kd(T,$)&&T.remove($.firstChild,!0)},Ou=function(T,$,U){var me,Ae=kd(T,U)?U.firstChild:U;if(wv(T,$),!_e(T,$,!0))for(;me=$.firstChild;)Ae.appendChild(me)},Ri=function(T,$,U){var me,Ae=$.parentNode;if(!(!Se(T,$)||!Se(T,U))){he(U.lastChild)&&(me=U.lastChild),Ae===U.lastChild&&Zn(Ae.previousSibling)&&T.remove(Ae.previousSibling);var xt=U.lastChild;xt&&Zn(xt)&&$.hasChildNodes()&&T.remove(xt),_e(T,U,!0)&&T.$(U).empty(),Ou(T,$,U),me&&U.appendChild(me);var sr=ho(Pn.fromDom(U),Pn.fromDom($)),Zr=sr?T.getParents($,he,U):[];T.remove($),Gt(Zr,function(Nr){_e(T,Nr)&&Nr!==T.getRoot()&&T.remove(Nr)})}},Au=function(T,$,U){T.dom.$(U).empty(),Ri(T.dom,$,U),T.selection.setCursorLocation(U,0)},Pi=function(T,$,U,me){var Ae=T.dom;if(Ae.isEmpty(me))Au(T,U,me);else{var xt=Eu($);Ri(Ae,U,me),T.selection.setRng(jc(xt))}},pf=function(T,$,U,me){var Ae=Eu($);Ri(T.dom,U,me);var xt=jc(Ae);T.selection.setRng(xt)},tg=function(T,$){var U=T.dom,me=T.selection,Ae=me.getStart(),xt=po(T,Ae),sr=U.getParent(me.getStart(),"LI",xt);if(sr){var Zr=sr.parentNode;if(Zr===T.getBody()&&_e(U,Zr))return!0;var Nr=ls(me.getRng()),Xr=U.getParent(bc(T,Nr,$,xt),"LI",xt);if(Xr&&Xr!==sr)return T.undoManager.transact(function(){$?Pi(T,Nr,Xr,sr):Pr(sr)?hv(T):pf(T,Nr,sr,Xr)}),!0;if(!Xr&&!$&&Nr.startOffset===0&&Nr.endOffset===0)return T.undoManager.transact(function(){mc(T)}),!0}return!1},ds=function(T,$,U){var me=T.getParent($.parentNode,T.isBlock,U);T.remove($),me&&T.isEmpty(me)&&T.remove(me)},Nl=function(T,$){var U=T.dom,me=T.selection.getStart(),Ae=po(T,me),xt=U.getParent(me,U.isBlock,Ae);if(xt&&U.isEmpty(xt)){var sr=ls(T.selection.getRng()),Zr=U.getParent(bc(T,sr,$,Ae),"LI",Ae);if(Zr)return T.undoManager.transact(function(){ds(U,xt,Ae),Eo(U,Zr.parentNode),T.selection.select(Zr,!0),T.selection.collapse($)}),!0}return!1},Ur=function(T,$){return tg(T,$)||Nl(T,$)},Ku=function(T){var $=T.selection.getStart(),U=po(T,$),me=T.dom.getParent($,"LI,DT,DD",U);return me||xa(T).length>0?(T.undoManager.transact(function(){T.execCommand("Delete"),eg(T.dom,T.getBody())}),!0):!1},Kc=function(T,$){return T.selection.isCollapsed()?Ur(T,$):Ku(T)},$h=function(T){T.on("keydown",function($){$.keyCode===Hr.BACKSPACE?Kc(T,!1)&&$.preventDefault():$.keyCode===Hr.DELETE&&Kc(T,!0)&&$.preventDefault()})},Ih=function(T){return{backspaceDelete:function($){Kc(T,$)}}},bf=function(T,$){var U=ha(T);T.undoManager.transact(function(){rr($.styles)&&T.dom.setStyles(U,$.styles),rr($.attrs)&&ko($.attrs,function(me,Ae){return T.dom.setAttrib(U,Ae,me)})})},zh=function(T){var $=st(ke(T).split("")),U=Qt($,function(me,Ae){var xt=me.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Ae)*xt});return se(U,function(me,Ae){return me+Ae},0)},Mi=function(T){if(T--,T<0)return"";var $=T%26,U=Math.floor(T/26),me=Mi(U),Ae=String.fromCharCode("A".charCodeAt(0)+$);return me+Ae},Lh=function(T){return/^[A-Z]+$/.test(T)},ng=function(T){return/^[a-z]+$/.test(T)},$t=function(T){return/^[0-9]+$/.test(T)},Hh=function(T){return $t(T)?2:Lh(T)?0:ng(T)?1:br(T)?3:4},yf=function(T){switch(Hh(T)){case 2:return _t.some({listStyleType:_t.none(),start:T});case 0:return _t.some({listStyleType:_t.some("upper-alpha"),start:zh(T).toString()});case 1:return _t.some({listStyleType:_t.some("lower-alpha"),start:zh(T).toString()});case 3:return _t.some({listStyleType:_t.none(),start:""});case 4:return _t.none()}},Td=function(T){var $=parseInt(T.start,10);return T.listStyleType.is("upper-alpha")?Mi($):T.listStyleType.is("lower-alpha")?Mi($).toLowerCase():T.start},Go=function(T){var $=ha(T);!Rt($)||T.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Td({start:T.dom.getAttrib($,"start","1"),listStyleType:_t.some(T.dom.getStyle($,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(U){var me=U.getData();yf(me.start).each(function(Ae){T.execCommand("mceListUpdate",!1,{attrs:{start:Ae.start==="1"?"":Ae.start},styles:{"list-style-type":Ae.listStyleType.getOr("")}})}),U.close()}})},Cv=function(T,$){return function(){var U=ha(T);return U&&U.nodeName===$}},Ps=function(T){T.addCommand("mceListProps",function(){Go(T)})},lo=function(T){T.on("BeforeExecCommand",function($){var U=$.command.toLowerCase();U==="indent"?Bs(T):U==="outdent"&&hv(T)}),T.addCommand("InsertUnorderedList",function($,U){hc(T,"UL",U)}),T.addCommand("InsertOrderedList",function($,U){hc(T,"OL",U)}),T.addCommand("InsertDefinitionList",function($,U){hc(T,"DL",U)}),T.addCommand("RemoveList",function(){mc(T)}),Ps(T),T.addCommand("mceListUpdate",function($,U){rr(U)&&bf(T,U)}),T.addQueryStateHandler("InsertUnorderedList",Cv(T,"UL")),T.addQueryStateHandler("InsertOrderedList",Cv(T,"OL")),T.addQueryStateHandler("InsertDefinitionList",Cv(T,"DL"))},Ko=function(T){T.on("keydown",function($){$.keyCode!==Hr.TAB||Hr.metaKeyPressed($)||T.undoManager.transact(function(){($.shiftKey?hv(T):Bs(T))&&$.preventDefault()})})},Xu=function(T){Yt(T)&&Ko(T),$h(T)},Ed=function(T){var $=function(U){return function(){return T.execCommand(U)}};T.hasPlugin("advlist")||(T.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:$("InsertOrderedList"),onSetup:function(U){return pv(T,"OL",U.setActive)}}),T.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:$("InsertUnorderedList"),onSetup:function(U){return pv(T,"UL",U.setActive)}}))},Sv=function(T){var $={text:"List properties...",icon:"ordered-list",onAction:function(){return T.execCommand("mceListProps")},onSetup:function(U){return pv(T,"OL",function(me){return U.setDisabled(!me)})}};T.ui.registry.addMenuItem("listprops",$),T.ui.registry.addContextMenu("lists",{update:function(U){var me=ha(T,U);return Rt(me)?["listprops"]:[]}})};function ms(){Ze.add("lists",function(T){return T.hasPlugin("rtc",!0)===!1?(Xu(T),lo(T)):Ps(T),Ed(T),Sv(T),Ih(T)})}ms()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=function(){return Ht=Object.assign||function(Ee){for(var $e,je=1,G=arguments.length;je<G;je++){$e=arguments[je];for(var ue in $e)Object.prototype.hasOwnProperty.call($e,ue)&&(Ee[ue]=$e[ue])}return Ee},Ht.apply(this,arguments)},En=function(ce){var Ee=typeof ce;return ce===null?"null":Ee==="object"&&(Array.prototype.isPrototypeOf(ce)||ce.constructor&&ce.constructor.name==="Array")?"array":Ee==="object"&&(String.prototype.isPrototypeOf(ce)||ce.constructor&&ce.constructor.name==="String")?"string":Ee},lr=function(ce){return function(Ee){return En(Ee)===ce}},pn=lr("string"),rr=lr("object"),Nn=lr("array"),jn=function(ce){return ce==null},kr=function(ce){return!jn(ce)},$r=function(){},Cn=function(ce){return function(){return ce}},ut=Cn(!1),On=Cn(!0),Jt=function(){return nt},nt=function(){var ce=function(G){return G.isNone()},Ee=function(G){return G()},$e=function(G){return G},je={fold:function(G,ue){return G()},is:ut,isSome:ut,isNone:On,getOr:$e,getOrThunk:Ee,getOrDie:function(G){throw new Error(G||"error: getOrDie called on none.")},getOrNull:Cn(null),getOrUndefined:Cn(void 0),or:$e,orThunk:Ee,map:Jt,each:$r,bind:Jt,exists:ut,forall:On,filter:Jt,equals:ce,equals_:ce,toArray:function(){return[]},toString:Cn("none()")};return je}(),cr=function(ce){var Ee=Cn(ce),$e=function(){return G},je=function(ue){return ue(ce)},G={fold:function(ue,Fe){return Fe(ce)},is:function(ue){return ce===ue},isSome:On,isNone:ut,getOr:Ee,getOrThunk:Ee,getOrDie:Ee,getOrNull:Ee,getOrUndefined:Ee,or:$e,orThunk:$e,map:function(ue){return cr(ue(ce))},each:function(ue){ue(ce)},bind:je,exists:je,forall:je,filter:function(ue){return ue(ce)?G:nt},toArray:function(){return[ce]},toString:function(){return"some("+ce+")"},equals:function(ue){return ue.is(ce)},equals_:function(ue,Fe){return ue.fold(ut,function(Ge){return Fe(ce,Ge)})}};return G},ct=function(ce){return ce==null?nt:cr(ce)},tr={some:cr,none:Jt,from:ct},re=Array.prototype.push,_t=function(ce,Ee){for(var $e=0,je=ce.length;$e<je;$e++){var G=ce[$e];Ee(G,$e)}},ar=function(ce){for(var Ee=[],$e=0,je=ce.length;$e<je;++$e){if(!Nn(ce[$e]))throw new Error("Arr.flatten item "+$e+" was not an array, input: "+ce);re.apply(Ee,ce[$e])}return Ee},qn=function(ce){var Ee=ce,$e=function(){return Ee},je=function(G){Ee=G};return{get:$e,set:je}},Qt=Object.keys,Gt=Object.hasOwnProperty,Zt=function(ce,Ee){for(var $e=Qt(ce),je=0,G=$e.length;je<G;je++){var ue=$e[je],Fe=ce[ue];Ee(Fe,ue)}},Vt=function(ce,Ee){return se(ce,Ee)?tr.from(ce[Ee]):tr.none()},se=function(ce,Ee){return Gt.call(ce,Ee)},Z=function(ce){return ce.getParam("media_scripts")},qe=function(ce){return ce.getParam("audio_template_callback")},Ve=function(ce){return ce.getParam("video_template_callback")},Ft=function(ce){return ce.getParam("media_live_embeds",!0)},st=function(ce){return ce.getParam("media_filter_html",!0)},Xn=function(ce){return ce.getParam("media_url_resolver")},E=function(ce){return ce.getParam("media_alt_source",!0)},yt=function(ce){return ce.getParam("media_poster",!0)},wt=function(ce){return ce.getParam("media_dimensions",!0)},bt=tinymce.util.Tools.resolve("tinymce.util.Tools"),or=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),dr=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),Sn=function(ce,Ee){if(ce){for(var $e=0;$e<ce.length;$e++)if(Ee.indexOf(ce[$e].filter)!==-1)return ce[$e]}},Dn=or.DOM,wr=function(ce){return ce.replace(/px$/,"")},ee=function(ce){var Ee=ce.map.style,$e=Ee?Dn.parseStyle(Ee):{};return{type:"ephox-embed-iri",source:ce.map["data-ephox-embed-iri"],altsource:"",poster:"",width:Vt($e,"max-width").map(wr).getOr(""),height:Vt($e,"max-height").map(wr).getOr("")}},Pe=function(ce,Ee){var $e=qn(!1),je={};return dr({validate:!1,allow_conditional_comments:!0,start:function(G,ue){if(!$e.get())if(se(ue.map,"data-ephox-embed-iri"))$e.set(!0),je=ee(ue);else{if(!je.source&&G==="param"&&(je.source=ue.map.movie),(G==="iframe"||G==="object"||G==="embed"||G==="video"||G==="audio")&&(je.type||(je.type=G),je=bt.extend(ue.map,je)),G==="script"){var Fe=Sn(ce,ue.map.src);if(!Fe)return;je={type:"script",source:ue.map.src,width:String(Fe.width),height:String(Fe.height)}}G==="source"&&(je.source?je.altsource||(je.altsource=ue.map.src):je.source=ue.map.src),G==="img"&&!je.poster&&(je.poster=ue.map.src)}}}).parse(Ee),je.source=je.source||je.src||je.data,je.altsource=je.altsource||"",je.poster=je.poster||"",je},Ct=function(ce){var Ee={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},$e=ce.toLowerCase().split(".").pop(),je=Ee[$e];return je||""},$n=tinymce.util.Tools.resolve("tinymce.html.Schema"),Bn=tinymce.util.Tools.resolve("tinymce.html.Writer"),de=or.DOM,We=function(ce){return/^[0-9.]+$/.test(ce)?ce+"px":ce},Be=function(ce,Ee){Zt(Ee,function($e,je){var G=""+$e;if(ce.map[je])for(var ue=ce.length;ue--;){var Fe=ce[ue];Fe.name===je&&(G?(ce.map[je]=G,Fe.value=G):(delete ce.map[je],ce.splice(ue,1)))}else G&&(ce.push({name:je,value:G}),ce.map[je]=G)})},pt=function(ce,Ee){var $e=Ee.map.style,je=$e?de.parseStyle($e):{};je["max-width"]=We(ce.width),je["max-height"]=We(ce.height),Be(Ee,{style:de.serializeStyle(je)})},ke=["source","altsource"],bn=function(ce,Ee,$e){var je=Bn(),G=qn(!1),ue=0,Fe;return dr({validate:!1,allow_conditional_comments:!0,comment:function(Ge){je.comment(Ge)},cdata:function(Ge){je.cdata(Ge)},text:function(Ge,Xe){je.text(Ge,Xe)},start:function(Ge,Xe,zt){if(!G.get())if(se(Xe.map,"data-ephox-embed-iri"))G.set(!0),pt(Ee,Xe);else{switch(Ge){case"video":case"object":case"embed":case"img":case"iframe":Ee.height!==void 0&&Ee.width!==void 0&&Be(Xe,{width:Ee.width,height:Ee.height});break}if($e)switch(Ge){case"video":Be(Xe,{poster:Ee.poster,src:""}),Ee.altsource&&Be(Xe,{src:""});break;case"iframe":Be(Xe,{src:Ee.source});break;case"source":if(ue<2&&(Be(Xe,{src:Ee[ke[ue]],type:Ee[ke[ue]+"mime"]}),!Ee[ke[ue]]))return;ue++;break;case"img":if(!Ee.poster)return;Fe=!0;break}}je.start(Ge,Xe,zt)},end:function(Ge){if(!G.get()){if(Ge==="video"&&$e){for(var Xe=0;Xe<2;Xe++)if(Ee[ke[Xe]]){var zt=[];zt.map={},ue<=Xe&&(Be(zt,{src:Ee[ke[Xe]],type:Ee[ke[Xe]+"mime"]}),je.start("source",zt,!0))}}if(Ee.poster&&Ge==="object"&&$e&&!Fe){var fn=[];fn.map={},Be(fn,{src:Ee.poster,width:Ee.width,height:Ee.height}),je.start("img",fn,!0)}}je.end(Ge)}},$n({})).parse(ce),je.getContent()},br=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],on=function(ce){var Ee=ce.match(/^(https?:\/\/|www\.)(.+)$/i);return Ee&&Ee.length>1?Ee[1]==="www."?"https://":Ee[1]:"https://"},zr=function(ce,Ee){for(var $e=on(Ee),je=ce.regex.exec(Ee),G=$e+ce.url,ue=function(Ge){G=G.replace("$"+Ge,function(){return je[Ge]?je[Ge]:""})},Fe=0;Fe<je.length;Fe++)ue(Fe);return G.replace(/\?$/,"")},Jn=function(ce){var Ee=br.filter(function($e){return $e.regex.test(ce)});return Ee.length>0?bt.extend({},Ee[0],{url:zr(Ee[0],ce)}):null},it=function(ce){var Ee=ce.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+ce.source+'" width="'+ce.width+'" height="'+ce.height+'"'+Ee+"></iframe>"},Ut=function(ce){var Ee='<object data="'+ce.source+'" width="'+ce.width+'" height="'+ce.height+'" type="application/x-shockwave-flash">';return ce.poster&&(Ee+='<img src="'+ce.poster+'" width="'+ce.width+'" height="'+ce.height+'" />'),Ee+="</object>",Ee},xn=function(ce,Ee){return Ee?Ee(ce):'<audio controls="controls" src="'+ce.source+'">'+(ce.altsource?`
<source src="`+ce.altsource+'"'+(ce.altsourcemime?' type="'+ce.altsourcemime+'"':"")+` />
`:"")+"</audio>"},Ye=function(ce,Ee){return Ee?Ee(ce):'<video width="'+ce.width+'" height="'+ce.height+'"'+(ce.poster?' poster="'+ce.poster+'"':"")+` controls="controls">
<source src="`+ce.source+'"'+(ce.sourcemime?' type="'+ce.sourcemime+'"':"")+` />
`+(ce.altsource?'<source src="'+ce.altsource+'"'+(ce.altsourcemime?' type="'+ce.altsourcemime+'"':"")+` />
`:"")+"</video>"},He=function(ce){return'<script src="'+ce.source+'"><\/script>'},mt=function(ce,Ee){var $e=bt.extend({},Ee);if(!$e.source&&(bt.extend($e,Pe(Z(ce),$e.embed)),!$e.source))return"";$e.altsource||($e.altsource=""),$e.poster||($e.poster=""),$e.source=ce.convertURL($e.source,"source"),$e.altsource=ce.convertURL($e.altsource,"source"),$e.sourcemime=Ct($e.source),$e.altsourcemime=Ct($e.altsource),$e.poster=ce.convertURL($e.poster,"poster");var je=Jn($e.source);if(je&&($e.source=je.url,$e.type=je.type,$e.allowfullscreen=je.allowFullscreen,$e.width=$e.width||String(je.w),$e.height=$e.height||String(je.h)),$e.embed)return bn($e.embed,$e,!0);var G=Sn(Z(ce),$e.source);G&&($e.type="script",$e.width=String(G.width),$e.height=String(G.height));var ue=qe(ce),Fe=Ve(ce);return $e.width=$e.width||"300",$e.height=$e.height||"150",bt.each($e,function(Ge,Xe){$e[Xe]=ce.dom.encode(""+Ge)}),$e.type==="iframe"?it($e):$e.sourcemime==="application/x-shockwave-flash"?Ut($e):$e.sourcemime.indexOf("audio")!==-1?xn($e,ue):$e.type==="script"?He($e):Ye($e,Fe)},Wt=tinymce.util.Tools.resolve("tinymce.util.Promise"),sn={},gr=function(ce,Ee,$e){return new Wt(function(je,G){var ue=function(Fe){return Fe.html&&(sn[ce.source]=Fe),je({url:ce.source,html:Fe.html?Fe.html:Ee(ce)})};sn[ce.source]?ue(sn[ce.source]):$e({url:ce.source},ue,G)})},Lr=function(ce,Ee){return new Wt(function($e){$e({html:Ee(ce),url:ce.source})})},Cr=function(ce){return function(Ee){return mt(ce,Ee)}},vn=function(ce,Ee){var $e=Xn(ce);return $e?gr(Ee,Cr(ce),$e):Lr(Ee,Cr(ce))},Br=function(ce){return sn.hasOwnProperty(ce)},qr=function(ce,Ee){return Vt(Ee,ce).bind(function($e){return Vt($e,"meta")})},Ma=function(ce,Ee,$e){return function(je){var G,ue=function(){return Vt(ce,je)},Fe=function(){return Vt(Ee,je)},Ge=function(fn){return Vt(fn,"value").bind(function(Ln){return Ln.length>0?tr.some(Ln):tr.none()})},Xe=function(){return ue().bind(function(fn){return rr(fn)?Ge(fn).orThunk(Fe):Fe().orThunk(function(){return tr.from(fn)})})},zt=function(){return Fe().orThunk(function(){return ue().bind(function(fn){return rr(fn)?Ge(fn):tr.from(fn)})})};return G={},G[je]=(je===$e?Xe():zt()).getOr(""),G}},Na=function(ce,Ee){var $e={};return Vt(ce,"dimensions").each(function(je){_t(["width","height"],function(G){Vt(Ee,G).orThunk(function(){return Vt(je,G)}).each(function(ue){return $e[G]=ue})})}),$e},Pa=function(ce,Ee){var $e=Ee?qr(Ee,ce).getOr({}):{},je=Ma(ce,$e,Ee);return Ht(Ht(Ht(Ht(Ht({},je("source")),je("altsource")),je("poster")),je("embed")),Na(ce,$e))},Gr=function(ce){var Ee=Ht(Ht({},ce),{source:{value:Vt(ce,"source").getOr("")},altsource:{value:Vt(ce,"altsource").getOr("")},poster:{value:Vt(ce,"poster").getOr("")}});return _t(["width","height"],function($e){Vt(ce,$e).each(function(je){var G=Ee.dimensions||{};G[$e]=je,Ee.dimensions=G})}),Ee},Fa=function(ce){return function(Ee){var $e=Ee&&Ee.msg?"Media embed handler error: "+Ee.msg:"Media embed handler threw unknown error.";ce.notificationManager.open({type:"error",text:$e})}},De=function(ce,Ee){return Pe(Z(ce),Ee)},dt=function(ce){return ce.getAttribute("data-mce-object")||ce.getAttribute("data-ephox-embed-iri")},jt=function(ce){var Ee=ce.selection.getNode(),$e=dt(Ee)?ce.serializer.serialize(Ee,{selection:!0}):"";return Ht({embed:$e},Pe(Z(ce),$e))},zn=function(ce,Ee){return function($e){if(pn($e.url)&&$e.url.trim().length>0){var je=$e.html,G=De(Ee,je),ue=Ht(Ht({},G),{source:$e.url,embed:je});ce.setData(Gr(ue))}}},cn=function(ce,Ee){for(var $e=ce.dom.select("*[data-mce-object]"),je=0;je<Ee.length;je++)for(var G=$e.length-1;G>=0;G--)Ee[je]===$e[G]&&$e.splice(G,1);ce.selection.select($e[0])},hr=function(ce,Ee){var $e=ce.dom.select("*[data-mce-object]");ce.insertContent(Ee),cn(ce,$e),ce.nodeChanged()},Ka=function(ce,Ee,$e){Ee.embed=bn(Ee.embed,Ee),Ee.embed&&(ce.source===Ee.source||Br(Ee.source))?hr($e,Ee.embed):vn($e,Ee).then(function(je){hr($e,je.html)}).catch(Fa($e))},Rr=function(ce){var Ee=jt(ce),$e=qn(Ee),je=Gr(Ee),G=function(Ha,_n){var Qr=Pa(_n.getData(),"source");Ha.source!==Qr.source&&(zn(co,ce)({url:Qr.source,html:""}),vn(ce,Qr).then(zn(co,ce)).catch(Fa(ce)))},ue=function(Ha){var _n=Pa(Ha.getData()),Qr=De(ce,_n.embed);Ha.setData(Gr(Qr))},Fe=function(Ha,_n){var Qr=Pa(Ha.getData(),_n),Va=mt(ce,Qr);Ha.setData(Gr(Ht(Ht({},Qr),{embed:Va})))},Ge=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Xe=wt(ce)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],zt={title:"General",name:"general",items:ar([Ge,Xe])},fn={type:"textarea",name:"embed",label:"Paste your embed code below:"},Ln={title:"Embed",items:[fn]},Sr=[];E(ce)&&Sr.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),yt(ce)&&Sr.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var lt={title:"Advanced",name:"advanced",items:Sr},Vr=[zt,Ln];Sr.length>0&&Vr.push(lt);var Za={type:"tabpanel",tabs:Vr},co=ce.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Za,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(Ha){var _n=Pa(Ha.getData());Ka($e.get(),_n,ce),Ha.close()},onChange:function(Ha,_n){switch(_n.name){case"source":G($e.get(),Ha);break;case"embed":ue(Ha);break;case"dimensions":case"altsource":case"poster":Fe(Ha,_n.name);break}$e.set(Pa(Ha.getData()))},initialData:je})},Or=function(ce){var Ee=function(){Rr(ce)};return{showDialog:Ee}},go=function(ce){var Ee=function(){Rr(ce)};ce.addCommand("mceMedia",Ee)},Co=tinymce.util.Tools.resolve("tinymce.html.Node"),So=tinymce.util.Tools.resolve("tinymce.Env"),di=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Ja=function(ce,Ee){if(st(ce)===!1)return Ee;var $e=Bn(),je;return dr({validate:!1,allow_conditional_comments:!1,comment:function(G){je||$e.comment(G)},cdata:function(G){je||$e.cdata(G)},text:function(G,ue){je||$e.text(G,ue)},start:function(G,ue,Fe){if(je=!0,!(G==="script"||G==="noscript"||G==="svg")){for(var Ge=ue.length-1;Ge>=0;Ge--){var Xe=ue[Ge].name;Xe.indexOf("on")===0&&(delete ue.map[Xe],ue.splice(Ge,1)),Xe==="style"&&(ue[Ge].value=ce.dom.serializeStyle(ce.dom.parseStyle(ue[Ge].value),G))}$e.start(G,ue,Fe),je=!1}},end:function(G){je||$e.end(G)}},$n({})).parse(Ee),$e.getContent()},xo=function(ce){var Ee=ce.name;return Ee==="iframe"||Ee==="video"||Ee==="audio"},io=function(ce,Ee,$e,je){je===void 0&&(je=null);var G=ce.attr($e);return kr(G)?G:se(Ee,$e)?null:je},Pn=function(ce,Ee,$e){var je=Ee.name==="img"||ce.name==="video",G=je?"300":null,ue=ce.name==="audio"?"30":"150",Fe=je?ue:null;Ee.attr({width:io(ce,$e,"width",G),height:io(ce,$e,"height",Fe)})},Oa=function(ce,Ee,$e,je){for(var G=di({forced_root_block:!1,validate:!1},ce.schema).parse(je,{context:Ee});G.firstChild;)$e.append(G.firstChild)},La=function(ce,Ee){var $e=Ee.name,je=new Co("img",1);return je.shortEnded=!0,Gn(ce,Ee,je),Pn(Ee,je,{}),je.attr({style:Ee.attr("style"),src:So.transparentSrc,"data-mce-object":$e,class:"mce-object mce-object-"+$e}),je},so=function(ce,Ee){var $e=Ee.name,je=new Co("span",1);je.attr({contentEditable:"false",style:Ee.attr("style"),"data-mce-object":$e,class:"mce-preview-object mce-object-"+$e}),Gn(ce,Ee,je);var G=ce.dom.parseStyle(Ee.attr("style")),ue=new Co($e,1);if(Pn(Ee,ue,G),ue.attr({src:Ee.attr("src"),style:Ee.attr("style"),class:Ee.attr("class")}),$e==="iframe")ue.attr({allowfullscreen:Ee.attr("allowfullscreen"),frameborder:"0"});else{var Fe=["controls","crossorigin","currentTime","loop","muted","poster","preload"];_t(Fe,function(zt){ue.attr(zt,Ee.attr(zt))});var Ge=je.attr("data-mce-html");kr(Ge)&&Oa(ce,$e,ue,Ge)}var Xe=new Co("span",1);return Xe.attr("class","mce-shim"),je.append(ue),je.append(Xe),je},Gn=function(ce,Ee,$e){for(var je=Ee.attributes,G=je.length;G--;){var ue=je[G].name,Fe=je[G].value;ue!=="width"&&ue!=="height"&&ue!=="style"&&((ue==="data"||ue==="src")&&(Fe=ce.convertURL(Fe,ue)),$e.attr("data-mce-p-"+ue,Fe))}var Ge=Ee.firstChild&&Ee.firstChild.value;Ge&&($e.attr("data-mce-html",escape(Ja(ce,Ge))),$e.firstChild=null)},ho=function(ce){var Ee=ce.attr("class");return Ee&&/\btiny-pageembed\b/.test(Ee)},_o=function(ce){for(;ce=ce.parent;)if(ce.attr("data-ephox-embed-iri")||ho(ce))return!0;return!1},Io=function(ce){return function(Ee){for(var $e=Ee.length,je,G;$e--;)je=Ee[$e],!!je.parent&&(je.parent.attr("data-mce-object")||je.name==="script"&&(G=Sn(Z(ce),je.attr("src")),!G)||(G&&(G.width&&je.attr("width",G.width.toString()),G.height&&je.attr("height",G.height.toString())),xo(je)&&Ft(ce)&&So.ceFalse?_o(je)||je.replace(so(ce,je)):_o(je)||je.replace(La(ce,je))))}},ei=function(ce){ce.on("preInit",function(){var Ee=ce.schema.getSpecialElements();bt.each("video audio iframe object".split(" "),function(je){Ee[je]=new RegExp("</"+je+"[^>]*>","gi")});var $e=ce.schema.getBoolAttrs();bt.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(je){$e[je]={}}),ce.parser.addNodeFilter("iframe,video,audio,object,embed,script",Io(ce)),ce.serializer.addAttributeFilter("data-mce-object",function(je,G){for(var ue=je.length,Fe,Ge,Xe,zt,fn,Ln,Sr,lt;ue--;)if(Fe=je[ue],!!Fe.parent){for(Sr=Fe.attr(G),Ge=new Co(Sr,1),Sr!=="audio"&&Sr!=="script"&&(lt=Fe.attr("class"),lt&&lt.indexOf("mce-preview-object")!==-1?Ge.attr({width:Fe.firstChild.attr("width"),height:Fe.firstChild.attr("height")}):Ge.attr({width:Fe.attr("width"),height:Fe.attr("height")})),Ge.attr({style:Fe.attr("style")}),zt=Fe.attributes,Xe=zt.length;Xe--;){var Vr=zt[Xe].name;Vr.indexOf("data-mce-p-")===0&&Ge.attr(Vr.substr(11),zt[Xe].value)}Sr==="script"&&Ge.attr("type","text/javascript"),fn=Fe.attr("data-mce-html"),fn&&(Ln=new Co("#text",3),Ln.raw=!0,Ln.value=Ja(ce,unescape(fn)),Ge.append(Ln)),Fe.replace(Ge)}})}),ce.on("SetContent",function(){ce.$("span.mce-preview-object").each(function(Ee,$e){var je=ce.$($e);je.find("span.mce-shim").length===0&&je.append('<span class="mce-shim"></span>')})})},Hr=function(ce){ce.on("ResolveName",function(Ee){var $e;Ee.target.nodeType===1&&($e=Ee.target.getAttribute("data-mce-object"))&&(Ee.name=$e)})},Wo=function(ce){ce.on("click keyup touchend",function(){var Ee=ce.selection.getNode();Ee&&ce.dom.hasClass(Ee,"mce-preview-object")&&ce.dom.getAttrib(Ee,"data-mce-selected")&&Ee.setAttribute("data-mce-selected","2")}),ce.on("ObjectSelected",function(Ee){var $e=Ee.target.getAttribute("data-mce-object");$e==="script"&&Ee.preventDefault()}),ce.on("ObjectResized",function(Ee){var $e=Ee.target,je;$e.getAttribute("data-mce-object")&&(je=$e.getAttribute("data-mce-html"),je&&(je=unescape(je),$e.setAttribute("data-mce-html",escape(bn(je,{width:String(Ee.width),height:String(Ee.height)})))))})},ko=function(ce,Ee){return function($e){return ce.selection.selectorChangedWithUnbind(Ee.join(","),$e.setActive).unbind}},Po=function(ce){ce.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){ce.execCommand("mceMedia")},onSetup:ko(ce,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])}),ce.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){ce.execCommand("mceMedia")}})};function jo(){Ze.add("media",function(ce){return go(ce),Po(ce),Hr(ce),ei(ce),Wo(ce),Or(ce)})}jo()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=tinymce.util.Tools.resolve("tinymce.Env"),En=function(ut){return ut.getParam("pagebreak_separator","<!-- pagebreak -->")},lr=function(ut){return ut.getParam("pagebreak_split_block",!1)},pn="mce-pagebreak",rr=function(ut){var On='<img src="'+Ht.transparentSrc+'" class="'+pn+'" data-mce-resize="false" data-mce-placeholder />';return ut?"<p>"+On+"</p>":On},Nn=function(ut){var On=En(ut),Jt=function(){return lr(ut)},nt=new RegExp(On.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(cr){return"\\"+cr}),"gi");ut.on("BeforeSetContent",function(cr){cr.content=cr.content.replace(nt,rr(Jt()))}),ut.on("PreInit",function(){ut.serializer.addNodeFilter("img",function(cr){for(var ct=cr.length,tr,re;ct--;)if(tr=cr[ct],re=tr.attr("class"),re&&re.indexOf(pn)!==-1){var _t=tr.parent;if(ut.schema.getBlockElements()[_t.name]&&Jt()){_t.type=3,_t.value=On,_t.raw=!0,tr.remove();continue}tr.type=3,tr.value=On,tr.raw=!0}})})},jn=function(ut){ut.addCommand("mcePageBreak",function(){ut.insertContent(rr(lr(ut)))})},kr=function(ut){ut.on("ResolveName",function(On){On.target.nodeName==="IMG"&&ut.dom.hasClass(On.target,pn)&&(On.name="pagebreak")})},$r=function(ut){ut.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:function(){return ut.execCommand("mcePageBreak")}}),ut.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:function(){return ut.execCommand("mcePageBreak")}})};function Cn(){Ze.add("pagebreak",function(ut){jn(ut),$r(ut),Nn(ut),kr(ut)})}Cn()})();(function(){var Ze=function(F){var fe=F,Q=function(){return fe},Le=function(At){fe=At};return{get:Q,set:Le}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),En=function(F){return F.hasPlugin("powerpaste",!0)?(typeof window.console!="undefined"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},lr=function(F,fe){return{clipboard:F,quirks:fe}},pn=function(F){return function(fe){return typeof fe===F}},rr=function(F){return F==null},Nn=function(F){return!rr(F)},jn=pn("function"),kr=function(){},$r=function(F){return function(){return F}},Cn=$r(!1),ut=$r(!0),On=function(){return Jt},Jt=function(){var F=function(At){return At.isNone()},fe=function(At){return At()},Q=function(At){return At},Le={fold:function(At,A){return At()},is:Cn,isSome:Cn,isNone:ut,getOr:Q,getOrThunk:fe,getOrDie:function(At){throw new Error(At||"error: getOrDie called on none.")},getOrNull:$r(null),getOrUndefined:$r(void 0),or:Q,orThunk:fe,map:On,each:kr,bind:On,exists:Cn,forall:ut,filter:On,equals:F,equals_:F,toArray:function(){return[]},toString:$r("none()")};return Le}(),nt=function(F){var fe=$r(F),Q=function(){return At},Le=function(A){return A(F)},At={fold:function(A,q){return q(F)},is:function(A){return F===A},isSome:ut,isNone:Cn,getOr:fe,getOrThunk:fe,getOrDie:fe,getOrNull:fe,getOrUndefined:fe,or:Q,orThunk:Q,map:function(A){return nt(A(F))},each:function(A){A(F)},bind:Le,exists:Le,forall:Le,filter:function(A){return A(F)?At:Jt},toArray:function(){return[F]},toString:function(){return"some("+F+")"},equals:function(A){return A.is(F)},equals_:function(A,q){return A.fold(Cn,function(ie){return q(F,ie)})}};return At},cr=function(F){return F==null?Jt:nt(F)},ct={some:nt,none:On,from:cr},tr=Array.prototype.slice,re=function(F,fe){for(var Q=0,Le=F.length;Q<Le;Q++){var At=F[Q];if(fe(At,Q))return!0}return!1},_t=function(F,fe){for(var Q=F.length,Le=new Array(Q),At=0;At<Q;At++){var A=F[At];Le[At]=fe(A,At)}return Le},ar=function(F,fe){for(var Q=0,Le=F.length;Q<Le;Q++){var At=F[Q];fe(At,Q)}},qn=function(F,fe){for(var Q=[],Le=0,At=F.length;Le<At;Le++){var A=F[Le];fe(A,Le)&&Q.push(A)}return Q},Qt=function(F,fe,Q){return ar(F,function(Le){Q=fe(Q,Le)}),Q},Gt=jn(Array.from)?Array.from:function(F){return tr.call(F)},Zt=function(){var F=Ze(ct.none()),fe=function(){return F.set(ct.none())},Q=function(A){return F.set(ct.some(A))},Le=function(){return F.get().isSome()},At=function(A){return F.get().each(A)};return{clear:fe,set:Q,isSet:Le,on:At}},Vt=function(F,fe,Q){return fe===""||F.length>=fe.length&&F.substr(Q,Q+fe.length)===fe},se=function(F,fe){return Vt(F,fe,0)},Z=function(F,fe){return Vt(F,fe,F.length-fe.length)},qe=function(F,fe){return fe<=0?"":new Array(fe+1).join(F)},Ve=tinymce.util.Tools.resolve("tinymce.Env"),Ft=tinymce.util.Tools.resolve("tinymce.util.Delay"),st=tinymce.util.Tools.resolve("tinymce.util.Promise"),Xn=tinymce.util.Tools.resolve("tinymce.util.VK"),E=function(F,fe,Q,Le){return F.fire("PastePreProcess",{content:fe,internal:Q,wordContent:Le})},yt=function(F,fe,Q,Le){return F.fire("PastePostProcess",{node:fe,internal:Q,wordContent:Le})},wt=function(F,fe){return F.fire("PastePlainTextToggle",{state:fe})},bt=function(F,fe){return F.fire("paste",{ieFake:fe})},or=tinymce.util.Tools.resolve("tinymce.util.Tools"),dr=function(F){return F.getParam("paste_block_drop",!1)},Sn=function(F){return F.getParam("paste_data_images",!1)},Dn=function(F){return F.getParam("paste_filter_drop",!0)},wr=function(F){return F.getParam("paste_preprocess")},ee=function(F){return F.getParam("paste_postprocess")},Pe=function(F){return F.getParam("paste_webkit_styles")},Ct=function(F){return F.getParam("paste_remove_styles_if_webkit",!0)},$n=function(F){return F.getParam("paste_merge_formats",!0)},Bn=function(F){return F.getParam("smart_paste",!0)},de=function(F){return F.getParam("paste_as_text",!1)},We=function(F){return F.getParam("paste_retain_style_properties")},Be=function(F){var fe="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return F.getParam("paste_word_valid_elements",fe)},pt=function(F){return F.getParam("paste_convert_word_fake_lists",!0)},ke=function(F){return F.getParam("paste_enable_default_filters",!0)},bn=function(F){return F.getParam("validate")},br=function(F){return F.getParam("allow_html_data_urls",!1,"boolean")},on=function(F){return F.getParam("paste_data_images",!1,"boolean")},zr=function(F){return F.getParam("images_dataimg_filter")},Jn=function(F){return F.getParam("images_reuse_filename")},it=function(F){return F.getParam("forced_root_block")},Ut=function(F){return F.getParam("forced_root_block_attrs")},xn=function(F){return F.getParam("paste_tab_spaces",4,"number")},Ye=function(F){var fe="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return or.explode(F.getParam("images_file_types",fe,"string"))},He="x-tinymce/html",mt="<!-- "+He+" -->",Wt=function(F){return mt+F},sn=function(F){return F.replace(mt,"")},gr=function(F){return F.indexOf(mt)!==-1},Lr=function(){return He},Cr=tinymce.util.Tools.resolve("tinymce.html.Entities"),vn=function(F){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(F)},Br=function(F){return F.replace(/\r?\n/g,"<br>")},qr=function(F,fe){var Q,Le=[],At="<"+F;if(typeof fe=="object"){for(Q in fe)fe.hasOwnProperty(Q)&&Le.push(Q+'="'+Cr.encodeAllRaw(fe[Q])+'"');Le.length&&(At+=" "+Le.join(" "))}return At+">"},Ma=function(F,fe,Q){var Le=F.split(/\n\n/),At=qr(fe,Q),A="</"+fe+">",q=or.map(Le,function(L){return L.split(/\n/).join("<br />")}),ie=function(L){return At+L+A};return q.length===1?q[0]:or.map(q,ie).join("")},Na=function(F,fe,Q){return fe?Ma(F,fe===!0?"p":fe,Q):Br(F)},Pa=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Gr=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Fa="\xA0",De=tinymce.util.Tools.resolve("tinymce.html.Node"),dt=tinymce.util.Tools.resolve("tinymce.html.Schema"),jt=function(F,fe){return or.each(fe,function(Q){Q.constructor===RegExp?F=F.replace(Q,""):F=F.replace(Q[0],Q[1])}),F},zn=function(F){var fe=dt(),Q=Pa({},fe),Le="",At=fe.getShortEndedElements(),A=or.makeMap("script noscript style textarea video audio iframe object"," "),q=fe.getBlockElements(),ie=function(L){var ve=L.name,Kt=L;if(ve==="br"){Le+=`
`;return}if(ve!=="wbr"){if(At[ve]&&(Le+=" "),A[ve]){Le+=" ";return}if(L.type===3&&(Le+=L.value),!L.shortEnded&&(L=L.firstChild))do ie(L);while(L=L.next);q[ve]&&Kt.next&&(Le+=`
`,ve==="p"&&(Le+=`
`))}};return F=jt(F,[/<!\[[^\]]+\]>/g]),ie(Q.parse(F)),Le},cn=function(F){var fe=function(Q,Le,At){return!Le&&!At?" ":Fa};return F=jt(F,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,fe],/<br class="Apple-interchange-newline">/g,/<br>$/i]),F},hr=function(F){var fe=0;return function(){return F+fe++}},Ka=function(F){var fe=F.toLowerCase(),Q={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return or.hasOwn(Q,fe)?"image/"+Q[fe]:"image/"+fe},Rr=function(F){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(F)||/class="OutlineElement/.test(F)||/id="?docs\-internal\-guid\-/.test(F)},Or=function(F){var fe,Q=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return F=F.replace(/^[\u00a0 ]+/,""),or.each(Q,function(Le){if(Le.test(F))return fe=!0,!1}),fe},go=function(F){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(F)},Co=function(F){for(var fe,Q,Le=1,At=function(Kr){var na="";if(Kr.type===3)return Kr.value;if(Kr=Kr.firstChild)do na+=At(Kr);while(Kr=Kr.next);return na},A=function(Kr,na){if(Kr.type===3&&na.test(Kr.value))return Kr.value=Kr.value.replace(na,""),!1;if(Kr=Kr.firstChild)do if(!A(Kr,na))return!1;while(Kr=Kr.next);return!0},q=function(Kr){if(Kr._listIgnore){Kr.remove();return}if(Kr=Kr.firstChild)do q(Kr);while(Kr=Kr.next)},ie=function(Kr,na,_i){var gi=Kr._listLevel||Le;gi!==Le&&(gi<Le?fe&&(fe=fe.parent.parent):(Q=fe,fe=null)),!fe||fe.name!==na?(Q=Q||fe,fe=new De(na,1),_i>1&&fe.attr("start",""+_i),Kr.wrap(fe)):fe.append(Kr),Kr.name="li",gi>Le&&Q&&Q.lastChild.append(fe),Le=gi,q(Kr),A(Kr,/^\u00a0+/),A(Kr,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),A(Kr,/^\u00a0+/)},L=[],ve=F.firstChild;typeof ve!="undefined"&&ve!==null;)if(L.push(ve),ve=ve.walk(),ve!==null)for(;typeof ve!="undefined"&&ve.parent!==F;)ve=ve.walk();for(var Kt=0;Kt<L.length;Kt++)if(F=L[Kt],F.name==="p"&&F.firstChild){var ur=At(F);if(go(ur)){ie(F,"ul");continue}if(Or(ur)){var un=/([0-9]+)\./.exec(ur),fa=1;un&&(fa=parseInt(un[1],10)),ie(F,"ol",fa);continue}if(F._listLevel){ie(F,"ul",1);continue}fe=null}else Q=fe,fe=null},So=function(F,fe,Q,Le){var At={},A,q=F.dom.parseStyle(Le);return or.each(q,function(ie,L){switch(L){case"mso-list":A=/\w+ \w+([0-9]+)/i.exec(Le),A&&(Q._listLevel=parseInt(A[1],10)),/Ignore/i.test(ie)&&Q.firstChild&&(Q._listIgnore=!0,Q.firstChild._listIgnore=!0);break;case"horiz-align":L="text-align";break;case"vert-align":L="vertical-align";break;case"font-color":case"mso-foreground":L="color";break;case"mso-background":case"mso-highlight":L="background";break;case"font-weight":case"font-style":ie!=="normal"&&(At[L]=ie);return;case"mso-element":if(/^(comment|comment-list)$/i.test(ie)){Q.remove();return}break}if(L.indexOf("mso-comment")===0){Q.remove();return}L.indexOf("mso-")!==0&&(We(F)==="all"||fe&&fe[L])&&(At[L]=ie)}),/(bold)/i.test(At["font-weight"])&&(delete At["font-weight"],Q.wrap(new De("b",1))),/(italic)/i.test(At["font-style"])&&(delete At["font-style"],Q.wrap(new De("i",1))),At=F.dom.serializeStyle(At,Q.name),At||null},di=function(F,fe){var Q,Le=We(F);Le&&(Q=or.makeMap(Le.split(/[, ]/))),fe=jt(fe,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Fa],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(L,ve){return ve.length>0?ve.replace(/./," ").slice(Math.floor(ve.length/2)).split("").join(Fa):""}]]);var At=Be(F),A=dt({valid_elements:At,valid_children:"-li[p]"});or.each(A.elements,function(L){L.attributes.class||(L.attributes.class={},L.attributesOrder.push("class")),L.attributes.style||(L.attributes.style={},L.attributesOrder.push("style"))});var q=Pa({},A);q.addAttributeFilter("style",function(L){for(var ve=L.length,Kt;ve--;)Kt=L[ve],Kt.attr("style",So(F,Q,Kt,Kt.attr("style"))),Kt.name==="span"&&Kt.parent&&!Kt.attributes.length&&Kt.unwrap()}),q.addAttributeFilter("class",function(L){for(var ve=L.length,Kt,ur;ve--;)Kt=L[ve],ur=Kt.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(ur)&&Kt.remove(),Kt.attr("class",null)}),q.addNodeFilter("del",function(L){for(var ve=L.length;ve--;)L[ve].remove()}),q.addNodeFilter("a",function(L){for(var ve=L.length,Kt,ur,un;ve--;){if(Kt=L[ve],ur=Kt.attr("href"),un=Kt.attr("name"),ur&&ur.indexOf("#_msocom_")!==-1){Kt.remove();continue}if(ur&&ur.indexOf("file://")===0&&(ur=ur.split("#")[1],ur&&(ur="#"+ur)),!ur&&!un)Kt.unwrap();else{if(un&&!/^_?(?:toc|edn|ftn)/i.test(un)){Kt.unwrap();continue}Kt.attr({href:ur,name:un})}}});var ie=q.parse(fe);return pt(F)&&Co(ie),fe=Gr({validate:bn(F)},A).serialize(ie),fe},Ja=function(F,fe){return ke(F)?di(F,fe):fe},xo=function(F,fe){var Q=Pa({},F.schema);Q.addNodeFilter("meta",function(At){or.each(At,function(A){A.remove()})});var Le=Q.parse(fe,{forced_root_block:!1,isRootContent:!0});return Gr({validate:bn(F)},F.schema).serialize(Le)},io=function(F,fe){return{content:F,cancelled:fe}},Pn=function(F,fe,Q,Le){var At=F.dom.create("div",{style:"display:none"},fe),A=yt(F,At,Q,Le);return io(A.node.innerHTML,A.isDefaultPrevented())},Oa=function(F,fe,Q,Le){var At=E(F,fe,Q,Le),A=xo(F,At.content);return F.hasEventListeners("PastePostProcess")&&!At.isDefaultPrevented()?Pn(F,A,Q,Le):io(A,At.isDefaultPrevented())},La=function(F,fe,Q){var Le=Rr(fe),At=Le?Ja(F,fe):fe;return Oa(F,At,Q,Le)},so=function(F,fe){return F.insertContent(fe,{merge:$n(F),paste:!0}),!0},Gn=function(F){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(F)},ho=function(F,fe){return Gn(fe)&&re(Ye(F),function(Q){return Z(fe.toLowerCase(),"."+Q.toLowerCase())})},_o=function(F,fe,Q){return F.undoManager.extra(function(){Q(F,fe)},function(){F.insertContent('<img src="'+fe+'">')}),!0},Io=function(F,fe,Q){return F.undoManager.extra(function(){Q(F,fe)},function(){F.execCommand("mceInsertLink",!1,fe)}),!0},ei=function(F,fe,Q){return F.selection.isCollapsed()===!1&&Gn(fe)?Io(F,fe,Q):!1},Hr=function(F,fe,Q){return ho(F,fe)?_o(F,fe,Q):!1},Wo=function(F,fe){or.each([ei,Hr,so],function(Q){return Q(F,fe,so)!==!0})},ko=function(F,fe,Q){Q||Bn(F)===!1?so(F,fe):Wo(F,fe)},Po=function(F){return" \f	\v".indexOf(F)!==-1},jo=function(F){return F===`
`||F==="\r"},ce=function(F,fe){return fe<F.length&&fe>=0?jo(F[fe]):!1},Ee=function(F,fe){var Q=qe(" ",xn(F)),Le=fe.replace(/\t/g,Q),At=Qt(Le,function(A,q){return Po(q)||q===Fa?A.pcIsSpace||A.str===""||A.str.length===Le.length-1||ce(Le,A.str.length+1)?{pcIsSpace:!1,str:A.str+Fa}:{pcIsSpace:!0,str:A.str+" "}:{pcIsSpace:jo(q),str:A.str+q}},{pcIsSpace:!1,str:""});return At.str},$e=function(F,fe,Q,Le){var At=La(F,fe,Q);At.cancelled===!1&&ko(F,At.content,Le)},je=function(F,fe,Q){var Le=Q||gr(fe);$e(F,sn(fe),Le,!1)},G=function(F,fe){var Q=F.dom.encode(fe).replace(/\r\n/g,`
`),Le=Ee(F,Q),At=Na(Le,it(F),Ut(F));$e(F,At,!1,!0)},ue=function(F){var fe={},Q="data:text/mce-internal,";if(F){if(F.getData){var Le=F.getData("Text");Le&&Le.length>0&&Le.indexOf(Q)===-1&&(fe["text/plain"]=Le)}if(F.types)for(var At=0;At<F.types.length;At++){var A=F.types[At];try{fe[A]=F.getData(A)}catch{fe[A]=""}}}return fe},Fe=function(F,fe){return ue(fe.clipboardData||F.getDoc().dataTransfer)},Ge=function(F,fe){return fe in F&&F[fe].length>0},Xe=function(F){return Ge(F,"text/html")||Ge(F,"text/plain")},zt=function(F){var fe=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(F);return fe?{type:fe[1],data:decodeURIComponent(fe[2])}:{type:null,data:null}},fn=function(F,fe){var Q=zr(F);return Q?Q(fe):!0},Ln=function(F,fe){var Q=fe.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Nn(Q)?F.dom.encode(Q[1]):null},Sr=hr("mceclip"),lt=function(F,fe){var Q=zt(fe.uri),Le=Q.data,At=Q.type,A=Sr(),q=fe.blob,ie=new Image;if(ie.src=fe.uri,fn(F,ie)){var L=F.editorUpload.blobCache,ve=void 0,Kt=L.getByData(Le,At);if(Kt)ve=Kt;else{var ur=Jn(F)&&Nn(q.name),un=ur?Ln(F,q.name):A,fa=ur?q.name:void 0;ve=L.create(A,q,Le,un,fa),L.add(ve)}je(F,'<img src="'+ve.blobUri()+'">',!1)}else je(F,'<img src="'+fe.uri+'">',!1)},Vr=function(F){return F.type==="paste"},Za=function(F){return Nn(F.getAsFile)},co=function(F){return st.all(_t(F,function(fe){return new st(function(Q){var Le=Za(fe)?fe.getAsFile():fe,At=new window.FileReader;At.onload=function(){Q({blob:Le,uri:At.result})},At.readAsDataURL(Le)})}))},Ha=function(F){var fe=Ye(F);return function(Q){return se(Q.type,"image/")&&re(fe,function(Le){return Ka(Le)===Q.type})}},_n=function(F,fe){var Q=fe.items?_t(Gt(fe.items),function(At){return At.getAsFile()}):[],Le=fe.files?Gt(fe.files):[];return qn(Q.length>0?Q:Le,Ha(F))},Qr=function(F,fe,Q){var Le=Vr(fe)?fe.clipboardData:fe.dataTransfer;if(on(F)&&Le){var At=_n(F,Le);if(At.length>0)return fe.preventDefault(),co(At).then(function(A){Q&&F.selection.setRng(Q),ar(A,function(q){lt(F,q)})}),!0}return!1},Va=function(F){var fe=F.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&fe&&fe.items&&fe.items.length===0},Y=function(F){return Xn.metaKeyPressed(F)&&F.keyCode===86||F.shiftKey&&F.keyCode===45},Ce=function(F,fe,Q){var Le=Zt(),At=Zt(),A;F.on("keyup",At.clear),F.on("keydown",function(L){var ve=function(Kt){Y(Kt)&&!Kt.isDefaultPrevented()&&fe.remove()};if(Y(L)&&!L.isDefaultPrevented()){if(A=L.shiftKey&&L.keyCode===86,A&&Ve.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(L.stopImmediatePropagation(),Le.set(L),At.set(!0),Ve.ie&&A){L.preventDefault(),bt(F,!0);return}fe.remove(),fe.create(),F.once("keyup",ve),F.once("paste",function(){F.off("keyup",ve)})}});var q=function(L,ve,Kt,ur,un){var fa;Ge(ve,"text/html")?fa=ve["text/html"]:(fa=fe.getHtml(),un=un||gr(fa),fe.isDefaultContent(fa)&&(ur=!0)),fa=cn(fa),fe.remove();var Kr=un===!1&&vn(fa),na=Gn(fa);if((!fa.length||Kr&&!na)&&(ur=!0),(ur||na)&&(Ge(ve,"text/plain")&&Kr?fa=ve["text/plain"]:fa=zn(fa)),fe.isDefaultContent(fa)){Kt||L.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}ur?G(L,fa):je(L,fa,un)},ie=function(){return fe.getLastRng()||F.selection.getRng()};F.on("paste",function(L){var ve=Le.isSet()||At.isSet();ve&&Le.clear();var Kt=Fe(F,L),ur=Q.get()==="text"||A,un=Ge(Kt,Lr());if(A=!1,L.isDefaultPrevented()||Va(L)){fe.remove();return}if(!Xe(Kt)&&Qr(F,L,ie())){fe.remove();return}ve||L.preventDefault(),Ve.ie&&(!ve||L.ieFake)&&!Ge(Kt,"text/html")&&(fe.create(),F.dom.bind(fe.getEl(),"paste",function(fa){fa.stopPropagation()}),F.getDoc().execCommand("Paste",!1,null),Kt["text/html"]=fe.getHtml()),Ge(Kt,"text/html")?(L.preventDefault(),un||(un=gr(Kt["text/html"])),q(F,Kt,ve,ur,un)):Ft.setEditorTimeout(F,function(){q(F,Kt,ve,ur,un)},0)})},Ie=function(F,fe,Q){Ce(F,fe,Q);var Le;F.parser.addNodeFilter("img",function(At,A,q){var ie=function(un){return un.data&&un.data.paste===!0},L=function(un){!un.attr("data-mce-object")&&Le!==Ve.transparentSrc&&un.remove()},ve=function(un){return un.indexOf("webkit-fake-url")===0},Kt=function(un){return un.indexOf("data:")===0};if(!on(F)&&ie(q))for(var ur=At.length;ur--;)Le=At[ur].attr("src"),!!Le&&(ve(Le)||!br(F)&&Kt(Le))&&L(At[ur])})},St=function(F){return Ve.ie&&F.inline?document.body:F.getBody()},an=function(F){return St(F)!==F.getBody()},X=function(F,fe,Q){an(F)&&F.dom.bind(fe,"paste keyup",function(Le){Pr(F,Q)||F.fire("paste")})},he=function(F,fe,Q){var Le=F.dom,At=F.getBody();fe.set(F.selection.getRng());var A=F.dom.add(St(F),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Q);(Ve.ie||Ve.gecko)&&Le.setStyle(A,"left",Le.getStyle(At,"direction",!0)==="rtl"?65535:-65535),Le.bind(A,"beforedeactivate focusin focusout",function(q){q.stopPropagation()}),X(F,A,Q),A.focus(),F.selection.select(A,!0)},Je=function(F,fe){if(Rt(F)){for(var Q=void 0,Le=fe.get();Q=F.dom.get("mcepastebin");)F.dom.remove(Q),F.dom.unbind(Q);Le&&F.selection.setRng(Le)}fe.set(null)},Rt=function(F){return F.dom.get("mcepastebin")},dn=function(F){var fe=function(ie,L){ie.appendChild(L),F.dom.remove(L,!0)},Q=or.grep(St(F).childNodes,function(ie){return ie.id==="mcepastebin"}),Le=Q.shift();or.each(Q,function(ie){fe(Le,ie)});for(var At=F.dom.select("div[id=mcepastebin]",Le),A=At.length-1;A>=0;A--){var q=F.dom.create("div");Le.insertBefore(q,At[A]),fe(q,At[A])}return Le?Le.innerHTML:""},ir=function(F){return F.get()},mn=function(F,fe){return fe===F},Zn=function(F){return F&&F.id==="mcepastebin"},Pr=function(F,fe){var Q=Rt(F);return Zn(Q)&&mn(fe,Q.innerHTML)},Tr=function(F){var fe=Ze(null),Q="%MCEPASTEBIN%";return{create:function(){return he(F,fe,Q)},remove:function(){return Je(F,fe)},getEl:function(){return Rt(F)},getHtml:function(){return dn(F)},getLastRng:function(){return ir(fe)},isDefault:function(){return Pr(F,Q)},isDefaultContent:function(Le){return mn(Q,Le)}}},H=function(F,fe){var Q=Tr(F);return F.on("PreInit",function(){return Ie(F,Q,fe)}),{pasteFormat:fe,pasteHtml:function(Le,At){return je(F,Le,At)},pasteText:function(Le){return G(F,Le)},pasteImageData:function(Le,At){return Qr(F,Le,At)},getDataTransferItems:ue,hasHtmlOrText:Xe,hasContentType:Ge}},xe=function(F,fe){fe.pasteFormat.get()==="text"?(fe.pasteFormat.set("html"),wt(F,!1)):(fe.pasteFormat.set("text"),wt(F,!0)),F.focus()},_e=function(F,fe){F.addCommand("mceTogglePlainTextPaste",function(){xe(F,fe)}),F.addCommand("mceInsertClipboardContent",function(Q,Le){Le.content&&fe.pasteHtml(Le.content,Le.internal),Le.text&&fe.pasteText(Le.text)})},Se=function(F){return Ve.iOS===!1&&typeof(F==null?void 0:F.setData)=="function"},Yt=function(F,fe,Q){if(Se(F))try{return F.clearData(),F.setData("text/html",fe),F.setData("text/plain",Q),F.setData(Lr(),fe),!0}catch{return!1}else return!1},nr=function(F,fe,Q,Le){Yt(F.clipboardData,fe.html,fe.text)?(F.preventDefault(),Le()):Q(fe.html,Le)},ia=function(F){return function(fe,Q){var Le=Wt(fe),At=F.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),A=F.dom.create("div",{contenteditable:"true"},Le);F.dom.setStyles(At,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),At.appendChild(A),F.dom.add(F.getBody(),At);var q=F.selection.getRng();A.focus();var ie=F.dom.createRng();ie.selectNodeContents(A),F.selection.setRng(ie),Ft.setTimeout(function(){F.selection.setRng(q),At.parentNode.removeChild(At),Q()},0)}},ga=function(F){return{html:F.selection.getContent({contextual:!0}),text:F.selection.getContent({format:"text"})}},Er=function(F){return!!F.dom.getParent(F.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",F.getBody())},To=function(F){return!F.selection.isCollapsed()||Er(F)},Xa=function(F){return function(fe){To(F)&&nr(fe,ga(F),ia(F),function(){if(Ve.browser.isChrome()||Ve.browser.isFirefox()){var Q=F.selection.getRng();Ft.setEditorTimeout(F,function(){F.selection.setRng(Q),F.execCommand("Delete")},0)}else F.execCommand("Delete")})}},aa=function(F){return function(fe){To(F)&&nr(fe,ga(F),ia(F),kr)}},qo=function(F){F.on("cut",Xa(F)),F.on("copy",aa(F))},Di=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ls=function(F,fe){return Di.getCaretRangeFromPoint(fe.clientX,fe.clientY,F.getDoc())},Rl=function(F){var fe=F["text/plain"];return fe?fe.indexOf("file://")===0:!1},ha=function(F,fe){F.focus(),F.selection.setRng(fe)},Mr=function(F,fe,Q){dr(F)&&F.on("dragend dragover draggesture dragdrop drop drag",function(Le){Le.preventDefault(),Le.stopPropagation()}),Sn(F)||F.on("drop",function(Le){var At=Le.dataTransfer;At&&At.files&&At.files.length>0&&Le.preventDefault()}),F.on("drop",function(Le){var At=ls(F,Le);if(!(Le.isDefaultPrevented()||Q.get())){var A=fe.getDataTransferItems(Le.dataTransfer),q=fe.hasContentType(A,Lr());if(!((!fe.hasHtmlOrText(A)||Rl(A))&&fe.pasteImageData(Le,At))&&At&&Dn(F)){var ie=A["mce-internal"]||A["text/html"]||A["text/plain"];ie&&(Le.preventDefault(),Ft.setEditorTimeout(F,function(){F.undoManager.transact(function(){A["mce-internal"]&&F.execCommand("Delete"),ha(F,At),ie=cn(ie),A["text/html"]?fe.pasteHtml(ie,q):fe.pasteText(ie)})}))}}}),F.on("dragstart",function(Le){Q.set(!0)}),F.on("dragover dragend",function(Le){Sn(F)&&Q.get()===!1&&(Le.preventDefault(),ha(F,ls(F,Le))),Le.type==="dragend"&&Q.set(!1)})},fs=function(F){var fe=F.plugins.paste,Q=wr(F);Q&&F.on("PastePreProcess",function(At){Q.call(fe,fe,At)});var Le=ee(F);Le&&F.on("PastePostProcess",function(At){Le.call(fe,fe,At)})},Uc=function(F,fe){F.on("PastePreProcess",function(Q){Q.content=fe(F,Q.content,Q.internal,Q.wordContent)})},ju=function(F,fe){F.on("PastePostProcess",function(Q){fe(F,Q.node)})},xa=function(F,fe){if(!Rr(fe))return fe;var Q=[];or.each(F.schema.getBlockElements(),function(At,A){Q.push(A)});var Le=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+Q.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return fe=jt(fe,[[Le,"$1"]]),fe=jt(fe,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),fe},ku=function(F,fe,Q,Le){if(Le||Q)return fe;var At=Pe(F),A;if(Ct(F)===!1||At==="all")return fe;if(At&&(A=At.split(/[, ]/)),A){var q=F.dom,ie=F.selection.getNode();fe=fe.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(L,ve,Kt,ur){var un=q.parseStyle(q.decode(Kt)),fa={};if(A==="none")return ve+ur;for(var Kr=0;Kr<A.length;Kr++){var na=un[A[Kr]],_i=q.getStyle(ie,A[Kr],!0);/color/.test(A[Kr])&&(na=q.toHex(na),_i=q.toHex(_i)),_i!==na&&(fa[A[Kr]]=na)}return fa=q.serializeStyle(fa,"span"),fa?ve+' style="'+fa+'"'+ur:ve+ur})}else fe=fe.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return fe=fe.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(L,ve,Kt,ur){return ve+' style="'+Kt+'"'+ur}),fe},po=function(F,fe){F.$("a",fe).find("font,u").each(function(Q,Le){F.dom.remove(Le,!0)})},qu=function(F){Ve.webkit&&Uc(F,ku),Ve.ie&&(Uc(F,xa),ju(F,po))},Tu=function(F,fe){return function(Q){Q.setActive(fe.pasteFormat.get()==="text");var Le=function(At){return Q.setActive(At.state)};return F.on("PastePlainTextToggle",Le),function(){return F.off("PastePlainTextToggle",Le)}}},mi=function(F,fe){F.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return F.execCommand("mceTogglePlainTextPaste")},onSetup:Tu(F,fe)}),F.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return F.execCommand("mceTogglePlainTextPaste")},onSetup:Tu(F,fe)})};function gv(){Ht.add("paste",function(F){if(En(F)===!1){var fe=Ze(!1),Q=Ze(de(F)?"text":"html"),Le=H(F,Q),At=qu(F);return mi(F,Le),_e(F,Le),fs(F),qo(F),Mr(F,Le,fe),lr(Le,At)}})}gv()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ht=0,En=function(it){var Ut=new Date,xn=Ut.getTime(),Ye=Math.floor(Math.random()*1e9);return Ht++,it+"_"+Ye+Ht+String(xn)},lr=function(it,Ut){var xn,Ye,He;for(He='<table data-mce-id="mce" style="width: 100%">',He+="<tbody>",Ye=0;Ye<Ut;Ye++){for(He+="<tr>",xn=0;xn<it;xn++)He+="<td><br></td>";He+="</tr>"}return He+="</tbody>",He+="</table>",He},pn=function(it){var Ut=it.dom.select("*[data-mce-id]");return Ut[0]},rr=function(it,Ut,xn){it.undoManager.transact(function(){it.insertContent(lr(Ut,xn));var Ye=pn(it);Ye.removeAttribute("data-mce-id");var He=it.dom.select("td,th",Ye);it.selection.setCursorLocation(He[0],0)})},Nn=function(it,Ut,xn){it.plugins.table?it.plugins.table.insertTable(Ut,xn):rr(it,Ut,xn)},jn=function(it,Ut,xn){var Ye=it.editorUpload.blobCache,He=Ye.create(En("mceu"),xn,Ut);Ye.add(He),it.insertContent(it.dom.createHTML("img",{src:He.blobUri()}))},kr=tinymce.util.Tools.resolve("tinymce.util.Promise"),$r=function(it){return new kr(function(Ut){var xn=new FileReader;xn.onloadend=function(){Ut(xn.result.split(",")[1])},xn.readAsDataURL(it)})},Cn=tinymce.util.Tools.resolve("tinymce.Env"),ut=tinymce.util.Tools.resolve("tinymce.util.Delay"),On=function(it){return new kr(function(Ut){var xn=document.createElement("input");xn.type="file",xn.accept="image/*",xn.style.position="fixed",xn.style.left="0",xn.style.top="0",xn.style.opacity="0.001",document.body.appendChild(xn);var Ye=function(mt){Ut(Array.prototype.slice.call(mt.target.files))};xn.addEventListener("change",Ye);var He=function(mt){var Wt=function(){Ut([]),xn.parentNode.removeChild(xn)};Cn.os.isAndroid()&&mt.type!=="remove"?ut.setEditorTimeout(it,Wt,0):Wt(),it.off("focusin remove",He)};it.on("focusin remove",He),xn.click()})},Jt=function(it){it.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:function(){On(it).then(function(Ut){if(Ut.length>0){var xn=Ut[0];$r(xn).then(function(Ye){jn(it,Ye,xn)})}})}}),it.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:function(){Nn(it,2,2)}})},nt=function(it){var Ut=typeof it;return it===null?"null":Ut==="object"&&(Array.prototype.isPrototypeOf(it)||it.constructor&&it.constructor.name==="Array")?"array":Ut==="object"&&(String.prototype.isPrototypeOf(it)||it.constructor&&it.constructor.name==="String")?"string":Ut},cr=function(it){return function(Ut){return nt(Ut)===it}},ct=function(it){return function(Ut){return typeof Ut===it}},tr=function(it){return function(Ut){return it===Ut}},re=cr("string"),_t=cr("object"),ar=cr("array"),qn=ct("boolean"),Qt=tr(void 0),Gt=ct("function"),Zt=function(){},Vt=function(it){return function(){return it}},se=Vt(!1),Z=Vt(!0),qe=function(){return Ve},Ve=function(){var it=function(He){return He.isNone()},Ut=function(He){return He()},xn=function(He){return He},Ye={fold:function(He,mt){return He()},is:se,isSome:se,isNone:Z,getOr:xn,getOrThunk:Ut,getOrDie:function(He){throw new Error(He||"error: getOrDie called on none.")},getOrNull:Vt(null),getOrUndefined:Vt(void 0),or:xn,orThunk:Ut,map:qe,each:Zt,bind:qe,exists:se,forall:Z,filter:qe,equals:it,equals_:it,toArray:function(){return[]},toString:Vt("none()")};return Ye}(),Ft=function(it){var Ut=Vt(it),xn=function(){return He},Ye=function(mt){return mt(it)},He={fold:function(mt,Wt){return Wt(it)},is:function(mt){return it===mt},isSome:Z,isNone:se,getOr:Ut,getOrThunk:Ut,getOrDie:Ut,getOrNull:Ut,getOrUndefined:Ut,or:xn,orThunk:xn,map:function(mt){return Ft(mt(it))},each:function(mt){mt(it)},bind:Ye,exists:Ye,forall:Ye,filter:function(mt){return mt(it)?He:Ve},toArray:function(){return[it]},toString:function(){return"some("+it+")"},equals:function(mt){return mt.is(it)},equals_:function(mt,Wt){return mt.fold(se,function(sn){return Wt(it,sn)})}};return He},st=function(it){return it==null?Ve:Ft(it)},Xn={some:Ft,none:qe,from:st};function E(it,Ut,xn,Ye,He){return it(xn,Ye)?Xn.some(xn):Gt(He)&&He(xn)?Xn.none():Ut(xn,Ye,He)}var yt=1,wt=function(it,Ut){var xn=Ut||document,Ye=xn.createElement("div");if(Ye.innerHTML=it,!Ye.hasChildNodes()||Ye.childNodes.length>1)throw console.error("HTML does not have a single root node",it),new Error("HTML must have a single root node");return dr(Ye.childNodes[0])},bt=function(it,Ut){var xn=Ut||document,Ye=xn.createElement(it);return dr(Ye)},or=function(it,Ut){var xn=Ut||document,Ye=xn.createTextNode(it);return dr(Ye)},dr=function(it){if(it==null)throw new Error("Node cannot be null or undefined");return{dom:it}},Sn=function(it,Ut,xn){return Xn.from(it.dom.elementFromPoint(Ut,xn)).map(dr)},Dn={fromHtml:wt,fromTag:bt,fromText:or,fromDom:dr,fromPoint:Sn},wr=function(it,Ut){var xn=it.dom;if(xn.nodeType!==yt)return!1;var Ye=xn;if(Ye.matches!==void 0)return Ye.matches(Ut);if(Ye.msMatchesSelector!==void 0)return Ye.msMatchesSelector(Ut);if(Ye.webkitMatchesSelector!==void 0)return Ye.webkitMatchesSelector(Ut);if(Ye.mozMatchesSelector!==void 0)return Ye.mozMatchesSelector(Ut);throw new Error("Browser lacks native selectors")};typeof window!="undefined"||Function("return this;")();var ee=function(it){var Ut=it.dom.nodeName;return Ut.toLowerCase()},Pe=function(it,Ut,xn){for(var Ye=it.dom,He=Gt(xn)?xn:se;Ye.parentNode;){Ye=Ye.parentNode;var mt=Dn.fromDom(Ye);if(Ut(mt))return Xn.some(mt);if(He(mt))break}return Xn.none()},Ct=function(it,Ut,xn){var Ye=function(He,mt){return mt(He)};return E(Ye,Pe,it,Ut,xn)},$n=function(it,Ut,xn){return Pe(it,function(Ye){return wr(Ye,Ut)},xn)},Bn=function(it,Ut,xn){var Ye=function(He,mt){return wr(He,mt)};return E(Ye,$n,it,Ut,xn)},de=function(it,Ut){if(Ut(it))return!0;throw new Error("Default value doesn't match requested type.")},We=function(it,Ut){if(ar(it)||_t(it))throw new Error("expected a string but found: "+it);return Qt(it)?Ut:qn(it)?it===!1?"":Ut:it},Be=function(it){return function(Ut,xn,Ye){de(Ye,it);var He=Ut.getParam(xn,Ye);return We(He,Ye)}},pt=Be(re),ke=function(it){return pt(it,"quickbars_selection_toolbar","bold italic | quicklink h2 h3 blockquote")},bn=function(it){return pt(it,"quickbars_insert_toolbar","quickimage quicktable")},br=function(it){return pt(it,"quickbars_image_toolbar","alignleft aligncenter alignright")},on=function(it){var Ut=bn(it);Ut.trim().length>0&&it.ui.registry.addContextToolbar("quickblock",{predicate:function(xn){var Ye=Dn.fromDom(xn),He=it.schema.getTextBlockElements(),mt=function(Wt){return Wt.dom===it.getBody()};return Bn(Ye,"table",mt).fold(function(){return Ct(Ye,function(Wt){return ee(Wt)in He&&it.dom.isEmpty(Wt.dom)},mt).isSome()},se)},items:Ut,position:"line",scope:"editor"})},zr=function(it){var Ut=function(mt){return it.dom.getContentEditableParent(mt)!=="false"},xn=function(mt){return mt.nodeName==="IMG"||mt.nodeName==="FIGURE"&&/image/i.test(mt.className)},Ye=br(it);Ye.trim().length>0&&it.ui.registry.addContextToolbar("imageselection",{predicate:xn,items:Ye,position:"node"});var He=ke(it);He.trim().length>0&&it.ui.registry.addContextToolbar("textselection",{predicate:function(mt){return!xn(mt)&&!it.selection.isCollapsed()&&Ut(mt)},items:He,position:"selection",scope:"editor"})};function Jn(){Ze.add("quickbars",function(it){Jt(it),on(it),zr(it)})}Jn()})();(function(){var Ze=function(G){var ue=G,Fe=function(){return ue},Ge=function(Xe){ue=Xe};return{get:Fe,set:Ge}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),En=function(){return En=Object.assign||function(ue){for(var Fe,Ge=1,Xe=arguments.length;Ge<Xe;Ge++){Fe=arguments[Ge];for(var zt in Fe)Object.prototype.hasOwnProperty.call(Fe,zt)&&(ue[zt]=Fe[zt])}return ue},En.apply(this,arguments)},lr=function(G){var ue=typeof G;return G===null?"null":ue==="object"&&(Array.prototype.isPrototypeOf(G)||G.constructor&&G.constructor.name==="Array")?"array":ue==="object"&&(String.prototype.isPrototypeOf(G)||G.constructor&&G.constructor.name==="String")?"string":ue},pn=function(G){return function(ue){return lr(ue)===G}},rr=function(G){return function(ue){return typeof ue===G}},Nn=pn("string"),jn=pn("array"),kr=rr("boolean"),$r=rr("number"),Cn=function(){},ut=function(G){return function(){return G}},On=ut(!1),Jt=ut(!0),nt="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",cr=ut(nt),ct=function(){return tr},tr=function(){var G=function(Xe){return Xe.isNone()},ue=function(Xe){return Xe()},Fe=function(Xe){return Xe},Ge={fold:function(Xe,zt){return Xe()},is:On,isSome:On,isNone:Jt,getOr:Fe,getOrThunk:ue,getOrDie:function(Xe){throw new Error(Xe||"error: getOrDie called on none.")},getOrNull:ut(null),getOrUndefined:ut(void 0),or:Fe,orThunk:ue,map:ct,each:Cn,bind:ct,exists:On,forall:Jt,filter:ct,equals:G,equals_:G,toArray:function(){return[]},toString:ut("none()")};return Ge}(),re=function(G){var ue=ut(G),Fe=function(){return Xe},Ge=function(zt){return zt(G)},Xe={fold:function(zt,fn){return fn(G)},is:function(zt){return G===zt},isSome:Jt,isNone:On,getOr:ue,getOrThunk:ue,getOrDie:ue,getOrNull:ue,getOrUndefined:ue,or:Fe,orThunk:Fe,map:function(zt){return re(zt(G))},each:function(zt){zt(G)},bind:Ge,exists:Ge,forall:Ge,filter:function(zt){return zt(G)?Xe:tr},toArray:function(){return[G]},toString:function(){return"some("+G+")"},equals:function(zt){return zt.is(G)},equals_:function(zt,fn){return zt.fold(On,function(Ln){return fn(G,Ln)})}};return Xe},_t=function(G){return G==null?tr:re(G)},ar={some:re,none:ct,from:_t},qn=cr,Qt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Gt=Array.prototype.slice,Zt=Array.prototype.push,Vt=function(G,ue){for(var Fe=G.length,Ge=new Array(Fe),Xe=0;Xe<Fe;Xe++){var zt=G[Xe];Ge[Xe]=ue(zt,Xe)}return Ge},se=function(G,ue){for(var Fe=0,Ge=G.length;Fe<Ge;Fe++){var Xe=G[Fe];ue(Xe,Fe)}},Z=function(G,ue){for(var Fe=G.length-1;Fe>=0;Fe--){var Ge=G[Fe];ue(Ge,Fe)}},qe=function(G,ue){if(G.length===0)return[];for(var Fe=ue(G[0]),Ge=[],Xe=[],zt=0,fn=G.length;zt<fn;zt++){var Ln=G[zt],Sr=ue(Ln);Sr!==Fe&&(Ge.push(Xe),Xe=[]),Fe=Sr,Xe.push(Ln)}return Xe.length!==0&&Ge.push(Xe),Ge},Ve=function(G,ue,Fe){return se(G,function(Ge){Fe=ue(Fe,Ge)}),Fe},Ft=function(G){for(var ue=[],Fe=0,Ge=G.length;Fe<Ge;++Fe){if(!jn(G[Fe]))throw new Error("Arr.flatten item "+Fe+" was not an array, input: "+G);Zt.apply(ue,G[Fe])}return ue},st=function(G,ue){return Ft(Vt(G,ue))},Xn=function(G,ue){var Fe=Gt.call(G,0);return Fe.sort(ue),Fe},E=Object.hasOwnProperty,yt=function(G,ue){return E.call(G,ue)};typeof window!="undefined"||Function("return this;")();var wt=9,bt=11,or=1,dr=3,Sn=function(G){return G.dom.nodeType},Dn=function(G){return function(ue){return Sn(ue)===G}},wr=Dn(dr),ee=function(G,ue,Fe){if(Nn(Fe)||kr(Fe)||$r(Fe))G.setAttribute(ue,Fe+"");else throw console.error("Invalid call to Attribute.set. Key ",ue,":: Value ",Fe,":: Element ",G),new Error("Attribute value was not simple")},Pe=function(G,ue,Fe){ee(G.dom,ue,Fe)},Ct=function(G,ue,Fe){return(G.compareDocumentPosition(ue)&Fe)!==0},$n=function(G,ue){return Ct(G,ue,Node.DOCUMENT_POSITION_PRECEDING)},Bn=function(G,ue){var Fe=ue||document,Ge=Fe.createElement("div");if(Ge.innerHTML=G,!Ge.hasChildNodes()||Ge.childNodes.length>1)throw console.error("HTML does not have a single root node",G),new Error("HTML must have a single root node");return Be(Ge.childNodes[0])},de=function(G,ue){var Fe=ue||document,Ge=Fe.createElement(G);return Be(Ge)},We=function(G,ue){var Fe=ue||document,Ge=Fe.createTextNode(G);return Be(Ge)},Be=function(G){if(G==null)throw new Error("Node cannot be null or undefined");return{dom:G}},pt=function(G,ue,Fe){return ar.from(G.dom.elementFromPoint(ue,Fe)).map(Be)},ke={fromHtml:Bn,fromTag:de,fromText:We,fromDom:Be,fromPoint:pt},bn=function(G){return G.nodeType!==or&&G.nodeType!==wt&&G.nodeType!==bt||G.childElementCount===0},br=function(G,ue){var Fe=ue===void 0?document:ue.dom;return bn(Fe)?[]:Vt(Fe.querySelectorAll(G),ke.fromDom)},on=function(G){return ar.from(G.dom.parentNode).map(ke.fromDom)},zr=function(G){return Vt(G.dom.childNodes,ke.fromDom)},Jn=function(G,ue){return{element:G,offset:ue}},it=function(G,ue){var Fe=zr(G);return Fe.length>0&&ue<Fe.length?Jn(Fe[ue],0):Jn(G,ue)},Ut=function(G,ue){var Fe=on(G);Fe.each(function(Ge){Ge.dom.insertBefore(ue.dom,G.dom)})},xn=function(G,ue){G.dom.appendChild(ue.dom)},Ye=function(G,ue){Ut(G,ue),xn(ue,G)},He=function(G,ue){var Fe=function(zt){if(!G(zt))throw new Error("Can only get "+ue+" value of a "+ue+" node");return Ge(zt).getOr("")},Ge=function(zt){return G(zt)?ar.from(zt.dom.nodeValue):ar.none()},Xe=function(zt,fn){if(!G(zt))throw new Error("Can only set raw "+ue+" value of a "+ue+" node");zt.dom.nodeValue=fn};return{get:Fe,getOption:Ge,set:Xe}},mt=He(wr,"text"),Wt=function(G){return mt.get(G)},sn=function(G,ue){return br(ue,G)},gr=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Lr=function(G,ue){return G.isBlock(ue)||yt(G.schema.getShortEndedElements(),ue.nodeName)},Cr=function(G,ue){return G.getContentEditable(ue)==="false"},vn=function(G,ue){return G.getContentEditable(ue)==="true"&&G.getContentEditableParent(ue.parentNode)==="false"},Br=function(G,ue){return!G.isBlock(ue)&&yt(G.schema.getWhiteSpaceElements(),ue.nodeName)},qr=function(G,ue){return Lr(G,ue)||Cr(G,ue)||Br(G,ue)||vn(G,ue)},Ma=function(G){return G.nodeType===3},Na=function(){return{sOffset:0,fOffset:0,elements:[]}},Pa=function(G,ue){return it(ke.fromDom(G),ue)},Gr=function(G,ue,Fe,Ge,Xe,zt){zt===void 0&&(zt=!0);for(var fn=zt?ue(!1):Fe;fn;){var Ln=Cr(G,fn);if(Ln||Br(G,fn)){var Sr=Ln?Ge.cef(fn):Ge.boundary(fn);if(Sr)break;fn=ue(!0);continue}else if(Lr(G,fn)){if(Ge.boundary(fn))break}else Ma(fn)&&Ge.text(fn);if(fn===Xe)break;fn=ue(!1)}},Fa=function(G,ue,Fe,Ge,Xe){if(!qr(G,Fe)){var zt=G.getParent(Ge,G.isBlock),fn=new gr(Fe,zt),Ln=Xe?fn.next.bind(fn):fn.prev.bind(fn);Gr(G,Ln,Fe,{boundary:Jt,cef:Jt,text:function(Sr){Xe?ue.fOffset+=Sr.length:ue.sOffset+=Sr.length,ue.elements.push(ke.fromDom(Sr))}})}},De=function(G,ue,Fe,Ge,Xe,zt){zt===void 0&&(zt=!0);var fn=new gr(Fe,ue),Ln=[],Sr=Na();Fa(G,Sr,Fe,ue,!1);var lt=function(){return Sr.elements.length>0&&(Ln.push(Sr),Sr=Na()),!1};return Gr(G,fn.next.bind(fn),Fe,{boundary:lt,cef:function(Vr){return lt(),Xe&&Ln.push.apply(Ln,Xe.cef(Vr)),!1},text:function(Vr){Sr.elements.push(ke.fromDom(Vr)),Xe&&Xe.text(Vr,Sr)}},Ge,zt),Ge&&Fa(G,Sr,Ge,ue,!0),lt(),Ln},dt=function(G,ue){var Fe=Pa(ue.startContainer,ue.startOffset),Ge=Fe.element.dom,Xe=Pa(ue.endContainer,ue.endOffset),zt=Xe.element.dom;return De(G,ue.commonAncestorContainer,Ge,zt,{text:function(fn,Ln){fn===zt?Ln.fOffset+=fn.length-Xe.offset:fn===Ge&&(Ln.sOffset+=Fe.offset)},cef:function(fn){var Ln=st(sn(ke.fromDom(fn),"*[contenteditable=true]"),function(Sr){var lt=Sr.dom;return De(G,lt,lt)});return Xn(Ln,function(Sr,lt){return $n(Sr.elements[0].dom,lt.elements[0].dom)?1:-1})}},!1)},jt=function(G,ue){return ue.collapsed?[]:dt(G,ue)},zn=function(G,ue){var Fe=G.createRng();return Fe.selectNode(ue),jt(G,Fe)},cn=function(G,ue){return st(ue,function(Fe){return zn(G,Fe)})},hr=function(G,ue,Fe,Ge){Fe===void 0&&(Fe=0),Ge===void 0&&(Ge=G.length);var Xe=ue.regex;Xe.lastIndex=Fe;for(var zt=[],fn;fn=Xe.exec(G);){var Ln=fn[ue.matchIndex],Sr=fn.index+fn[0].indexOf(Ln),lt=Sr+Ln.length;if(lt>Ge)break;zt.push({start:Sr,finish:lt}),Xe.lastIndex=lt}return zt},Ka=function(G,ue){var Fe=Ve(G,function(Ge,Xe){var zt=Wt(Xe),fn=Ge.last,Ln=fn+zt.length,Sr=st(ue,function(lt,Vr){return lt.start<Ln&&lt.finish>fn?[{element:Xe,start:Math.max(fn,lt.start)-fn,finish:Math.min(Ln,lt.finish)-fn,matchId:Vr}]:[]});return{results:Ge.results.concat(Sr),last:Ln}},{results:[],last:0}).results;return qe(Fe,function(Ge){return Ge.matchId})},Rr=function(G,ue){return st(ue,function(Fe){var Ge=Fe.elements,Xe=Vt(Ge,Wt).join(""),zt=hr(Xe,G,Fe.sOffset,Xe.length-Fe.fOffset);return Ka(Ge,zt)})},Or=function(G,ue){Z(G,function(Fe,Ge){Z(Fe,function(Xe){var zt=ke.fromDom(ue.cloneNode(!1));Pe(zt,"data-mce-index",Ge);var fn=Xe.element.dom;if(fn.length===Xe.finish&&Xe.start===0)Ye(Xe.element,zt);else{fn.length!==Xe.finish&&fn.splitText(Xe.finish);var Ln=fn.splitText(Xe.start);Ye(ke.fromDom(Ln),zt)}})})},go=function(G,ue,Fe,Ge){var Xe=zn(G,Fe),zt=Rr(ue,Xe);return Or(zt,Ge),zt.length},Co=function(G,ue,Fe,Ge){var Xe=Fe.getBookmark(),zt=G.select("td[data-mce-selected],th[data-mce-selected]"),fn=zt.length>0?cn(G,zt):jt(G,Fe.getRng()),Ln=Rr(ue,fn);return Or(Ln,Ge),Fe.moveToBookmark(Xe),Ln.length},So=function(G){var ue=G.getAttribute("data-mce-index");return typeof ue=="number"?""+ue:ue},di=function(G,ue,Fe,Ge){var Xe=G.dom.create("span",{"data-mce-bogus":1});Xe.className="mce-match-marker";var zt=G.getBody();return Io(G,ue,!1),Ge?Co(G.dom,Fe,G.selection,Xe):go(G.dom,Fe,zt,Xe)},Ja=function(G){var ue=G.parentNode;G.firstChild&&ue.insertBefore(G.firstChild,G),G.parentNode.removeChild(G)},xo=function(G,ue){var Fe=[],Ge=Qt.toArray(G.getBody().getElementsByTagName("span"));if(Ge.length)for(var Xe=0;Xe<Ge.length;Xe++){var zt=So(Ge[Xe]);zt===null||!zt.length||zt===ue.toString()&&Fe.push(Ge[Xe])}return Fe},io=function(G,ue,Fe){var Ge=ue.get(),Xe=Ge.index,zt=G.dom;Fe=Fe!==!1,Fe?Xe+1===Ge.count?Xe=0:Xe++:Xe-1===-1?Xe=Ge.count-1:Xe--,zt.removeClass(xo(G,Ge.index),"mce-match-marker-selected");var fn=xo(G,Xe);return fn.length?(zt.addClass(xo(G,Xe),"mce-match-marker-selected"),G.selection.scrollIntoView(fn[0]),Xe):-1},Pn=function(G,ue){var Fe=ue.parentNode;G.remove(ue),G.isEmpty(Fe)&&G.remove(Fe)},Oa=function(G,ue){var Fe=G.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),Ge="("+Fe+")";return ue?"(?:^|\\s|"+qn()+")"+Ge+("(?=$|\\s|"+qn()+")"):Ge},La=function(G,ue,Fe,Ge,Xe,zt){var fn=Oa(Fe,Xe),Ln={regex:new RegExp(fn,Ge?"g":"gi"),matchIndex:1},Sr=di(G,ue,Ln,zt);if(Sr){var lt=io(G,ue,!0);ue.set({index:lt,count:Sr,text:Fe,matchCase:Ge,wholeWord:Xe,inSelection:zt})}return Sr},so=function(G,ue){var Fe=io(G,ue,!0);ue.set(En(En({},ue.get()),{index:Fe}))},Gn=function(G,ue){var Fe=io(G,ue,!1);ue.set(En(En({},ue.get()),{index:Fe}))},ho=function(G){var ue=So(G);return ue!==null&&ue.length>0},_o=function(G,ue,Fe,Ge,Xe){var zt=ue.get(),fn=zt.index,Ln,Sr=fn;Ge=Ge!==!1;for(var lt=G.getBody(),Vr=Qt.grep(Qt.toArray(lt.getElementsByTagName("span")),ho),Za=0;Za<Vr.length;Za++){var co=So(Vr[Za]),Ha=Ln=parseInt(co,10);if(Xe||Ha===zt.index){for(Fe.length?(Vr[Za].firstChild.nodeValue=Fe,Ja(Vr[Za])):Pn(G.dom,Vr[Za]);Vr[++Za];)if(Ha=parseInt(So(Vr[Za]),10),Ha===Ln)Pn(G.dom,Vr[Za]);else{Za--;break}Ge&&Sr--}else Ln>fn&&Vr[Za].setAttribute("data-mce-index",String(Ln-1))}return ue.set(En(En({},zt),{count:Xe?0:zt.count-1,index:Sr})),Ge?so(G,ue):Gn(G,ue),!Xe&&ue.get().count>0},Io=function(G,ue,Fe){var Ge,Xe,zt,fn=ue.get(),Ln=Qt.toArray(G.getBody().getElementsByTagName("span"));for(Ge=0;Ge<Ln.length;Ge++){var Sr=So(Ln[Ge]);Sr!==null&&Sr.length&&(Sr===fn.index.toString()&&(Xe||(Xe=Ln[Ge].firstChild),zt=Ln[Ge].firstChild),Ja(Ln[Ge]))}if(ue.set(En(En({},fn),{index:-1,count:0,text:""})),Xe&&zt){var lt=G.dom.createRng();return lt.setStart(Xe,0),lt.setEnd(zt,zt.data.length),Fe!==!1&&G.selection.setRng(lt),lt}},ei=function(G,ue){return ue.get().count>1},Hr=function(G,ue){return ue.get().count>1},Wo=function(G,ue){var Fe=function(Ln){return Io(G,ue,Ln)},Ge=function(Ln,Sr,lt,Vr){return Vr===void 0&&(Vr=!1),La(G,ue,Ln,Sr,lt,Vr)},Xe=function(){return so(G,ue)},zt=function(){return Gn(G,ue)},fn=function(Ln,Sr,lt){return _o(G,ue,Ln,Sr,lt)};return{done:Fe,find:Ge,next:Xe,prev:zt,replace:fn}},ko=function(){var G=Ze(ar.none()),ue=function(){return G.set(ar.none())},Fe=function(zt){return G.set(ar.some(zt))},Ge=function(){return G.get().isSome()},Xe=function(zt){return G.get().each(zt)};return{clear:ue,set:Fe,isSet:Ge,on:Xe}},Po=tinymce.util.Tools.resolve("tinymce.Env"),jo=function(G,ue){var Fe=ko();G.undoManager.add();var Ge=Qt.trim(G.selection.getContent({format:"text"})),Xe=function(_n){var Qr=ei(G,ue)?_n.enable:_n.disable;Qr("next");var Va=Hr(G,ue)?_n.enable:_n.disable;Va("prev")},zt=function(_n){var Qr=_n.getData(),Va=ue.get();ue.set(En(En({},Va),{matchCase:Qr.matchcase,wholeWord:Qr.wholewords,inSelection:Qr.inselection}))},fn=function(_n,Qr){var Va=["replace","replaceall","prev","next"],Y=Qr?_n.disable:_n.enable;se(Va,Y)},Ln=function(_n){G.windowManager.alert("Could not find the specified string.",function(){_n.focus("findtext")})},Sr=function(_n,Qr){Po.browser.isSafari()&&Po.deviceType.isTouch()&&(Qr==="find"||Qr==="replace"||Qr==="replaceall")&&_n.focus(Qr)},lt=function(_n){Io(G,ue,!1),fn(_n,!0),Xe(_n)},Vr=function(_n){var Qr=_n.getData(),Va=ue.get();if(!Qr.findtext.length){lt(_n);return}if(Va.text===Qr.findtext&&Va.matchCase===Qr.matchcase&&Va.wholeWord===Qr.wholewords)so(G,ue);else{var Y=La(G,ue,Qr.findtext,Qr.matchcase,Qr.wholewords,Qr.inselection);Y<=0&&Ln(_n),fn(_n,Y===0)}Xe(_n)},Za=ue.get(),co={findtext:Ge,replacetext:"",wholewords:Za.wholeWord,matchcase:Za.matchCase,inselection:Za.inSelection},Ha={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:co,onChange:function(_n,Qr){Qr.name==="findtext"&&ue.get().count>0&&lt(_n)},onAction:function(_n,Qr){var Va=_n.getData();switch(Qr.name){case"find":Vr(_n);break;case"replace":_o(G,ue,Va.replacetext)?Xe(_n):lt(_n);break;case"replaceall":_o(G,ue,Va.replacetext,!0,!0),lt(_n);break;case"prev":Gn(G,ue),Xe(_n);break;case"next":so(G,ue),Xe(_n);break;case"matchcase":case"wholewords":case"inselection":zt(_n),lt(_n);break}Sr(_n,Qr.name)},onSubmit:function(_n){Vr(_n),Sr(_n,"find")},onClose:function(){G.focus(),Io(G,ue),G.undoManager.add()}};Fe.set(G.windowManager.open(Ha,{inline:"toolbar"}))},ce=function(G,ue){G.addCommand("SearchReplace",function(){jo(G,ue)})},Ee=function(G,ue){return function(){jo(G,ue)}},$e=function(G,ue){G.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Ee(G,ue),icon:"search"}),G.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Ee(G,ue),icon:"search"}),G.shortcuts.add("Meta+F","",Ee(G,ue))};function je(){Ht.add("searchreplace",function(G){var ue=Ze({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return ce(G,ue),$e(G,ue),Wo(G,ue)})}je()})();(function(){var Ze=function(u){var l=typeof u;return u===null?"null":l==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":l==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":l},Ht=function(u){return function(l){return Ze(l)===u}},En=function(u){return function(l){return typeof l===u}},lr=function(u){return function(l){return u===l}},pn=Ht("string"),rr=Ht("object"),Nn=Ht("array"),jn=En("boolean"),kr=lr(void 0),$r=function(u){return u==null},Cn=function(u){return!$r(u)},ut=En("function"),On=En("number"),Jt=function(){},nt=function(u,l){return function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return u(l.apply(null,d))}},cr=function(u,l){return function(d){return u(l(d))}},ct=function(u){return function(){return u}},tr=function(u){return u};function re(u){for(var l=[],d=1;d<arguments.length;d++)l[d-1]=arguments[d];return function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];var x=l.concat(h);return u.apply(null,x)}}var _t=function(u){return function(l){return!u(l)}},ar=function(u){return function(){throw new Error(u)}},qn=ct(!1),Qt=ct(!0),Gt=function(){return Zt},Zt=function(){var u=function(w){return w.isNone()},l=function(w){return w()},d=function(w){return w},h={fold:function(w,x){return w()},is:qn,isSome:qn,isNone:Qt,getOr:d,getOrThunk:l,getOrDie:function(w){throw new Error(w||"error: getOrDie called on none.")},getOrNull:ct(null),getOrUndefined:ct(void 0),or:d,orThunk:l,map:Gt,each:Jt,bind:Gt,exists:qn,forall:Qt,filter:Gt,equals:u,equals_:u,toArray:function(){return[]},toString:ct("none()")};return h}(),Vt=function(u){var l=ct(u),d=function(){return w},h=function(x){return x(u)},w={fold:function(x,_){return _(u)},is:function(x){return u===x},isSome:Qt,isNone:qn,getOr:l,getOrThunk:l,getOrDie:l,getOrNull:l,getOrUndefined:l,or:d,orThunk:d,map:function(x){return Vt(x(u))},each:function(x){x(u)},bind:h,exists:h,forall:h,filter:function(x){return x(u)?w:Zt},toArray:function(){return[u]},toString:function(){return"some("+u+")"},equals:function(x){return x.is(u)},equals_:function(x,_){return x.fold(qn,function(z){return _(u,z)})}};return w},se=function(u){return u==null?Zt:Vt(u)},Z={some:Vt,none:Gt,from:se},qe=Array.prototype.slice,Ve=Array.prototype.indexOf,Ft=Array.prototype.push,st=function(u,l){return Ve.call(u,l)},Xn=function(u,l){return st(u,l)>-1},E=function(u,l){for(var d=0,h=u.length;d<h;d++){var w=u[d];if(l(w,d))return!0}return!1},yt=function(u,l){for(var d=[],h=0;h<u;h++)d.push(l(h));return d},wt=function(u,l){for(var d=u.length,h=new Array(d),w=0;w<d;w++){var x=u[w];h[w]=l(x,w)}return h},bt=function(u,l){for(var d=0,h=u.length;d<h;d++){var w=u[d];l(w,d)}},or=function(u,l){for(var d=u.length-1;d>=0;d--){var h=u[d];l(h,d)}},dr=function(u,l){for(var d=[],h=[],w=0,x=u.length;w<x;w++){var _=u[w],z=l(_,w)?d:h;z.push(_)}return{pass:d,fail:h}},Sn=function(u,l){for(var d=[],h=0,w=u.length;h<w;h++){var x=u[h];l(x,h)&&d.push(x)}return d},Dn=function(u,l,d){return or(u,function(h){d=l(d,h)}),d},wr=function(u,l,d){return bt(u,function(h){d=l(d,h)}),d},ee=function(u,l,d){for(var h=0,w=u.length;h<w;h++){var x=u[h];if(l(x,h))return Z.some(x);if(d(x,h))break}return Z.none()},Pe=function(u,l){return ee(u,l,qn)},Ct=function(u,l){for(var d=0,h=u.length;d<h;d++){var w=u[d];if(l(w,d))return Z.some(d)}return Z.none()},$n=function(u){for(var l=[],d=0,h=u.length;d<h;++d){if(!Nn(u[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+u);Ft.apply(l,u[d])}return l},Bn=function(u,l){return $n(wt(u,l))},de=function(u,l){for(var d=0,h=u.length;d<h;++d){var w=u[d];if(l(w,d)!==!0)return!1}return!0},We=function(u){var l=qe.call(u,0);return l.reverse(),l},Be=function(u,l){for(var d={},h=0,w=u.length;h<w;h++){var x=u[h];d[String(x)]=l(x,h)}return d},pt=function(u){return[u]},ke=function(u,l){var d=qe.call(u,0);return d.sort(l),d},bn=function(u,l){return l>=0&&l<u.length?Z.some(u[l]):Z.none()},br=function(u){return bn(u,0)},on=function(u){return bn(u,u.length-1)},zr=function(u,l){for(var d=0;d<u.length;d++){var h=l(u[d],d);if(h.isSome())return h}return Z.none()},Jn=function(){return Jn=Object.assign||function(l){for(var d,h=1,w=arguments.length;h<w;h++){d=arguments[h];for(var x in d)Object.prototype.hasOwnProperty.call(d,x)&&(l[x]=d[x])}return l},Jn.apply(this,arguments)};function it(){for(var u=0,l=0,d=arguments.length;l<d;l++)u+=arguments[l].length;for(var h=Array(u),w=0,l=0;l<d;l++)for(var x=arguments[l],_=0,z=x.length;_<z;_++,w++)h[w]=x[_];return h}var Ut=function(u){var l=!1,d;return function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];return l||(l=!0,d=u.apply(null,h)),d}},xn=function(u,l,d,h){var w=u.isiOS()&&/ipad/i.test(d)===!0,x=u.isiOS()&&!w,_=u.isiOS()||u.isAndroid(),z=_||h("(pointer:coarse)"),I=w||!x&&_&&h("(min-device-width:768px)"),oe=x||_&&!I,ye=l.isSafari()&&u.isiOS()&&/safari/i.test(d)===!1,Ot=!oe&&!I&&!ye;return{isiPad:ct(w),isiPhone:ct(x),isTablet:ct(I),isPhone:ct(oe),isTouch:ct(z),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:ct(ye),isDesktop:ct(Ot)}},Ye=function(u,l){for(var d=0;d<u.length;d++){var h=u[d];if(h.test(l))return h}},He=function(u,l){var d=Ye(u,l);if(!d)return{major:0,minor:0};var h=function(w){return Number(l.replace(d,"$"+w))};return sn(h(1),h(2))},mt=function(u,l){var d=String(l).toLowerCase();return u.length===0?Wt():He(u,d)},Wt=function(){return sn(0,0)},sn=function(u,l){return{major:u,minor:l}},gr={nu:sn,detect:mt,unknown:Wt},Lr=function(u,l){var d=String(l).toLowerCase();return Pe(u,function(h){return h.search(d)})},Cr=function(u,l){return Lr(u,l).map(function(d){var h=gr.detect(d.versionRegexes,l);return{current:d.name,version:h}})},vn=function(u,l){return Lr(u,l).map(function(d){var h=gr.detect(d.versionRegexes,l);return{current:d.name,version:h}})},Br={detectBrowser:Cr,detectOs:vn},qr=function(u,l,d){return l===""||u.length>=l.length&&u.substr(d,d+l.length)===l},Ma=function(u,l){return u.indexOf(l)!==-1},Na=function(u,l){return qr(u,l,0)},Pa=function(u,l){return qr(u,l,u.length-l.length)},Gr=function(u){return function(l){return l.replace(u,"")}},Fa=Gr(/^\s+|\s+$/g),De=function(u){return u.length>0},dt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,jt=function(u){return function(l){return Ma(l,u)}},zn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return Ma(u,"edge/")&&Ma(u,"chrome")&&Ma(u,"safari")&&Ma(u,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,dt],search:function(u){return Ma(u,"chrome")&&!Ma(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return Ma(u,"msie")||Ma(u,"trident")}},{name:"Opera",versionRegexes:[dt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:jt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:jt("firefox")},{name:"Safari",versionRegexes:[dt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(Ma(u,"safari")||Ma(u,"mobile/"))&&Ma(u,"applewebkit")}}],cn=[{name:"Windows",search:jt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return Ma(u,"iphone")||Ma(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:jt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:jt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:jt("linux"),versionRegexes:[]},{name:"Solaris",search:jt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:jt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:jt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],hr={browsers:ct(zn),oses:ct(cn)},Ka="Edge",Rr="Chrome",Or="IE",go="Opera",Co="Firefox",So="Safari",di=function(){return Ja({current:void 0,version:gr.unknown()})},Ja=function(u){var l=u.current,d=u.version,h=function(w){return function(){return l===w}};return{current:l,version:d,isEdge:h(Ka),isChrome:h(Rr),isIE:h(Or),isOpera:h(go),isFirefox:h(Co),isSafari:h(So)}},xo={unknown:di,nu:Ja,edge:ct(Ka),chrome:ct(Rr),ie:ct(Or),opera:ct(go),firefox:ct(Co),safari:ct(So)},io="Windows",Pn="iOS",Oa="Android",La="Linux",so="OSX",Gn="Solaris",ho="FreeBSD",_o="ChromeOS",Io=function(){return ei({current:void 0,version:gr.unknown()})},ei=function(u){var l=u.current,d=u.version,h=function(w){return function(){return l===w}};return{current:l,version:d,isWindows:h(io),isiOS:h(Pn),isAndroid:h(Oa),isOSX:h(so),isLinux:h(La),isSolaris:h(Gn),isFreeBSD:h(ho),isChromeOS:h(_o)}},Hr={unknown:Io,nu:ei,windows:ct(io),ios:ct(Pn),android:ct(Oa),linux:ct(La),osx:ct(so),solaris:ct(Gn),freebsd:ct(ho),chromeos:ct(_o)},Wo=function(u,l){var d=hr.browsers(),h=hr.oses(),w=Br.detectBrowser(d,u).fold(xo.unknown,xo.nu),x=Br.detectOs(h,u).fold(Hr.unknown,Hr.nu),_=xn(x,w,u,l);return{browser:w,os:x,deviceType:_}},ko={detect:Wo},Po=function(u){return window.matchMedia(u).matches},jo=Ut(function(){return ko.detect(navigator.userAgent,Po)}),ce=function(){return jo()},Ee=function(u,l,d){return(u.compareDocumentPosition(l)&d)!==0},$e=function(u,l){return Ee(u,l,Node.DOCUMENT_POSITION_CONTAINED_BY)},je=8,G=9,ue=11,Fe=1,Ge=3,Xe=function(u,l){var d=l||document,h=d.createElement("div");if(h.innerHTML=u,!h.hasChildNodes()||h.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return Ln(h.childNodes[0])},zt=function(u,l){var d=l||document,h=d.createElement(u);return Ln(h)},fn=function(u,l){var d=l||document,h=d.createTextNode(u);return Ln(h)},Ln=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Sr=function(u,l,d){return Z.from(u.dom.elementFromPoint(l,d)).map(Ln)},lt={fromHtml:Xe,fromTag:zt,fromText:fn,fromDom:Ln,fromPoint:Sr},Vr=function(u,l){var d=u.dom;if(d.nodeType!==Fe)return!1;var h=d;if(h.matches!==void 0)return h.matches(l);if(h.msMatchesSelector!==void 0)return h.msMatchesSelector(l);if(h.webkitMatchesSelector!==void 0)return h.webkitMatchesSelector(l);if(h.mozMatchesSelector!==void 0)return h.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")},Za=function(u){return u.nodeType!==Fe&&u.nodeType!==G&&u.nodeType!==ue||u.childElementCount===0},co=function(u,l){var d=l===void 0?document:l.dom;return Za(d)?[]:wt(d.querySelectorAll(u),lt.fromDom)},Ha=function(u,l){var d=l===void 0?document:l.dom;return Za(d)?Z.none():Z.from(d.querySelector(u)).map(lt.fromDom)},_n=function(u,l){return u.dom===l.dom},Qr=function(u,l){var d=u.dom,h=l.dom;return d===h?!1:d.contains(h)},Va=function(u,l){return $e(u.dom,l.dom)},Y=function(u,l){return ce().browser.isIE()?Va(u,l):Qr(u,l)},Ce=Vr,Ie=Object.keys,St=Object.hasOwnProperty,an=function(u,l){for(var d=Ie(u),h=0,w=d.length;h<w;h++){var x=d[h],_=u[x];l(_,x)}},X=function(u,l){return he(u,function(d,h){return{k:h,v:l(d,h)}})},he=function(u,l){var d={};return an(u,function(h,w){var x=l(h,w);d[x.k]=x.v}),d},Je=function(u){return function(l,d){u[d]=l}},Rt=function(u,l,d,h){var w={};return an(u,function(x,_){(l(x,_)?d:h)(x,_)}),w},dn=function(u,l){var d={};return Rt(u,l,Je(d),Jt),d},ir=function(u,l){var d=[];return an(u,function(h,w){d.push(l(h,w))}),d},mn=function(u){return ir(u,function(l){return l})},Zn=function(u){return Ie(u).length},Pr=function(u,l){return Tr(u,l)?Z.from(u[l]):Z.none()},Tr=function(u,l){return St.call(u,l)},H=function(u,l){return Tr(u,l)&&u[l]!==void 0&&u[l]!==null},xe=function(u){for(var l in u)if(St.call(u,l))return!1;return!0},_e=["tfoot","thead","tbody","colgroup"],Se=function(u){return Xn(_e,u)},Yt=function(u,l){return{rows:u,columns:l}},nr=function(u,l){return{row:u,column:l}},ia=function(u,l,d){return{element:u,rowspan:l,colspan:d}},ga=function(u,l,d,h){return{element:u,rowspan:l,colspan:d,isNew:h}},Er=function(u,l,d,h,w,x){return{element:u,rowspan:l,colspan:d,row:h,column:w,isLocked:x}},To=function(u,l,d){return{element:u,cells:l,section:d}},Xa=function(u,l,d){return{element:u,isNew:l,isLocked:d}},aa=function(u,l,d,h){return{element:u,cells:l,section:d,isNew:h}},qo=function(u,l){return{cells:u,section:l}},Di=function(u,l){return{details:u,section:l}},ls=function(u,l,d,h){return{startRow:u,startCol:l,finishRow:d,finishCol:h}},Rl=function(u,l,d){return{element:u,colspan:l,column:d}};typeof window!="undefined"||Function("return this;")();var ha=function(u){var l=u.dom.nodeName;return l.toLowerCase()},Mr=function(u){return u.dom.nodeType},fs=function(u){return function(l){return Mr(l)===u}},Uc=function(u){return Mr(u)===je||ha(u)==="#comment"},ju=fs(Fe),xa=fs(Ge),ku=fs(G),po=fs(ue),qu=function(u){return function(l){return ju(l)&&ha(l)===u}},Tu=function(u){return lt.fromDom(u.dom.ownerDocument)},mi=function(u){return ku(u)?u:Tu(u)},gv=function(u){return lt.fromDom(mi(u).dom.defaultView)},F=function(u){return Z.from(u.dom.parentNode).map(lt.fromDom)},fe=function(u,l){for(var d=ut(l)?l:qn,h=u.dom,w=[];h.parentNode!==null&&h.parentNode!==void 0;){var x=h.parentNode,_=lt.fromDom(x);if(w.push(_),d(_)===!0)break;h=x}return w},Q=function(u){return Z.from(u.dom.offsetParent).map(lt.fromDom)},Le=function(u){return Z.from(u.dom.previousSibling).map(lt.fromDom)},At=function(u){return Z.from(u.dom.nextSibling).map(lt.fromDom)},A=function(u){return wt(u.dom.childNodes,lt.fromDom)},q=function(u,l){var d=u.dom.childNodes;return Z.from(d[l]).map(lt.fromDom)},ie=function(u){return q(u,0)},L=function(u){return po(u)&&Cn(u.dom.host)},ve=ut(Element.prototype.attachShadow)&&ut(Node.prototype.getRootNode),Kt=ct(ve),ur=ve?function(u){return lt.fromDom(u.dom.getRootNode())}:mi,un=function(u){var l=ur(u);return L(l)?Z.some(l):Z.none()},fa=function(u){return lt.fromDom(u.dom.host)},Kr=function(u){if(Kt()&&Cn(u.target)){var l=lt.fromDom(u.target);if(ju(l)&&na(l)&&u.composed&&u.composedPath){var d=u.composedPath();if(d)return br(d)}}return Z.from(u.target)},na=function(u){return Cn(u.dom.shadowRoot)},_i=function(u){var l=xa(u)?u.dom.parentNode:u.dom;if(l==null||l.ownerDocument===null)return!1;var d=l.ownerDocument;return un(lt.fromDom(l)).fold(function(){return d.body.contains(l)},cr(_i,fa))},gi=function(){return Us(lt.fromDom(document))},Us=function(u){var l=u.dom.body;if(l==null)throw new Error("Body is not available yet");return lt.fromDom(l)},fu=function(u,l,d){return Sn(fe(u,d),l)},pa=function(u,l){return Sn(A(u),l)},oa=function(u,l){var d=[];return bt(A(u),function(h){l(h)&&(d=d.concat([h])),d=d.concat(oa(h,l))}),d},Wc=function(u,l,d){return fu(u,function(h){return Vr(h,l)},d)},_a=function(u,l){return pa(u,function(d){return Vr(d,l)})},ti=function(u,l){return co(l,u)};function ni(u,l,d,h,w){return u(d,h)?Z.some(d):ut(w)&&w(d)?Z.none():l(d,h,w)}var Bi=function(u,l,d){for(var h=u.dom,w=ut(d)?d:qn;h.parentNode;){h=h.parentNode;var x=lt.fromDom(h);if(l(x))return Z.some(x);if(w(x))break}return Z.none()},wd=function(u,l,d){var h=function(w,x){return x(w)};return ni(h,Bi,u,l,d)},Me=function(u,l){var d=function(w){return l(lt.fromDom(w))},h=Pe(u.dom.childNodes,d);return h.map(lt.fromDom)},ri=function(u,l){var d=function(h){for(var w=0;w<h.childNodes.length;w++){var x=lt.fromDom(h.childNodes[w]);if(l(x))return Z.some(x);var _=d(h.childNodes[w]);if(_.isSome())return _}return Z.none()};return d(u.dom)},hi=function(u,l,d){return Bi(u,function(h){return Vr(h,l)},d)},Pl=function(u,l){return Me(u,function(d){return Vr(d,l)})},vu=function(u,l){return Ha(l,u)},Aa=function(u,l,d){var h=function(w,x){return Vr(w,x)};return ni(h,hi,u,l,d)},Ua=function(u,l,d){if(pn(d)||jn(d)||On(d))u.setAttribute(l,d+"");else throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",d,":: Element ",u),new Error("Attribute value was not simple")},Ti=function(u,l,d){Ua(u.dom,l,d)},dc=function(u,l){var d=u.dom;an(l,function(h,w){Ua(d,w,h)})},pi=function(u,l){var d=u.dom.getAttribute(l);return d===null?void 0:d},si=function(u,l){return Z.from(pi(u,l))},nn=function(u,l){u.dom.removeAttribute(l)},Ws=function(u){return wr(u.dom.attributes,function(l,d){return l[d.name]=d.value,l},{})},Bs=function(u){return u.style!==void 0&&ut(u.style.getPropertyValue)},hv=function(u,l,d){if(!pn(d))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",d,":: Element ",u),new Error("CSS value must be a string: "+d);Bs(u)&&u.style.setProperty(l,d)},mc=function(u,l){Bs(u)&&u.style.removeProperty(l)},ro=function(u,l,d){var h=u.dom;hv(h,l,d)},yn=function(u,l){var d=u.dom;an(l,function(h,w){hv(d,w,h)})},Eu=function(u,l){var d=u.dom,h=window.getComputedStyle(d),w=h.getPropertyValue(l);return w===""&&!_i(u)?jc(d,l):w},jc=function(u,l){return Bs(u)?u.style.getPropertyValue(l):""},Gu=function(u,l){var d=u.dom,h=jc(d,l);return Z.from(h).filter(function(w){return w.length>0})},gc=function(u,l){var d=u.dom;mc(d,l),si(u,"style").map(Fa).is("")&&nn(u,"style")},pv=function(u,l){var d=u.dom,h=l.dom;Bs(d)&&Bs(h)&&(h.style.cssText=d.style.cssText)},Rs=function(u,l,d){return d===void 0&&(d=0),si(u,l).map(function(h){return parseInt(h,10)}).getOr(d)},qc=function(u,l){return Rs(u,l,1)},Gc=function(u){return qc(u,"colspan")>1},gf=function(u){return qc(u,"rowspan")>1},Cd=function(u,l){return parseInt(Eu(u,l),10)},Ml=ct(10),Zm=ct(10),bi=function(u,l){return ou(u,l,Qt)},ou=function(u,l,d){return Bn(A(u),function(h){return Vr(h,l)?d(h)?[h]:[]:ou(h,l,d)})},bv=function(u,l,d){if(d===void 0&&(d=qn),d(l))return Z.none();if(Xn(u,ha(l)))return Z.some(l);var h=function(w){return Vr(w,"table")||d(w)};return hi(l,u.join(","),h)},Sd=function(u,l){return bv(["td","th"],u,l)},Mo=function(u){return bi(u,"th,td")},vs=function(u){return Vr(u,"colgroup")?_a(u,"col"):Bn(yv(u),function(l){return _a(l,"col")})},Eo=function(u,l){return Aa(u,"table",l)},hf=function(u){return bi(u,"tr")},yv=function(u){return Eo(u).fold(ct([]),function(l){return _a(l,"colgroup")})},ci=function(u,l){return wt(u,function(d){if(ha(d)==="colgroup"){var h=wt(vs(d),function(w){var x=Rs(w,"span",1);return ia(w,1,x)});return To(d,h,"colgroup")}else{var h=wt(Mo(d),function(x){var _=Rs(x,"rowspan",1),z=Rs(x,"colspan",1);return ia(x,_,z)});return To(d,h,l(d))}})},Qm=function(u){return F(u).map(function(l){var d=ha(l);return Se(d)?d:"tbody"}).getOr("tbody")},hc=function(u){var l=hf(u),d=yv(u),h=it(d,l);return ci(h,Qm)},xd=function(u,l){return ci(u,function(){return l})},pc=function(u,l,d){var h=u.cells,w=h.slice(0,l),x=h.slice(l),_=w.concat(d).concat(x);return kd(u,_)},eg=function(u,l,d){return pc(u,l,[d])},bc=function(u,l,d){var h=u.cells;h[l]=d},kd=function(u,l){return qo(l,u.section)},wv=function(u,l){var d=u.cells,h=wt(d,l);return qo(h,u.section)},Ou=function(u,l){return u.cells[l]},Ri=function(u,l){return Ou(u,l).element},Au=function(u){return u.cells.length},Pi=function(u){var l=dr(u,function(d){return d.section==="colgroup"});return{rows:l.fail,cols:l.pass}},pf="data-snooker-locked-cols",tg=function(u){return si(u,pf).bind(function(l){return Z.from(l.match(/\d+/g))}).map(function(l){return Be(l,Qt)})},ds=function(u){var l=wr(Pi(u).rows,function(h,w){return bt(w.cells,function(x,_){x.isLocked&&(h[_]=!0)}),h},{}),d=ir(l,function(h,w){return parseInt(w,10)});return ke(d)},Nl=function(u,l){return u+","+l},Ur=function(u,l,d){var h=u.access[Nl(l,d)];return h!==void 0?Z.some(h):Z.none()},Ku=function(u,l,d){var h=Kc(u,function(w){return d(l,w.element)});return h.length>0?Z.some(h[0]):Z.none()},Kc=function(u,l){var d=Bn(u.all,function(h){return h.cells});return Sn(d,l)},$h=function(u){var l={},d=0;return bt(u.cells,function(h){var w=h.colspan;yt(w,function(x){var _=d+x;l[_]=Rl(h.element,w,_)}),d+=w}),l},Ih=function(u){var l={},d=[],h={},w=br(u).map(function(ye){return ye.element}).bind(Eo),x=w.bind(tg).getOr({}),_=0,z=0,I=0;bt(u,function(ye){if(ye.section==="colgroup")h=$h(ye);else{var Ot=[];bt(ye.cells,function(ht){for(var Pt=0;l[Nl(I,Pt)]!==void 0;)Pt++;for(var ze=H(x,Pt.toString()),Qe=Er(ht.element,ht.rowspan,ht.colspan,I,Pt,ze),Mt=0;Mt<ht.colspan;Mt++)for(var Kn=0;Kn<ht.rowspan;Kn++){var Jr=I+Kn,xr=Pt+Mt,ca=Nl(Jr,xr);l[ca]=Qe,z=Math.max(z,xr+1)}Ot.push(Qe)}),_++,d.push(To(ye.element,Ot,ye.section)),I++}});var oe=Yt(_,z);return{grid:oe,access:l,all:d,columns:h}},bf=function(u){var l=hc(u);return Ih(l)},zh=function(u){return Bn(u.all,function(l){return l.cells})},Mi=function(u){return mn(u.columns)},Lh=function(u){return Ie(u.columns).length>0},ng=function(u,l){return Z.from(u.columns[l])},$t={fromTable:bf,generate:Ih,getAt:Ur,findItem:Ku,filterItems:Kc,justCells:zh,justColumns:Mi,hasColumns:Lh,getColumnAt:ng},Hh=function(u,l){var d=l.column,h=l.column+l.colspan-1,w=l.row,x=l.row+l.rowspan-1;return d<=u.finishCol&&h>=u.startCol&&w<=u.finishRow&&x>=u.startRow},yf=function(u,l){return l.column>=u.startCol&&l.column+l.colspan-1<=u.finishCol&&l.row>=u.startRow&&l.row+l.rowspan-1<=u.finishRow},Td=function(u,l){for(var d=!0,h=re(yf,l),w=l.startRow;w<=l.finishRow;w++)for(var x=l.startCol;x<=l.finishCol;x++)d=d&&$t.getAt(u,w,x).exists(h);return d?Z.some(l):Z.none()},Go=function(u,l){return ls(Math.min(u.row,l.row),Math.min(u.column,l.column),Math.max(u.row+u.rowspan-1,l.row+l.rowspan-1),Math.max(u.column+u.colspan-1,l.column+l.colspan-1))},Cv=function(u,l,d){var h=$t.findItem(u,l,_n),w=$t.findItem(u,d,_n);return h.bind(function(x){return w.map(function(_){return Go(x,_)})})},Ps=function(u,l,d){return Cv(u,l,d).bind(function(h){return Td(u,h)})},lo=function(u,l,d,h){return $t.findItem(u,l,_n).bind(function(w){var x=d>0?w.row+w.rowspan-1:w.row,_=h>0?w.column+w.colspan-1:w.column,z=$t.getAt(u,x+d,_+h);return z.map(function(I){return I.element})})},Ko=function(u,l,d){return Cv(u,l,d).map(function(h){var w=$t.filterItems(u,re(Hh,h));return wt(w,function(x){return x.element})})},Xu=function(u,l){var d=function(h,w){return Y(w,h)};return $t.findItem(u,l,d).map(function(h){return h.element})},Ed=function(u,l,d){return Eo(u).bind(function(h){var w=$(h);return lo(w,u,l,d)})},Sv=function(u,l,d){var h=$(u);return Ko(h,l,d)},ms=function(u,l,d,h,w){var x=$(u),_=_n(u,d)?Z.some(l):Xu(x,l),z=_n(u,w)?Z.some(h):Xu(x,h);return _.bind(function(I){return z.bind(function(oe){return Ko(x,I,oe)})})},T=function(u,l,d){var h=$(u);return Ps(h,l,d)},$=$t.fromTable,U=function(u,l){var d=F(u);d.each(function(h){h.dom.insertBefore(l.dom,u.dom)})},me=function(u,l){var d=At(u);d.fold(function(){var h=F(u);h.each(function(w){xt(w,l)})},function(h){U(h,l)})},Ae=function(u,l){var d=ie(u);d.fold(function(){xt(u,l)},function(h){u.dom.insertBefore(l.dom,h.dom)})},xt=function(u,l){u.dom.appendChild(l.dom)},sr=function(u,l){U(u,l),xt(l,u)},Zr=function(u,l){bt(l,function(d){U(u,d)})},Nr=function(u,l){bt(l,function(d,h){var w=h===0?u:l[h-1];me(w,d)})},Xr=function(u,l){bt(l,function(d){xt(u,d)})},Wa=function(u){u.dom.textContent="",bt(A(u),function(l){fo(l)})},fo=function(u){var l=u.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},Vh=function(u){var l=A(u);l.length>0&&Zr(u,l),fo(u)},js=function(u,l){var d=function(x){if(!u(x))throw new Error("Can only get "+l+" value of a "+l+" node");return h(x).getOr("")},h=function(x){return u(x)?Z.from(x.dom.nodeValue):Z.none()},w=function(x,_){if(!u(x))throw new Error("Can only set raw "+l+" value of a "+l+" node");x.dom.nodeValue=_};return{get:d,getOption:h,set:w}},xv=js(xa,"text"),Od=function(u){return xv.get(u)},rg=function(u){return xv.getOption(u)},wf=function(u,l){return xv.set(u,l)},Fl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function ag(){var u=function(I){return lt.fromDom(I.dom.cloneNode(!1))},l=function(I){return mi(I).dom},d=function(I){return ju(I)?ha(I)==="body"?!0:Xn(Fl,ha(I)):!1},h=function(I){return ju(I)?Xn(["br","img","hr","input"],ha(I)):!1},w=function(I){return ju(I)&&pi(I,"contenteditable")==="false"},x=function(I,oe){return I.dom.compareDocumentPosition(oe.dom)},_=function(I,oe){var ye=Ws(I);dc(oe,ye)},z=function(I){var oe=ha(I);return Xn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],oe)};return{up:ct({selector:hi,closest:Aa,predicate:Bi,all:fe}),down:ct({selector:ti,predicate:oa}),styles:ct({get:Eu,getRaw:Gu,set:ro,remove:gc}),attrs:ct({get:pi,set:Ti,remove:nn,copyTo:_}),insert:ct({before:U,after:me,afterAll:Nr,append:xt,appendAll:Xr,prepend:Ae,wrap:sr}),remove:ct({unwrap:Vh,remove:fo}),create:ct({nu:lt.fromTag,clone:u,text:lt.fromText}),query:ct({comparePosition:x,prevSibling:Le,nextSibling:At}),property:ct({children:A,name:ha,parent:F,document:l,isText:xa,isComment:Uc,isElement:ju,isSpecial:z,getText:Od,setText:wf,isBoundary:d,isEmptyTag:h,isNonEditable:w}),eq:_n,is:Ce}}var og=function(u,l,d,h){var w=d[0],x=d.slice(1);return h(u,l,w,x)},ub=function(u,l,d){return d.length>0?og(u,l,d,Ad):Z.none()},Ad=function(u,l,d,h){var w=l(u,d);return Dn(h,function(x,_){var z=l(u,_);return ig(u,x,z)},w)},ig=function(u,l,d){return l.bind(function(h){return d.filter(re(u.eq,h))})},ug=function(u,l){return re(u.eq,l)},Cf=function(u,l,d,h){h===void 0&&(h=qn);var w=[l].concat(u.up().all(l)),x=[d].concat(u.up().all(d)),_=function(ye){var Ot=Ct(ye,h);return Ot.fold(function(){return ye},function(ht){return ye.slice(0,ht+1)})},z=_(w),I=_(x),oe=Pe(z,function(ye){return E(I,ug(u,ye))});return{firstpath:z,secondpath:I,shared:oe}},lx=ub,Xo=Cf,sb=ag(),Xc=function(u,l){return lx(sb,function(d,h){return u(h)},l)},cb=function(u,l,d){return Xo(sb,u,l,d)},Yc=function(u){return hi(u,"table")},gs=function(u,l,d){var h=function(w){return function(x){return d!==void 0&&d(x)||_n(x,w)}};return _n(u,l)?Z.some({boxes:Z.some([u]),start:u,finish:l}):Yc(u).bind(function(w){return Yc(l).bind(function(x){if(_n(w,x))return Z.some({boxes:Sv(w,u,l),start:u,finish:l});if(Y(w,x)){var _=Wc(l,"td,th",h(w)),z=_.length>0?_[_.length-1]:l;return Z.some({boxes:ms(w,u,w,l,x),start:u,finish:z})}else if(Y(x,w)){var _=Wc(u,"td,th",h(x)),I=_.length>0?_[_.length-1]:u;return Z.some({boxes:ms(x,u,w,l,x),start:u,finish:I})}else return cb(u,l).shared.bind(function(oe){return Aa(oe,"table",d).bind(function(ye){var Ot=Wc(l,"td,th",h(ye)),ht=Ot.length>0?Ot[Ot.length-1]:l,Pt=Wc(u,"td,th",h(ye)),ze=Pt.length>0?Pt[Pt.length-1]:u;return Z.some({boxes:ms(ye,u,w,l,x),start:ze,finish:ht})})})})})},Du=function(u,l){var d=ti(u,l);return d.length>0?Z.some(d):Z.none()},Dd=function(u,l){return Pe(u,function(d){return Vr(d,l)})},_d=function(u,l,d){return vu(u,l).bind(function(h){return vu(u,d).bind(function(w){return Xc(Yc,[h,w]).map(function(x){return{first:h,last:w,table:x}})})})},Sf=function(u,l){return hi(u,"table").bind(function(d){return vu(d,l).bind(function(h){return gs(h,u).bind(function(w){return w.boxes.map(function(x){return{boxes:x,start:w.start,finish:w.finish}})})})})},sg=function(u,l,d,h,w){return Dd(u,w).bind(function(x){return Ed(x,l,d).bind(function(_){return Sf(_,h)})})},cg=function(u,l){return Du(u,l)},xf=function(u,l,d){return _d(u,l,d).bind(function(h){var w=function(I){return _n(u,I)},x="thead,tfoot,tbody,table",_=hi(h.first,x,w),z=hi(h.last,x,w);return _.bind(function(I){return z.bind(function(oe){return _n(I,oe)?T(h.table,h.first,h.last):Z.none()})})})},Uh=function(u){if(!Nn(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var l=[],d={};return bt(u,function(h,w){var x=Ie(h);if(x.length!==1)throw new Error("one and only one name per case");var _=x[0],z=h[_];if(d[_]!==void 0)throw new Error("duplicate key detected:"+_);if(_==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Nn(z))throw new Error("case arguments must be an array");l.push(_),d[_]=function(){for(var I=[],oe=0;oe<arguments.length;oe++)I[oe]=arguments[oe];var ye=I.length;if(ye!==z.length)throw new Error("Wrong number of arguments to case "+_+". Expected "+z.length+" ("+z+"), got "+ye);var Ot=function(ht){var Pt=Ie(ht);if(l.length!==Pt.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+Pt.join(","));var ze=de(l,function(Qe){return Xn(Pt,Qe)});if(!ze)throw new Error("Not all branches were specified when using match. Specified: "+Pt.join(", ")+`
Required: `+l.join(", "));return ht[_].apply(null,I)};return{fold:function(){for(var ht=[],Pt=0;Pt<arguments.length;Pt++)ht[Pt]=arguments[Pt];if(ht.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+ht.length);var ze=ht[w];return ze.apply(null,I)},match:Ot,log:function(ht){console.log(ht,{constructors:l,constructor:_,params:I})}}}}),d},$l={generate:Uh},lg=$l.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Il=function(u,l,d,h){return u.fold(l,d,h)},Jc=lg.none,kv=lg.multiple,Bd=lg.single,Ni=function(u,l,d){var h=function(){return cg(u(),d).fold(function(){return l().map(Bd).getOrThunk(Jc)},function(w){return kv(w)})};return{get:h}},Wh=tinymce.util.Tools.resolve("tinymce.PluginManager"),jh=function(u,l){return lt.fromDom(u.dom.cloneNode(l))},fg=function(u){return jh(u,!1)},kf=function(u){return jh(u,!0)},mw=function(u,l){var d=lt.fromTag(l),h=Ws(u);return dc(d,h),d},lb=function(u,l){var d=mw(u,l),h=A(kf(u));return Xr(d,h),d},va=function(u){for(var l=[],d=function(w){l.push(w)},h=0;h<u.length;h++)u[h].each(d);return l},Hn=function(u,l,d){return u.isSome()&&l.isSome()?Z.some(d(u.getOrDie(),l.getOrDie())):Z.none()},Tf=function(u,l){return u!=null?l(u):Z.none()},qh=function(u,l){return u?Z.some(l):Z.none()},vg=function(u,l){var d=function(z,I){if(!On(I)&&!I.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+I);var oe=z.dom;Bs(oe)&&(oe.style[u]=I+"px")},h=function(z){var I=l(z);if(I<=0||I===null){var oe=Eu(z,u);return parseFloat(oe)||0}return I},w=h,x=function(z,I){return wr(I,function(oe,ye){var Ot=Eu(z,ye),ht=Ot===void 0?0:parseInt(Ot,10);return isNaN(ht)?oe:oe+ht},0)},_=function(z,I,oe){var ye=x(z,oe),Ot=I>ye?I-ye:0;return Ot};return{set:d,get:h,getOuter:w,aggregate:x,max:_}},yi=vg("width",function(u){return u.dom.offsetWidth}),ba=function(u){return yi.get(u)},Gh=function(u){return yi.getOuter(u)},fb=function(u,l){l===void 0&&(l=Qt);var d=u.grid,h=yt(d.columns,tr),w=yt(d.rows,tr);return wt(h,function(x){var _=function(){return Bn(w,function(oe){return $t.getAt(u,oe,x).filter(function(ye){return ye.column===x}).toArray()})},z=function(oe){return oe.colspan===1&&l(oe.element)},I=function(){return $t.getAt(u,0,x)};return vb(_,z,I)})},vb=function(u,l,d){var h=u(),w=Pe(h,l),x=w.orThunk(function(){return Z.from(h[0]).orThunk(d)});return x.map(function(_){return _.element})},Et=function(u){var l=u.grid,d=yt(l.rows,tr),h=yt(l.columns,tr);return wt(d,function(w){var x=function(){return Bn(h,function(I){return $t.getAt(u,w,I).filter(function(oe){return oe.row===w}).fold(ct([]),function(oe){return[oe]})})},_=function(I){return I.rowspan===1},z=function(){return $t.getAt(u,w,0)};return vb(x,_,z)})},db=function(u,l){if(l<0||l>=u.length-1)return Z.none();var d=u[l].fold(function(){var w=We(u.slice(0,l));return zr(w,function(x,_){return x.map(function(z){return{value:z,delta:_+1}})})},function(w){return Z.some({value:w,delta:0})}),h=u[l+1].fold(function(){var w=u.slice(l+1);return zr(w,function(x,_){return x.map(function(z){return{value:z,delta:_+1}})})},function(w){return Z.some({value:w,delta:1})});return d.bind(function(w){return h.map(function(x){var _=x.delta+w.delta;return Math.abs(x.value-w.value)/_})})},gw=function(u,l){return function(d){return Kh(d)==="rtl"?l:u}},Kh=function(u){return Eu(u,"direction")==="rtl"?"rtl":"ltr"},zl=vg("height",function(u){var l=u.dom;return _i(u)?l.getBoundingClientRect().height:l.offsetHeight}),Ll=function(u){return zl.get(u)},Ms=function(u){return zl.getOuter(u)},Ef=function(u,l){var d=function(h,w){return Ef(u+h,l+w)};return{left:u,top:l,translate:d}},yc=Ef,wc=function(u){var l=u.getBoundingClientRect();return yc(l.left,l.top)},Oo=function(u,l){return u!==void 0?u:l!==void 0?l:0},Yu=function(u){var l=u.dom.ownerDocument,d=l.body,h=l.defaultView,w=l.documentElement;if(d===u.dom)return yc(d.offsetLeft,d.offsetTop);var x=Oo(h==null?void 0:h.pageYOffset,w.scrollTop),_=Oo(h==null?void 0:h.pageXOffset,w.scrollLeft),z=Oo(w.clientTop,d.clientTop),I=Oo(w.clientLeft,d.clientLeft);return dg(u).translate(_-I,x-z)},dg=function(u){var l=u.dom,d=l.ownerDocument,h=d.body;return h===l?yc(h.offsetLeft,h.offsetTop):_i(u)?wc(l):yc(0,0)},Zc=function(u,l){return{row:u,y:l}},hs=function(u,l){return{col:u,x:l}},mg=function(u){var l=Yu(u);return l.left+Gh(u)},gg=function(u){return Yu(u).left},Qc=function(u,l){return hs(u,gg(l))},Fi=function(u,l){return hs(u,mg(l))},mb=function(u){return Yu(u).top},fx=function(u,l){return Zc(u,mb(l))},Ao=function(u,l){return Zc(u,mb(l)+Ms(l))},Of=function(u,l,d){if(d.length===0)return[];var h=wt(d.slice(1),function(x,_){return x.map(function(z){return u(_,z)})}),w=d[d.length-1].map(function(x){return l(d.length-1,x)});return h.concat([w])},el=function(u){return-u},Rd={delta:tr,positions:function(u){return Of(fx,Ao,u)},edge:mb},$i={delta:tr,edge:gg,positions:function(u){return Of(Qc,Fi,u)}},Pd={delta:el,edge:mg,positions:function(u){return Of(Fi,Qc,u)}},Hl=gw($i,Pd),_u={delta:function(u,l){return Hl(l).delta(u,l)},positions:function(u,l){return Hl(l).positions(u,l)},edge:function(u){return Hl(u).edge(u)}},qs={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},gb=function(){var u="[0-9]+",l="[+-]?"+u,d="[eE]"+l,h="\\.",w=function(z){return"(?:"+z+")?"},x=["Infinity",u+h+w(u)+w(d),h+u+w(d),u+w(d)].join("|"),_="[+-]?(?:"+x+")";return new RegExp("^("+_+")(.*)$")}(),hb=function(u,l){return E(l,function(d){return E(qs[d],function(h){return u===h})})},hg=function(u,l){var d=Z.from(gb.exec(u));return d.bind(function(h){var w=Number(h[1]),x=h[2];return hb(x,l)?Z.some({value:w,unit:x}):Z.none()})},pb=function(){var u=ce().browser;return u.isIE()||u.isEdge()},vx=function(u,l){var d=parseFloat(u);return isNaN(d)?l:d},li=function(u,l,d){return vx(Eu(u,l),d)},Tv=function(u){var l=u.dom.getBoundingClientRect().height,d=Eu(u,"box-sizing");if(d==="border-box")return l;var h=li(u,"padding-top",0),w=li(u,"padding-bottom",0),x=li(u,"border-top-width",0),_=li(u,"border-bottom-width",0),z=x+_;return l-h-w-z},dx=function(u){var l=u.dom.getBoundingClientRect().width,d=Eu(u,"box-sizing");if(d==="border-box")return l;var h=li(u,"padding-left",0),w=li(u,"padding-right",0),x=li(u,"border-left-width",0),_=li(u,"border-right-width",0),z=x+_;return l-h-w-z},Xh=function(u){return pb()?Tv(u):li(u,"height",Ll(u))},bb=function(u){return pb()?dx(u):li(u,"width",ba(u))},pg=/(\d+(\.\d+)?)%/,yb=/(\d+(\.\d+)?)px|em/,Yh=function(u,l){var d=Q(u).getOr(Us(Tu(u)));return l(u)/l(d)*100},hw=function(u,l){ro(u,"width",l+"px")},pw=function(u,l){ro(u,"width",l+"%")},Bu=function(u,l){ro(u,"height",l+"px")},mx=function(u){return Gu(u,"height").getOrThunk(function(){return Xh(u)+"px"})},gx=function(u,l,d,h){var w=Eo(u).map(function(x){var _=d(x);return Math.floor(l/100*_)}).getOr(l);return h(u,w),w},Cc=function(u,l,d,h){var w=parseInt(u,10);return Pa(u,"%")&&ha(l)!=="table"?gx(l,w,d,h):w},wb=function(u){var l=mx(u);return l?Cc(l,u,Ll,Bu):Ll(u)},tl=function(u,l,d){var h=d(u),w=qc(u,l);return h/w},Ev=function(u){var l=Gu(u,"width");return l.fold(function(){return Z.from(pi(u,"width"))},function(d){return Z.some(d)})},bw=function(u,l){return u/l.pixelWidth()*100},Cb=function(u,l,d){var h=pg.exec(l);if(h!==null)return parseFloat(h[1]);var w=bb(u);return bw(w,d)},Af=function(u,l){var d=Ev(u);return d.fold(function(){var h=ba(u);return bw(h,l)},function(h){return Cb(u,h,l)})},hx=function(u,l){return u/100*l.pixelWidth()},Df=function(u,l,d){var h=yb.exec(l);if(h!==null)return parseInt(h[1],10);var w=pg.exec(l);if(w!==null){var x=parseFloat(w[1]);return hx(x,d)}return bb(u)},ya=function(u,l){var d=Ev(u);return d.fold(function(){return bb(u)},function(h){return Df(u,h,l)})},yw=function(u){return tl(u,"rowspan",wb)},du=function(u){var l=Ev(u);return l.bind(function(d){return hg(d,["fixed","relative","empty"])})},nl=function(u,l,d){ro(u,"width",l+d)},ww=function(u){return ba(u)+"px"},Ju=function(u){return Yh(u,ba)+"%"},px=function(u){return Ev(u).exists(function(l){return pg.test(l)})},bx=function(u){return Ev(u).exists(function(l){return yb.test(l)})},ps=function(u){return Ev(u).isNone()},_f=ct(pg),Cw=ct(yb),Sw=qu("col"),Sb=function(u,l,d){return Gu(u,l).fold(function(){return d(u)+"px"},function(h){return h})},xw=function(u,l){var d=function(h){return Sw(h)?ba(h):ya(h,l)};return Sb(u,"width",d)},Qn=function(u){return Sb(u,"height",yw)},yx=function(u){return wt($t.justColumns(u),function(l){return Z.from(l.element)})},Jh=function(u,l){return Gu(u,l).isSome()},wx=function(u){return!Sw(u)||Jh(u,"width")},Ov=function(u,l,d,h,w,x){return u.filter(h).fold(function(){return x(db(d,l))},function(_){return w(_)})},Md=function(u,l,d,h,w){var x=fb(u,function(oe){return Jh(oe,"width")}),_=$t.hasColumns(u)?yx(u):x,z=[Z.some(_u.edge(l))].concat(wt(_u.positions(x,l),function(oe){return oe.map(function(ye){return ye.x})})),I=_t(Gc);return wt(_,function(oe,ye){return Ov(oe,ye,z,I,function(Ot){if(wx(Ot))return d(Ot,w);var ht=Tf(x[ye],tr);return Ov(ht,ye,z,I,function(Pt){return h(Z.some(ba(Pt)))},h)},h)})},Zh=function(u){return u.map(function(l){return l+"px"}).getOr("")},bg=function(u,l,d){return Md(u,l,xw,Zh,d)},yg=function(u,l,d){return Md(u,l,Af,function(h){return h.fold(function(){return d.minCellWidth()},function(w){return w/d.pixelWidth()*100})},d)},Vl=function(u,l,d){return Md(u,l,ya,function(h){return h.getOrThunk(d.minCellWidth)},d)},wg=function(u,l,d,h,w){var x=Et(u),_=[Z.some(d.edge(l))].concat(wt(d.positions(x,l),function(z){return z.map(function(I){return I.y})}));return wt(x,function(z,I){return Ov(z,I,_,_t(gf),h,w)})},Cx=function(u,l,d){return wg(u,l,d,yw,function(h){return h.getOrThunk(Zm)})},kw=function(u,l,d){return wg(u,l,d,Qn,Zh)},mu=function(u){var l=u,d=function(){return l},h=function(w){l=w};return{get:d,set:h}},Cg=function(u){var l=function(){return ba(u)},d=ct(0),h=function(w,x){return Vl(w,u,x)};return{width:l,pixelWidth:l,getWidths:h,getCellDelta:d,singleColumnWidth:ct([0]),minCellWidth:d,setElementWidth:Jt,adjustTableWidth:Jt,isRelative:!0,label:"none"}},Tw=function(u,l){var d=mu(parseFloat(u)),h=mu(ba(l)),w=function(oe){return oe/h.get()*100},x=function(oe,ye){return[100-oe]},_=function(){return Ml()/h.get()*100},z=function(oe){var ye=d.get(),Ot=oe/100*ye,ht=ye+Ot;pw(l,ht),d.set(ht),h.set(ba(l))},I=function(oe,ye){return yg(oe,l,ye)};return{width:d.get,pixelWidth:h.get,getWidths:I,getCellDelta:w,singleColumnWidth:x,minCellWidth:_,setElementWidth:pw,adjustTableWidth:z,isRelative:!0,label:"percent"}},Sg=function(u,l){var d=mu(u),h=d.get,w=tr,x=function(I,oe){var ye=Math.max(Ml(),I+oe);return[ye-I]},_=function(I){var oe=h()+I;hw(l,oe),d.set(oe)},z=function(I,oe){return Vl(I,l,oe)};return{width:h,pixelWidth:h,getWidths:z,getCellDelta:w,singleColumnWidth:x,minCellWidth:Ml,setElementWidth:hw,adjustTableWidth:_,isRelative:!1,label:"pixel"}},Qh=function(u,l){var d=_f().exec(l);if(d!==null)return Tw(d[1],u);var h=Cw().exec(l);if(h!==null){var w=parseInt(h[1],10);return Sg(w,u)}var x=ba(u);return Sg(x,u)},Sx=function(u){var l=Ev(u);return l.fold(function(){return Cg(u)},function(d){return Qh(u,d)})},Ul={getTableSize:Sx,pixelSize:Sg,percentageSize:Tw,noneSize:Cg},gu=function(u,l,d,h,w,x){return{minRow:u,minCol:l,maxRow:d,maxCol:h,allCells:w,selectedCells:x}},Ii=function(u,l){var d=u.grid.columns,h=u.grid.rows,w=h,x=d,_=0,z=0,I=[],oe=[];return an(u.access,function(ye){if(I.push(ye),l(ye)){oe.push(ye);var Ot=ye.row,ht=Ot+ye.rowspan-1,Pt=ye.column,ze=Pt+ye.colspan-1;Ot<w?w=Ot:ht>_&&(_=ht),Pt<x?x=Pt:ze>z&&(z=ze)}}),gu(w,x,_,z,I,oe)},xx=function(u,l,d){var h=u[d].element,w=lt.fromTag("td");xt(w,lt.fromTag("br"));var x=l?xt:Ae;x(h,w)},Nd=function(u,l,d,h){for(var w=l.grid.columns,x=l.grid.rows,_=0;_<x;_++)for(var z=!1,I=0;I<w;I++)if(!(_<d.minRow||_>d.maxRow||I<d.minCol||I>d.maxCol)){var oe=$t.getAt(l,_,I).filter(h).isNone();oe?xx(u,z,_):z=!0}},hu=function(u,l,d,h){an(d.columns,function(_){(_.column<l.minCol||_.column>l.maxCol)&&fo(_.element)});var w=Sn(bi(u,"tr"),function(_){return _.dom.childElementCount===0});bt(w,fo),(l.minCol===l.maxCol||l.minRow===l.maxRow)&&bt(bi(u,"th,td"),function(_){nn(_,"rowspan"),nn(_,"colspan")}),nn(u,pf),nn(u,"data-snooker-col-series");var x=Ul.getTableSize(u);x.adjustTableWidth(h)},ep=function(u,l,d,h){if(h.minCol===0&&l.grid.columns===h.maxCol+1)return 0;var w=Vl(l,u,d),x=wr(w,function(oe,ye){return oe+ye},0),_=wr(w.slice(h.minCol,h.maxCol+1),function(oe,ye){return oe+ye},0),z=_/x*d.pixelWidth(),I=z-d.pixelWidth();return d.getCellDelta(I)},Ns=function(u,l){var d=function(ht){return Vr(ht.element,l)},h=kf(u),w=hc(h),x=Ul.getTableSize(u),_=$t.generate(w),z=Ii(_,d),I="th:not("+l+"),td:not("+l+")",oe=ou(h,"th,td",function(ht){return Vr(ht,I)});bt(oe,fo),Nd(w,_,z,d);var ye=$t.fromTable(u),Ot=ep(u,ye,x,z);return hu(h,z,_,Ot),h},Ew="\xA0",zo=function(u){return ha(u)==="img"?1:rg(u).fold(function(){return A(u).length},function(l){return l.length})},kx=function(u){return rg(u).filter(function(l){return l.trim().length!==0||l.indexOf(Ew)>-1}).isSome()},xb=["img","br"],Wl=function(u){var l=kx(u);return l||Xn(xb,ha(u))},xg=function(u){return ri(u,Wl)},Av=function(u){return Tx(u,Wl)},Tx=function(u,l){var d=function(h){for(var w=A(h),x=w.length-1;x>=0;x--){var _=w[x];if(l(_))return Z.some(_);var z=d(_);if(z.isSome())return z}return Z.none()};return d(u)},Ex={scope:["row","col"]},kb=function(){var u=lt.fromTag("td");return xt(u,lt.fromTag("br")),u},Ox=function(){return lt.fromTag("col")},kg=function(){return lt.fromTag("colgroup")},Fd=function(u,l,d){var h=lb(u,l);return an(d,function(w,x){w===null?nn(h,x):Ti(h,x,w)}),h},Tb=function(u){return u},Tg=function(u){return function(){return lt.fromTag("tr",u.dom)}},Dv=function(u,l,d){var h=xg(u);return h.map(function(w){var x=d.join(","),_=Wc(w,x,function(z){return _n(z,u)});return Dn(_,function(z,I){var oe=fg(I);return nn(oe,"contenteditable"),xt(z,oe),oe},l)}).getOr(l)},$d=function(u,l){an(Ex,function(d,h){return si(u,h).filter(function(w){return Xn(d,w)}).each(function(w){return Ti(l,h,w)})})},Eb=function(u,l,d){var h=function(_,z){pv(_.element,z),gc(z,"height"),_.colspan!==1&&gc(z,"width")},w=function(_){var z=Tu(_.element),I=lt.fromTag(ha(_.element),z.dom),oe=d.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ye=oe.length>0?Dv(_.element,I,oe):I;return xt(ye,lt.fromTag("br")),h(_,I),$d(_.element,I),u(_.element,I),I},x=function(_){var z=Tu(_.element),I=lt.fromTag(ha(_.element),z.dom);return h(_,I),u(_.element,I),I};return{col:x,colgroup:kg,row:Tg(l),cell:w,replace:Fd,gap:kb}},_v=function(u){return{col:Ox,colgroup:kg,row:Tg(u),cell:kb,replace:Tb,gap:kb}},zi=function(u,l){var d=l||document,h=d.createElement("div");return h.innerHTML=u,A(lt.fromDom(h))},Qa=function(u){return wt(u,lt.fromDom)},jl=function(u){return u.nodeName.toLowerCase()},Bf=function(u){return lt.fromDom(u.getBody())},ql=function(u){return u.getBoundingClientRect().width},tp=function(u){return u.getBoundingClientRect().height},Bv=function(u){return function(l){return _n(l,Bf(u))}},np=function(u){return u?u.replace(/px$/,""):""},ja=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},Gs=function(u){nn(u,"data-mce-style");var l=function(d){return nn(d,"data-mce-style")};bt(Mo(u),l),bt(vs(u),l)},vo=function(u,l){var d=u.dom.getStyle(l,"width")||u.dom.getAttrib(l,"width");return Z.from(d).filter(De)},fi=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},Rf=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},bo=function(u){return lt.fromDom(u.selection.getStart())},Zu=function(u){return Il(u.get(),ct([]),tr,pt)},Ru=function(u){var l=function(w,x){return si(w,x).exists(function(_){return parseInt(_,10)>1})},d=function(w){return l(w,"rowspan")||l(w,"colspan")},h=Zu(u);return h.length>0&&de(h,d)?Z.some(h):Z.none()},Gl=function(u,l,d){return Il(l.get(),Z.none,function(h){return h.length<=1?Z.none():xf(u,d.firstSelectedSelector,d.lastSelectedSelector).map(function(w){return{bounds:w,cells:h}})},Z.none)},Pf="data-mce-selected",Li="td["+Pf+"],th["+Pf+"]",Ks="["+Pf+"]",Ir="data-mce-first-selected",Id="td["+Ir+"],th["+Ir+"]",zd="data-mce-last-selected",Fs="td["+zd+"],th["+zd+"]",Ob=Ks,Bo={selected:Pf,selectedSelector:Li,firstSelected:Ir,firstSelectedSelector:Id,lastSelected:zd,lastSelectedSelector:Fs},rp=function(u){return{element:u,mergable:Z.none(),unmergable:Z.none(),selection:[u]}},Rv=function(u,l,d){return{element:d,mergable:Gl(l,u,Bo),unmergable:Ru(u),selection:Zu(u)}},mo=function(u,l,d){return{element:u,clipboard:l,generators:d}},Xs=function(u,l,d,h){return{selection:Zu(u),clipboard:d,generators:h}},Mf=function(u){return Eo(u[0]).map(function(l){var d=Ns(l,Ob);return Gs(d),[d]})},Eg=function(u,l){return wt(l,function(d){return u.selection.serializer.serialize(d.dom,{})}).join("")},Nf=function(u){return wt(u,function(l){return l.dom.innerText}).join("")},Ow=function(u,l,d,h){u.on("BeforeGetContent",function(w){var x=function(_){w.preventDefault(),Mf(_).each(function(z){w.content=w.format==="text"?Nf(z):Eg(u,z)})};w.selection===!0&&Il(l.get(),Jt,x,Jt)}),u.on("BeforeSetContent",function(w){if(w.selection===!0&&w.paste===!0){var x=Z.from(u.dom.getParent(u.selection.getStart(),"th,td"));x.each(function(_){var z=lt.fromDom(_);Eo(z).each(function(I){var oe=Sn(zi(w.content),function(ze){return ha(ze)!=="meta"}),ye=function(ze){return ha(ze)==="table"};if(oe.length===1&&ye(oe[0])){w.preventDefault();var Ot=lt.fromDom(u.getDoc()),ht=_v(Ot),Pt=mo(z,oe[0],ht);d.pasteCells(I,Pt).each(function(ze){u.selection.setRng(ze.rng),u.focus(),h.clear(I)})}})})}})},Pv=$l.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Ld=Jn({},Pv),ai=function(u,l){return u.length===0?Ld.none():u.length===1?Ld.only(0):l===0?Ld.left(0,1):l===u.length-1?Ld.right(l-1,l):l>0&&l<u.length-1?Ld.middle(l-1,l,l+1):Ld.none()},Mv=function(u,l,d,h,w){var x=u.slice(0),_=ai(u,l),z=ct(wt(x,ct(0))),I=function(ht){return h.singleColumnWidth(x[ht],d)},oe=function(ht,Pt){return w.calcLeftEdgeDeltas(x,ht,Pt,d,h.minCellWidth(),h.isRelative)},ye=function(ht,Pt,ze){return w.calcMiddleDeltas(x,ht,Pt,ze,d,h.minCellWidth(),h.isRelative)},Ot=function(ht,Pt){return w.calcRightEdgeDeltas(x,ht,Pt,d,h.minCellWidth(),h.isRelative)};return _.fold(z,I,oe,ye,Ot)},Ab=function(u,l,d){for(var h=0,w=u;w<l;w++)h+=d[w]!==void 0?d[w]:0;return h},Aw=function(u,l){var d=$t.justCells(u);return wt(d,function(h){var w=Ab(h.column,h.column+h.colspan,l);return{element:h.element,width:w,colspan:h.colspan}})},ap=function(u,l){var d=$t.justColumns(u);return wt(d,function(h,w){return{element:h.element,width:l[w],colspan:h.colspan}})},Ff=function(u,l){var d=$t.justCells(u);return wt(d,function(h){var w=Ab(h.row,h.row+h.rowspan,l);return{element:h.element,height:w,rowspan:h.rowspan}})},Db=function(u,l){return wt(u.all,function(d,h){return{element:d.element,height:l[h]}})},Ax=function(u){return Dn(u,function(l,d){return l+d},0)},pu=function(u,l){return $t.hasColumns(u)?ap(u,l):Aw(u,l)},Pu=function(u,l,d){var h=pu(u,l);bt(h,function(w){d.setElementWidth(w.element,w.width)})},Hd=function(u,l,d,h,w){var x=$t.fromTable(u),_=w.getCellDelta(l),z=w.getWidths(x,w),I=d===x.grid.columns-1,oe=h.clampTableDelta(z,d,_,w.minCellWidth(),I),ye=Mv(z,d,oe,w,h),Ot=wt(ye,function(ht,Pt){return ht+z[Pt]});Pu(x,Ot,w),h.resizeTable(w.adjustTableWidth,oe,I)},_b=function(u,l,d,h){var w=$t.fromTable(u),x=Cx(w,u,h),_=wt(x,function(ye,Ot){return d===Ot?Math.max(l+ye,Zm()):ye}),z=Ff(w,_),I=Db(w,_);bt(I,function(ye){Bu(ye.element,ye.height)}),bt(z,function(ye){Bu(ye.element,ye.height)});var oe=Ax(_);Bu(u,oe)},bu=function(u,l,d,h,w){var x=$t.generate(l),_=h.getWidths(x,h),z=h.pixelWidth(),I=w.calcRedestributedWidths(_,z,d.pixelDelta,h.isRelative),oe=I.newSizes,ye=I.delta;Pu(x,oe,h),h.adjustTableWidth(ye)},Kl=function(u,l,d,h){var w=$t.generate(l),x=h.getWidths(w,h);Pu(w,x,h)},op=function(u){return wt(u,ct(0))},Og=function(u,l,d,h,w){return w(u.slice(0,l)).concat(h).concat(w(u.slice(d)))},Ro=function(u){return function(l,d,h,w){if(u(h)){var x=Math.max(w,l[d]-Math.abs(h)),_=Math.abs(x-l[d]);return h>=0?_:-_}else return h}},Sc=Ro(function(u){return u<0}),xc=Ro(Qt),ka=function(){var u=function(z,I,oe,ye,Ot){var ht=Sc(z,I,ye,Ot);return Og(z,I,oe+1,[ht,0],op)},l=function(z,I,oe,ye){var Ot=(100+oe)/100,ht=Math.max(ye,(z[I]+oe)/Ot);return wt(z,function(Pt,ze){var Qe=ze===I?ht:Pt/Ot;return Qe-Pt})},d=function(z,I,oe,ye,Ot,ht){return ht?l(z,I,ye,Ot):u(z,I,oe,ye,Ot)},h=function(z,I,oe,ye,Ot,ht,Pt){return d(z,oe,ye,Ot,ht,Pt)},w=function(z,I){return z(I)},x=function(z,I,oe,ye,Ot,ht){if(ht)return l(z,oe,ye,Ot);var Pt=Sc(z,oe,ye,Ot);return op(z.slice(0,oe)).concat([Pt])},_=function(z,I,oe,ye){if(ye){var Ot=I+oe,ht=Ot/I,Pt=wt(z,function(ze){return ze/ht});return{delta:ht*100-100,newSizes:Pt}}else return{delta:oe,newSizes:z}};return{resizeTable:w,clampTableDelta:Sc,calcLeftEdgeDeltas:d,calcMiddleDeltas:h,calcRightEdgeDeltas:x,calcRedestributedWidths:_}},Nv=function(){var u=function(_,z,I,oe,ye){var Ot=oe>=0?I:z,ht=xc(_,Ot,oe,ye);return Og(_,z,I+1,[ht,-ht],op)},l=function(_,z,I,oe,ye,Ot){return u(_,I,oe,ye,Ot)},d=function(_,z,I){I&&_(z)},h=function(_,z,I,oe,ye,Ot){if(Ot)return op(_);var ht=oe/_.length;return wt(_,ct(ht))},w=function(_,z,I,oe,ye){if(ye){if(I>=0)return I;var Ot=wr(_,function(ht,Pt){return ht+Pt-oe},0);return Math.max(-Ot,I)}else return Sc(_,z,I,oe)},x=function(_,z,I,oe){return{delta:0,newSizes:_}};return{resizeTable:d,clampTableDelta:w,calcLeftEdgeDeltas:u,calcMiddleDeltas:l,calcRightEdgeDeltas:h,calcRedestributedWidths:x}},bs=function(u,l){var d=Z.from(u.dom.documentElement).map(lt.fromDom).getOr(u);return{parent:ct(d),view:ct(u),origin:ct(yc(0,0)),isResizable:l}},Dw=function(u,l,d){var h=function(){return Yu(l)};return{parent:ct(l),view:ct(u),origin:h,isResizable:d}},Mu=function(u,l,d){return{parent:ct(l),view:ct(u),origin:ct(yc(0,0)),isResizable:d}},Fv={only:bs,detached:Dw,body:Mu},kc=$l.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),ip=function(u,l,d){var h=d.substring(0,d.length-u.length),w=parseFloat(h);return h===w.toString()?l(w):kc.invalid(d)},Bb=function(u){return Pa(u,"%")?ip("%",kc.percent,u):Pa(u,"px")?ip("px",kc.pixels,u):kc.invalid(u)},rl=Jn(Jn({},kc),{from:Bb}),up=function(u,l){return wt(u,function(d){var h=rl.from(d);return h.fold(function(){return d},function(w){var x=w/l*100;return x+"%"},function(w){return w+"%"})})},Rb=function(u,l,d){var h=d/l;return wt(u,function(w){var x=rl.from(w);return x.fold(function(){return w},function(_){return _*h+"px"},function(_){return _/100*d+"px"})})},Dx=function(u,l){var d=u.fold(function(){return ct("")},function(h){var w=h/l;return ct(w+"px")},function(){var h=100/l;return ct(h+"%")});return yt(l,d)},sp=function(u,l,d){return u.fold(function(){return l},function(h){return Rb(l,d,h)},function(h){return up(l,d)})},Ys=function(u,l,d){var h=rl.from(d),w=de(u,function(x){return x==="0px"})?Dx(h,u.length):sp(h,u,l);return cp(w)},Vd=function(u,l){return u.length===0?l:Dn(u,function(d,h){return rl.from(h).fold(ct(0),tr,tr)+d},0)},_x=function(u,l){var d=Math.floor(u);return{value:d+l,remainder:u-d}},Pb=function(u,l){return rl.from(u).fold(ct(u),function(d){return d+l+"px"},function(d){return d+l+"%"})},cp=function(u){if(u.length===0)return u;var l=Dn(u,function(h,w){var x=rl.from(w).fold(function(){return{value:w,remainder:0}},function(_){return _x(_,"px")},function(_){return{value:_+"%",remainder:0}});return{output:[x.value].concat(h.output),remainder:h.remainder+x.remainder}},{output:[],remainder:0}),d=l.output;return d.slice(0,d.length-1).concat([Pb(d[d.length-1],Math.round(l.remainder))])},_w=rl.from,Bx=function(u,l,d){bt(l,function(h){var w=u.slice(h.column,h.colspan+h.column),x=Vd(w,Ml());ro(h.element,"width",x+d)})},Ag=function(u,l,d){bt(l,function(h,w){var x=Vd([u[w]],Ml());ro(h.element,"width",x+d)})},Rx=function(u,l,d,h){bt(d,function(w){var x=u.slice(w.row,w.rowspan+w.row),_=Vd(x,Zm());ro(w.element,"height",_+h)}),bt(l,function(w,x){ro(w.element,"height",u[x])})},Ud=function(u){return _w(u).fold(ct("px"),ct("px"),ct("%"))},Wd=function(u,l,d,h){var w=$t.fromTable(u),x=w.all,_=$t.justCells(w),z=$t.justColumns(w);l.each(function(I){var oe=Ud(I),ye=ba(u),Ot=bg(w,u,h),ht=Ys(Ot,ye,I);$t.hasColumns(w)?Ag(ht,z,oe):Bx(ht,_,oe),ro(u,"width",I)}),d.each(function(I){var oe=Ud(I),ye=Ll(u),Ot=kw(w,u,Rd),ht=Ys(Ot,ye,I);Rx(ht,x,_,oe),ro(u,"height",I)})},Bw=px,Mb=bx,iu=ps,ys=Ju,Xl=function(u){var l=$t.fromTable(u);return l.grid},Ji=function(u){var l=[],d=function(x){if(x===void 0)throw new Error("Event bind error: undefined handler");l.push(x)},h=function(x){l=Sn(l,function(_){return _!==x})},w=function(){for(var x=[],_=0;_<arguments.length;_++)x[_]=arguments[_];var z={};bt(u,function(I,oe){z[I]=x[oe]}),bt(l,function(I){I(z)})};return{bind:d,unbind:h,trigger:w}},$f=function(u){var l=X(u,function(h){return{bind:h.bind,unbind:h.unbind}}),d=X(u,function(h){return h.trigger});return{registry:l,trigger:d}},Rw=function(u,l){var d=null,h=function(){d!==null&&(clearTimeout(d),d=null)},w=function(){for(var x=[],_=0;_<arguments.length;_++)x[_]=arguments[_];d!==null&&clearTimeout(d),d=setTimeout(function(){u.apply(null,x),d=null},l)};return{cancel:h,throttle:w}},jd=function(u){return u.slice(0).sort()},Nb=function(u,l){throw new Error("All required keys ("+jd(u).join(", ")+") were not specified. Specified keys were: "+jd(l).join(", ")+".")},lp=function(u){throw new Error("Unsupported keys for object: "+jd(u).join(", "))},Nu=function(u,l){if(!Nn(l))throw new Error("The "+u+" fields must be an array. Was: "+l+".");bt(l,function(d){if(!pn(d))throw new Error("The value "+d+" in the "+u+" fields was not a string.")})},Zi=function(u,l){throw new Error("All values need to be of type: "+l+". Keys ("+jd(u).join(", ")+") were not.")},Tc=function(u){var l=jd(u),d=Pe(l,function(h,w){return w<l.length-1&&h===l[w+1]});d.each(function(h){throw new Error("The field: "+h+" occurs more than once in the combined fields: ["+l.join(", ")+"].")})},Pw=function(u,l){return al(u,l,{validate:ut,label:"function"})},al=function(u,l,d){if(l.length===0)throw new Error("You must specify at least one required field.");return Nu("required",l),Tc(l),function(h){var w=Ie(h),x=de(l,function(z){return Xn(w,z)});x||Nb(l,w),u(l,w);var _=Sn(l,function(z){return!d.validate(h[z],z)});return _.length>0&&Zi(_,d.label),h}},Mw=function(u,l){var d=Sn(l,function(h){return!Xn(u,h)});d.length>0&&lp(d)},Ec=function(u){return Pw(Mw,u)},Fb=Ec(["compare","extract","mutate","sink"]),If=Ec(["element","start","stop","destroy"]),fp=Ec(["forceDrop","drop","move","delayDrop"]),Wr=function(){var u=Z.none(),l=function(){u=Z.none()},d=function(x,_){var z=u.map(function(I){return x.compare(I,_)});return u=Z.some(_),z},h=function(x,_){var z=_.extract(x);z.each(function(I){var oe=d(_,I);oe.each(function(ye){w.trigger.move(ye)})})},w=$f({move:Ji(["info"])});return{onEvent:h,reset:l,events:w.registry}},Dg=function(){var u=$f({move:Ji(["info"])});return{onEvent:Jt,reset:Jt,events:u.registry}},Px=function(){var u=Dg(),l=Wr(),d=u,h=function(){d.reset(),d=l},w=function(){d.reset(),d=u},x=function(z,I){d.onEvent(z,I)},_=function(){return d===l};return{on:h,off:w,isOn:_,onEvent:x,events:l.events}},Nw=function(u,l,d){var h=!1,w=$f({start:Ji([]),stop:Ji([])}),x=Px(),_=function(){Pt.stop(),x.isOn()&&(x.off(),w.trigger.stop())},z=Rw(_,200),I=function(Qe){Pt.start(Qe),x.on(),w.trigger.start()},oe=function(Qe){z.cancel(),x.onEvent(Qe,l)};x.events.move.bind(function(Qe){l.mutate(u,Qe.info)});var ye=function(){h=!0},Ot=function(){h=!1},ht=function(Qe){return function(){for(var Mt=[],Kn=0;Kn<arguments.length;Kn++)Mt[Kn]=arguments[Kn];h&&Qe.apply(null,Mt)}},Pt=l.sink(fp({forceDrop:_,drop:ht(_),move:ht(oe),delayDrop:ht(z.throttle)}),d),ze=function(){Pt.destroy()};return{element:Pt.element,go:I,on:ye,off:Ot,destroy:ze,events:w.registry}},Mx=function(u,l,d,h,w,x,_){return{target:u,x:l,y:d,stop:h,prevent:w,kill:x,raw:_}},vp=function(u){var l=lt.fromDom(Kr(u).getOr(u.target)),d=function(){return u.stopPropagation()},h=function(){return u.preventDefault()},w=nt(h,d);return Mx(l,u.clientX,u.clientY,d,h,w,u)},Fw=function(u,l){return function(d){u(d)&&l(vp(d))}},$v=function(u,l,d,h,w){var x=Fw(d,h);return u.dom.addEventListener(l,x,w),{unbind:re(Nx,u,l,x,w)}},eo=function(u,l,d,h){return $v(u,l,d,h,!1)},Nx=function(u,l,d,h){u.dom.removeEventListener(l,d,h)},$b=Qt,qd=function(u,l,d){return eo(u,l,$b,d)},zf=vp,ol=function(u,l){var d=pi(u,l);return d===void 0||d===""?[]:d.split(" ")},Iv=function(u,l,d){var h=ol(u,l),w=h.concat([d]);return Ti(u,l,w.join(" ")),!0},wa=function(u,l,d){var h=Sn(ol(u,l),function(w){return w!==d});return h.length>0?Ti(u,l,h.join(" ")):nn(u,l),!1},Lo=function(u){return u.dom.classList!==void 0},No=function(u){return ol(u,"class")},Ib=function(u,l){return Iv(u,"class",l)},ao=function(u,l){return wa(u,"class",l)},ws=function(u,l){Lo(u)?u.dom.classList.add(l):Ib(u,l)},dp=function(u){var l=Lo(u)?u.dom.classList:No(u);l.length===0&&nn(u,"class")},Qi=function(u,l){if(Lo(u)){var d=u.dom.classList;d.remove(l)}else ao(u,l);dp(u)},il=function(u,l){return Lo(u)&&u.dom.classList.contains(l)},$w=function(u){var l=u.replace(/\./g,"-"),d=function(h){return l+"-"+h};return{resolve:d}},Fx=$w("ephox-dragster"),Iw=Fx.resolve,mp=function(u){var l=Jn({layerClass:Iw("blocker")},u),d=lt.fromTag("div");Ti(d,"role","presentation"),yn(d,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ws(d,Iw("blocker")),ws(d,l.layerClass);var h=function(){return d},w=function(){fo(d)};return{element:h,destroy:w}},zb=function(u,l){return yc(l.left-u.left,l.top-u.top)},Lb=function(u){return Z.some(yc(u.x,u.y))},$s=function(u,l){u.mutate(l.left,l.top)},Qu=function(u,l){var d=mp(l),h=qd(d.element(),"mousedown",u.forceDrop),w=qd(d.element(),"mouseup",u.drop),x=qd(d.element(),"mousemove",u.move),_=qd(d.element(),"mouseout",u.delayDrop),z=function(){d.destroy(),w.unbind(),x.unbind(),_.unbind(),h.unbind()},I=function(ye){xt(ye,d.element())},oe=function(){fo(d.element())};return If({element:d.element,start:I,stop:oe,destroy:z})},gp=Fb({compare:zb,extract:Lb,sink:Qu,mutate:$s}),zw=function(u,l){l===void 0&&(l={});var d=l.mode!==void 0?l.mode:gp;return Nw(u,d,l)},Hb=function(u){return pi(u,"contenteditable")==="true"},$x=function(u,l){return Aa(u,"[contenteditable]",l)},uu=$w("ephox-snooker"),zv=uu.resolve,Lw=function(){var u=$f({drag:Ji(["xDelta","yDelta"])}),l=function(d,h){u.trigger.drag(d,h)};return{mutate:l,events:u.registry}},Hw=function(){var u=$f({drag:Ji(["xDelta","yDelta","target"])}),l=Z.none(),d=Lw();d.events.drag.bind(function(x){l.each(function(_){u.trigger.drag(x.xDelta,x.yDelta,_)})});var h=function(x){l=Z.some(x)},w=function(){return l};return{assign:h,get:w,mutate:d.mutate,events:u.registry}},Vw=function(u,l,d,h,w){var x=lt.fromTag("div");return yn(x,{position:"absolute",left:l-h/2+"px",top:d+"px",height:w+"px",width:h+"px"}),dc(x,{"data-column":u,role:"presentation"}),x},Gd=function(u,l,d,h,w){var x=lt.fromTag("div");return yn(x,{position:"absolute",left:l+"px",top:d-w/2+"px",height:w+"px",width:h+"px"}),dc(x,{"data-row":u,role:"presentation"}),x},_g=zv("resizer-bar"),Vb=zv("resizer-rows"),Ub=zv("resizer-cols"),Wb=7,oo=function(u,l){return Bn(u.all,function(d,h){return l(d.element)?[h]:[]})},Ei=function(u,l){var d=[];return yt(u.grid.columns,function(h){var w=$t.getColumnAt(u,h).map(function(x){return x.element});w.forall(l)&&d.push(h)}),Sn(d,function(h){var w=$t.filterItems(u,function(x){return x.column===h});return de(w,function(x){return l(x.element)})})},wi=function(u){var l=ti(u.parent(),"."+_g);bt(l,fo)},Hi=function(u,l,d){var h=u.origin();bt(l,function(w){w.each(function(x){var _=d(h,x);ws(_,_g),xt(u.parent(),_)})})},Fu=function(u,l,d,h){Hi(u,l,function(w,x){var _=Vw(x.col,x.x-w.left,d.top-w.top,Wb,h);return ws(_,Ub),_})},eu=function(u,l,d,h){Hi(u,l,function(w,x){var _=Gd(x.row,d.left-w.left,x.y-w.top,h,Wb);return ws(_,Vb),_})},jb=function(u,l,d,h,w){var x=Yu(d),_=l.isResizable,z=h.length>0?Rd.positions(h,d):[],I=z.length>0?oo(u,_):[],oe=Sn(z,function(Pt,ze){return E(I,function(Qe){return ze===Qe})});eu(l,oe,x,Gh(d));var ye=w.length>0?_u.positions(w,d):[],Ot=ye.length>0?Ei(u,_):[],ht=Sn(ye,function(Pt,ze){return E(Ot,function(Qe){return ze===Qe})});Fu(l,ht,x,Ms(d))},Kd=function(u,l){if(wi(u),u.isResizable(l)){var d=$t.fromTable(l),h=Et(d),w=fb(d);jb(d,u,l,h,w)}},qb=function(u,l){var d=ti(u.parent(),"."+_g);bt(d,l)},Uw=function(u){qb(u,function(l){ro(l,"display","none")})},Ww=function(u){qb(u,function(l){ro(l,"display","block")})},Gb=function(u){return il(u,Vb)},hp=function(u){return il(u,Ub)},Kb=zv("resizer-bar-dragging"),Ix=function(u){var l=Hw(),d=zw(l,{}),h=Z.none(),w=function(ze,Qe){return Z.from(pi(ze,Qe))};l.events.drag.bind(function(ze){w(ze.target,"data-row").each(function(Qe){var Mt=Cd(ze.target,"top");ro(ze.target,"top",Mt+ze.yDelta+"px")}),w(ze.target,"data-column").each(function(Qe){var Mt=Cd(ze.target,"left");ro(ze.target,"left",Mt+ze.xDelta+"px")})});var x=function(ze,Qe){var Mt=Cd(ze,Qe),Kn=Rs(ze,"data-initial-"+Qe,0);return Mt-Kn};d.events.stop.bind(function(){l.get().each(function(ze){h.each(function(Qe){w(ze,"data-row").each(function(Mt){var Kn=x(ze,"top");nn(ze,"data-initial-top"),Pt.trigger.adjustHeight(Qe,Kn,parseInt(Mt,10))}),w(ze,"data-column").each(function(Mt){var Kn=x(ze,"left");nn(ze,"data-initial-left"),Pt.trigger.adjustWidth(Qe,Kn,parseInt(Mt,10))}),Kd(u,Qe)})})});var _=function(ze,Qe){Pt.trigger.startAdjust(),l.assign(ze),Ti(ze,"data-initial-"+Qe,Cd(ze,Qe)),ws(ze,Kb),ro(ze,"opacity","0.2"),d.go(u.parent())},z=qd(u.parent(),"mousedown",function(ze){Gb(ze.target)&&_(ze.target,"top"),hp(ze.target)&&_(ze.target,"left")}),I=function(ze){return _n(ze,u.view())},oe=function(ze){return Aa(ze,"table",I).filter(function(Qe){return $x(Qe,I).exists(Hb)})},ye=qd(u.view(),"mouseover",function(ze){oe(ze.target).fold(function(){_i(ze.target)&&wi(u)},function(Qe){h=Z.some(Qe),Kd(u,Qe)})}),Ot=function(){z.unbind(),ye.unbind(),d.destroy(),wi(u)},ht=function(ze){Kd(u,ze)},Pt=$f({adjustHeight:Ji(["table","delta","row"]),adjustWidth:Ji(["table","delta","column"]),startAdjust:Ji([])});return{destroy:Ot,refresh:ht,on:d.on,off:d.off,hideBars:re(Uw,u),showBars:re(Ww,u),events:Pt.registry}},zx=function(u,l,d){var h=Rd,w=_u,x=Ix(u),_=$f({beforeResize:Ji(["table","type"]),afterResize:Ji(["table","type"]),startDrag:Ji([])});return x.events.adjustHeight.bind(function(z){var I=z.table;_.trigger.beforeResize(I,"row");var oe=h.delta(z.delta,I);_b(I,oe,z.row,h),_.trigger.afterResize(I,"row")}),x.events.startAdjust.bind(function(z){_.trigger.startDrag()}),x.events.adjustWidth.bind(function(z){var I=z.table;_.trigger.beforeResize(I,"col");var oe=w.delta(z.delta,I),ye=d(I);Hd(I,oe,z.column,l,ye),_.trigger.afterResize(I,"col")}),{on:x.on,off:x.off,hideBars:x.hideBars,showBars:x.showBars,destroy:x.destroy,events:_.registry}},jw={create:zx},Xb=function(u,l){return u.fire("newrow",{node:l})},Lf=function(u,l){return u.fire("newcell",{node:l})},pp=function(u,l,d,h,w){u.fire("ObjectResizeStart",{target:l,width:d,height:h,origin:w})},qw=function(u,l,d,h,w){u.fire("ObjectResized",{target:l,width:d,height:h,origin:w})},Gw=function(u,l,d,h,w){u.fire("TableSelectionChange",{cells:l,start:d,finish:h,otherCells:w})},Lx=function(u){u.fire("TableSelectionClear")},Ci=function(u,l,d){u.fire("TableModified",Jn(Jn({},d),{table:l}))},Yb={structure:!1,style:!0},Lt={structure:!0,style:!1},Xd="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Do={"border-collapse":"collapse",width:"100%"},Kw=function(u){if(Vv(u)){var l=u.getBody().offsetWidth;return Jn(Jn({},Do),{width:l+"px"})}else return Zd(u)?dn(Do,function(d,h){return h!=="width"}):Do},Xw={border:"1"},Jb="preservetable",tu=function(u){return u.getParam("table_sizing_mode","auto")},Lv=function(u){return u.getParam("table_responsive_width")},bp=function(u){return u.getParam("table_default_attributes",Xw,"object")},Yd=function(u){return u.getParam("table_default_styles",Kw(u),"object")},Is=function(u){return u.getParam("table_resize_bars",!0,"boolean")},Hx=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},yp=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},Oc=function(u){return u.getParam("table_row_advtab",!0,"boolean")},yu=function(u){return u.getParam("table_advtab",!0,"boolean")},Zb=function(u){return u.getParam("table_appearance_options",!0,"boolean")},Ac=function(u){return u.getParam("table_grid",!0,"boolean")},Hv=function(u){return u.getParam("table_style_by_css",!1,"boolean")},Qb=function(u){return u.getParam("table_cell_class_list",[],"array")},Jd=function(u){return u.getParam("table_row_class_list",[],"array")},Vx=function(u){return u.getParam("table_class_list",[],"array")},Yl=function(u){return tu(u)==="relative"||Lv(u)===!0},Vv=function(u){return tu(u)==="fixed"||Lv(u)===!1},Zd=function(u){return tu(u)==="responsive"},wp=function(u){return u.getParam("table_toolbar",Xd)},e0=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},Cp=function(u){var l="section",d=u.getParam("table_header_type",l,"string"),h=["section","cells","sectionCells","auto"];return Xn(h,d)?d:l},Sp=function(u){var l=["preservetable","resizetable"],d=u.getParam("table_column_resizing",Jb,"string");return Pe(l,function(h){return h===d}).getOr(Jb)},xp=function(u){return Sp(u)==="preservetable"},Uv=function(u){return Sp(u)==="resizetable"},ul=function(u){var l=u.getParam("table_clone_elements");return pn(l)?Z.some(l.split(/[ ,]/)):Array.isArray(l)?Z.some(l):Z.none()},Hf=function(u){var l=u.getParam("object_resizing",!0);return pn(l)?l==="table":l},Dc=function(u,l){if(Yl(u)){var d=vo(u,l.dom).filter(fi).getOrThunk(function(){return ys(l)});return Ul.percentageSize(d,l)}else return Vv(u)?Ul.pixelSize(ba(l),l):Ul.getTableSize(l)},sl=function(u){nn(u,"width")},Ux=function(u,l){var d=Ju(u);Wd(u,Z.some(d),Z.none(),l),sl(u)},ft=function(u,l){var d=ww(u);Wd(u,Z.some(d),Z.none(),l),sl(u)},kp=function(u){gc(u,"width");var l=vs(u),d=l.length>0?l:Mo(u);bt(d,function(h){gc(h,"width"),sl(h)}),sl(u)},Bg=function(u,l){var d=Dc(u,l);Ux(l,d)},t0=function(u,l){var d=Dc(u,l);ft(l,d)},Tp=kp,_c=function(u){var l=$t.fromTable(u);$t.hasColumns(l)||bt(Mo(u),function(d){var h=Eu(d,"width");ro(d,"width",h),nn(d,"width")})},n0=function(){var u=lt.fromTag("div");return yn(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),xt(gi(),u),u},Yw=function(u,l){return u.inline?Fv.body(Bf(u),n0(),l):Fv.only(lt.fromDom(u.getDoc()),l)},Rg=function(u,l){u.inline&&fo(l.parent())},Qd="bar-",Jw=function(u){return pi(u,"data-mce-resize")!=="false"},Zw=function(u){var l=Z.none(),d=Z.none(),h=Z.none(),w,x,_=function(ze){return ze.nodeName==="TABLE"},z=function(){return d},I=function(){return h.getOr(Fv.only(lt.fromDom(u.getBody()),Jw))},oe=function(ze){return Dc(u,ze)},ye=function(){return xp(u)?Nv():ka()},Ot=function(ze){return Xl(ze).columns},ht=function(ze,Qe,Mt){var Kn=Pa(Qe,"e");if(x===""&&Bg(u,ze),Mt!==w&&x!==""){ro(ze,"width",x);var Jr=ye(),xr=oe(ze),ca=xp(u)||Kn?Ot(ze)-1:0;Hd(ze,Mt-w,ca,Jr,xr)}else if(fi(x)){var $a=parseFloat(x.replace("%","")),Ia=Mt*$a/w;ro(ze,"width",Ia+"%")}Rf(x)&&_c(ze)},Pt=function(){d.each(function(ze){ze.destroy()}),h.each(function(ze){Rg(u,ze)})};return u.on("init",function(){var ze=Yw(u,Jw);if(h=Z.some(ze),Hf(u)&&Is(u)){var Qe=ye(),Mt=jw.create(ze,Qe,oe);Mt.on(),Mt.events.startDrag.bind(function(Kn){l=Z.some(u.selection.getRng())}),Mt.events.beforeResize.bind(function(Kn){var Jr=Kn.table.dom;pp(u,Jr,ql(Jr),tp(Jr),Qd+Kn.type)}),Mt.events.afterResize.bind(function(Kn){var Jr=Kn.table,xr=Jr.dom;Gs(Jr),l.each(function(ca){u.selection.setRng(ca),u.focus()}),qw(u,xr,ql(xr),tp(xr),Qd+Kn.type),u.undoManager.add()}),d=Z.some(Mt)}}),u.on("ObjectResizeStart",function(ze){var Qe=ze.target;if(_(Qe)){var Mt=lt.fromDom(Qe);bt(u.dom.select(".mce-clonedresizable"),function(Kn){u.dom.addClass(Kn,"mce-"+Sp(u)+"-columns")}),!Mb(Mt)&&Vv(u)?t0(u,Mt):!Bw(Mt)&&Yl(u)&&Bg(u,Mt),iu(Mt)&&Na(ze.origin,Qd)&&Bg(u,Mt),w=ze.width,x=Zd(u)?"":vo(u,Qe).getOr("")}}),u.on("ObjectResized",function(ze){var Qe=ze.target;if(_(Qe)){var Mt=lt.fromDom(Qe),Kn=ze.origin;Na(Kn,"corner-")&&ht(Mt,Kn,ze.width),Gs(Mt),Ci(u,Mt.dom,Yb)}}),u.on("SwitchMode",function(){z().each(function(ze){u.mode.isReadOnly()?ze.hideBars():ze.showBars()})}),{lazyResize:z,lazyWire:I,destroy:Pt}},Pg=function(u,l){return{element:u,offset:l}},Wv=function(u,l,d){return u.property().isText(l)&&u.property().getText(l).trim().length===0||u.property().isComment(l)?d(l).bind(function(h){return Wv(u,h,d).orThunk(function(){return Z.some(h)})}):Z.none()},Mg=function(u,l){if(u.property().isText(l))return u.property().getText(l).length;var d=u.property().children(l);return d.length},em=function(u,l){var d=Wv(u,l,u.query().prevSibling).getOr(l);if(u.property().isText(d))return Pg(d,Mg(u,d));var h=u.property().children(d);return h.length>0?em(u,h[h.length-1]):Pg(d,Mg(u,d))},r0=em,Wx=ag(),cl=function(u){return r0(Wx,u)},tm=function(u,l){var d=qc(u,"colspan");if(d===1){var h=du(u);h.each(function(w){var x=w.value/2;nl(u,x,w.unit),nl(l,x,w.unit)})}},Ng=function(u,l,d,h){d===h?nn(u,l):Ti(u,l,d)},ll=function(u,l,d){on(_a(u,l)).fold(function(){return Ae(u,d)},function(h){return me(h,d)})},Ep=function(u,l){var d=Pl(u,l).getOrThunk(function(){var h=lt.fromTag(l,Tu(u).dom);return l==="thead"?ll(u,"caption,colgroup",h):l==="colgroup"?ll(u,"caption",h):xt(u,h),h});return Wa(d),d},a0=function(u,l){var d=[],h=[],w=function(Pt){return wt(Pt,function(ze){ze.isNew&&d.push(ze.element);var Qe=ze.element;return Wa(Qe),bt(ze.cells,function(Mt){Mt.isNew&&h.push(Mt.element),Ng(Mt.element,"colspan",Mt.colspan,1),Ng(Mt.element,"rowspan",Mt.rowspan,1),xt(Qe,Mt.element)}),Qe})},x=function(Pt){return Bn(Pt,function(ze){return wt(ze.cells,function(Qe){return Ng(Qe.element,"span",Qe.colspan,1),Qe.element})})},_=function(Pt,ze){var Qe=Ep(u,ze),Mt=ze==="colgroup"?x:w,Kn=Mt(Pt);Xr(Qe,Kn)},z=function(Pt){Pl(u,Pt).each(fo)},I=function(Pt,ze){Pt.length>0?_(Pt,ze):z(ze)},oe=[],ye=[],Ot=[],ht=[];return bt(l,function(Pt){switch(Pt.section){case"thead":oe.push(Pt);break;case"tbody":ye.push(Pt);break;case"tfoot":Ot.push(Pt);break;case"colgroup":ht.push(Pt);break}}),I(ht,"colgroup"),I(oe,"thead"),I(ye,"tbody"),I(Ot,"tfoot"),{newRows:d,newCells:h}},Qw=function(u){return wt(u,function(l){var d=fg(l.element);return bt(l.cells,function(h){var w=kf(h.element);Ng(w,"colspan",h.colspan,1),Ng(w,"rowspan",h.rowspan,1),xt(d,w)}),d})},e2=function(u,l){return wt(u,function(d){return Ou(d,l)})},t2=function(u,l){return u[l]},o0=function(u,l){if(u.length===0)return 0;var d=u[0],h=Ct(u,function(w){return!l(d.element,w.element)});return h.fold(function(){return u.length},function(w){return w})},n2=function(u,l,d,h){var w=t2(u,l).cells.slice(d),x=o0(w,h),_=e2(u,d).slice(l),z=o0(_,h);return{colspan:x,rowspan:z}},jx=function(u,l){var d=wt(u,function(w){return wt(w.cells,qn)}),h=function(w,x,_,z){for(var I=w;I<w+_;I++)for(var oe=x;oe<x+z;oe++)d[I][oe]=!0};return wt(u,function(w,x){var _=Bn(w.cells,function(z,I){if(d[x][I]===!1){var oe=n2(u,x,I,l);return h(x,I,oe.rowspan,oe.colspan),[ga(z.element,oe.rowspan,oe.colspan,z.isNew)]}else return[]});return Di(_,w.section)})},nm=function(u,l,d){var h=[];if($t.hasColumns(u)){var w=wt($t.justColumns(u),function(ye){return Xa(ye.element,d,!1)});h.push(qo(w,"colgroup"))}for(var x=0;x<u.grid.rows;x++){for(var _=[],z=0;z<u.grid.columns;z++){var I=$t.getAt(u,x,z).map(function(ye){return Xa(ye.element,d,ye.isLocked)}).getOrThunk(function(){return Xa(l.gap(),!0,!1)});_.push(I)}var oe=qo(_,u.all[x].section);h.push(oe)}return h},r2=function(u,l){return nm(u,l,!1)},i0=function(u,l){var d=function(h){var w=zr(h,function(x){return F(x.element).map(function(_){var z=F(_).isNone();return Xa(_,z,!1)})});return w.getOrThunk(function(){return Xa(l.row(),!0,!1)})};return wt(u,function(h){var w=d(h.details);return aa(w.element,h.details,h.section,w.isNew)})},Op=function(u,l){var d=jx(u,_n);return i0(d,l)},Ap=function(u,l){return zr(u.all,function(d){return Pe(d.cells,function(h){return _n(l,h.element)})})},u0=function(u,l,d){var h=wt(l.selection,function(x){return Sd(x).bind(function(_){return Ap(u,_)}).filter(d)}),w=va(h);return qh(w.length>0,w)},$u=function(u,l,d,h,w){return function(x,_,z,I,oe,ye){var Ot=$t.fromTable(_),ht=l(Ot,z).map(function(Pt){var ze=r2(Ot,I),Qe=u(ze,Pt,_n,w(I)),Mt=ds(Qe.grid),Kn=Op(Qe.grid,I);return{info:Pt,grid:Kn,cursor:Qe.cursor,lockedColumns:Mt}});return ht.bind(function(Pt){var ze=a0(_,Pt.grid),Qe=Z.from(oe).getOrThunk(function(){return Ul.getTableSize(_)}),Mt=Z.from(ye).getOrThunk(Nv);return d(_,Pt.grid,Pt.info,Qe,Mt),h(_),Kd(x,_),nn(_,pf),Pt.lockedColumns.length>0&&Ti(_,pf,Pt.lockedColumns.join(",")),Z.some({cursor:Pt.cursor,newRows:ze.newRows,newCells:ze.newCells})})}},s0=function(u,l){return Sd(l.element).bind(function(d){return Ap(u,d).map(function(h){var w=Jn(Jn({},h),{generators:l.generators,clipboard:l.clipboard});return w})})},Dp=function(u,l){return u0(u,l,Qt).map(function(d){return{cells:d,generators:l.generators,clipboard:l.clipboard}})},qx=function(u,l){return l.mergable},Gx=function(u,l){return l.unmergable},Vf=function(u,l){return u0(u,l,Qt)},_p=function(u,l){return u0(u,l,function(d){return!d.isLocked})},a2=function(u,l){return Ap(u,l).exists(function(d){return!d.isLocked})},Bp=function(u,l){return de(l,function(d){return a2(u,d)})},Oi=function(u,l){return qx(u,l).filter(function(d){return Bp(u,d.cells)})},rm=function(u,l){return Gx(u,l).filter(function(d){return Bp(u,d)})},Kx=function(u,l,d,h){var w=Pi(u).rows;if(w.length===0)return u;for(var x=l.startRow;x<=l.finishRow;x++)for(var _=l.startCol;_<=l.finishCol;_++){var z=w[x],I=Ou(z,_).isLocked;bc(z,_,Xa(h(),!1,I))}return u},o2=function(u,l,d,h){for(var w=Pi(u).rows,x=!0,_=0;_<w.length;_++)for(var z=0;z<Au(w[0]);z++){var I=w[_],oe=Ou(I,z),ye=oe.element,Ot=d(ye,l);Ot===!0&&x===!1?bc(I,z,Xa(h(),!0,oe.isLocked)):Ot===!0&&(x=!1)}return u},Xx=function(u,l){return wr(u,function(d,h){return E(d,function(w){return l(w.element,h.element)})?d:d.concat([h])},[])},Yx=function(u,l,d,h){return l>0&&l<u[0].cells.length&&bt(u,function(w){var x=w.cells[l-1],_=w.cells[l],z=d(_.element,x.element);z&&bc(w,l,Xa(h(),!0,_.isLocked))}),u},Jx=function(u,l,d,h){var w=Pi(u).rows;if(l>0&&l<w.length){var x=w[l-1].cells,_=Xx(x,d);bt(_,function(z){for(var I=Z.none(),oe=l;oe<w.length;oe++)for(var ye=function(ht){var Pt=w[oe],ze=Ou(Pt,ht),Qe=d(ze.element,z.element);Qe&&(I.isNone()&&(I=Z.some(h())),I.each(function(Mt){bc(Pt,ht,Xa(Mt,!0,ze.isLocked))}))},Ot=0;Ot<Au(w[0]);Ot++)ye(Ot)})}return u},Jl=function(u){var l=function(ht){return u===ht},d=function(ht){return Jl(u)},h=function(ht){return Jl(u)},w=function(ht){return Jl(ht(u))},x=function(ht){return Jl(u)},_=function(ht){ht(u)},z=function(ht){return ht(u)},I=function(ht,Pt){return Pt(u)},oe=function(ht){return ht(u)},ye=function(ht){return ht(u)},Ot=function(){return Z.some(u)};return{is:l,isValue:Qt,isError:qn,getOr:ct(u),getOrThunk:ct(u),getOrDie:ct(u),or:d,orThunk:h,fold:I,map:w,mapError:x,each:_,bind:z,exists:oe,forall:ye,toOptional:Ot}},Fg=function(u){var l=function(oe){return oe()},d=function(){return ar(String(u))()},h=function(oe){return oe},w=function(oe){return oe()},x=function(oe){return Fg(u)},_=function(oe){return Fg(oe(u))},z=function(oe){return Fg(u)},I=function(oe,ye){return oe(u)};return{is:qn,isValue:qn,isError:Qt,getOr:tr,getOrThunk:l,getOrDie:d,or:h,orThunk:w,fold:I,map:x,mapError:_,each:Jt,bind:z,exists:qn,forall:Qt,toOptional:Z.none}},i2=function(u,l){return u.fold(function(){return Fg(l)},Jl)},u2={value:Jl,error:Fg,fromOption:i2},Zx=function(u,l,d){if(u.row>=l.length||u.column>Au(l[0]))return u2.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var h=l.slice(u.row),w=h[0].cells.slice(u.column),x=Au(d[0]),_=d.length;return u2.value({rowDelta:h.length-_,colDelta:w.length-x})},c0=function(u,l){var d=Au(u[0]),h=Au(l[0]);return{rowDelta:0,colDelta:d-h}},s2=function(u,l){var d=u.length,h=l.length;return{rowDelta:d-h,colDelta:0}},l0=function(u,l,d,h){var w=l.section==="colgroup"?d.col:d.cell;return yt(u,function(x){return Xa(w(),!0,h(x))})},$g=function(u,l,d,h){return u.concat(yt(l,function(){var w=u[u.length-1],x=l0(w.cells.length,w,d,function(_){return Tr(h,_.toString())});return kd(w,x)}))},Qx=function(u,l,d,h){return wt(u,function(w){var x=l0(l,w,d,qn);return pc(w,h,x)})},ek=function(u,l,d){return wt(u,function(h){return wr(d,function(w,x){var _=l0(1,h,l,Qt)[0];return eg(w,x,_)},h)})},am=function(u,l,d){var h=l.colDelta<0?Qx:tr,w=l.rowDelta<0?$g:tr,x=ds(u),_=Au(u[0]),z=E(x,function(ye){return ye===_-1}),I=h(u,Math.abs(l.colDelta),d,z?_-1:_),oe=ds(I);return w(I,Math.abs(l.rowDelta),d,Be(oe,Qt))},f0=function(u,l,d,h){var w=Ou(u[l],d),x=re(h,w.element),_=u[l];return u.length>1&&Au(_)>1&&(d>0&&x(Ri(_,d-1))||d<_.cells.length-1&&x(Ri(_,d+1))||l>0&&x(Ri(u[l-1],d))||l<u.length-1&&x(Ri(u[l+1],d)))},c2=function(u,l,d,h,w,x){for(var _=u.row,z=u.column,I=d.length,oe=Au(d[0]),ye=_+I,Ot=z+oe+x.length,ht=Be(x,Qt),Pt=_;Pt<ye;Pt++)for(var ze=0,Qe=z;Qe<Ot;Qe++){if(ht[Qe]){ze++;continue}f0(l,Pt,Qe,w)&&o2(l,Ri(l[Pt],Qe),w,h.cell);var Mt=Qe-z-ze,Kn=Ou(d[Pt-_],Mt),Jr=Kn.element,xr=h.replace(Jr);bc(l[Pt],Qe,Xa(xr,!0,Kn.isLocked))}return l},tk=function(u,l,d){var h=Au(l[0]),w=Pi(l).cols.length+u.row,x=yt(h-u.column,function(z){return z+u.column}),_=Pe(x,function(z){return de(d,function(I){return I!==z})}).getOr(h-1);return{row:w,column:_}},jv=function(u,l,d){return Sn(d,function(h){return h>=u.column&&h<=Au(l[0])+u.column})},l2=function(u,l,d,h,w){var x=ds(l),_=tk(u,l,x),z=Pi(d).rows,I=jv(_,z,x),oe=Zx(_,l,z);return oe.map(function(ye){var Ot=Jn(Jn({},ye),{colDelta:ye.colDelta-I.length}),ht=am(l,Ot,h),Pt=ds(ht),ze=jv(_,z,Pt);return c2(_,ht,z,h,w,ze)})},f2=function(u,l,d,h,w){Yx(l,u,w,h.cell);var x=s2(d,l),_=am(d,x,h),z=s2(l,_),I=am(l,z,h);return wt(I,function(oe,ye){return pc(oe,u,_[ye].cells)})},v0=function(u,l,d,h,w){Jx(l,u,w,h.cell);var x=ds(l),_=c0(l,d),z=Jn(Jn({},_),{colDelta:_.colDelta-x.length}),I=am(l,z,h),oe=Pi(I),ye=oe.cols,Ot=oe.rows,ht=ds(I),Pt=c0(d,l),ze=Jn(Jn({},Pt),{colDelta:Pt.colDelta+ht.length}),Qe=ek(d,h,ht),Mt=am(Qe,ze,h);return ye.concat(Ot.slice(0,u)).concat(Mt).concat(Ot.slice(u,Ot.length))},v2=function(u,l,d,h,w){var x=Pi(u),_=x.rows,z=x.cols,I=_.slice(0,l),oe=_.slice(l),ye=wv(_[d],function(Ot,ht){var Pt=l>0&&l<_.length&&h(Ri(_[l-1],ht),Ri(_[l],ht)),ze=Pt?Ou(_[l],ht):Xa(w(Ot.element,h),!0,Ot.isLocked);return ze});return z.concat(I).concat([ye]).concat(oe)},nk=function(u,l,d,h,w,x,_){if(d==="colgroup"||!h){var z=Ou(u,w);return Xa(_(z.element,x),!0,!1)}else return Ou(u,l)},d0=function(u,l,d,h,w){return wt(u,function(x){var _=l>0&&l<Au(x)&&h(Ri(x,l-1),Ri(x,l)),z=nk(x,l,x.section,_,d,h,w);return eg(x,l,z)})},d2=function(u,l){return Bn(u,function(d){var h=d.cells,w=Dn(l,function(x,_){return _>=0&&_<x.length?x.slice(0,_).concat(x.slice(_+1)):x},h);return w.length>0?[qo(w,d.section)]:[]})},rk=function(u,l,d){var h=Pi(u),w=h.rows,x=h.cols;return x.concat(w.slice(0,l)).concat(w.slice(d+1))},m0=function(u,l,d,h){var w=function(x){return E(l,function(_){return d(x.element,_.element)})};return wt(u,function(x){return wv(x,function(_){return w(_)?Xa(h(_.element,d),!0,_.isLocked):_})})},ak=function(u,l,d,h){return Ri(u[l],d)!==void 0&&l>0&&h(Ri(u[l-1],d),Ri(u[l],d))},Ig=function(u,l,d){return l>0&&d(Ri(u,l-1),Ri(u,l))},m2=function(u,l,d,h){var w=Pi(u).rows,x=Bn(w,function(_,z){var I=ak(u,z,l,d)||Ig(_,l,d);return I?[]:[Ou(_,l)]});return m0(u,x,d,h)},fl=function(u){var l=function(d,h){var w=E(d,function(x){return x.column===h.column});return w?d:d.concat([h])};return wr(u,l,[]).sort(function(d,h){return d.column-h.column})},ok=function(u){var l=Rs(u,"colspan",1),d=Rs(u,"rowspan",1);return{element:u,colspan:l,rowspan:d}},ik=function(u,l){l===void 0&&(l=ok);var d=mu(Z.none()),h=function(I){switch(ha(I.element)){case"col":return u.col(I);default:return u.cell(I)}},w=function(I){var oe=l(I);return h(oe)},x=function(I){var oe=w(I);return d.get().isNone()&&d.set(Z.some(oe)),_=Z.some({item:I,replacement:oe}),oe},_=Z.none(),z=function(I,oe){return _.fold(function(){return x(I)},function(ye){return oe(I,ye.item)?ye.replacement:x(I)})};return{getOrInit:z,cursor:d.get}},Iu=function(u,l){return function(d){var h=mu(Z.none()),w=[],x=function(I,oe){return Pe(w,function(ye){return oe(ye.item,I)})},_=function(I){var oe={scope:u},ye=d.replace(I,l,oe);return w.push({item:I,sub:ye}),h.get().isNone()&&h.set(Z.some(ye)),ye},z=function(I,oe){return ha(I)==="col"?I:x(I,oe).fold(function(){return _(I)},function(ye){return oe(I,ye.item)?ye.sub:_(I)})};return{replaceOrInit:z,cursor:h.get}}},g2=function(u){return si(u,"scope").map(function(l){return l.substr(0,3)})},uk=function(u){var l=mu(Z.none()),d=function(w){l.get().isNone()&&l.set(Z.some(w));var x=g2(w);return x.each(function(_){return Ti(w,"scope",_)}),function(){var _=u.cell({element:w,colspan:1,rowspan:1});return gc(_,"width"),gc(w,"width"),x.each(function(z){return Ti(_,"scope",z)}),_}},h=function(w){var x=function(){var _=va(wt(w,g2));if(_.length===0)return Z.none();var z=_[0],I=["row","col"],oe=E(_,function(ye){return ye!==z&&Xn(I,ye)});return oe?Z.none():Z.from(z)};return gc(w[0],"width"),x().fold(function(){return nn(w[0],"scope")},function(_){return Ti(w[0],"scope",_+"group")}),ct(w[0])};return{unmerge:d,merge:h,cursor:l.get}},es={modification:ik,transform:Iu,merging:uk},h2=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],sk=function(u,l){var d=u.property().name(l);return Xn(["ol","ul"],d)},ck=function(u,l){var d=u.property().name(l);return Xn(h2,d)},g0=function(u,l){return Xn(["br","img","hr","input"],u.property().name(l))},om=ag(),h0=function(u){return ck(om,u)},p2=function(u){return sk(om,u)},b2=function(u){return g0(om,u)},lk=function(u){var l=function(I){return ha(I)==="br"},d=function(I){return de(I,function(oe){return l(oe)||xa(oe)&&Od(oe).trim().length===0})},h=function(I){return ha(I)==="li"||Bi(I,p2).isSome()},w=function(I){return At(I).map(function(oe){return h0(oe)?!0:b2(oe)?ha(oe)!=="img":!1}).getOr(!1)},x=function(I){return Av(I).bind(function(oe){var ye=w(oe);return F(oe).map(function(Ot){return ye===!0||h(Ot)||l(oe)||h0(Ot)&&!_n(I,Ot)?[]:[lt.fromTag("br")]})}).getOr([])},_=function(){var I=Bn(u,function(oe){var ye=A(oe);return d(ye)?[]:ye.concat(x(oe))});return I.length===0?[lt.fromTag("br")]:I},z=_();Wa(u[0]),Xr(u[0],z)},y2=function(u){var l=Mo(u);l.length===0&&fo(u)},Cs=function(u,l){return{grid:u,cursor:l}},Uf=function(u,l,d){var h=Pi(u).rows;return Rp(h,l,d).orThunk(function(){return Rp(h,0,0)})},Rp=function(u,l,d){return Z.from(u[l]).bind(function(h){return Z.from(h.cells[d]).bind(function(w){return Z.from(w.element)})})},qv=function(u,l,d){var h=Pi(u).rows;return Cs(u,Rp(h,l,d))},Pp=function(u){var l=function(d,h){var w=E(d,function(x){return x.row===h.row});return w?d:d.concat([h])};return wr(u,l,[]).sort(function(d,h){return d.row-h.row})},w2=function(u,l,d,h){var w=l[0].row,x=Pp(l),_=Dn(x,function(z,I){var oe=v2(z.grid,w,I.row+z.delta,d,h.getOrInit);return{grid:oe,delta:z.delta+1}},{grid:u,delta:0}).grid;return qv(_,w,l[0].column)},C2=function(u,l,d,h){var w=Pp(l),x=w[w.length-1],_=x.row+x.rowspan,z=Dn(w,function(I,oe){return v2(I,_,oe.row,d,h.getOrInit)},u);return qv(z,_,l[0].column)},p0=function(u,l,d,h){var w=l.details,x=fl(w),_=x[0].column,z=Dn(x,function(I,oe){var ye=d0(I.grid,_,oe.column+I.delta,d,h.getOrInit);return{grid:ye,delta:I.delta+1}},{grid:u,delta:0}).grid;return qv(z,w[0].row,_)},b0=function(u,l,d,h){var w=l.details,x=w[w.length-1],_=x.column+x.colspan,z=fl(w),I=Dn(z,function(oe,ye){return d0(oe,_,ye.column,d,h.getOrInit)},u);return qv(I,w[0].row,_)},y0=function(u,l,d,h){var w=fl(l),x=function(z,I){return m2(z,I.column,d,h.replaceOrInit)},_=wr(w,x,u);return qv(_,l[0].row,l[0].column)},S2=function(u,l,d,h){var w=fl(l),x=function(z,I){return m2(z,I.column,d,h.replaceOrInit)},_=wr(w,x,u);return qv(_,l[0].row,l[0].column)},x2=function(u,l,d,h){var w=fl(l.details),x=d2(u,wt(w,function(z){return z.column})),_=Uf(x,w[0].row,w[0].column);return Cs(x,_)},fk=function(u,l,d,h){var w=Pp(l),x=rk(u,w[0].row,w[w.length-1].row),_=Uf(x,l[0].row,l[0].column);return Cs(x,_)},vk=function(u,l,d,h){var w=l.cells;lk(w);var x=Kx(u,l.bounds,d,h.merge(w));return Cs(x,Z.from(w[0]))},dk=function(u,l,d,h){var w=function(_,z){return o2(_,z,d,h.unmerge(z))},x=Dn(l,w,u);return Cs(x,Z.from(l[0]))},mk=function(u,l,d,h){var w=function(I,oe){var ye=$t.fromTable(I);return nm(ye,oe,!0)},x=w(l.clipboard,l.generators),_=nr(l.row,l.column),z=l2(_,u,x,l.generators,d);return z.fold(function(){return Cs(u,Z.some(l.element))},function(I){var oe=Uf(I,l.row,l.column);return Cs(I,oe)})},Mp=function(u,l,d){var h=xd(u,d.section),w=$t.generate(h);return nm(w,l,!0)},Wf=function(u,l,d,h){var w=Pi(u).rows,x=l.cells[0].column,_=w[l.cells[0].row],z=Mp(l.clipboard,l.generators,_),I=f2(x,u,z,l.generators,d),oe=Uf(I,l.cells[0].row,l.cells[0].column);return Cs(I,oe)},Np=function(u,l,d,h){var w=Pi(u).rows,x=l.cells[l.cells.length-1].column+l.cells[l.cells.length-1].colspan,_=w[l.cells[0].row],z=Mp(l.clipboard,l.generators,_),I=f2(x,u,z,l.generators,d),oe=Uf(I,l.cells[0].row,l.cells[0].column);return Cs(I,oe)},gk=function(u,l,d,h){var w=Pi(u).rows,x=l.cells[0].row,_=w[x],z=Mp(l.clipboard,l.generators,_),I=v0(x,u,z,l.generators,d),oe=Uf(I,l.cells[0].row,l.cells[0].column);return Cs(I,oe)},hk=function(u,l,d,h){var w=Pi(u).rows,x=l.cells[l.cells.length-1].row+l.cells[l.cells.length-1].rowspan,_=w[l.cells[0].row],z=Mp(l.clipboard,l.generators,_),I=v0(x,u,z,l.generators,d),oe=Uf(I,l.cells[0].row,l.cells[0].column);return Cs(I,oe)},pk=function(u,l){var d=$t.fromTable(u),h=Vf(d,l);return h.bind(function(w){var x=w[w.length-1],_=w[0].column,z=x.column+x.colspan,I=$n(wt(d.all,function(oe){return Sn(oe.cells,function(ye){return ye.column>=_&&ye.column<z})}));return wu(I,function(oe){return ha(oe.element)==="th"})}).getOr("")},wu=function(u,l){var d=Sn(u,l);return d.length===0?Z.some("td"):d.length===u.length?Z.some("th"):Z.none()},Gv=Kl,im=bu,w0=function(u,l){return E(l,function(d){return d.column===0&&d.isLocked})},C0=function(u,l){return E(l,function(d){return d.column+d.colspan>=u.grid.columns&&d.isLocked})},Kv=function(u,l){var d=fb(u),h=fl(l);return wr(h,function(w,x){var _=d[x.column],z=_.map(Gh).getOr(0);return w+z},0)},Ss=function(u){return function(l,d){return Vf(l,d).filter(function(h){var w=u?w0:C0;return!w(l,h)}).map(function(h){return{details:h,pixelDelta:Kv(l,h)}})}},Fp=function(u,l){return _p(u,l).map(function(d){return{details:d,pixelDelta:-Kv(u,d)}})},S0=function(u){return function(l,d){return Dp(l,d).filter(function(h){var w=u?w0:C0;return!w(l,h.cells)})}},Xv=$u(w2,Vf,Jt,Jt,es.modification),x0=$u(C2,Vf,Jt,Jt,es.modification),$p=$u(p0,Ss(!0),im,Jt,es.modification),k2=$u(b0,Ss(!1),im,Jt,es.modification),T2=$u(x2,Fp,im,y2,es.modification),Yv=$u(fk,Vf,Jt,y2,es.modification),jf=$u(y0,_p,Jt,Jt,es.transform("row","th")),zg=$u(S2,_p,Jt,Jt,es.transform(null,"td")),um=$u(vk,Oi,Gv,Jt,es.merging),qf=$u(dk,rm,Gv,Jt,es.merging),Bc=$u(mk,s0,Gv,Jt,es.modification),Ip=$u(Wf,S0(!0),Jt,Jt,es.modification),E2=$u(Np,S0(!1),Jt,Jt,es.modification),bk=$u(gk,Dp,Jt,Jt,es.modification),O2=$u(hk,Dp,Jt,Jt,es.modification),Lg=pk,Jv=function(u){return jl(u.parentNode)},k0=function(u){return u==="thead"?"header":u==="tfoot"?"footer":"body"},zp=function(u,l){var d=Jv(l)==="thead",h=!E(l.cells,function(w){return jl(w)!=="th"});return d||h?Z.some({thead:d,ths:h}):Z.none()},sm=function(u,l){return k0(zp(u,l).fold(function(){return Jv(l)},function(d){return"thead"}))},Hg=function(u,l,d){var h=u.getParent(l,"table"),w=l.parentNode,x=jl(w);if(d!==x){var _=u.select(d,h)[0];if(!_){_=u.create(d);var z=h.firstChild;d==="thead"?on(_a(lt.fromDom(h),"caption,colgroup")).fold(function(){return h.insertBefore(_,z)},function(I){return u.insertAfter(_,I.dom)}):h.appendChild(_)}d==="tbody"&&x==="thead"&&_.firstChild?_.insertBefore(l,_.firstChild):_.appendChild(l),w.hasChildNodes()||u.remove(w)}},yk=function(u,l,d){if(Cn(d)&&jl(l)!==d){var h=u.dom.rename(l,d);return Lf(u,h),h}else return l},Lp=function(u,l,d,h){var w=u.dom,x=yk(u,l,d);return kr(h)||w.setAttrib(x,"scope",h),x},cm=function(u,l,d,h){return bt(l,function(w){return Lp(u,w,d,h)})},Ai=function(u,l,d){var h=function(){var z=Eo(lt.fromDom(l.cells[0])).map(function(I){return hf(I)}).getOr([]);return zr(z,function(I){return zp(u,I.dom)}).map(function(I){return I.thead&&I.ths?"sectionCells":I.thead?"section":"cells"}).getOr("section")},w=u.dom;if(d==="header"){var x=Cp(u),_=x==="auto"?h():x;cm(u,l.cells,_==="section"?"td":"th","col"),Hg(w,l,_==="cells"?"tbody":"thead")}else cm(u,l.cells,"td",null),Hg(w,l,d==="footer"?"tfoot":"tbody")},ua=function(u){return Eo(u).bind(function(l){return cg(l,Bo.firstSelectedSelector)}).fold(function(){return u},function(l){return l[0]})},zu=function(u){return function(l,d){var h=ha(l),w=h==="col"||h==="colgroup"?ua(l):l;return Aa(w,u,d)}},vl=zu("th,td"),Zv=zu("th,td,caption"),Zl=function(u,l,d){return vl(u,d).map(function(h){return Zu(l)}).getOr([])},lm=function(u,l){var d=vl(u),h=d.bind(function(w){return Eo(w)}).map(function(w){return hf(w)});return Hn(d,h,function(w,x){return Sn(x,function(_){return E(Qa(_.dom.cells),function(z){return pi(z,l)==="1"||_n(z,w)})})}).getOr([])},Hp=function(u,l,d){var h=function(Ra){return ha(Bf(Ra))==="table"},w=function(Ra){return h(u)===!1||Xl(Ra).rows>1},x=function(Ra){return h(u)===!1||Xl(Ra).columns>1},_=ul(u),z=Uv(u)?Jt:tm,I=function(Ra,Ui,Wi,wl,nv){return function(af,p1){Gs(af);var OC=wl(),CT=lt.fromDom(u.getDoc()),rv=Eb(Wi,CT,_),b1=Dc(u,af),y1=Uv(u)?ka():Nv();return Ui(af)?Ra(OC,af,p1,rv,b1,y1).bind(function(uh){return bt(uh.newRows,function(sh){Xb(u,sh.dom)}),bt(uh.newCells,function(sh){Lf(u,sh.dom)}),uh.cursor.map(function(sh){var ch=cl(sh),lh=u.dom.createRng();return lh.setStart(ch.element.dom,ch.offset),lh.setEnd(ch.element.dom,ch.offset),{rng:lh,effect:nv}})}):Z.none()}},oe=I(Yv,w,Jt,l,Lt),ye=I(T2,x,Jt,l,Lt),Ot=I(Xv,Qt,Jt,l,Lt),ht=I(x0,Qt,Jt,l,Lt),Pt=I($p,Qt,z,l,Lt),ze=I(k2,Qt,z,l,Lt),Qe=I(um,Qt,Jt,l,Lt),Mt=I(qf,Qt,Jt,l,Lt),Kn=I(Ip,Qt,Jt,l,Lt),Jr=I(E2,Qt,Jt,l,Lt),xr=I(bk,Qt,Jt,l,Lt),ca=I(O2,Qt,Jt,l,Lt),$a=I(Bc,Qt,Jt,l,Lt),Ia=function(Ra,Ui){return Pr(Ra,"type").filter(function(Wi){return Xn(Ui,Wi)})},fd=function(Ra,Ui){return Ia(Ui,["td","th"]).each(function(Wi){var wl=wt(Zl(bo(Ra),d),function(nv){return nv.dom});cm(Ra,wl,Wi,null)})},ih=function(Ra,Ui){return Ia(Ui,["header","body","footer"]).each(function(Wi){wt(lm(bo(Ra),Bo.selected),function(wl){return Ai(Ra,wl.dom,Wi)})})},Hs=I(jf,Qt,Jt,l,Lt),Ta=I(zg,Qt,Jt,l,Lt),nu=function(Ra){var Ui=lm(bo(Ra),Bo.selected);if(Ui.length>0){var Wi=wt(Ui,function(p1){return sm(Ra,p1.dom)}),wl=Xn(Wi,"header"),nv=Xn(Wi,"footer");if(!wl&&!nv)return"body";var af=Xn(Wi,"body");return wl&&!af&&!nv?"header":!wl&&!af&&nv?"footer":""}},Vi=function(Ra){return wu(Zl(bo(Ra),d),function(Ui){return ha(Ui)==="th"}).getOr("")},rs=Lg;return{deleteRow:oe,deleteColumn:ye,insertRowsBefore:Ot,insertRowsAfter:ht,insertColumnsBefore:Pt,insertColumnsAfter:ze,mergeCells:Qe,unmergeCells:Mt,pasteColsBefore:Kn,pasteColsAfter:Jr,pasteRowsBefore:xr,pasteRowsAfter:ca,pasteCells:$a,setTableCellType:fd,setTableRowType:ih,makeColumnsHeader:Hs,unmakeColumnsHeader:Ta,getTableRowType:nu,getTableCellType:Vi,getTableColType:rs}},T0={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Vp=function(){return lt.fromTag("th")},E0=function(){return lt.fromTag("td")},wk=function(){return lt.fromTag("col")},O0=function(u,l,d,h){for(var w=lt.fromTag("tr"),x=0;x<u;x++){var _=h<l||x<d?Vp():E0();x<d&&Ti(_,"scope","row"),h<l&&Ti(_,"scope","col"),xt(_,lt.fromTag("br")),xt(w,_)}return w},Rc=function(u){var l=lt.fromTag("colgroup");return yt(u,function(){return xt(l,wk())}),l},A2=function(u,l,d,h){return yt(u,function(w){return O0(l,d,h,w)})},Ck=function(u,l,d,h,w,x){x===void 0&&(x=T0);var _=lt.fromTag("table"),z=w!=="cells";yn(_,x.styles),dc(_,x.attributes),x.colGroups&&xt(_,Rc(l));var I=Math.min(u,d);if(z&&d>0){var oe=lt.fromTag("thead");xt(_,oe);var ye=w==="sectionCells"?I:0,Ot=A2(d,l,ye,h);Xr(oe,Ot)}var ht=lt.fromTag("tbody");xt(_,ht);var Pt=z?u-I:u,ze=z?0:d,Qe=A2(Pt,l,ze,h);return Xr(ht,Qe),_},D2=function(u){return u.dom.innerHTML},A0=function(u){var l=lt.fromTag("div"),d=lt.fromDom(u.dom.cloneNode(!0));return xt(l,d),D2(l)},_2=function(u,l){u.selection.select(l.dom,!0),u.selection.collapse(!0)},B2=function(u,l){vu(l,"td,th").each(re(_2,u))},Sk=function(u,l){bt(ti(l,"tr"),function(d){Xb(u,d.dom),bt(ti(d,"th,td"),function(h){Lf(u,h.dom)})})},zs=function(u){return pn(u)&&u.indexOf("%")!==-1},fm=function(u,l,d,h,w){var x=Yd(u),_={styles:x,attributes:bp(u),colGroups:e0(u)};return u.undoManager.ignore(function(){var z=Ck(d,l,w,h,Cp(u),_);Ti(z,"data-mce-id","__mce");var I=A0(z);u.insertContent(I),u.addVisual()}),vu(Bf(u),'table[data-mce-id="__mce"]').map(function(z){return Vv(u)?t0(u,z):Zd(u)?Tp(z):(Yl(u)||zs(x.width))&&Bg(u,z),Gs(z),nn(z,"data-mce-id"),Sk(u,z),B2(u,z),z.dom}).getOr(null)},D0=function(u,l,d,h,w){h===void 0&&(h={});var x=function(I){return On(I)&&I>0};if(x(l)&&x(d)){var _=h.headerRows||0,z=h.headerColumns||0;return fm(u,d,l,z,_)}else return console.error(w),null},Qv=function(u){return function(){return u().fold(function(){return[]},function(l){return wt(l,function(d){return d.dom})})}},Js=function(u){return function(l){var d=l.length>0?Z.some(Qa(l)):Z.none();u(d)}},dl=function(u){return function(l,d,h){h===void 0&&(h={});var w=D0(u,d,l,h,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),w}},Lu=function(u,l,d,h){return{insertTable:dl(u),setClipboardRows:Js(l.setRows),getClipboardRows:Qv(l.getRows),setClipboardCols:Js(l.setColumns),getClipboardCols:Qv(l.getColumns),resizeHandler:d,selectionTargets:h}},Pc=function(u,l,d){var h=Rs(u,l,1);d===1||h<=1?nn(u,l):Ti(u,l,Math.min(d,h))},R2=function(u,l,d){if($t.hasColumns(u)){var h=Sn($t.justColumns(u),function(_){return _.column>=l&&_.column<d}),w=wt(h,function(_){var z=kf(_.element);return Pc(z,"span",d-l),z}),x=lt.fromTag("colgroup");return Xr(x,w),[x]}else return[]},ml=function(u,l,d){return wt(u.all,function(h){var w=Sn(h.cells,function(z){return z.column>=l&&z.column<d}),x=wt(w,function(z){var I=kf(z.element);return Pc(I,"colspan",d-l),I}),_=lt.fromTag("tr");return Xr(_,x),_})},ed=function(u,l){var d=$t.fromTable(u),h=_p(d,l);return h.map(function(w){var x=w[w.length-1],_=w[0].column,z=x.column+x.colspan,I=R2(d,_,z),oe=ml(d,_,z);return it(I,oe)})},xk=function(u,l,d){var h=$t.fromTable(u),w=Vf(h,l);return w.bind(function(x){var _=nm(h,d,!1),z=Pi(_).rows,I=z.slice(x[0].row,x[x.length-1].row+x[x.length-1].rowspan),oe=Bn(I,function(Ot){var ht=Sn(Ot.cells,function(Pt){return!Pt.isLocked});return ht.length>0?[Jn(Jn({},Ot),{cells:ht})]:[]}),ye=Op(oe,d);return qh(ye.length>0,ye)}).map(function(x){return Qw(x)})},P2=tinymce.util.Tools.resolve("tinymce.util.Tools"),_0=function(u,l,d){var h=u.select("td,th",l),w,x=function(_,z){for(var I=0;I<z.length;I++){var oe=u.getStyle(z[I],d);if(typeof _=="undefined"&&(_=oe),_!==oe)return""}return _};return x(w,h)},B0=function(u,l,d){d&&u.formatter.apply("align"+d,{},l)},kk=function(u,l,d){d&&u.formatter.apply("valign"+d,{},l)},wn=function(u,l){P2.each("left center right".split(" "),function(d){u.formatter.remove("align"+d,{},l)})},Si=function(u,l){P2.each("top middle bottom".split(" "),function(d){u.formatter.remove("valign"+d,{},l)})},Up=function(u){return H(u,"menu")},oi=function(u,l){var d=function(h,w){return w.concat(wt(h,function(x){var _=x.text||x.title;return Up(x)?{text:_,items:oi(x.menu)}:{text:_,value:x.value}}))};return d(u,l||[])},ts=function(u){return function(l){return Na(l,"rgb")?u.toHex(l):l}},Vg=function(u,l){var d=lt.fromDom(l);return{borderwidth:Gu(d,"border-width").getOr(""),borderstyle:Gu(d,"border-style").getOr(""),bordercolor:Gu(d,"border-color").map(ts(u)).getOr(""),backgroundcolor:Gu(d,"background-color").map(ts(u)).getOr("")}},vm=function(u){var l=u[0],d=u.slice(1);return bt(d,function(h){bt(Ie(l),function(w){an(h,function(x,_){var z=l[w];z!==""&&w===_&&z!==x&&(l[w]="")})})}),l},td=function(u){var l=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],d={name:"borderwidth",type:"input",label:"Border width"},h=u==="cell"?[d].concat(l):l;return{title:"Advanced",name:"advanced",items:h}},R0=function(u,l,d,h){return Pe(u,function(w){return d.formatter.matchNode(h,l+w)}).getOr("")},P0=re(R0,["left","center","right"],"align"),M2=re(R0,["top","middle","bottom"],"valign"),Tk=function(u,l){var d=Yd(u),h=bp(u),w=function(ye){return{borderstyle:Pr(d,"border-style").getOr(""),bordercolor:ts(ye)(Pr(d,"border-color").getOr("")),backgroundcolor:ts(ye)(Pr(d,"background-color").getOr(""))}},x={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},_=function(){var ye=d["border-width"];return Hv(u)&&ye?{border:ye}:Pr(h,"border").fold(function(){return{}},function(Ot){return{border:Ot}})},z=l?w(u.dom):{},I=function(){var ye=Pr(d,"border-spacing").or(Pr(h,"cellspacing")).fold(function(){return{}},function(ht){return{cellspacing:ht}}),Ot=Pr(d,"border-padding").or(Pr(h,"cellpadding")).fold(function(){return{}},function(ht){return{cellpadding:ht}});return Jn(Jn({},ye),Ot)},oe=Jn(Jn(Jn(Jn(Jn(Jn({},x),d),h),z),_()),I());return oe},Ek=function(u,l,d){var h=function(x,_){var z=Gu(lt.fromDom(_),"border-width");return Hv(u)&&z.isSome()?z.getOr(""):x.getAttrib(_,"border")||_0(u.dom,_,"border-width")||_0(u.dom,_,"border")},w=u.dom;return Jn({width:w.getStyle(l,"width")||w.getAttrib(l,"width"),height:w.getStyle(l,"height")||w.getAttrib(l,"height"),cellspacing:w.getStyle(l,"border-spacing")||w.getAttrib(l,"cellspacing"),cellpadding:w.getAttrib(l,"cellpadding")||_0(u.dom,l,"padding"),border:h(w,l),caption:!!w.select("caption",l)[0],class:w.getAttrib(l,"class",""),align:P0(u,l)},d?Vg(w,l):{})},Ok=function(u,l,d){var h=u.dom;return Jn({height:h.getStyle(l,"height")||h.getAttrib(l,"height"),class:h.getAttrib(l,"class",""),type:sm(u,l),align:P0(u,l)},d?Vg(h,l):{})},N2=function(u,l,d,h){var w=u.dom,x=h.getOr(l),_=function(z,I){return w.getStyle(z,I)||w.getAttrib(z,I)};return Jn({width:_(x,"width"),height:_(l,"height"),scope:w.getAttrib(l,"scope"),celltype:jl(l),class:w.getAttrib(l,"class",""),halign:P0(u,l),valign:M2(u,l)},d?Vg(w,l):{})},xs=function(u){var l=oi(Qb(u));return l.length>0?Z.some({name:"class",type:"listbox",label:"Class",items:l}):Z.none()},F2=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],Ql=function(u){return F2.concat(xs(u).toArray())},gl=function(u){return function(l,d){var h=l.dom,w=function(z,I){(!u||I)&&h.setAttrib(d,z,I)},x=function(z,I){(!u||I)&&h.setStyle(d,z,I)},_=function(z,I){(!u||I)&&(I===""?l.formatter.remove(z,{value:null},d,!0):l.formatter.apply(z,{value:I},d))};return{setAttrib:w,setStyle:x,setFormat:_}}},Mc={normal:gl(!1),ifTruthy:gl(!0)},nd=function(u){return Eo(u[0]).map(function(l){var d=$t.fromTable(l),h=$t.justCells(d),w=Sn(h,function(x){return E(u,function(_){return _n(x.element,_)})});return wt(w,function(x){return{element:x.element.dom,column:$t.getColumnAt(d,x.column).map(function(_){return _.element.dom})}})})},M0=function(u,l,d){u.setAttrib("scope",d.scope),u.setAttrib("class",d.class),u.setStyle("height",ja(d.height)),l.setStyle("width",ja(d.width))},$2=function(u,l){u.setFormat("tablecellbackgroundcolor",l.backgroundcolor),u.setFormat("tablecellbordercolor",l.bordercolor),u.setFormat("tablecellborderstyle",l.borderstyle),u.setFormat("tablecellborderwidth",ja(l.borderwidth))},dm=function(u,l,d,h){var w=l.length===1,x=dn(h,function(I,oe){return d[oe]!==I});if(Zn(x)>0&&l.length>=1){var _=Eo(l[0]);nd(l).each(function(I){bt(I,function(oe){var ye=Lp(u,oe.element,h.celltype),Ot=w?Mc.normal(u,ye):Mc.ifTruthy(u,ye),ht=oe.column.map(function(Pt){return w?Mc.normal(u,Pt):Mc.ifTruthy(u,Pt)}).getOr(Ot);M0(Ot,ht,h),yp(u)&&$2(Ot,h),w&&(wn(u,ye),Si(u,ye)),h.halign&&B0(u,ye,h.halign),h.valign&&kk(u,ye,h.valign)})});var z=Zn(dn(x,function(I,oe){return oe!=="scope"&&oe!=="celltype"}))>0;_.each(function(I){return Ci(u,I.dom,{structure:Tr(x,"celltype"),style:z})})}},mm=function(u,l,d,h){var w=h.getData();h.close(),u.undoManager.transact(function(){dm(u,l,d,w),u.focus()})},gm=function(u,l){var d=nd(l).map(function(h){return wt(h,function(w){return N2(u,w.element,yp(u),w.column)})});return vm(d.getOrDie())},N0=function(u,l){var d=Zl(bo(u),l);if(d.length!==0){var h=gm(u,d),w={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ql(u)},td("cell")]},x={type:"panel",items:[{type:"grid",columns:2,items:Ql(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:yp(u)?w:x,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:re(mm,u,d,h)})}},Ak=function(u){var l=oi(Jd(u));return l.length>0?Z.some({name:"class",type:"listbox",label:"Class",items:l}):Z.none()},ef=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Ug=function(u){return ef.concat(Ak(u).toArray())},Wp=function(u,l){u.setAttrib("class",l.class),u.setStyle("height",ja(l.height))},jp=function(u,l){u.setStyle("background-color",l.backgroundcolor),u.setStyle("border-color",l.bordercolor),u.setStyle("border-style",l.borderstyle)},Wg=function(u,l,d,h){var w=l.length===1,x=dn(h,function(I,oe){return d[oe]!==I});if(Zn(x)>0){bt(l,function(I){h.type!==jl(I.parentNode)&&Ai(u,I,h.type);var oe=w?Mc.normal(u,I):Mc.ifTruthy(u,I);Wp(oe,h),Oc(u)&&jp(oe,h),h.align!==d.align&&(wn(u,I),B0(u,I,h.align))});var _=Tr(x,"type"),z=_?Zn(x)>1:!0;Eo(lt.fromDom(l[0])).each(function(I){return Ci(u,I.dom,{structure:_,style:z})})}},xi=function(u,l,d,h){var w=h.getData();h.close(),u.undoManager.transact(function(){Wg(u,l,d,w),u.focus()})},Zs=function(u){var l=lm(bo(u),Bo.selected);if(l.length!==0){var d=wt(l,function(_){return Ok(u,_.dom,Oc(u))}),h=vm(d),w={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ug(u)},td("row")]},x={type:"panel",items:[{type:"grid",columns:2,items:Ug(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:Oc(u)?w:x,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:re(xi,u,wt(l,function(_){return _.dom}),h)})}},Qs=tinymce.util.Tools.resolve("tinymce.Env"),jg=function(u,l,d){var h=d?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],w=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],x=Zb(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],_=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],z=l.length>0?[{type:"listbox",name:"class",label:"Class",items:l}]:[];return h.concat(w).concat(x).concat(_).concat(z)},rd=function(u,l,d,h){if(l.tagName==="TD"||l.tagName==="TH")pn(d)?u.setStyle(l,d,h):u.setStyle(l,d);else if(l.children)for(var w=0;w<l.children.length;w++)rd(u,l.children[w],d,h)},F0=function(u,l,d){var h=u.dom,w={},x={};if(w.class=d.class,x.height=ja(d.height),h.getAttrib(l,"width")&&!Hv(u)?w.width=np(d.width):x.width=ja(d.width),Hv(u)?(x["border-width"]=ja(d.border),x["border-spacing"]=ja(d.cellspacing)):(w.border=d.border,w.cellpadding=d.cellpadding,w.cellspacing=d.cellspacing),Hv(u)&&l.children)for(var _=0;_<l.children.length;_++)rd(h,l.children[_],{"border-width":ja(d.border),padding:ja(d.cellpadding)}),yu(u)&&rd(h,l.children[_],{"border-color":d.bordercolor});yu(u)&&(x["background-color"]=d.backgroundcolor,x["border-color"]=d.bordercolor,x["border-style"]=d.borderstyle),w.style=h.serializeStyle(Jn(Jn({},Yd(u)),x)),h.setAttribs(l,Jn(Jn({},bp(u)),w))},qp=function(u,l,d,h){var w=u.dom,x,_=h.getData(),z=dn(_,function(I,oe){return d[oe]!==I});h.close(),_.class===""&&delete _.class,u.undoManager.transact(function(){if(!l){var I=parseInt(_.cols,10)||1,oe=parseInt(_.rows,10)||1;l=fm(u,I,oe,0,0)}if(Zn(z)>0&&(F0(u,l,_),x=w.select("caption",l)[0],x&&!_.caption&&w.remove(x),!x&&_.caption&&(x=w.create("caption"),x.innerHTML=Qs.ie?Ew:'<br data-mce-bogus="1"/>',l.insertBefore(x,l.firstChild)),_.align===""?wn(u,l):B0(u,l,_.align)),u.focus(),u.addVisual(),Zn(z)>0){var ye=Tr(z,"caption"),Ot=ye?Zn(z)>1:!0;Ci(u,l,{structure:ye,style:Ot})}})},ad=function(u,l){var d=u.dom,h,w=Tk(u,yu(u));l===!1?(h=d.getParent(u.selection.getStart(),"table",u.getBody()),h?w=Ek(u,h,yu(u)):yu(u)&&(w.borderstyle="",w.bordercolor="",w.backgroundcolor="")):(w.cols="1",w.rows="1",yu(u)&&(w.borderstyle="",w.bordercolor="",w.backgroundcolor=""));var x=oi(Vx(u));x.length>0&&w.class&&(w.class=w.class.replace(/\s*mce\-item\-table\s*/g,""));var _={type:"grid",columns:2,items:jg(u,x,l)},z=function(){return{type:"panel",items:[_]}},I=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[_]},td("table")]}},oe=yu(u)?I():z();u.windowManager.open({title:"Table Properties",size:"normal",body:oe,onSubmit:re(qp,u,h,w),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w})},qg=function(u){return Zv(bo(u),Bv(u))},Gg=function(u){return vl(bo(u),Bv(u))},$0=function(u,l,d,h,w){var x=Bv(u),_=function(){return qg(u).each(function(Qe){Eo(Qe,x).filter(_t(x)).each(function(Mt){var Kn=lt.fromText("");if(me(Mt,Kn),fo(Mt),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var Jr=u.dom.createRng();Jr.setStart(Kn.dom,0),Jr.setEnd(Kn.dom,0),u.selection.setRng(Jr),u.nodeChanged()}})})},z=function(Qe){return qg(u).each(function(Mt){var Kn=Zd(u)||Vv(u)||Yl(u);Kn||Eo(Mt,x).each(function(Jr){Qe==="relative"&&!Bw(Jr)?Bg(u,Jr):Qe==="fixed"&&!Mb(Jr)?t0(u,Jr):Qe==="responsive"&&!iu(Jr)&&Tp(Jr),Gs(Jr),Ci(u,Jr.dom,Lt)})})},I=function(Qe){return Eo(Qe,x)},oe=function(Qe){return function(Mt){u.selection.setRng(Mt.rng),u.focus(),d.clear(Qe),Gs(Qe),Ci(u,Qe.dom,Mt.effect)}},ye=function(Qe){return Gg(u).each(function(Mt){I(Mt).each(function(Kn){var Jr=Rv(h,Kn,Mt);Qe(Kn,Jr).each(oe(Kn))})})},Ot=function(){return Gg(u).map(function(Qe){return I(Qe).bind(function(Mt){var Kn=Rv(h,Mt,Qe),Jr=Eb(Jt,lt.fromDom(u.getDoc()),Z.none());return xk(Mt,Kn,Jr)})})},ht=function(){return Gg(u).map(function(Qe){return I(Qe).bind(function(Mt){var Kn=Rv(h,Mt,Qe);return ed(Mt,Kn)})})},Pt=function(Qe,Mt){return Mt().each(function(Kn){var Jr=wt(Kn,function(xr){return kf(xr)});Gg(u).each(function(xr){return I(xr).each(function(ca){var $a=_v(lt.fromDom(u.getDoc())),Ia=Xs(h,xr,Jr,$a);Qe(ca,Ia).each(oe(ca))})})})};an({mceTableSplitCells:function(){return ye(l.unmergeCells)},mceTableMergeCells:function(){return ye(l.mergeCells)},mceTableInsertRowBefore:function(){return ye(l.insertRowsBefore)},mceTableInsertRowAfter:function(){return ye(l.insertRowsAfter)},mceTableInsertColBefore:function(){return ye(l.insertColumnsBefore)},mceTableInsertColAfter:function(){return ye(l.insertColumnsAfter)},mceTableDeleteCol:function(){return ye(l.deleteColumn)},mceTableDeleteRow:function(){return ye(l.deleteRow)},mceTableCutCol:function(Qe){return ht().each(function(Mt){w.setColumns(Mt),ye(l.deleteColumn)})},mceTableCutRow:function(Qe){return Ot().each(function(Mt){w.setRows(Mt),ye(l.deleteRow)})},mceTableCopyCol:function(Qe){return ht().each(function(Mt){return w.setColumns(Mt)})},mceTableCopyRow:function(Qe){return Ot().each(function(Mt){return w.setRows(Mt)})},mceTablePasteColBefore:function(Qe){return Pt(l.pasteColsBefore,w.getColumns)},mceTablePasteColAfter:function(Qe){return Pt(l.pasteColsAfter,w.getColumns)},mceTablePasteRowBefore:function(Qe){return Pt(l.pasteRowsBefore,w.getRows)},mceTablePasteRowAfter:function(Qe){return Pt(l.pasteRowsAfter,w.getRows)},mceTableDelete:_,mceTableSizingMode:function(Qe,Mt){return z(Mt)}},function(Qe,Mt){return u.addCommand(Mt,Qe)});var ze=function(Qe,Mt){Mt.each(function(Kn){Ci(Qe,Kn.dom,Lt)})};an({mceTableCellType:function(Qe,Mt){var Kn=Eo(bo(u),x);l.setTableCellType(u,Mt),ze(u,Kn)},mceTableRowType:function(Qe,Mt){var Kn=Eo(bo(u),x);l.setTableRowType(u,Mt),ze(u,Kn)}},function(Qe,Mt){return u.addCommand(Mt,Qe)}),u.addCommand("mceTableColType",function(Qe,Mt){return Pr(Mt,"type").each(function(Kn){return ye(Kn==="th"?l.makeColumnsHeader:l.unmakeColumnsHeader)})}),an({mceTableProps:re(ad,u,!1),mceTableRowProps:re(Zs,u),mceTableCellProps:re(N0,u,h)},function(Qe,Mt){return u.addCommand(Mt,function(){return Qe()})}),u.addCommand("mceInsertTable",function(Qe,Mt){rr(Mt)&&Ie(Mt).length>0?D0(u,Mt.rows,Mt.columns,Mt.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):ad(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(Qe,Mt){var Kn=function(ca){return"tablecell"+ca.toLowerCase().replace("-","")};if(!!rr(Mt)){var Jr=Zl(bo(u),h,x);if(Jr.length!==0){var xr=dn(Mt,function(ca,$a){return u.formatter.has(Kn($a))&&pn(ca)});xe(xr)||(an(xr,function(ca,$a){bt(Jr,function(Ia){Mc.normal(u,Ia.dom).setFormat(Kn($a),ca)})}),I(Jr[0]).each(function(ca){return Ci(u,ca.dom,Yb)}))}}})},I2=function(u,l,d){var h=Bv(u),w=function(x){return Eo(x,h)};an({mceTableRowType:function(){return l.getTableRowType(u)},mceTableCellType:function(){return l.getTableCellType(u)},mceTableColType:function(){return vl(bo(u)).bind(function(x){return w(x).map(function(_){var z=Rv(d,_,x);return l.getTableColType(_,z)})}).getOr("")}},function(x,_){return u.addQueryValueHandler(_,x)})},I0=function(){var u=mu(Z.none()),l=mu(Z.none()),d=function(h){h.set(Z.none())};return{getRows:u.get,setRows:function(h){u.set(h),d(l)},clearRows:function(){return d(u)},getColumns:l.get,setColumns:function(h){l.set(h),d(u)},clearColumns:function(){return d(l)}}},Gp={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}},z0=function(u){u.formatter.register(Gp)},qa=$l.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Nc=function(u){return u===void 0&&(u=void 0),qa.none(u)},Gf=Jn(Jn({},qa),{none:Nc}),Kp=function(u,l){return Eo(u,l).bind(function(d){var h=Mo(d),w=Ct(h,function(x){return _n(u,x)});return w.map(function(x){return{index:x,all:h}})})},L0=function(u,l){var d=Kp(u,l);return d.fold(function(){return Gf.none(u)},function(h){return h.index+1<h.all.length?Gf.middle(u,h.all[h.index+1]):Gf.last(u)})},hm=function(u,l){var d=Kp(u,l);return d.fold(function(){return Gf.none()},function(h){return h.index-1>=0?Gf.middle(u,h.all[h.index-1]):Gf.first(u)})},H0=function(u,l,d,h){return{start:u,soffset:l,finish:d,foffset:h}},ec={create:H0},Xp=$l.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Dk=function(u,l,d,h){return u.fold(l,d,h)},pm=function(u){return u.fold(tr,tr,tr)},V0=Xp.before,U0=Xp.on,_k=Xp.after,su={before:V0,on:U0,after:_k,cata:Dk,getStart:pm},Yp=$l.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),z2=function(u){return Yp.exact(u.start,u.soffset,u.finish,u.foffset)},bm=function(u){return u.match({domRange:function(l){return lt.fromDom(l.startContainer)},relative:function(l,d){return su.getStart(l)},exact:function(l,d,h,w){return l}})},Ls=Yp.domRange,Cu=Yp.relative,od=Yp.exact,W0=function(u){var l=bm(u);return gv(l)},j0=ec.create,hl={domRange:Ls,relative:Cu,exact:od,exactFromRange:z2,getWin:W0,range:j0},Jp=function(u,l){var d=u.document.createRange();return Zp(d,l),d},Zp=function(u,l){return u.selectNodeContents(l.dom)},Kf=function(u,l){l.fold(function(d){u.setStartBefore(d.dom)},function(d,h){u.setStart(d.dom,h)},function(d){u.setStartAfter(d.dom)})},Bk=function(u,l){l.fold(function(d){u.setEndBefore(d.dom)},function(d,h){u.setEnd(d.dom,h)},function(d){u.setEndAfter(d.dom)})},L2=function(u,l,d){var h=u.document.createRange();return Kf(h,l),Bk(h,d),h},ym=function(u,l,d,h,w){var x=u.document.createRange();return x.setStart(l.dom,d),x.setEnd(h.dom,w),x},da=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},H2=function(u){var l=u.getClientRects(),d=l.length>0?l[0]:u.getBoundingClientRect();return d.width>0||d.height>0?Z.some(d).map(da):Z.none()},Kg=$l.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),q0=function(u,l,d){return l(lt.fromDom(d.startContainer),d.startOffset,lt.fromDom(d.endContainer),d.endOffset)},Xg=function(u,l){return l.match({domRange:function(d){return{ltr:ct(d),rtl:Z.none}},relative:function(d,h){return{ltr:Ut(function(){return L2(u,d,h)}),rtl:Ut(function(){return Z.some(L2(u,h,d))})}},exact:function(d,h,w,x){return{ltr:Ut(function(){return ym(u,d,h,w,x)}),rtl:Ut(function(){return Z.some(ym(u,w,x,d,h))})}}})},Rk=function(u,l){var d=l.ltr();if(d.collapsed){var h=l.rtl().filter(function(w){return w.collapsed===!1});return h.map(function(w){return Kg.rtl(lt.fromDom(w.endContainer),w.endOffset,lt.fromDom(w.startContainer),w.startOffset)}).getOrThunk(function(){return q0(u,Kg.ltr,d)})}else return q0(u,Kg.ltr,d)},Qp=function(u,l){var d=Xg(u,l);return Rk(u,d)},id=function(u,l){var d=Qp(u,l);return d.match({ltr:function(h,w,x,_){var z=u.document.createRange();return z.setStart(h.dom,w),z.setEnd(x.dom,_),z},rtl:function(h,w,x,_){var z=u.document.createRange();return z.setStart(x.dom,_),z.setEnd(h.dom,w),z}})};Kg.ltr,Kg.rtl;var Yg=function(u,l,d,h,w){if(w===0)return 0;if(l===h)return w-1;for(var x=h,_=1;_<w;_++){var z=u(_),I=Math.abs(l-z.left);if(d<=z.bottom){if(d<z.top||I>x)return _-1;x=I}}return 0},wm=function(u,l,d){return l>=u.left&&l<=u.right&&d>=u.top&&d<=u.bottom},Pk=function(u,l,d,h,w){var x=function(oe){var ye=u.dom.createRange();return ye.setStart(l.dom,oe),ye.collapse(!0),ye},_=function(oe){var ye=x(oe);return ye.getBoundingClientRect()},z=Od(l).length,I=Yg(_,d,h,w.right,z);return x(I)},Mk=function(u,l,d,h){var w=u.dom.createRange();w.selectNode(l.dom);var x=w.getClientRects(),_=zr(x,function(z){return wm(z,d,h)?Z.some(z):Z.none()});return _.map(function(z){return Pk(u,l,d,h,z)})},V2=function(u,l,d,h){var w=u.dom.createRange(),x=A(l);return zr(x,function(_){return w.selectNode(_.dom),wm(w.getBoundingClientRect(),d,h)?G0(u,_,d,h):Z.none()})},G0=function(u,l,d,h){return xa(l)?Mk(u,l,d,h):V2(u,l,d,h)},U2=function(u,l,d,h){var w=u.dom.createRange();w.selectNode(l.dom);var x=w.getBoundingClientRect(),_=Math.max(x.left,Math.min(x.right,d)),z=Math.max(x.top,Math.min(x.bottom,h));return G0(u,l,_,z)},W2=!0,Nk=!1,K0=function(u,l){return l-u.left<u.right-l?W2:Nk},j2=function(u,l,d){var h=u.dom.createRange();return h.selectNode(l.dom),h.collapse(d),h},Fk=function(u,l,d){var h=u.dom.createRange();h.selectNode(l.dom);var w=h.getBoundingClientRect(),x=K0(w,d),_=x===W2?xg:Av;return _(l).map(function(z){return j2(u,z,x)})},Ba=function(u,l,d){var h=l.dom.getBoundingClientRect(),w=K0(h,d);return Z.some(j2(u,l,w))},q2=function(u,l,d){var h=A(l).length===0?Ba:Fk;return h(u,l,d)},fr=function(u,l,d){return Z.from(u.dom.caretPositionFromPoint(l,d)).bind(function(h){if(h.offsetNode===null)return Z.none();var w=u.dom.createRange();return w.setStart(h.offsetNode,h.offset),w.collapse(),Z.some(w)})},pl=function(u,l,d){return Z.from(u.dom.caretRangeFromPoint(l,d))},Jg=function(u,l,d,h){var w=u.dom.createRange();w.selectNode(l.dom);var x=w.getBoundingClientRect(),_=Math.max(x.left,Math.min(x.right,d)),z=Math.max(x.top,Math.min(x.bottom,h));return U2(u,l,_,z)},ns=function(u,l,d){return lt.fromPoint(u,l,d).bind(function(h){var w=function(){return q2(u,h,l)};return A(h).length===0?w():Jg(u,h,l,d).orThunk(w)})},e1=function(){return document.caretPositionFromPoint?fr:document.caretRangeFromPoint?pl:ns}(),Zg=function(u,l,d){var h=lt.fromDom(u.document);return e1(h,l,d).map(function(w){return ec.create(lt.fromDom(w.startContainer),w.startOffset,lt.fromDom(w.endContainer),w.endOffset)})},ud=function(u,l){var d=ha(u);return d==="input"?su.after(u):Xn(["br","img"],d)?l===0?su.before(u):su.after(u):su.on(u,l)},tf=function(u,l){var d=u.fold(su.before,ud,su.after),h=l.fold(su.before,ud,su.after);return hl.relative(d,h)},Qg=function(u,l,d,h){var w=ud(u,l),x=ud(d,h);return hl.relative(w,x)},$k=function(u){return u.match({domRange:function(l){var d=lt.fromDom(l.startContainer),h=lt.fromDom(l.endContainer);return Qg(d,l.startOffset,h,l.endOffset)},relative:tf,exact:Qg})},G2=function(u,l,d,h){var w=Tu(u),x=w.dom.createRange();return x.setStart(u.dom,l),x.setEnd(d.dom,h),x},Ik=function(u,l,d,h){var w=G2(u,l,d,h),x=_n(u,d)&&l===h;return w.collapsed&&!x},ea=function(u){return Z.from(u.getSelection())},tc=function(u,l){ea(u).each(function(d){d.removeAllRanges(),d.addRange(l)})},Xf=function(u,l,d,h,w){var x=ym(u,l,d,h,w);tc(u,x)},K2=function(u,l,d,h,w,x){l.collapse(d.dom,h),l.extend(w.dom,x)},Cm=function(u,l){return Qp(u,l).match({ltr:function(d,h,w,x){Xf(u,d,h,w,x)},rtl:function(d,h,w,x){ea(u).each(function(_){if(_.setBaseAndExtent)_.setBaseAndExtent(d.dom,h,w.dom,x);else if(_.extend)try{K2(u,_,d,h,w,x)}catch{Xf(u,w,x,d,h)}else Xf(u,w,x,d,h)})}})},sa=function(u,l,d,h,w){var x=Qg(l,d,h,w);Cm(u,x)},t1=function(u,l,d){var h=tf(l,d);Cm(u,h)},X0=function(u){var l=hl.getWin(u).dom,d=function(w,x,_,z){return ym(l,w,x,_,z)},h=$k(u);return Qp(l,h).match({ltr:d,rtl:d})},Yf=function(u){if(u.rangeCount>0){var l=u.getRangeAt(0),d=u.getRangeAt(u.rangeCount-1);return Z.some(ec.create(lt.fromDom(l.startContainer),l.startOffset,lt.fromDom(d.endContainer),d.endOffset))}else return Z.none()},eh=function(u){if(u.anchorNode===null||u.focusNode===null)return Yf(u);var l=lt.fromDom(u.anchorNode),d=lt.fromDom(u.focusNode);return Ik(l,u.anchorOffset,d,u.focusOffset)?Z.some(ec.create(l,u.anchorOffset,d,u.focusOffset)):Yf(u)},sd=function(u,l){var d=Jp(u,l);tc(u,d)},Fc=function(u){return ea(u).filter(function(l){return l.rangeCount>0}).bind(eh)},Y0=function(u){return Fc(u).map(function(l){return hl.exact(l.start,l.soffset,l.finish,l.foffset)})},zk=function(u,l){var d=id(u,l);return H2(d)},Lk=function(u,l,d){return Zg(u,l,d)},X2=function(u){ea(u).each(function(l){return l.removeAllRanges()})},th=tinymce.util.Tools.resolve("tinymce.util.VK"),Sm=function(u,l,d){return n1(u,l,L0(d))},Hk=function(u,l,d){return n1(u,l,hm(d))},J0=function(u,l){var d=hl.exact(l,0,l,0);return X0(d)},Vk=function(u,l){var d=ti(l,"tr");return on(d).bind(function(h){return vu(h,"td,th").map(function(w){return J0(u,w)})})},n1=function(u,l,d){return d.fold(Z.none,Z.none,function(h,w){return xg(w).map(function(x){return J0(u,x)})},function(h){return Eo(h,l).bind(function(w){return u.execCommand("mceTableInsertRowAfter"),Vk(u,w)})})},Uk=["table","li","dl"],Y2=function(u,l,d){if(u.keyCode===th.TAB){var h=Bf(l),w=function(z){var I=ha(z);return _n(z,h)||Xn(Uk,I)},x=l.selection.getRng(),_=lt.fromDom(u.shiftKey?x.startContainer:x.endContainer);Sd(_,w).each(function(z){u.preventDefault(),Eo(z,w).each(d.clear),l.selection.collapse(u.shiftKey);var I=u.shiftKey?Hk:Sm,oe=I(l,w,z);oe.each(function(ye){l.selection.setRng(ye)})})}},Wk=function(u,l){return{selection:u,kill:l}},cd={create:Wk},J2=function(u,l,d,h){return{start:su.on(u,l),finish:su.on(d,h)}},r1={create:J2},nh=function(u,l){var d=id(u,l);return ec.create(lt.fromDom(d.startContainer),d.startOffset,lt.fromDom(d.endContainer),d.endOffset)},ld=r1.create,Z2=function(u,l,d,h,w,x,_){return _n(d,w)&&h===x?Z.none():Aa(d,"td,th",l).bind(function(z){return Aa(w,"td,th",l).bind(function(I){return a1(u,l,z,I,_)})})},a1=function(u,l,d,h,w){return _n(d,h)?Z.none():gs(d,h,l).bind(function(x){var _=x.boxes.getOr([]);return _.length>0?(w(u,_,x.start,x.finish),Z.some(cd.create(Z.some(ld(d,0,d,zo(d))),!0))):Z.none()})},Q2=function(u,l,d,h,w){var x=function(_){return w.clearBeforeUpdate(d),w.selectRange(d,_.boxes,_.start,_.finish),_.boxes};return sg(h,u,l,w.firstSelectedSelector,w.lastSelectedSelector).map(x)},Jf=function(u,l){return{item:u,mode:l}},Z0=function(u,l,d,h){return h===void 0&&(h=Zf),u.property().parent(l).map(function(w){return Jf(w,h)})},Zf=function(u,l,d,h){return h===void 0&&(h=xm),d.sibling(u,l).map(function(w){return Jf(w,h)})},xm=function(u,l,d,h){h===void 0&&(h=xm);var w=u.property().children(l),x=d.first(w);return x.map(function(_){return Jf(_,h)})},eC=[{current:Z0,next:Zf,fallback:Z.none()},{current:Zf,next:xm,fallback:Z.some(Z0)},{current:xm,next:xm,fallback:Z.some(Zf)}],Q0=function(u,l,d,h,w){w===void 0&&(w=eC);var x=Pe(w,function(_){return _.current===d});return x.bind(function(_){return _.current(u,l,h,_.next).orThunk(function(){return _.fallback.bind(function(z){return Q0(u,l,z,h)})})})},tC=function(){var u=function(d,h){return d.query().prevSibling(h)},l=function(d){return d.length>0?Z.some(d[d.length-1]):Z.none()};return{sibling:u,first:l}},nC=function(){var u=function(d,h){return d.query().nextSibling(h)},l=function(d){return d.length>0?Z.some(d[0]):Z.none()};return{sibling:u,first:l}},ey={left:tC,right:nC},km=function(u,l,d,h,w,x){var _=Q0(u,l,h,w);return _.bind(function(z){return x(z.item)?Z.none():d(z.item)?Z.some(z.item):km(u,z.item,d,z.mode,w,x)})},jk=function(u,l,d,h){return km(u,l,d,Zf,ey.left(),h)},qk=function(u,l,d,h){return km(u,l,d,Zf,ey.right(),h)},ty=function(u){return function(l){return u.property().children(l).length===0}},ny=function(u,l,d){return rC(u,l,ty(u),d)},Gk=function(u,l,d){return aC(u,l,ty(u),d)},rC=jk,aC=qk,nf=ag(),ry=function(u,l){return ny(nf,u,l)},oC=function(u,l){return Gk(nf,u,l)},iC=function(u,l,d){return rC(nf,u,l,d)},uC=function(u,l,d){return aC(nf,u,l,d)},Kk=function(u,l,d){return Bi(u,l,d).isSome()},o1=$l.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),i1=function(u,l,d){var h=u.getRect(l),w=u.getRect(d);return w.right>h.left&&w.left<h.right},Xk=function(u){return Aa(u,"tr")},Yk=function(u,l,d,h,w,x,_){return Aa(h,"td,th",_).bind(function(z){return Aa(l,"td,th",_).map(function(I){return _n(z,I)?_n(h,z)&&zo(z)===w?x(I):o1.none("in same cell"):Xc(Xk,[z,I]).fold(function(){return i1(u,I,z)?o1.success():x(I)},function(oe){return x(I)})})}).getOr(o1.none("default"))},u1=function(u,l,d,h,w){return u.fold(l,d,h,w)},Tm=Jn(Jn({},o1),{verify:Yk,cata:u1}),Jk=function(u,l,d,h){return{parent:u,children:l,element:d,index:h}},ay=function(u){return F(u).bind(function(l){var d=A(l);return Zk(d,u).map(function(h){return Jk(l,d,u,h)})})},Zk=function(u,l){return Ct(u,re(_n,l))},rh=function(u){return ha(u)==="br"},s1=function(u,l,d){return l(u,d).bind(function(h){return xa(h)&&Od(h).trim().length===0?s1(h,l,d):Z.some(h)})},oy=function(u,l,d){return d.traverse(l).orThunk(function(){return s1(l,d.gather,u)}).map(d.relative)},Qk=function(u,l){return q(u,l).filter(rh).orThunk(function(){return q(u,l-1).filter(rh)})},sC=function(u,l,d,h){return Qk(l,d).bind(function(w){return h.traverse(w).fold(function(){return s1(w,h.gather,u).map(h.relative)},function(x){return ay(x).map(function(_){return su.on(_.parent,_.index)})})})},iy=function(u,l,d,h){var w=rh(l)?oy(u,l,h):sC(u,l,d,h);return w.map(function(x){return{start:x,finish:x}})},cC=function(u){return Tm.cata(u,function(l){return Z.none()},function(){return Z.none()},function(l){return Z.some(Pg(l,0))},function(l){return Z.some(Pg(l,zo(l)))})},Qf=function(u,l){return{left:u.left,top:u.top+l,right:u.right,bottom:u.bottom+l}},ah=function(u,l){return{left:u.left,top:u.top-l,right:u.right,bottom:u.bottom-l}},uy=function(u,l,d){return{left:u.left+l,top:u.top+d,right:u.right+l,bottom:u.bottom+d}},lC=function(u){return u.top},fC=function(u){return u.bottom},c1=function(u,l,d){return d>=0&&d<zo(l)?u.getRangedRect(l,d,l,d+1):d>0?u.getRangedRect(l,d-1,l,d):Z.none()},l1=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},f1=function(u,l){return Z.some(u.getRect(l))},vC=function(u,l,d){return ju(l)?f1(u,l).map(l1):xa(l)?c1(u,l,d).map(l1):Z.none()},dC=function(u,l){return ju(l)?f1(u,l).map(l1):xa(l)?u.getRangedRect(l,0,l,zo(l)).map(l1):Z.none()},bl=5,eT=100,yl=$l.generate([{none:[]},{retry:["caret"]}]),tT=function(u,l){return u.left<l.left||Math.abs(l.right-u.left)<1||u.left>l.right},mC=function(u,l,d){return wd(l,h0).fold(qn,function(h){return dC(u,h).exists(function(w){return tT(d,w)})})},nT=function(u,l,d,h,w){var x=Qf(w,bl);return Math.abs(d.bottom-h.bottom)<1||d.top>w.bottom?yl.retry(x):d.top===w.bottom?yl.retry(Qf(w,1)):mC(u,l,w)?yl.retry(uy(x,bl,0)):yl.none()},rT=function(u,l,d,h,w){var x=ah(w,bl);return Math.abs(d.top-h.top)<1||d.bottom<w.top?yl.retry(x):d.bottom===w.top?yl.retry(ah(w,1)):mC(u,l,w)?yl.retry(uy(x,bl,0)):yl.none()},ev={point:lC,adjuster:rT,move:ah,gather:ry},v1={point:fC,adjuster:nT,move:Qf,gather:oC},gC=function(u,l,d){return u.elementFromPoint(l,d).filter(function(h){return ha(h)==="table"}).isSome()},aT=function(u,l,d,h,w){return Em(u,l,d,l.move(h,bl),w)},Em=function(u,l,d,h,w){return w===0?Z.some(h):gC(u,h.left,l.point(h))?aT(u,l,d,h,w-1):u.situsFromPoint(h.left,l.point(h)).bind(function(x){return x.start.fold(Z.none,function(_){return dC(u,_).bind(function(z){return l.adjuster(u,_,z,d,h).fold(Z.none,function(I){return Em(u,l,d,I,w-1)})}).orThunk(function(){return Z.some(h)})},Z.none)})},oT=function(u,l){return u.situsFromPoint(l.left,l.bottom+bl)},iT=function(u,l){return u.situsFromPoint(l.left,l.top-bl)},uT=function(u,l,d){return u.point(l)>d.getInnerHeight()?Z.some(u.point(l)-d.getInnerHeight()):u.point(l)<0?Z.some(-u.point(l)):Z.none()},hC=function(u,l,d){var h=u.move(d,bl),w=Em(l,u,d,h,eT).getOr(h);return uT(u,w,l).fold(function(){return l.situsFromPoint(w.left,u.point(w))},function(x){return l.scrollBy(0,x),l.situsFromPoint(w.left,u.point(w)-x)})},Om={tryUp:re(hC,ev),tryDown:re(hC,v1),ieTryUp:iT,ieTryDown:oT,getJumpSize:ct(bl)},sT=20,pC=function(u,l,d){return u.getSelection().bind(function(h){return iy(l,h.finish,h.foffset,d).fold(function(){return Z.some(Pg(h.finish,h.foffset))},function(w){var x=u.fromSitus(w),_=Tm.verify(u,h.finish,h.foffset,x.finish,x.foffset,d.failure,l);return cC(_)})})},oh=function(u,l,d,h,w,x){return x===0?Z.none():cT(u,l,d,h,w).bind(function(_){var z=u.fromSitus(_),I=Tm.verify(u,d,h,z.finish,z.foffset,w.failure,l);return Tm.cata(I,function(){return Z.none()},function(){return Z.some(_)},function(oe){return _n(d,oe)&&h===0?d1(u,d,h,ah,w):oh(u,l,oe,0,w,x-1)},function(oe){return _n(d,oe)&&h===zo(oe)?d1(u,d,h,Qf,w):oh(u,l,oe,zo(oe),w,x-1)})})},d1=function(u,l,d,h,w){return vC(u,l,d).bind(function(x){return bC(u,w,h(x,Om.getJumpSize()))})},bC=function(u,l,d){var h=ce().browser;return h.isChrome()||h.isSafari()||h.isFirefox()||h.isEdge()?l.otherRetry(u,d):h.isIE()?l.ieRetry(u,d):Z.none()},cT=function(u,l,d,h,w){return vC(u,d,h).bind(function(x){return bC(u,w,x)})},lT=function(u,l,d){return pC(u,l,d).bind(function(h){return oh(u,l,h.element,h.offset,d,sT).map(u.fromSitus)})},fT=function(u,l){return Kk(u,function(d){return F(d).exists(function(h){return _n(h,l)})})},tv=function(u,l,d,h,w){return Aa(h,"td,th",l).bind(function(x){return Aa(x,"table",l).bind(function(_){return fT(w,_)?lT(u,l,d).bind(function(z){return Aa(z.finish,"td,th",l).map(function(I){return{start:x,finish:I,range:z}})}):Z.none()})})},yC=function(u,l,d,h,w,x){return ce().browser.isIE()?Z.none():x(h,l).orThunk(function(){return tv(u,l,d,h,w).map(function(_){var z=_.range;return cd.create(Z.some(ld(z.start,z.soffset,z.finish,z.foffset)),!0)})})},vT=function(u,l){return Aa(u,"tr",l).bind(function(d){return Aa(d,"table",l).bind(function(h){var w=ti(h,"tr");return _n(d,w[0])?iC(h,function(x){return Av(x).isSome()},l).map(function(x){var _=zo(x);return cd.create(Z.some(ld(x,_,x,_)),!0)}):Z.none()})})},sy=function(u,l){return Aa(u,"tr",l).bind(function(d){return Aa(d,"table",l).bind(function(h){var w=ti(h,"tr");return _n(d,w[w.length-1])?uC(h,function(x){return xg(x).isSome()},l).map(function(x){return cd.create(Z.some(ld(x,0,x,0)),!0)}):Z.none()})})},wC=function(u,l,d,h,w,x,_){return tv(u,d,h,w,x).bind(function(z){return a1(l,d,z.start,z.finish,_)})},CC=function(){var u=mu(Z.none()),l=function(){return u.set(Z.none())},d=function(x){return u.set(Z.some(x))},h=function(){return u.get().isSome()},w=function(x){return u.get().each(x)};return{clear:l,set:d,isSet:h,on:w}},cy=function(u,l){return Aa(u,"td,th",l)},SC=function(u,l,d,h){var w=CC(),x=w.clear,_=function(ye){w.on(function(Ot){h.clearBeforeUpdate(l),cy(ye.target,d).each(function(ht){gs(Ot,ht,d).each(function(Pt){var ze=Pt.boxes.getOr([]);(ze.length>1||ze.length===1&&!_n(Ot,ht))&&(h.selectRange(l,ze,Pt.start,Pt.finish),u.selectContents(ht))})})})},z=function(ye){h.clear(l),cy(ye.target,d).each(w.set)},I=function(ye){_(ye)},oe=function(ye){_(ye),x()};return{clearstate:x,mousedown:z,mouseover:I,mouseup:oe}},ly={traverse:At,gather:oC,relative:su.before,otherRetry:Om.tryDown,ieRetry:Om.ieTryDown,failure:Tm.failedDown},xC={traverse:Le,gather:ry,relative:su.before,otherRetry:Om.tryUp,ieRetry:Om.ieTryUp,failure:Tm.failedUp},Am=function(u){return function(l){return l===u}},fy=Am(38),Dm=Am(40),vy=function(u){return u>=37&&u<=40},vr={isBackward:Am(37),isForward:Am(39)},dT={isBackward:Am(39),isForward:Am(37)},m1=function(u){var l=u!==void 0?u.dom:document,d=l.body.scrollLeft||l.documentElement.scrollLeft,h=l.body.scrollTop||l.documentElement.scrollTop;return yc(d,h)},nc=function(u,l,d){var h=d!==void 0?d.dom:document,w=h.defaultView;w&&w.scrollBy(u,l)},dy=function(u){var l=function(Qe,Mt){return lt.fromPoint(lt.fromDom(u.document),Qe,Mt)},d=function(Qe){return Qe.dom.getBoundingClientRect()},h=function(Qe,Mt,Kn,Jr){var xr=hl.exact(Qe,Mt,Kn,Jr);return zk(u,xr)},w=function(){return Y0(u).map(function(Qe){return nh(u,Qe)})},x=function(Qe){var Mt=hl.relative(Qe.start,Qe.finish);return nh(u,Mt)},_=function(Qe,Mt){return Lk(u,Qe,Mt).map(function(Kn){return r1.create(Kn.start,Kn.soffset,Kn.finish,Kn.foffset)})},z=function(){X2(u)},I=function(Qe){Qe===void 0&&(Qe=!1),Y0(u).each(function(Mt){return Mt.fold(function(Kn){return Kn.collapse(Qe)},function(Kn,Jr){var xr=Qe?Kn:Jr;t1(u,xr,xr)},function(Kn,Jr,xr,ca){var $a=Qe?Kn:xr,Ia=Qe?Jr:ca;sa(u,$a,Ia,$a,Ia)})})},oe=function(Qe){sd(u,Qe)},ye=function(Qe){sa(u,Qe.start,Qe.soffset,Qe.finish,Qe.foffset)},Ot=function(Qe,Mt){t1(u,Qe,Mt)},ht=function(){return u.innerHeight},Pt=function(){var Qe=m1(lt.fromDom(u.document));return Qe.top},ze=function(Qe,Mt){nc(Qe,Mt,lt.fromDom(u.document))};return{elementFromPoint:l,getRect:d,getRangedRect:h,getSelection:w,fromSitus:x,situsFromPoint:_,clearSelection:z,collapseSelection:I,setSelection:ye,setRelativeSelection:Ot,selectContents:oe,getInnerHeight:ht,getScrollY:Pt,scrollBy:ze}},rf=function(u,l){return{rows:u,cols:l}},g1=function(u,l,d,h){var w=dy(u),x=SC(w,l,d,h);return{clearstate:x.clearstate,mousedown:x.mousedown,mouseover:x.mouseover,mouseup:x.mouseup}},kC=function(u,l,d,h){var w=dy(u),x=function(){return h.clear(l),Z.none()},_=function(I,oe,ye,Ot,ht,Pt){var ze=I.raw,Qe=ze.which,Mt=ze.shiftKey===!0,Kn=Du(l,h.selectedSelector).fold(function(){return Dm(Qe)&&Mt?re(wC,w,l,d,ly,Ot,oe,h.selectRange):fy(Qe)&&Mt?re(wC,w,l,d,xC,Ot,oe,h.selectRange):Dm(Qe)?re(yC,w,d,ly,Ot,oe,sy):fy(Qe)?re(yC,w,d,xC,Ot,oe,vT):Z.none},function(Jr){var xr=function(ca){return function(){var $a=zr(ca,function(Ia){return Q2(Ia.rows,Ia.cols,l,Jr,h)});return $a.fold(function(){return _d(l,h.firstSelectedSelector,h.lastSelectedSelector).map(function(Ia){var fd=Dm(Qe)||Pt.isForward(Qe)?su.after:su.before;return w.setRelativeSelection(su.on(Ia.first,0),fd(Ia.table)),h.clear(l),cd.create(Z.none(),!0)})},function(Ia){return Z.some(cd.create(Z.none(),!0))})}};return Dm(Qe)&&Mt?xr([rf(1,0)]):fy(Qe)&&Mt?xr([rf(-1,0)]):Pt.isBackward(Qe)&&Mt?xr([rf(0,-1),rf(-1,0)]):Pt.isForward(Qe)&&Mt?xr([rf(0,1),rf(1,0)]):vy(Qe)&&Mt===!1?x:Z.none});return Kn()},z=function(I,oe,ye,Ot,ht){return Du(l,h.selectedSelector).fold(function(){var Pt=I.raw,ze=Pt.which,Qe=Pt.shiftKey===!0;return Qe===!1?Z.none():vy(ze)?Z2(l,d,oe,ye,Ot,ht,h.selectRange):Z.none()},Z.none)};return{keydown:_,keyup:z}},mT=function(u,l,d,h){var w=dy(u);return function(x,_){h.clearBeforeUpdate(l),gs(x,_,d).each(function(z){var I=z.boxes.getOr([]);h.selectRange(l,I,z.start,z.finish),w.selectContents(_),w.collapseSelection()})}},gT=function(u,l){bt(l,function(d){Qi(u,d)})},Fr=function(u){return function(l){ws(l,u)}},my=function(u){return function(l){gT(l,u)}},Yr=function(u){var l=Fr(u.selected),d=my([u.selected,u.lastSelected,u.firstSelected]),h=function(x){var _=ti(x,u.selectedSelector);bt(_,d)},w=function(x,_,z,I){h(x),bt(_,l),ws(z,u.firstSelected),ws(I,u.lastSelected)};return{clearBeforeUpdate:h,clear:h,selectRange:w,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},TC=function(u,l,d){var h=function(I){nn(I,u.selected),nn(I,u.firstSelected),nn(I,u.lastSelected)},w=function(I){Ti(I,u.selected,"1")},x=function(I){_(I),d()},_=function(I){var oe=ti(I,u.selectedSelector);bt(oe,h)},z=function(I,oe,ye,Ot){x(I),bt(oe,w),Ti(ye,u.firstSelected,"1"),Ti(Ot,u.lastSelected,"1"),l(oe,ye,Ot)};return{clearBeforeUpdate:_,clear:x,selectRange:z,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},hT={byClass:Yr,byAttr:TC},h1=function(u,l,d){var h=u.slice(0,l[l.length-1].row+1),w=Op(h,d);return Bn(w,function(x){var _=x.cells.slice(0,l[l.length-1].column+1);return wt(_,function(z){return z.element})})},pT=function(u,l,d){var h=u.slice(l[0].row+l[0].rowspan-1,u.length),w=Op(h,d);return Bn(w,function(x){var _=x.cells.slice(l[0].column+l[0].colspan-1,x.cells.length);return wt(_,function(z){return z.element})})},EC=function(u,l,d){var h=$t.fromTable(u),w=Vf(h,l);return w.map(function(x){var _=nm(h,d,!1),z=h1(_,x,d),I=pT(_,x,d);return{upOrLeftCells:z,downOrRightCells:I}})},gy=function(u){return il(lt.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function bT(u,l,d){var h=function(_,z,I){d.targets().each(function(oe){var ye=Eo(z);ye.each(function(Ot){var ht=ul(u),Pt=Eb(Jt,lt.fromDom(u.getDoc()),ht),ze=EC(Ot,oe,Pt);Gw(u,_,z,I,ze)})})},w=function(){return Lx(u)},x=hT.byAttr(Bo,h,w);return u.on("init",function(_){var z=u.getWin(),I=Bf(u),oe=Bv(u),ye=function(){var Ta=u.selection,nu=lt.fromDom(Ta.getStart()),Vi=lt.fromDom(Ta.getEnd()),rs=Xc(Eo,[nu,Vi]);rs.fold(function(){return x.clear(I)},Jt)},Ot=g1(z,I,oe,x),ht=kC(z,I,oe,x),Pt=mT(z,I,oe,x),ze=function(Ta){return Ta.raw.shiftKey===!0};u.on("TableSelectorChange",function(Ta){return Pt(Ta.start,Ta.finish)});var Qe=function(Ta,nu){!ze(Ta)||(nu.kill&&Ta.kill(),nu.selection.each(function(Vi){var rs=hl.relative(Vi.start,Vi.finish),Ra=id(z,rs);u.selection.setRng(Ra)}))},Mt=function(Ta){var nu=zf(Ta);if(nu.raw.shiftKey&&vy(nu.raw.which)){var Vi=u.selection.getRng(),rs=lt.fromDom(Vi.startContainer),Ra=lt.fromDom(Vi.endContainer);ht.keyup(nu,rs,Vi.startOffset,Ra,Vi.endOffset).each(function(Ui){Qe(nu,Ui)})}},Kn=function(Ta){var nu=zf(Ta);l().each(function(Wi){return Wi.hideBars()});var Vi=u.selection.getRng(),rs=lt.fromDom(Vi.startContainer),Ra=lt.fromDom(Vi.endContainer),Ui=gw(vr,dT)(lt.fromDom(u.selection.getStart()));ht.keydown(nu,rs,Vi.startOffset,Ra,Vi.endOffset,Ui).each(function(Wi){Qe(nu,Wi)}),l().each(function(Wi){return Wi.showBars()})},Jr=function(Ta){return Ta.button===0},xr=function(Ta){return Ta.buttons===void 0||Qs.browser.isEdge()&&Ta.buttons===0?!0:(Ta.buttons&1)!==0},ca=function(Ta){Ot.clearstate()},$a=function(Ta){Jr(Ta)&&gy(Ta)&&Ot.mousedown(zf(Ta))},Ia=function(Ta){xr(Ta)&&gy(Ta)&&Ot.mouseover(zf(Ta))},fd=function(Ta){Jr(Ta)&&gy(Ta)&&Ot.mouseup(zf(Ta))},ih=function(){var Ta=mu(lt.fromDom(I)),nu=mu(0),Vi=function(rs){var Ra=lt.fromDom(rs.target);if(ha(Ra)==="td"||ha(Ra)==="th"){var Ui=Ta.get(),Wi=nu.get();_n(Ui,Ra)&&rs.timeStamp-Wi<300&&(rs.preventDefault(),Pt(Ra,Ra))}Ta.set(Ra),nu.set(rs.timeStamp)};return{touchEnd:Vi}},Hs=ih();u.on("dragstart",ca),u.on("mousedown",$a),u.on("mouseover",Ia),u.on("mouseup",fd),u.on("touchend",Hs.touchEnd),u.on("keyup",Mt),u.on("keydown",Kn),u.on("NodeChange",ye)}),{clear:x.clear}}var yT=function(u,l){var d=mu(Z.none()),h=mu([]),w=Z.none(),x=qu("caption"),_=function(xr){return w.forall(function(ca){return!ca[xr]})},z=function(){return Zv(bo(u),Bv(u)).bind(function(xr){var ca=Eo(xr);return ca.map(function($a){return x(xr)?rp(xr):Rv(l,$a,xr)})})},I=function(xr){var ca=Eo(xr.element);return ca.map(function($a){var Ia=$t.fromTable($a),fd=Vf(Ia,xr).getOr([]),ih=wr(fd,function(Hs,Ta){return Ta.isLocked&&(Hs.onAny=!0,Ta.column===0?Hs.onFirst=!0:Ta.column+Ta.colspan>=Ia.grid.columns&&(Hs.onLast=!0)),Hs},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Oi(Ia,xr).isSome(),unmergeable:rm(Ia,xr).isSome(),locked:ih}})},oe=function(){d.set(Ut(z)()),w=d.get().bind(I),bt(h.get(),function(xr){return xr()})},ye=function(xr,ca){var $a=function(){return d.get().fold(function(){xr.setDisabled(!0)},function(Ia){xr.setDisabled(ca(Ia))})};return $a(),h.set(h.get().concat([$a])),function(){h.set(Sn(h.get(),function(Ia){return Ia!==$a}))}},Ot=function(xr){return w.exists(function(ca){return ca.locked[xr]})},ht=function(xr){return ye(xr,function(ca){return!1})},Pt=function(xr){return ye(xr,function(ca){return x(ca.element)})},ze=function(xr){return function(ca){return ye(ca,function($a){return x($a.element)||Ot(xr)})}},Qe=function(xr){return function(ca){return ye(ca,function($a){return x($a.element)||xr().isNone()})}},Mt=function(xr,ca){return function($a){return ye($a,function(Ia){return x(Ia.element)||xr().isNone()||Ot(ca)})}},Kn=function(xr){return ye(xr,function(ca){return _("mergeable")})},Jr=function(xr){return ye(xr,function(ca){return _("unmergeable")})};return u.on("NodeChange ExecCommand TableSelectorChange",oe),{onSetupTable:ht,onSetupCellOrRow:Pt,onSetupColumn:ze,onSetupPasteable:Qe,onSetupPasteableColumn:Mt,onSetupMergeable:Kn,onSetupUnmergeable:Jr,resetTargets:oe,targets:function(){return d.get()}}},Ar=function(u,l,d){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(w){return w("inserttable | cell row column | advtablesort | tableprops deletetable")}});var h=function(w){return function(){return u.execCommand(w)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:h("mceTableProps"),icon:"table",onSetup:l.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:h("mceTableDelete"),icon:"table-delete-table",onSetup:l.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:h("mceTableCellProps"),icon:"table-cell-properties",onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:h("mceTableMergeCells"),icon:"table-merge-cells",onSetup:l.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:h("mceTableSplitCells"),icon:"table-split-cells",onSetup:l.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:h("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:h("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:h("mceTableDeleteRow"),icon:"table-delete-row",onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:h("mceTableRowProps"),icon:"table-row-properties",onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:h("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:l.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:h("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:l.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:h("mceTableDeleteCol"),icon:"table-delete-column",onSetup:l.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:h("mceTableCutRow"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:h("mceTableCopyRow"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:h("mceTablePasteRowBefore"),onSetup:l.onSetupPasteable(d.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:h("mceTablePasteRowAfter"),onSetup:l.onSetupPasteable(d.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:h("mceTableCutCol"),onSetup:l.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:h("mceTableCopyCol"),onSetup:l.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:h("mceTablePasteColBefore"),onSetup:l.onSetupPasteableColumn(d.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:h("mceTablePasteColAfter"),onSetup:l.onSetupPasteableColumn(d.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:h("mceInsertTable"),icon:"table"})},wT=function(u){var l=function(h){return u.dom.is(h,"table")&&u.getBody().contains(h)},d=wp(u);d.length>0&&u.ui.registry.addContextToolbar("table",{predicate:l,items:d,scope:"node",position:"node"})},hy=function(u,l,d){var h=function(ye){return function(){return u.execCommand(ye)}},w=function(ye){u.execCommand("mceInsertTable",!1,{rows:ye.numRows,columns:ye.numColumns})},x={text:"Table properties",onSetup:l.onSetupTable,onAction:h("mceTableProps")},_={text:"Delete table",icon:"table-delete-table",onSetup:l.onSetupTable,onAction:h("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:h("mceTableInsertRowBefore"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:h("mceTableInsertRowAfter"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:h("mceTableDeleteRow"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:h("mceTableRowProps"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:h("mceTableCutRow"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:h("mceTableCopyRow"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:h("mceTablePasteRowBefore"),onSetup:l.onSetupPasteable(d.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:h("mceTablePasteRowAfter"),onSetup:l.onSetupPasteable(d.getRows)});var z={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:h("mceTableInsertColBefore"),onSetup:l.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:h("mceTableInsertColAfter"),onSetup:l.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:h("mceTableDeleteCol"),onSetup:l.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:h("mceTableCutCol"),onSetup:l.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:h("mceTableCopyCol"),onSetup:l.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:h("mceTablePasteColBefore"),onSetup:l.onSetupPasteableColumn(d.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:h("mceTablePasteColAfter"),onSetup:l.onSetupPasteableColumn(d.getColumns,"onLast")});var I={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:h("mceTableCellProps"),onSetup:l.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:h("mceTableMergeCells"),onSetup:l.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:h("mceTableSplitCells"),onSetup:l.onSetupUnmergeable});var oe={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}};Ac(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:h("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:w}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:h("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",x),u.ui.registry.addMenuItem("deletetable",_),u.ui.registry.addNestedMenuItem("row",z),u.ui.registry.addNestedMenuItem("column",I),u.ui.registry.addNestedMenuItem("cell",oe),u.ui.registry.addContextMenu("table",{update:function(){return l.resetTargets(),l.targets().fold(function(){return""},function(ye){return ha(ye.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}})},py=function(u){var l=Ni(function(){return Bf(u)},function(){return Zv(bo(u))},Bo.selectedSelector),d=yT(u,l),h=Zw(u),w=bT(u,h.lazyResize,d),x=Hp(u,h.lazyWire,l),_=I0();return $0(u,x,w,l,_),I2(u,x,l),Ow(u,l,x,w),hy(u,d,_),Ar(u,d,_),wT(u),u.on("PreInit",function(){u.serializer.addTempAttr(Bo.firstSelected),u.serializer.addTempAttr(Bo.lastSelected),z0(u)}),Hx(u)&&u.on("keydown",function(z){Y2(z,u,w)}),u.on("remove",function(){h.destroy()}),Lu(u,_,h,d)};function by(){Wh.add("table",py)}by()})();(function(){var Ze=function(Cn){var ut=Cn,On=function(){return ut},Jt=function(nt){ut=nt};return{get:On,set:Jt}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),En=function(Cn,ut){Cn.fire("VisualBlocks",{state:ut})},lr=function(Cn,ut,On){var Jt=Cn.dom;Jt.toggleClass(Cn.getBody(),"mce-visualblocks"),On.set(!On.get()),En(Cn,On.get())},pn=function(Cn,ut,On){Cn.addCommand("mceVisualBlocks",function(){lr(Cn,ut,On)})},rr=function(Cn){return Cn.getParam("visualblocks_default_state",!1,"boolean")},Nn=function(Cn,ut,On){Cn.on("PreviewFormats AfterPreviewFormats",function(Jt){On.get()&&Cn.dom.toggleClass(Cn.getBody(),"mce-visualblocks",Jt.type==="afterpreviewformats")}),Cn.on("init",function(){rr(Cn)&&lr(Cn,ut,On)})},jn=function(Cn,ut){return function(On){On.setActive(ut.get());var Jt=function(nt){return On.setActive(nt.state)};return Cn.on("VisualBlocks",Jt),function(){return Cn.off("VisualBlocks",Jt)}}},kr=function(Cn,ut){Cn.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:function(){return Cn.execCommand("mceVisualBlocks")},onSetup:jn(Cn,ut)}),Cn.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:function(){return Cn.execCommand("mceVisualBlocks")},onSetup:jn(Cn,ut)})};function $r(){Ht.add("visualblocks",function(Cn,ut){var On=Ze(!1);pn(Cn,ut,On),kr(Cn,On),Nn(Cn,ut,On)})}$r()})();(function(){var Ze=function(De){var dt=De,jt=function(){return dt},zn=function(cn){dt=cn};return{get:jt,set:zn}},Ht=tinymce.util.Tools.resolve("tinymce.PluginManager"),En=function(De){var dt=function(){return De.get()};return{isEnabled:dt}},lr=function(De,dt){return De.fire("VisualChars",{state:dt})},pn=function(De){var dt=typeof De;return De===null?"null":dt==="object"&&(Array.prototype.isPrototypeOf(De)||De.constructor&&De.constructor.name==="Array")?"array":dt==="object"&&(String.prototype.isPrototypeOf(De)||De.constructor&&De.constructor.name==="String")?"string":dt},rr=function(De){return function(dt){return pn(dt)===De}},Nn=function(De){return function(dt){return typeof dt===De}},jn=rr("string"),kr=Nn("boolean"),$r=Nn("number"),Cn=function(){},ut=function(De){return function(){return De}},On=ut(!1),Jt=ut(!0),nt=function(){return cr},cr=function(){var De=function(cn){return cn.isNone()},dt=function(cn){return cn()},jt=function(cn){return cn},zn={fold:function(cn,hr){return cn()},is:On,isSome:On,isNone:Jt,getOr:jt,getOrThunk:dt,getOrDie:function(cn){throw new Error(cn||"error: getOrDie called on none.")},getOrNull:ut(null),getOrUndefined:ut(void 0),or:jt,orThunk:dt,map:nt,each:Cn,bind:nt,exists:On,forall:Jt,filter:nt,equals:De,equals_:De,toArray:function(){return[]},toString:ut("none()")};return zn}(),ct=function(De){var dt=ut(De),jt=function(){return cn},zn=function(hr){return hr(De)},cn={fold:function(hr,Ka){return Ka(De)},is:function(hr){return De===hr},isSome:Jt,isNone:On,getOr:dt,getOrThunk:dt,getOrDie:dt,getOrNull:dt,getOrUndefined:dt,or:jt,orThunk:jt,map:function(hr){return ct(hr(De))},each:function(hr){hr(De)},bind:zn,exists:zn,forall:zn,filter:function(hr){return hr(De)?cn:cr},toArray:function(){return[De]},toString:function(){return"some("+De+")"},equals:function(hr){return hr.is(De)},equals_:function(hr,Ka){return hr.fold(On,function(Rr){return Ka(De,Rr)})}};return cn},tr=function(De){return De==null?cr:ct(De)},re={some:ct,none:nt,from:tr},_t=function(De,dt){for(var jt=De.length,zn=new Array(jt),cn=0;cn<jt;cn++){var hr=De[cn];zn[cn]=dt(hr,cn)}return zn},ar=function(De,dt){for(var jt=0,zn=De.length;jt<zn;jt++){var cn=De[jt];dt(cn,jt)}},qn=function(De,dt){for(var jt=[],zn=0,cn=De.length;zn<cn;zn++){var hr=De[zn];dt(hr,zn)&&jt.push(hr)}return jt},Qt=Object.keys,Gt=function(De,dt){for(var jt=Qt(De),zn=0,cn=jt.length;zn<cn;zn++){var hr=jt[zn],Ka=De[hr];dt(Ka,hr)}};typeof window!="undefined"||Function("return this;")();var Zt=3,Vt=function(De){return De.dom.nodeType},se=function(De){return De.dom.nodeValue},Z=function(De){return function(dt){return Vt(dt)===De}},qe=Z(Zt),Ve=function(De,dt,jt){if(jn(jt)||kr(jt)||$r(jt))De.setAttribute(dt,jt+"");else throw console.error("Invalid call to Attribute.set. Key ",dt,":: Value ",jt,":: Element ",De),new Error("Attribute value was not simple")},Ft=function(De,dt,jt){Ve(De.dom,dt,jt)},st=function(De,dt){var jt=De.dom.getAttribute(dt);return jt===null?void 0:jt},Xn=function(De,dt){De.dom.removeAttribute(dt)},E=function(De,dt){var jt=st(De,dt);return jt===void 0||jt===""?[]:jt.split(" ")},yt=function(De,dt,jt){var zn=E(De,dt),cn=zn.concat([jt]);return Ft(De,dt,cn.join(" ")),!0},wt=function(De,dt,jt){var zn=qn(E(De,dt),function(cn){return cn!==jt});return zn.length>0?Ft(De,dt,zn.join(" ")):Xn(De,dt),!1},bt=function(De){return De.dom.classList!==void 0},or=function(De){return E(De,"class")},dr=function(De,dt){return yt(De,"class",dt)},Sn=function(De,dt){return wt(De,"class",dt)},Dn=function(De,dt){bt(De)?De.dom.classList.add(dt):dr(De,dt)},wr=function(De){var dt=bt(De)?De.dom.classList:or(De);dt.length===0&&Xn(De,"class")},ee=function(De,dt){if(bt(De)){var jt=De.dom.classList;jt.remove(dt)}else Sn(De,dt);wr(De)},Pe=function(De,dt){var jt=dt||document,zn=jt.createElement("div");if(zn.innerHTML=De,!zn.hasChildNodes()||zn.childNodes.length>1)throw console.error("HTML does not have a single root node",De),new Error("HTML must have a single root node");return Bn(zn.childNodes[0])},Ct=function(De,dt){var jt=dt||document,zn=jt.createElement(De);return Bn(zn)},$n=function(De,dt){var jt=dt||document,zn=jt.createTextNode(De);return Bn(zn)},Bn=function(De){if(De==null)throw new Error("Node cannot be null or undefined");return{dom:De}},de=function(De,dt,jt){return re.from(De.dom.elementFromPoint(dt,jt)).map(Bn)},We={fromHtml:Pe,fromTag:Ct,fromText:$n,fromDom:Bn,fromPoint:de},Be={"\xA0":"nbsp","\xAD":"shy"},pt=function(De,dt){var jt="";return Gt(De,function(zn,cn){jt+=cn}),new RegExp("["+jt+"]",dt?"g":"")},ke=function(De){var dt="";return Gt(De,function(jt){dt&&(dt+=","),dt+="span.mce-"+jt}),dt},bn=pt(Be),br=pt(Be,!0),on=ke(Be),zr="mce-nbsp",Jn=function(De){return'<span data-mce-bogus="1" class="mce-'+Be[De]+'">'+De+"</span>"},it=function(De){var dt=se(De);return qe(De)&&dt!==void 0&&bn.test(dt)},Ut=function(De,dt){var jt=[],zn=De.dom,cn=_t(zn.childNodes,We.fromDom);return ar(cn,function(hr){dt(hr)&&(jt=jt.concat([hr])),jt=jt.concat(Ut(hr,dt))}),jt},xn=function(De,dt){for(;De.parentNode;){if(De.parentNode===dt)return De;De=De.parentNode}},Ye=function(De){return De.replace(br,Jn)},He=function(De){return De.nodeName.toLowerCase()==="span"&&De.classList.contains("mce-nbsp-wrap")},mt=function(De,dt){var jt=Ut(We.fromDom(dt),it);ar(jt,function(zn){var cn=zn.dom.parentNode;if(He(cn))Dn(We.fromDom(cn),zr);else{for(var hr=Ye(De.dom.encode(se(zn))),Ka=De.dom.create("div",null,hr),Rr=void 0;Rr=Ka.lastChild;)De.dom.insertAfter(Rr,zn.dom);De.dom.remove(zn.dom)}})},Wt=function(De,dt){var jt=De.dom.select(on,dt);ar(jt,function(zn){He(zn)?ee(We.fromDom(zn),zr):De.dom.remove(zn,!0)})},sn=function(De){var dt=De.getBody(),jt=De.selection.getBookmark(),zn=xn(De.selection.getNode(),dt);zn=zn!==void 0?zn:dt,Wt(De,zn),mt(De,zn),De.selection.moveToBookmark(jt)},gr=function(De,dt){lr(De,dt.get());var jt=De.getBody();dt.get()===!0?mt(De,jt):Wt(De,jt)},Lr=function(De,dt){dt.set(!dt.get());var jt=De.selection.getBookmark();gr(De,dt),De.selection.moveToBookmark(jt)},Cr=function(De,dt){De.addCommand("mceVisualChars",function(){Lr(De,dt)})},vn=function(De){return De.getParam("visualchars_default_state",!1)},Br=function(De){return De.getParam("forced_root_block")!==!1},qr=function(De,dt){De.on("init",function(){gr(De,dt)})},Ma=tinymce.util.Tools.resolve("tinymce.util.Delay"),Na=function(De,dt){var jt=Ma.debounce(function(){sn(De)},300);Br(De)&&De.on("keydown",function(zn){dt.get()===!0&&(zn.keyCode===13?sn(De):jt())}),De.on("remove",jt.stop)},Pa=function(De,dt){return function(jt){jt.setActive(dt.get());var zn=function(cn){return jt.setActive(cn.state)};return De.on("VisualChars",zn),function(){return De.off("VisualChars",zn)}}},Gr=function(De,dt){De.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:function(){return De.execCommand("mceVisualChars")},onSetup:Pa(De,dt)}),De.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:function(){return De.execCommand("mceVisualChars")},onSetup:Pa(De,dt)})};function Fa(){Ht.add("visualchars",function(De){var dt=Ze(vn(De));return Cr(De,dt),Gr(De,dt),Na(De,dt),qr(De,dt),En(dt)})}Fa()})();const zV=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],LV=Ze=>zV.map(Ht=>Ht.toLowerCase()).indexOf(Ze.toLowerCase())!==-1,HV=(Ze,Ht,En)=>{Object.keys(Ht).filter(LV).forEach(lr=>{const pn=Ht[lr];typeof pn=="function"&&(lr==="onInit"?pn(Ze,En):En.on(lr.substring(2),rr=>pn(rr,En)))})},VV=(Ze,Ht,En,lr)=>{const pn=Ze.modelEvents?Ze.modelEvents:null,rr=Array.isArray(pn)?pn.join(" "):pn;Oz(lr,(Nn,jn)=>{En&&typeof Nn=="string"&&Nn!==jn&&Nn!==En.getContent({format:Ze.outputFormat})&&En.setContent(Nn)}),En.on(rr!=null?rr:"change input undo redo",()=>{Ht.emit("update:modelValue",En.getContent({format:Ze.outputFormat}))})},UV=(Ze,Ht,En,lr,pn,rr)=>{lr.setContent(rr()),En.attrs["onUpdate:modelValue"]&&VV(Ht,En,lr,pn),HV(Ze,En.attrs,lr)};let Ez=0;const WV=Ze=>{const Ht=Date.now(),En=Math.floor(Math.random()*1e9);return Ez+=1,`${Ze}_${En+Ez}${String(Ht)}`},jV=Ze=>Ze!==null&&Ze.tagName.toLowerCase()==="textarea",qV=Az({name:"Tinymce",props:{id:String,initialValue:String,modelValue:{type:String,default:""},disabled:Boolean,inline:Boolean,init:Object,modelEvents:[String,Array],plugins:{type:[String,Array]},toolbar:[String,Array],outputFormat:{type:String,validator:Ze=>Ze==="html"||Ze==="text"}},setup(Ze,Ht){const{disabled:En,modelValue:lr}=Dz(Ze),{t:pn}=DV(),rr=jI();let Nn=null;const jn=Ze.id||WV("tiny-vue"),kr=Ze.init&&Ze.init.inline||Ze.inline,$r=!!Ht.attrs["onUpdate:modelValue"];let Cn=!0;const ut=Ze.initialValue?Ze.initialValue:"";let On="";const Jt=ct=>$r?()=>(lr==null?void 0:lr.value)?lr.value:"":()=>ct?ut:On,nt=jI(),cr=()=>{const ct=Jt(Cn),tr="./",re=xz(XO({language_url:`${tr}/tinymce/langs/zh_CN.js`,language:"zh_CN",skin:"oxide",skin_url:`${tr}/tinymce/skins/ui/oxide`,content_css:[`${tr}/tinymce/skins/ui/oxide/content.min.css`,`${tr}/tinymce/skins/content/default/content.min.css`],menubar:!1,plugins:"advlist autoresize autosave charmap code codesample directionality fullscreen hr image imagetools lists link media pagebreak paste quickbars searchreplace table visualblocks visualchars",toolbar:"fullscreen code | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | selectall removeformat pastetext | quickimage media link | blockquote codesample table | bullist numlist | outdent indent lineheight | forecolor backcolor | fontselect fontsizeselect formatselect | superscript subscript charmap | hr | ltr rtl | visualblocks visualchars | restoredraft undo redo | searchreplace",font_formats:"\u5B8B\u4F53=SimSun; \u5FAE\u8F6F\u96C5\u9ED1=Microsoft YaHei; \u6977\u4F53=SimKai,KaiTi; \u9ED1\u4F53=SimHei; \u96B6\u4E66=SimLi,LiSu; Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Comic Sans MS=comic sans ms,sans-serif;Helvetica=helvetica;Impact=impact,chicago;Times New Roman=times new roman,times",quickbars_selection_toolbar:"bold italic | h2 h3 blockquote",quickbars_insert_toolbar:!1,paste_data_images:!0,image_uploadtab:!1,image_advtab:!0,image_caption:!0,images_file_types:nt.value.upload.imageTypes,min_height:300,max_height:500,convert_urls:!1,autosave_ask_before_unload:!1},Ze.init),{images_upload_handler(_t,ar,qn,Qt){const Gt=nt.value.upload.imageLimitByte;if(Gt>0&&_t.blob().size>Gt){qn(pn("error.fileMaxSize",{size:`${Gt/1024/1024}MB`}),{remove:!0});return}const Zt=new XMLHttpRequest;Zt.open("POST",kz),Zt.upload.onprogress=se=>{Qt(se.loaded/se.total*100)},Zt.onload=()=>{if(Zt.status===403){qn(`HTTP Error: ${Zt.status}`,{remove:!0});return}if(Zt.status<200||Zt.status>=300){qn(`HTTP Error: ${Zt.status}`,{remove:!0});return}const se=JSON.parse(Zt.responseText);if(!se||typeof se.url!="string"){qn(`Invalid JSON: ${Zt.responseText}`,{remove:!0});return}ar(se.url)},Zt.onerror=()=>{qn(`Image upload failed due to a XHR Transport error. Code: ${Zt.status}`,{remove:!0})};const Vt=new FormData;Vt.append("file",_t.blob(),_t.filename()),Object.entries(Tz()).forEach(([se,Z])=>Zt.setRequestHeader(se,Z)),Zt.send(Vt)},file_picker_callback(_t,ar,qn){const Qt=document.createElement("input");Qt.setAttribute("type","file");let Gt=0;qn.filetype==="image"?(Gt=nt.value.upload.imageLimitByte,Qt.setAttribute("accept",nt.value.upload.imageInputAccept)):qn.filetype==="media"?(Gt=nt.value.upload.videoLimitByte,Qt.setAttribute("accept",nt.value.upload.videoInputAccept)):(Gt=nt.value.upload.fileLimitByte,Qt.setAttribute("accept",nt.value.upload.fileInputAccept)),Qt.onchange=Zt=>{const{files:Vt}=Zt.target,se=Vt==null?void 0:Vt.item(0);if(!se)return;if(Gt>0&&se.size>Gt){ib.activeEditor.windowManager.alert(pn("error.fileMaxSize",{size:`${Gt/1024/1024}MB`}));return}const Z=new XMLHttpRequest;Z.open("POST",kz),Z.onload=()=>{if(Z.status===403){ib.activeEditor.windowManager.alert(`HTTP Error: ${Z.status}`);return}if(Z.status<200||Z.status>=300){ib.activeEditor.windowManager.alert(`HTTP Error: ${Z.status}`);return}const Ve=JSON.parse(Z.responseText);if(!Ve||typeof Ve.url!="string"){ib.activeEditor.windowManager.alert(`Invalid JSON: ${Z.responseText}`);return}qn.filetype==="image"?_t(Ve.url,{alt:""}):qn.filetype==="media"?_t(Ve.url):_t(Ve.url,{text:Ve.name})},Z.onerror=()=>{ib.activeEditor.windowManager.alert(`Image upload failed due to a XHR Transport error. Code: ${Z.status}`)};const qe=new FormData;qe.append("file",se,se.name),Object.entries(Tz()).forEach(([Ve,Ft])=>Z.setRequestHeader(Ve,Ft)),Z.send(qe)},Qt.click()},readonly:Ze.disabled,selector:`#${jn}`,inline:kr,setup:_t=>{Nn=_t,_t.on("init",ar=>UV(ar,Ze,Ht,_t,lr,ct)),Ze.init&&typeof Ze.init.setup=="function"&&Ze.init.setup(_t)},branding:!1});jV(rr.value)&&(rr.value.style.visibility=""),ib.init(XO({toolbar_mode:"sliding"},re)),Cn=!1};return Oz(En,ct=>{Nn!=null&&Nn.setMode(ct?"readonly":"design")}),_V(async()=>{nt.value=await OV(),cr()}),BV(()=>{ib.remove(Nn)}),kr||(RV(()=>{Cn||cr()}),PV(()=>{$r||(On=Nn.getContent()),ib.remove(Nn)})),{element:rr,elementId:jn}}}),GV=["id"];function KV(Ze,Ht,En,lr,pn,rr){return Qo(),Jm("div",null,[MV("textarea",{id:Ze.elementId,ref:"element"},null,8,GV)])}var XV=_z(qV,[["render",KV]]);const YV=Az({name:"FieldItem",components:{Tinymce:XV,BaseUpload:$V,ImageUpload:IV},props:{field:{type:Object,required:!0},modelValue:null},emits:{"update:modelValue":null},setup(Ze,{emit:Ht}){const{field:En,modelValue:lr}=Dz(Ze),pn=jI([]);NV(async()=>{const Nn=En.value.dictTypeId;Nn&&(pn.value=await AV({typeId:Nn}))});const rr=FV({get:()=>lr.value==null&&["multipleSelect","checkbox"].includes(En.value.type)?[]:lr.value,set:Nn=>Ht("update:modelValue",Nn)});return{dictList:pn,data:rr}}}),JV={key:15};function ZV(Ze,Ht,En,lr,pn,rr){var Gt,Zt;const Nn=Vs("el-input"),jn=Vs("el-input-number"),kr=Vs("el-date-picker"),$r=Vs("el-color-picker"),Cn=Vs("el-slider"),ut=Vs("el-switch"),On=Vs("el-radio-button"),Jt=Vs("el-radio"),nt=Vs("el-radio-group"),cr=Vs("el-checkbox-button"),ct=Vs("el-checkbox"),tr=Vs("el-checkbox-group"),re=Vs("el-option"),_t=Vs("el-select"),ar=Vs("image-upload"),qn=Vs("base-upload"),Qt=Vs("tinymce");return Ze.field.type==="text"?(Qo(),cs(Nn,{key:0,modelValue:Ze.data,"onUpdate:modelValue":Ht[0]||(Ht[0]=Vt=>Ze.data=Vt),placeholder:Ze.field.placeholder},null,8,["modelValue","placeholder"])):Ze.field.type==="textarea"?(Qo(),cs(Nn,{key:1,type:"textarea",modelValue:Ze.data,"onUpdate:modelValue":Ht[1]||(Ht[1]=Vt=>Ze.data=Vt),placeholder:Ze.field.placeholder,rows:Ze.field.rows},null,8,["modelValue","placeholder","rows"])):Ze.field.type==="number"?(Qo(),cs(jn,{key:2,modelValue:Ze.data,"onUpdate:modelValue":Ht[2]||(Ht[2]=Vt=>Ze.data=Vt),placeholder:Ze.field.placeholder},null,8,["modelValue","placeholder"])):Ze.field.type==="date"?(Qo(),cs(kr,{key:3,type:(Gt=Ze.field.dateType)!=null?Gt:"date",modelValue:Ze.data,"onUpdate:modelValue":Ht[3]||(Ht[3]=Vt=>Ze.data=Vt),placeholder:Ze.field.placeholder},null,8,["type","modelValue","placeholder"])):Ze.field.type==="color"?(Qo(),cs($r,{key:4,modelValue:Ze.data,"onUpdate:modelValue":Ht[4]||(Ht[4]=Vt=>Ze.data=Vt)},null,8,["modelValue"])):Ze.field.type==="slider"?(Qo(),cs(Cn,{key:5,modelValue:Ze.data,"onUpdate:modelValue":Ht[5]||(Ht[5]=Vt=>Ze.data=Vt),showInput:(Zt=Ze.field.showInput)!=null?Zt:!1,min:Ze.field.min,max:Ze.field.max},null,8,["modelValue","showInput","min","max"])):Ze.field.type==="switch"?(Qo(),cs(ut,{key:6,modelValue:Ze.data,"onUpdate:modelValue":Ht[6]||(Ht[6]=Vt=>Ze.data=Vt),"active-value":Ze.field.activeValue,"inactive-value":Ze.field.inactiveValue},null,8,["modelValue","active-value","inactive-value"])):Ze.field.type==="radio"?(Qo(),cs(nt,{key:7,modelValue:Ze.data,"onUpdate:modelValue":Ht[7]||(Ht[7]=Vt=>Ze.data=Vt)},{default:ab(()=>[Ze.field.checkStyle==="button"?(Qo(!0),Jm(ob,{key:0},cx(Ze.dictList,Vt=>(Qo(),cs(On,{key:Vt.id,label:Vt.name},{default:ab(()=>[DB(YO(Vt.name),1)]),_:2},1032,["label"]))),128)):(Qo(!0),Jm(ob,{key:1},cx(Ze.dictList,Vt=>(Qo(),cs(Jt,{key:Vt.id,label:Vt.name},{default:ab(()=>[DB(YO(Vt.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])):Ze.field.type==="checkbox"?(Qo(),cs(tr,{key:8,modelValue:Ze.data,"onUpdate:modelValue":Ht[8]||(Ht[8]=Vt=>Ze.data=Vt)},{default:ab(()=>[Ze.field.checkStyle==="button"?(Qo(!0),Jm(ob,{key:0},cx(Ze.dictList,Vt=>(Qo(),cs(cr,{key:Vt.id,label:Vt.name},{default:ab(()=>[DB(YO(Vt.name),1)]),_:2},1032,["label"]))),128)):(Qo(!0),Jm(ob,{key:1},cx(Ze.dictList,Vt=>(Qo(),cs(ct,{key:Vt.id,label:Vt.name},{default:ab(()=>[DB(YO(Vt.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])):Ze.field.type==="select"?(Qo(),cs(_t,{key:9,modelValue:Ze.data,"onUpdate:modelValue":Ht[9]||(Ht[9]=Vt=>Ze.data=Vt),clearable:Ze.field.clearable,placeholder:Ze.field.placeholder,class:"w-full"},{default:ab(()=>[(Qo(!0),Jm(ob,null,cx(Ze.dictList,Vt=>(Qo(),cs(re,{key:Vt.id,value:Vt.name,label:Vt.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","clearable","placeholder"])):Ze.field.type==="multipleSelect"?(Qo(),cs(_t,{key:10,modelValue:Ze.data,"onUpdate:modelValue":Ht[10]||(Ht[10]=Vt=>Ze.data=Vt),clearable:Ze.field.clearable,placeholder:Ze.field.placeholder,multiple:"",class:"w-full"},{default:ab(()=>[(Qo(!0),Jm(ob,null,cx(Ze.dictList,Vt=>(Qo(),cs(re,{key:Vt.id,value:Vt.name,label:Vt.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","clearable","placeholder"])):Ze.field.type==="imageUpload"?(Qo(),cs(ar,{key:11,modelValue:Ze.data,"onUpdate:modelValue":Ht[11]||(Ht[11]=Vt=>Ze.data=Vt),height:Ze.field.imageHeight,width:Ze.field.imageWidth,mode:Ze.field.imageMode},null,8,["modelValue","height","width","mode"])):Ze.field.type==="videoUpload"?(Qo(),Jm(ob,{key:12},[_B(Nn,{modelValue:Ze.data,"onUpdate:modelValue":Ht[12]||(Ht[12]=Vt=>Ze.data=Vt),placeholder:Ze.field.placeholder,maxlength:"255"},null,8,["modelValue","placeholder"]),_B(qn,{type:"video","on-success":Vt=>Ze.data=Vt.url},null,8,["on-success"])],64)):Ze.field.type==="fileUpload"?(Qo(),Jm(ob,{key:13},[_B(Nn,{modelValue:Ze.data,"onUpdate:modelValue":Ht[13]||(Ht[13]=Vt=>Ze.data=Vt),placeholder:Ze.field.placeholder,maxlength:"255"},null,8,["modelValue","placeholder"]),_B(qn,{type:"file","on-success":Vt=>Ze.data=Vt.url},null,8,["on-success"])],64)):Ze.field.type==="tinyEditor"?(Qo(),cs(Qt,{key:14,modelValue:Ze.data,"onUpdate:modelValue":Ht[14]||(Ht[14]=Vt=>Ze.data=Vt),init:XO(XO({placeholder:Ze.field.placeholder},Ze.field.minHeight?{min_height:Ze.field.minHeight}:{}),Ze.field.maxHeight?{max_height:Ze.field.maxHeight}:{})},null,8,["modelValue","init"])):(Qo(),Jm("div",JV,YO(`Unsupported type: ${Ze.field.type}`),1))}var aU=_z(YV,[["render",ZV]]);export{aU as F,XV as T};
