System.register(["./index-legacy-Bt_diN8K.js","./stat-legacy-D3Rc-Ber.js"],(function(t,a){"use strict";var e,r,n,s,l,i,d,o,u,y,c,m,f,v,p,g,b,h;return{setters:[t=>{e=t.d,r=t.u,n=t.r,s=t.V,l=t.o,i=t.b,d=t.e,o=t.I,u=t.k,y=t.i,c=t.w,m=t.a9,f=t.aa,v=t.a1,p=t.l,g=t.t,b=t.U},t=>{h=t.q}],execute:function(){const a={class:"p-3 mt-3 app-block"};t("default",e({__name:"VisitTrend",setup(t){const{t:e}=r(),w=n("last30day"),O=t=>{switch(t){case"now":return b().subtract(2,"hour").format();case"today":return b().startOf("day").format();case"yesterday":return b().startOf("day").subtract(1,"day").format();case"last7day":return b().startOf("day").subtract(6,"day").format();case"last30day":return b().startOf("day").subtract(29,"day").format();case"lastYear":return b().startOf("day").subtract(1,"year").format();default:return}},x=t=>"now"===t?b().format():"yesterday"===t?b().endOf("day").subtract(1,"day").format():b().endOf("day").format(),k=s(),C=async t=>{const a=await h({begin:O(t),end:x(t)}),r={tooltip:{trigger:"axis"},legend:{data:[e("visit.pv"),e("visit.uv"),e("visit.ip")]},grid:{left:16,right:24,top:40,bottom:8,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:a.map((t=>t.dateString))},yAxis:{type:"value",minInterval:1},series:[{name:e("visit.pv"),type:"line",symbol:a.length>30?"none":"circle",data:a.map((t=>t.pvCount))},{name:e("visit.uv"),type:"line",symbol:a.length>30?"none":"circle",data:a.map((t=>t.uvCount))},{name:e("visit.ip"),type:"line",symbol:a.length>30?"none":"circle",data:a.map((t=>t.ipCount))}]},n=k.value;if(null==n)return;let s=v.getInstanceByDom(n);null==s&&(s=v.init(n)),s.setOption(r),window.addEventListener("resize",(function(){s&&s.resize()}))};return l((async()=>{C(w.value)})),(t,e)=>{const r=i("el-radio-button"),n=i("el-radio-group");return d(),o("div",null,[u("div",a,[u("div",null,[y(n,{modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=t=>w.value=t),onChange:e[1]||(e[1]=t=>C(t))},{default:c((()=>[(d(),o(m,null,f(["now","today","yesterday","last7day","last30day","lastYear","all"],(a=>y(r,{key:a,value:a},{default:c((()=>[p(g(t.$t(`visit.${a}`)),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])]),u("div",{ref_key:"trendChart",ref:k,class:"h-80"},null,512)])])}}}))}}}));
