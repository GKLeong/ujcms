!function(){var e=document.createElement("style");e.innerHTML=".el-tabs[data-v-640cf7c8] .el-tabs__header{float:right;margin-right:1px}.watermark-position[data-v-640cf7c8]{display:flex;height:9rem;width:9rem;flex-wrap:wrap;border-radius:.25rem;border-width:1px;border-style:dashed;--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.watermark-position[data-v-640cf7c8] .el-radio__label{padding-left:0}.watermark-position[data-v-640cf7c8] .el-radio{margin-right:0;display:flex;height:33.333333%;width:33.333333%;align-items:center;justify-content:center}\n",document.head.appendChild(e),System.register(["./vendor-legacy.27f41ac3.js","./tree-legacy.a39fb697.js","./config-legacy.2d1411fe.js","./user-legacy.13c2826b.js","./index-legacy.d4f0198e.js","./LabelTip-legacy.3dbdffd3.js","./ImageListUpload.vue_vue_type_style_index_0_scoped_true_lang-legacy.ed73c1af.js","./FieldItem-legacy.3527659e.js","./content-legacy.0664afc8.js"],(function(e){"use strict";var l,a,u,t,s,d,o,r,i,n,m,p,v,f,c,g,b,_,h,V,y,w,k,$,q,x,U,S,j,T,I,D,z,P,W,C,H;return{setters:[function(e){l=e.g,a=e.u,u=e.I,t=e.i,s=e.M,d=e.j,o=e.N,r=e.o,i=e.k,n=e.w,m=e.l,p=e.q,v=e.C,f=e.F,c=e.O,g=e.m,b=e.y,_=e.P,h=e.A,V=e.K,y=e.Q,w=e.ah,k=e.ai},function(e){$=e.t},function(e){q=e.t,x=e.q,U=e.w,S=e.x,j=e.y,T=e.z},function(e){I=e.q},function(e){D=e._,z=e.o,P=e.p},function(e){W=e._},function(e){C=e.a},function(e){H=e._},function(){}],execute:function(){const K={class:"watermark-position"},N=(e=>(w("data-v-640cf7c8"),e=e(),k(),e))((()=>b("span",null,null,-1)));e("default",D(l({name:"SiteSettings",emits:{"update:modelValue":null,finished:null},setup(e){const{t:l}=a(),w=u(),k=u(),D=u({}),F=u(!1),M=u(!1),E=u([]),L=u([]),B=u([]),O=u(),A=t((()=>B.value.find((e=>e.id===O.value)))),J=t((()=>{var e;return JSON.parse((null===(e=A.value)||void 0===e?void 0:e.customs)||"[]")})),Q=[];z("siteSettings:base:update")&&Q.push("base"),z("siteSettings:watermark:update")&&Q.push("watermark"),z("siteSettings:customs:update")&&Q.push("customs");const G=u(Q[0]),R=e=>{D.value="watermark"===e?k.value.watermark:"customs"===e?k.value.customs:k.value},X=async()=>{L.value=await q()},Y=async()=>{E.value=$(await I())},Z=async()=>{B.value=await x({type:"site"})},ee=async()=>{k.value=await U(),O.value=k.value.modelId,R(G.value)};s((async()=>{F.value=!0;try{await Promise.all([X(),Y(),Z(),ee()])}finally{F.value=!1}}));const le=()=>{w.value.validate((async e=>{if(e){M.value=!0;try{"watermark"===G.value?await S(D.value):"customs"===G.value?await j(D.value):await T(D.value),y.success(l("success"))}finally{M.value=!1}(async()=>{F.value=!0;try{await ee()}finally{F.value=!1}})()}}))};return(e,l)=>{const a=d("el-tab-pane"),u=d("el-tabs"),t=d("el-aside"),s=d("el-switch"),y=d("el-form-item"),k=d("el-col"),$=d("el-radio"),q=d("el-radio-group"),x=d("el-slider"),U=d("el-input"),S=d("el-row"),j=d("el-option"),T=d("el-select"),I=d("el-input-number"),z=d("el-button"),E=d("el-form"),O=d("el-main"),A=d("el-container"),X=o("loading");return r(),i(A,null,{default:n((()=>[m(t,{width:"180px",class:"pr-3"},{default:n((()=>[m(u,{modelValue:G.value,"onUpdate:modelValue":l[0]||(l[0]=e=>G.value=e),onTabClick:l[1]||(l[1]=({paneName:e})=>R(e)),"tab-position":"left",stretch:"",class:"bg-white"},{default:n((()=>[(r(),p(f,null,v(Q,(l=>m(a,{key:l,name:l,label:e.$t(`site.settings.${l}`)},null,8,["name","label"]))),64))])),_:1},8,["modelValue"])])),_:1}),m(O,{class:"p-3 app-block"},{default:n((()=>[c((r(),i(E,{ref_key:"form",ref:w,model:D.value,"label-width":"150px"},{default:n((()=>["watermark"===G.value?(r(),i(S,{key:0},{default:n((()=>[m(k,{span:24},{default:n((()=>[m(y,{prop:"enabled",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.watermark.enabled",help:""})])),default:n((()=>[m(s,{modelValue:D.value.enabled,"onUpdate:modelValue":l[2]||(l[2]=e=>D.value.enabled=e)},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"overlay",label:e.$t("site.watermark.overlay"),rules:D.value.enabled?{required:!0,message:()=>e.$t("v.required")}:{}},{default:n((()=>[m(g(C),{modelValue:D.value.overlay,"onUpdate:modelValue":l[3]||(l[3]=e=>D.value.overlay=e)},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"position",label:e.$t("site.watermark.position"),rules:{required:!0,message:()=>e.$t("v.required")}},{default:n((()=>[m(q,{modelValue:D.value.position,"onUpdate:modelValue":l[4]||(l[4]=e=>D.value.position=e)},{default:n((()=>[b("div",K,[(r(),p(f,null,v(9,(l=>m($,{key:l,label:l,title:e.$t(`site.watermark.position.${l}`)},{default:n((()=>[N])),_:2},1032,["label","title"]))),64))])])),_:1},8,["modelValue"])])),_:1},8,["label","rules"])])),_:1}),m(k,{span:24},{default:n((()=>[m(y,{prop:"dissolve",label:e.$t("site.watermark.dissolve"),rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.watermark.dissolve",help:""})])),default:n((()=>[m(x,{modelValue:D.value.dissolve,"onUpdate:modelValue":l[5]||(l[5]=e=>D.value.dissolve=e),min:0,max:100,"show-input":""},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"minWidth",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.watermark.minWidth",help:""})])),default:n((()=>[m(U,{modelValue:D.value.minWidth,"onUpdate:modelValue":l[6]||(l[6]=e=>D.value.minWidth=e),modelModifiers:{number:!0},min:1,max:65535},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"minHeight",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.watermark.minHeight",help:""})])),default:n((()=>[m(U,{modelValue:D.value.minHeight,"onUpdate:modelValue":l[7]||(l[7]=e=>D.value.minHeight=e),modelModifiers:{number:!0},min:1,max:65535},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1})):"customs"===G.value?(r(),i(S,{key:1},{default:n((()=>[(r(!0),p(f,null,v(g(J),(l=>(r(),i(k,{key:l.code,span:l.double?12:24},{default:n((()=>[m(y,{prop:l.code,label:l.name,rules:l.required?{required:!0,message:()=>e.$t("v.required")}:void 0},{default:n((()=>[m(H,{field:l,modelValue:D.value[l.code],"onUpdate:modelValue":e=>D.value[l.code]=e},null,8,["field","modelValue","onUpdate:modelValue"])])),_:2},1032,["prop","label","rules"])])),_:2},1032,["span"])))),128))])),_:1})):(r(),i(S,{key:2},{default:n((()=>[m(k,{span:12},{default:n((()=>[m(y,{prop:"name",label:e.$t("site.name"),rules:{required:!0,message:()=>e.$t("v.required")}},{default:n((()=>[m(U,{modelValue:D.value.name,"onUpdate:modelValue":l[8]||(l[8]=e=>D.value.name=e),ref:"focus",maxlength:"50"},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"protocol",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.protocol",help:""})])),default:n((()=>[m(T,{modelValue:D.value.protocol,"onUpdate:modelValue":l[9]||(l[9]=e=>D.value.protocol=e),class:"w-full"},{default:n((()=>[(r(),p(f,null,v(["http","https"],(e=>m(j,{key:e,label:e,value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"domain",rules:[{required:!0,message:()=>e.$t("v.required")},{pattern:/^[a-z0-9-.]*$/,message:()=>e.$t("site.error.domainPattern")},{pattern:/^(?!(uploads|templates|WEB-INF|cp)$).*/i,message:()=>e.$t("site.error.excludesPattern")}]},{label:n((()=>[m(W,{message:"site.domain",help:""})])),default:n((()=>[m(U,{modelValue:D.value.domain,"onUpdate:modelValue":l[10]||(l[10]=e=>D.value.domain=e),maxlength:"50"},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"subDir",rules:[{pattern:/^[\w-]*$/,message:()=>e.$t("site.error.subDirPattern")},{pattern:/^(?!(uploads|templates|WEB-INF|cp)$).*/i,message:()=>e.$t("site.error.excludesPattern")}]},{label:n((()=>[m(W,{message:"site.subDir",help:""})])),default:n((()=>[m(U,{modelValue:D.value.subDir,"onUpdate:modelValue":l[11]||(l[11]=e=>D.value.subDir=e),maxlength:"50"},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"theme",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.theme",help:""})])),default:n((()=>[m(T,{modelValue:D.value.theme,"onUpdate:modelValue":l[12]||(l[12]=e=>D.value.theme=e),class:"w-full"},{default:n((()=>[(r(!0),p(f,null,v(L.value,(e=>(r(),i(j,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"mobileTheme",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.mobileTheme",help:""})])),default:n((()=>[m(T,{modelValue:D.value.mobileTheme,"onUpdate:modelValue":l[13]||(l[13]=e=>D.value.mobileTheme=e),class:"w-full"},{default:n((()=>[(r(!0),p(f,null,v(L.value,(e=>(r(),i(j,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"modelId",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.model",help:""})])),default:n((()=>[m(T,{modelValue:D.value.modelId,"onUpdate:modelValue":l[14]||(l[14]=e=>D.value.modelId=e),class:"w-full"},{default:n((()=>[(r(!0),p(f,null,v(B.value,(e=>(r(),i(j,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:24},{default:n((()=>[m(y,{prop:"logo"},{label:n((()=>[m(W,{message:"site.logo",help:""})])),default:n((()=>[m(g(C),{modelValue:D.value.logo,"onUpdate:modelValue":l[15]||(l[15]=e=>D.value.logo=e)},null,8,["modelValue"])])),_:1})])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"seoTitle"},{label:n((()=>[m(W,{message:"site.seoTitle",help:""})])),default:n((()=>[m(U,{modelValue:D.value.seoTitle,"onUpdate:modelValue":l[16]||(l[16]=e=>D.value.seoTitle=e),maxlength:"150"},null,8,["modelValue"])])),_:1})])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"seoKeywords"},{label:n((()=>[m(W,{message:"site.seoKeywords",help:""})])),default:n((()=>[m(U,{modelValue:D.value.seoKeywords,"onUpdate:modelValue":l[17]||(l[17]=e=>D.value.seoKeywords=e),maxlength:"150"},null,8,["modelValue"])])),_:1})])),_:1}),m(k,{span:24},{default:n((()=>[m(y,{prop:"seoDescription"},{label:n((()=>[m(W,{message:"site.seoDescription",help:""})])),default:n((()=>[m(U,{modelValue:D.value.seoDescription,"onUpdate:modelValue":l[18]||(l[18]=e=>D.value.seoDescription=e),type:"textarea",rows:3,maxlength:"1000"},null,8,["modelValue"])])),_:1})])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"pageSize",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.pageSize",help:""})])),default:n((()=>[m(I,{modelValue:D.value.pageSize,"onUpdate:modelValue":l[19]||(l[19]=e=>D.value.pageSize=e),min:1,max:200},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"status"},{label:n((()=>[m(W,{message:"site.status",help:""})])),default:n((()=>[m(q,{modelValue:D.value.status,"onUpdate:modelValue":l[20]||(l[20]=e=>D.value.status=e)},{default:n((()=>[(r(),p(f,null,v([0,1],(l=>m($,{key:l,label:l},{default:n((()=>[_(h(e.$t(`site.status.${l}`)),1)])),_:2},1032,["label"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})),b("div",null,[m(z,{disabled:g(P)(`siteSettings:${G.value}:update`),loading:M.value,onClick:V(le,["prevent"]),type:"primary","native-type":"submit"},{default:n((()=>[_(h(e.$t("submit")),1)])),_:1},8,["disabled","loading","onClick"])])])),_:1},8,["model"])),[[X,F.value]])])),_:1})])),_:1})}}}),[["__scopeId","data-v-640cf7c8"]]))}}}))}();
