System.register(["./index-legacy-b678d1bc.js","./config-legacy-77ee9975.js","./BaseUpload.vue_vue_type_style_index_0_scoped_2414138e_lang-legacy-17d63879.js"],(function(e,t){"use strict";var a,l,r,u,i,n,c,s,o,d,p,f,y,v,g,m,b,_,B,S,A,h,w,I,x,L,j;return{setters:[e=>{a=e.d,l=e.p,r=e.u,u=e.r,i=e.a1,n=e.a3,c=e.a,s=e.c,o=e.I,d=e.h,p=e.w,f=e.b1,y=e.i,v=e.a8,g=e.a9,m=e.e,b=e.g,_=e.E,B=e.ab,S=e.j,A=e.t,h=e._},e=>{w=e.f,I=e.N,x=e.O,L=e.M,j=e.i},null],execute:function(){const t=a({__name:"BaseUpload",props:{type:{type:String,default:"file",validator:e=>["image","video","audio","library","doc","file","any"].includes(e)},button:{type:String,default:null},data:{type:Object,default:null},uploadAction:{type:String,default:null},fileAccept:{type:String,default:null},fileMaxSize:{type:Number,default:null},multiple:{type:Boolean},disabled:{type:Boolean,default:!1},onSuccess:{type:Function,default:null}},setup(e){const t=e,{type:a,uploadAction:h,fileAccept:z,fileMaxSize:M}=l(t),{t:O}=r(),$=u({}),E=i((()=>{if(null!=h?.value)return h.value;switch(a.value){case"image":return j;case"video":return L;case"audio":return x;case"library":case"doc":return I;case"file":return w;default:throw new Error(`Type not support: ${a.value}`)}})),N=i((()=>{if(null!=z?.value)return z.value;switch(a.value){case"image":return n.imageInputAccept;case"video":return n.videoInputAccept;case"audio":return n.audioInputAccept;case"library":return n.libraryInputAccept;case"doc":return n.docInputAccept;case"file":return n.fileInputAccept;case"any":return;default:throw new Error(`Type not support: ${a.value}`)}})),T=i((()=>{if(null!=M?.value)return M.value;switch(a.value){case"image":return n.imageLimitByte;case"video":return n.videoLimitByte;case"audio":return n.audioLimitByte;case"library":return n.libraryLimitByte;case"doc":return n.docLimitByte;case"file":return n.fileLimitByte;default:return 0}})),U=e=>!(T.value>0&&e.size>T.value&&(_.error(O("error.fileMaxSize",{size:T.value/1024/1024+" MB"})),1)),k=e=>{B(JSON.parse(e.message))};return(t,a)=>{const l=c("el-upload"),r=c("el-progress");return s(),o("div",null,[d(l,{action:E.value,headers:{...y(v)(),...y(g)()},data:e.data,accept:N.value,"before-upload":U,"on-success":e.onSuccess,"on-progress":(e,t)=>$.value=t,"on-error":k,"show-file-list":!1,disabled:e.disabled,multiple:e.multiple,drag:""},{default:p((()=>[f(t.$slots,"default",{},(()=>[S("span",null,A(e.button??t.$t("clickOrDragToUpload")),1)]),!0)])),_:3},8,["action","headers","data","accept","on-success","on-progress","disabled","multiple"]),"uploading"===$.value.status?(s(),m(r,{key:0,percentage:parseInt($.value.percentage,10)},null,8,["percentage"])):b("",!0)])}}});e("B",h(t,[["__scopeId","data-v-2414138e"]]))}}}));
