System.register(["./index-legacy-CiIiERxr.js","./duration-legacy-CV4OrXAB.js","./stat-legacy-Bfq0p86z.js","./content-legacy-CaWWoJUd.js","./interaction-legacy-DOmU-Z7T.js"],(function(t,e){"use strict";var a,l,s,n,i,u,r,d,o,c,v,p,f,y,x,m,g,w,b,h,_,k,$,C,j,Y,S,D,V,q,M,R,A,O,P,z;return{setters:[t=>{a=t.d,l=t.u,s=t.U,n=t.V,i=t.r,u=t.o,r=t.W,d=t.b,o=t.e,c=t.I,v=t.i,p=t.w,f=t.f,y=t.k,x=t.j,m=t.l,g=t.t,w=t.h,b=t.X,h=t.Y,_=t.Z,k=t.$,$=t.a0,C=t.a1,j=t.L,Y=t.a2,S=t.a3},t=>{D=t.d},t=>{V=t.q,q=t.a,M=t.b},t=>{R=t.q,A=t.a,O=t.b,P=t.c},t=>{z=t.q}],execute:function(){const e={class:"mb-3 shadow-md bg-warning-lighter"},L={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},T={class:"flex items-center"},H={class:"mb-3 shadow-md bg-warning-lighter"},B={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},I={class:"flex items-center"},F={class:"mb-3 shadow-md bg-warning-lighter"},W={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},E={class:"flex items-center"},G={class:"mb-3 shadow-md bg-warning-lighter"},U={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},X={class:"flex items-center"},Z={class:"mb-3 shadow-md bg-warning-lighter"},J={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},K={class:"flex items-center"},N={class:"p-3 app-block"},Q={class:"text-sm text-gray-secondary"},tt={class:"flex items-end justify-between mt-1"},et={class:"text-3xl text-primary"},at={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-primary"},lt={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},st={class:"p-3 app-block"},nt={class:"text-sm text-gray-secondary"},it={class:"flex items-end justify-between mt-1"},ut={class:"text-3xl text-primary"},rt={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-warning"},dt={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},ot={class:"p-3 app-block"},ct={class:"text-sm text-gray-secondary"},vt={class:"flex items-end justify-between mt-1"},pt={class:"text-3xl text-primary"},ft={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-success"},yt={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},xt={class:"p-3 app-block"},mt={class:"text-sm text-gray-secondary"},gt={class:"flex items-end justify-between mt-1"},wt={class:"text-3xl text-primary"},bt={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-danger"},ht={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},_t={class:"px-3 py-5 mt-3 app-block"},kt={class:"flex p-3 mt-3 justify-evenly app-block"},$t={class:"h-64 w-60 text-primary"},Ct={class:"mt-2 text-center"},jt={class:"flex items-center justify-center mt-2"},Yt={class:"text-3xl"},St={key:0},Dt={key:1},Vt={class:"mt-4 space-y-2 text-sm"},qt={key:0},Mt={key:1},Rt={key:0},At={key:1},Ot={key:0},Pt={key:1},zt={class:"h-64 w-60 text-gray-secondary"},Lt={class:"mt-2 text-center"},Tt={class:"flex items-center justify-center mt-2"},Ht={class:"text-3xl"},Bt={key:0},It={key:1},Ft={class:"mt-4 space-y-2 text-sm"},Wt={key:0},Et={key:1},Gt={key:0},Ut={key:1},Xt={key:0},Zt={key:1},Jt={class:"p-3 mt-3 app-block"};t("default",a({__name:"HomePage",setup(t){const{t:a,n:Kt}=l();s.extend(D);const Nt=n(),Qt=n(),te=i({}),ee=i({}),ae=i({}),le=i(0),se=i(0),ne=i(0),ie=i(0),ue=i(0);return u((async()=>{r("articleReview:list")&&((async()=>{_.epRank>=1&&(le.value=await R())})(),(async()=>{_.epRank>=1&&(se.value=await A())})()),r("formReview:list")&&((async()=>{_.epRank>=3&&(ie.value=await O())})(),(async()=>{_.epRank>=3&&(ue.value=await P())})()),r("messageBoard:list")&&(async()=>{ne.value=await z()})(),(async()=>{const t=await V({begin:s().startOf("day").subtract(1,"day").format(),end:s().endOf("day").format()}),e={tooltip:{trigger:"axis"},legend:{data:[a("visitTrend.yesterdayPv"),a("visitTrend.todayPv")]},grid:{left:16,right:16,top:40,bottom:0,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:Array.from(Array(24).keys())},yAxis:{type:"value",minInterval:1},series:[{name:a("visitTrend.yesterdayPv"),type:"line",symbol:"circle",color:"#a0cfff",data:t.filter((t=>s(t.date)<s().startOf("day"))).map((t=>t.pvCount))},{name:a("visitTrend.todayPv"),type:"line",symbol:"circle",color:"#409eff",areaStyle:{color:"#ecf5ff"},data:t.filter((t=>s(t.date)>=s().startOf("day"))).map((t=>t.pvCount))}]},l=Nt.value;if(null==l)return;let n=b.getInstanceByDom(l);null==n&&(n=b.init(l)),n.setOption(e),window.addEventListener("resize",(function(){n&&n.resize()}))})(),(async()=>{const t=await q({begin:s().subtract(30,"day").format("YYYY-MM-DD"),end:s().format("YYYY-MM-DD")}),e={title:{text:a("menu.stat.visitSource"),textStyle:{color:"#909399",fontWeight:"normal",fontSize:16}},legend:{type:"scroll",orient:"vertical",right:"10%",top:16,bottom:16},tooltip:{trigger:"item",valueFormatter:t=>Kt(t)},series:[{name:a("menu.stat.visitSource"),type:"pie",radius:["44%","80%"],center:["40%","54%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:4,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!1}},labelLine:{show:!1},data:t.map((t=>({value:t.pvCount,name:a(`visitSource.type.${t.name}`)})))}]},l=Qt.value;if(null==l)return;let n=b.getInstanceByDom(l);null==n&&(n=b.init(l)),n.setOption(e),window.addEventListener("resize",(function(){n&&n.resize()}))})(),(async()=>{const t=await M({begin:s().subtract(30,"day").format("YYYY-MM-DD"),end:s().format("YYYY-MM-DD")});te.value=t.newVisitor,ee.value=t.oldVisitor;const e=te.value.uvCount+ee.value.uvCount;e>0?(te.value.proportion=100*te.value.uvCount/e,ee.value.proportion=100*ee.value.uvCount/e):(te.value.proportion=50,ee.value.proportion=50)})(),(async()=>{ae.value=await h()})()})),(t,a)=>{const l=d("el-icon"),n=d("el-link"),i=d("el-col"),u=d("el-row");return o(),c("div",null,[v(u,{gutter:12},{default:p((()=>[le.value>0?(o(),f(i,{key:0,span:6},{default:p((()=>[y("div",e,[y("div",L,[y("div",T,[v(l,null,{default:p((()=>[v(x(k))])),_:1}),v(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[0]||(a[0]=()=>t.$router.push({path:"/content/article-review"}))},{default:p((()=>[m(g(t.$t("todo.pendingArticle")),1)])),_:1})]),y("div",null,[v(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[1]||(a[1]=()=>t.$router.push({path:"/content/article-review"}))},{default:p((()=>[m(g(le.value),1)])),_:1})])])])])),_:1})):w("",!0),se.value>0?(o(),f(i,{key:1,span:6},{default:p((()=>[y("div",H,[y("div",B,[y("div",I,[v(l,null,{default:p((()=>[v(x(k))])),_:1}),v(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[2]||(a[2]=()=>t.$router.push({path:"/content/article",query:{status:22}}))},{default:p((()=>[m(g(t.$t("todo.rejectedArticle")),1)])),_:1})]),y("div",null,[v(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[3]||(a[3]=()=>t.$router.push({path:"/content/article",query:{status:22}}))},{default:p((()=>[m(g(se.value),1)])),_:1})])])])])),_:1})):w("",!0),ie.value>0?(o(),f(i,{key:2,span:6},{default:p((()=>[y("div",F,[y("div",W,[y("div",E,[v(l,null,{default:p((()=>[v(x(k))])),_:1}),v(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[4]||(a[4]=()=>t.$router.push({path:"/content/form-review"}))},{default:p((()=>[m(g(t.$t("todo.pendingForm")),1)])),_:1})]),y("div",null,[v(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[5]||(a[5]=()=>t.$router.push({path:"/content/form-review"}))},{default:p((()=>[m(g(ie.value),1)])),_:1})])])])])),_:1})):w("",!0),ue.value>0?(o(),f(i,{key:3,span:6},{default:p((()=>[y("div",G,[y("div",U,[y("div",X,[v(l,null,{default:p((()=>[v(x(k))])),_:1}),v(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[6]||(a[6]=()=>t.$router.push({path:"/content/form",query:{status:22}}))},{default:p((()=>[m(g(t.$t("todo.rejectedForm")),1)])),_:1})]),y("div",null,[v(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[7]||(a[7]=()=>t.$router.push({path:"/content/form",query:{status:22}}))},{default:p((()=>[m(g(ue.value),1)])),_:1})])])])])),_:1})):w("",!0),ne.value>0?(o(),f(i,{key:4,span:6},{default:p((()=>[y("div",Z,[y("div",J,[y("div",K,[v(l,null,{default:p((()=>[v(x(k))])),_:1}),v(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[8]||(a[8]=()=>t.$router.push({path:"/interaction/message-board",query:{status:1}}))},{default:p((()=>[m(g(t.$t("todo.unreviewedMessageBoard")),1)])),_:1})]),y("div",null,[v(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[9]||(a[9]=()=>t.$router.push({path:"/interaction/message-board",query:{status:1}}))},{default:p((()=>[m(g(ne.value),1)])),_:1})])])])])),_:1})):w("",!0)])),_:1}),v(u,{gutter:12},{default:p((()=>[v(i,{span:6},{default:p((()=>[y("div",N,[y("div",Q,g(t.$t("contentStat.article")),1),y("div",tt,[y("div",et,g(ae.value.article?.total),1),y("div",at,[v(l,null,{default:p((()=>[v(x($))])),_:1})])]),y("div",lt,[y("div",null,g(t.$t("contentStat.last7day")),1),y("div",null,g(ae.value.article?.last7day),1)])])])),_:1}),v(i,{span:6},{default:p((()=>[y("div",st,[y("div",nt,g(t.$t("contentStat.channel")),1),y("div",it,[y("div",ut,g(ae.value.channel?.total),1),y("div",rt,[v(l,null,{default:p((()=>[v(x(C))])),_:1})])]),y("div",dt,[y("div",null,g(t.$t("contentStat.last7day")),1),y("div",null,g(ae.value.channel?.last7day),1)])])])),_:1}),v(i,{span:6},{default:p((()=>[y("div",ot,[y("div",ct,g(t.$t("contentStat.user")),1),y("div",vt,[y("div",pt,g(ae.value.user?.total),1),y("div",ft,[v(l,null,{default:p((()=>[v(x(j))])),_:1})])]),y("div",yt,[y("div",null,g(t.$t("contentStat.last7day")),1),y("div",null,g(ae.value.user?.last7day),1)])])])),_:1}),v(i,{span:6},{default:p((()=>[y("div",xt,[y("div",mt,g(t.$t("contentStat.attachment")),1),y("div",gt,[y("div",wt,g(ae.value.attachment?.total),1),y("div",bt,[v(l,null,{default:p((()=>[v(x(Y))])),_:1})])]),y("div",ht,[y("div",null,g(t.$t("contentStat.last7day")),1),y("div",null,g(ae.value.attachment?.last7day),1)])])])),_:1})])),_:1}),y("div",_t,[y("div",{ref_key:"trendChart",ref:Nt,class:"h-64"},null,512)]),v(u,{gutter:12},{default:p((()=>[v(i,{span:12},{default:p((()=>[y("div",kt,[y("div",$t,[y("div",Ct,g(t.$t("visitVisitor.newVisitor")),1),y("div",jt,[v(l,{class:"text-5xl"},{default:p((()=>[v(x(S))])),_:1}),y("span",Yt,[te.value.uvCount>0?(o(),c("span",St,g(t.$n(te.value.proportion??0,"decimal")),1)):(o(),c("span",Dt,"-")),m("% ")])]),y("div",Vt,[v(u,{gutter:24},{default:p((()=>[v(i,{span:12,class:"text-right"},{default:p((()=>[m(g(t.$t("visitVisitor.pv")),1)])),_:1}),v(i,{span:12},{default:p((()=>[m(g(te.value.pvCount),1)])),_:1})])),_:1}),v(u,{gutter:24},{default:p((()=>[v(i,{span:12,class:"text-right"},{default:p((()=>[m(g(t.$t("visitVisitor.uv")),1)])),_:1}),v(i,{span:12},{default:p((()=>[m(g(te.value.uvCount),1)])),_:1})])),_:1}),v(u,{gutter:24},{default:p((()=>[v(i,{span:12,class:"text-right"},{default:p((()=>[m(g(t.$t("visit.bounceRate")),1)])),_:1}),v(i,{span:12},{default:p((()=>[te.value.uvCount>0?(o(),c("span",qt,g(t.$n(100*te.value.bounceCount/te.value.uvCount,"decimal"))+"%",1)):(o(),c("span",Mt,"-"))])),_:1})])),_:1}),v(u,{gutter:24},{default:p((()=>[v(i,{span:12,class:"text-right"},{default:p((()=>[m(g(t.$t("visit.averageDuration")),1)])),_:1}),v(i,{span:12},{default:p((()=>[te.value.uvCount>0?(o(),c("span",Rt,g(x(s).duration(te.value.duration/te.value.uvCount,"seconds").format("HH:mm:ss")),1)):(o(),c("span",At,"-"))])),_:1})])),_:1}),v(u,{gutter:24},{default:p((()=>[v(i,{span:12,class:"text-right"},{default:p((()=>[m(g(t.$t("visit.averagePv")),1)])),_:1}),v(i,{span:12},{default:p((()=>[te.value.uvCount>0?(o(),c("span",Ot,g(t.$n(te.value.pvCount/te.value.uvCount,"decimal")),1)):(o(),c("span",Pt,"-"))])),_:1})])),_:1})])]),y("div",zt,[y("div",Lt,g(t.$t("visitVisitor.oldVisitor")),1),y("div",Tt,[v(l,{class:"text-5xl"},{default:p((()=>[v(x(S))])),_:1}),y("span",Ht,[ee.value.uvCount>0?(o(),c("span",Bt,g(t.$n(ee.value.proportion??0,"decimal")),1)):(o(),c("span",It,"-")),m("% ")])]),y("div",Ft,[v(u,{gutter:24},{default:p((()=>[v(i,{span:12,class:"text-right"},{default:p((()=>[m(g(t.$t("visitVisitor.pv")),1)])),_:1}),v(i,{span:12},{default:p((()=>[m(g(ee.value.pvCount),1)])),_:1})])),_:1}),v(u,{gutter:24},{default:p((()=>[v(i,{span:12,class:"text-right"},{default:p((()=>[m(g(t.$t("visitVisitor.uv")),1)])),_:1}),v(i,{span:12},{default:p((()=>[m(g(ee.value.uvCount),1)])),_:1})])),_:1}),v(u,{gutter:24},{default:p((()=>[v(i,{span:12,class:"text-right"},{default:p((()=>[m(g(t.$t("visit.bounceRate")),1)])),_:1}),v(i,{span:12},{default:p((()=>[ee.value.uvCount>0?(o(),c("span",Wt,g(t.$n(100*ee.value.bounceCount/ee.value.uvCount,"decimal"))+"%",1)):(o(),c("span",Et,"-"))])),_:1})])),_:1}),v(u,{gutter:24},{default:p((()=>[v(i,{span:12,class:"text-right"},{default:p((()=>[m(g(t.$t("visit.averageDuration")),1)])),_:1}),v(i,{span:12},{default:p((()=>[ee.value.uvCount>0?(o(),c("span",Gt,g(x(s).duration(ee.value.duration/ee.value.uvCount,"seconds").format("HH:mm:ss")),1)):(o(),c("span",Ut,"-"))])),_:1})])),_:1}),v(u,{gutter:24},{default:p((()=>[v(i,{span:12,class:"text-right"},{default:p((()=>[m(g(t.$t("visit.averagePv")),1)])),_:1}),v(i,{span:12},{default:p((()=>[ee.value.uvCount>0?(o(),c("span",Xt,g(t.$n(ee.value.pvCount/ee.value.uvCount,"decimal")),1)):(o(),c("span",Zt,"-"))])),_:1})])),_:1})])])])])),_:1}),v(i,{span:12},{default:p((()=>[y("div",Jt,[y("div",{ref_key:"sourceTypeChart",ref:Qt,class:"w-full h-64"},null,512)])])),_:1})])),_:1})])}}}))}}}));
