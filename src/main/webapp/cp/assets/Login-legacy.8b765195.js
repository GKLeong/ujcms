System.register(["./vendor-legacy.138a6237.js","./index-legacy.f1446c47.js"],(function(e){"use strict";var l,a,r,s,o,t,u,n,d,i,c,p,m,f,v,y,w,x,g,h,q,b,k;return{setters:[function(e){l=e.g,a=e.I,r=e.D,s=e.p,o=e.M,t=e.J,u=e.j,n=e.o,d=e.q,i=e.l,c=e.w,p=e.y,m=e.A,f=e.m,v=e.k,y=e.x,w=e.X,x=e.af,g=e.K,h=e.P},function(e){q=e.q,b=e.s,k=e.l}],execute:function(){const V={class:"h-full p-3 bg-gray-100"},_={class:"py-5 text-center text-3xl font-bold text-primary"};e("default",l({name:"Login",setup(e){const l=a(),$=a({}),j=a(),C=a(),U=a(!1),J=a(),M=r(),S=s();o((async()=>{j.value.focus(),j.value.select()})),t((()=>{J.value=M.query.redirect}));const A=()=>{l.value.validate((async e=>{if(e){U.value=!0;try{const e=await q(),l=b($.value.password,e),a=await k({...$.value,password:l});if(0!==a.status)return void(C.value=a.message);J.value?S.push(J.value):window.location.reload()}finally{U.value=!1}}}))};return(e,a)=>{const r=u("el-alert"),s=u("el-input"),o=u("el-form-item"),t=u("el-button"),q=u("el-form");return n(),d("div",V,[i(q,{ref_key:"form",ref:l,model:$.value,class:"mx-auto md:max-w-xs"},{default:c((()=>[p("h3",_,m(f("UJCMS")),1),C.value?(n(),v(r,{key:0,title:C.value,type:"error",class:"mb-3",closable:!1,"show-icon":""},null,8,["title"])):y("",!0),i(o,{prop:"username",rules:[{required:!0,message:()=>e.$t("v.required")}]},{default:c((()=>[i(s,{ref_key:"focus",ref:j,modelValue:$.value.username,"onUpdate:modelValue":a[0]||(a[0]=e=>$.value.username=e),name:"username",placeholder:e.$t("username"),"prefix-icon":f(w),autocomplete:"on"},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["rules"]),i(o,{prop:"password",rules:[{required:!0,message:()=>e.$t("v.required")}]},{default:c((()=>[i(s,{ref:"password",modelValue:$.value.password,"onUpdate:modelValue":a[1]||(a[1]=e=>$.value.password=e),type:"password",name:"password",placeholder:e.$t("password"),"prefix-icon":f(x),"show-password":""},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["rules"]),i(t,{type:"primary","native-type":"submit",class:"w-full",loading:U.value,onClick:g(A,["prevent"])},{default:c((()=>[h(m(e.$t("login")),1)])),_:1},8,["loading","onClick"])])),_:1},8,["model"])])}}}))}}}));
