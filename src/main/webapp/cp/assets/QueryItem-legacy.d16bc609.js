System.register(["./vendor-legacy.27f41ac3.js"],(function(e){"use strict";var l,t,a,n,u,o,d,r,i,s,p,c,m,v,y,f,b,g,V,h,k,_,x,I,S,$,w,U,C,q;return{setters:[function(e){l=e.r,t=e.ax,a=e.g,n=e.t,u=e.R,o=e.j,d=e.o,r=e.k,i=e.w,s=e.l,p=e.P,c=e.A,m=e.q,v=e.C,y=e.m,f=e.F,b=e.y,g=e.aF,V=e.u,h=e.i,k=e.aG,_=e.aH,x=e.I,I=e.aI,S=e.K,$=e.aJ,w=e.ao,U=e.aK,C=e.aL,q=e.aM}],execute:function(){const j="ujcms_column_settings",O=l({}),F=l(function(){const e=localStorage.getItem(j);return e?JSON.parse(e):{}}()),J=(e,l)=>{for(let t=0,a=e.length;t<a;)-1===l.findIndex((l=>l.title===e[t].title))?(e.splice(t,1),a-=1):t+=1;return l.forEach((l=>{-1===e.findIndex((e=>e.title===l.title))&&e.push({...l})})),e},Q=e=>(F[e]||(F[e]=[]),t(F,e)),A=(e("b",a({name:"ColumnSetting",props:{name:{type:String,required:!0}},setup(e){const l=e,{name:a}=n(l),V=Q(a.value),h=(e=>(O[e]||(O[e]=[]),t(O,e)))(a.value);u(V,(()=>{localStorage.setItem(j,JSON.stringify(F))}),{deep:!0});const k=()=>{V.value=J([],h.value)};return(e,l)=>{const t=o("el-icon"),a=o("el-tooltip"),n=o("el-button"),u=o("el-dropdown-item"),h=o("el-checkbox"),_=o("el-dropdown-menu"),x=o("el-dropdown");return d(),r(x,{class:"align-middle",trigger:"click","hide-on-click":!1},{dropdown:i((()=>[s(_,null,{default:i((()=>[s(u,null,{default:i((()=>[s(n,{type:"primary",onClick:k,link:""},{default:i((()=>[p(c(e.$t("table.columnsReset")),1)])),_:1})])),_:1}),(d(!0),m(f,null,v(y(V),((e,l)=>(d(),r(u,{key:e.title,divided:0===l},{default:i((()=>[s(h,{modelValue:e.display,"onUpdate:modelValue":l=>e.display=l},{default:i((()=>[p(c(e.title),1)])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["divided"])))),128))])),_:1})])),default:i((()=>[b("span",null,[s(a,{content:e.$t("table.columnsSetting"),placement:"top"},{default:i((()=>[s(t,{class:"text-base"},{default:i((()=>[s(y(g))])),_:1})])),_:1},8,["content"])])])),_:1})}}})),e("c",a({name:"ColumnList",props:{name:{type:String,required:!0}},setup(e,{slots:l}){var t,a;const{name:u}=n(e),{t:o}=V(),d=null!==(t=null===(a=l.default)||void 0===a?void 0:a.call(l))&&void 0!==t?t:[],r=e=>"selection"===(null==e?void 0:e.type)?o("table.selection"):null==e?void 0:e.label,i=d.map((e=>{var l;return{title:r(e.props),display:"none"!==(null===(l=e.props)||void 0===l?void 0:l.display)}}));((e,l)=>{O[e]=l,F[e]||(F[e]=[]);const t=F[e];J(t,l)})(u.value,i);const s=Q(u.value);return{columns:h((()=>d.filter((e=>{const l=s.value.find((l=>r(e.props)===l.title));return!l||l.display})).map((e=>({...e,key:r(e.props)}))).sort(((e,l)=>{let t=s.value.findIndex((l=>l.title===r(e)));t<0&&(t=d.findIndex((l=>r(l)===r(e))));let a=s.value.findIndex((e=>e.title===r(l)));return a<0&&(a=d.findIndex((e=>r(e)===r(l)))),t-a}))))}},render(){return this.columns}})),a({name:"QueryInput",props:{inputs:{type:Array,required:!0},name:{type:String,required:!0}},setup(e){const{inputs:l,name:t}=n(e);return()=>l.value.find((e=>e.props.name===t.value))}})),E={class:"flex"},K={class:"space-y-1"},L=(e("a",a({name:"QueryForm",props:{params:{type:Object,required:!0}},emits:{search:null,reset:null},setup(e){const l=e,{params:t}=n(l),a=k();_("params",t);const u=x([]),g=h((()=>{var e,l;return null!==(e=null===(l=a.default)||void 0===l?void 0:l.call(a))&&void 0!==e?e:[]}));u.value=g.value.map((e=>{var l,t;return{label:null===(l=e.props)||void 0===l?void 0:l.label,name:null===(t=e.props)||void 0===t?void 0:t.name}}));const[V]=u.value,C=x([V.name]),q=h((()=>u.value.filter((e=>!C.value.includes(e.name))))),j=()=>{Object.keys(t.value).forEach((e=>{C.value.includes(e)||-1!==C.value.findIndex((l=>l.split(",").includes(e)))||delete t.value[e]}))};return(e,l)=>{const t=o("el-button"),a=o("el-option"),n=o("el-select"),V=o("el-button-group");return d(),m("form",E,[b("div",K,[(d(!0),m(f,null,v(C.value,((e,o)=>(d(),m("div",{key:e,class:"flex"},[s(t,{icon:y(0==o?w:U),onClick:e=>(e=>{if(0===e){const[e]=q.value;C.value[C.value.length]=e.name}else C.value.splice(e,1),j()})(o),disabled:o<=0&&y(q).length<=0,circle:""},null,8,["icon","onClick","disabled"]),s(n,{modelValue:C.value[o],"onUpdate:modelValue":e=>C.value[o]=e,onChange:l[0]||(l[0]=e=>j()),class:"w-36"},{default:i((()=>[(d(!0),m(f,null,v(u.value.filter((e=>e.name===C.value[o]||y(q).includes(e))),(e=>(d(),r(a,{key:e.name,label:e.label,value:e.name},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),s(A,{inputs:y(g),name:C.value[o]},null,8,["inputs","name"])])))),128))]),b("div",null,[s(V,{class:"ml-2"},{default:i((()=>[s(t,{"native-type":"submit",icon:y(I),onClick:l[1]||(l[1]=S((l=>e.$emit("search")),["prevent"]))},{default:i((()=>[p(c(e.$t("search")),1)])),_:1},8,["icon"]),s(t,{icon:y($),onClick:l[2]||(l[2]=l=>e.$emit("reset"))},{default:i((()=>[p(c(e.$t("reset")),1)])),_:1},8,["icon"])])),_:1})])])}}})),{key:0,class:"inline-block"});e("_",a({name:"QueryItem",props:{label:{type:String,required:!0},name:{type:String,required:!0},type:{type:String},options:{type:Object}},setup(e){const l=e,t=C("params"),{name:a}=n(l),[u,p]=a.value.split(","),c=x(u),b=x(p);return(l,n)=>{const u=o("el-input-number"),p=o("el-date-picker"),g=o("el-option"),V=o("el-select"),h=o("el-input");return q(l.$slots,"default",{},(()=>["number"===e.type?(d(),m("div",L,[s(u,{modelValue:y(t)[c.value],"onUpdate:modelValue":n[0]||(n[0]=e=>y(t)[c.value]=e),placeholder:l.$t("begin.number"),class:"w-48"},null,8,["modelValue","placeholder"]),s(u,{modelValue:y(t)[b.value],"onUpdate:modelValue":n[1]||(n[1]=e=>y(t)[b.value]=e),placeholder:l.$t("end.number"),class:"w-48"},null,8,["modelValue","placeholder"])])):"date"===e.type?(d(),r(p,{key:1,modelValue:y(t)[y(a)],"onUpdate:modelValue":n[2]||(n[2]=e=>y(t)[y(a)]=e),type:"daterange","start-placeholder":l.$t("begin.date"),"end-placeholder":l.$t("end.date"),class:"w-96"},null,8,["modelValue","start-placeholder","end-placeholder"])):"datetime"===e.type?(d(),r(p,{key:2,modelValue:y(t)[y(a)],"onUpdate:modelValue":n[3]||(n[3]=e=>y(t)[y(a)]=e),type:"datetimerange","start-placeholder":l.$t("begin.date"),"end-placeholder":l.$t("end.date"),class:"w-96"},null,8,["modelValue","start-placeholder","end-placeholder"])):e.options?(d(),r(V,{key:3,modelValue:y(t)[y(a)],"onUpdate:modelValue":n[4]||(n[4]=e=>y(t)[y(a)]=e),multiple:"",class:"w-96"},{default:i((()=>[(d(!0),m(f,null,v(e.options,(e=>(d(),r(g,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):(d(),r(h,{key:4,modelValue:y(t)[y(a)],"onUpdate:modelValue":n[5]||(n[5]=e=>y(t)[y(a)]=e),class:"w-96"},null,8,["modelValue"]))]))}}}))}}}));
