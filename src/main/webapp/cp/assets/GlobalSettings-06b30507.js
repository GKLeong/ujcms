import{d as ge,u as fe,r as $,X as ve,cy as w,V as v,o as Ve,a as f,b as ye,c as i,e as V,w as l,h as e,I as y,a8 as S,a7 as q,f as Q,i as g,j as be,g as M,k as _,t as T,as as W,l as qe,P as Y,E as B,cz as Ue,_ as we}from"./index-6c60ffba.js";import{t as xe}from"./tree-7e647485.js";import{h as $e}from"./system-4c24cbad.js";import{l as Me,m as ke,n as Le,o as Se,p as _e,r as Te,s as Ce,t as Ie,w as Ae,x as De,y as he,z as Ke,A as Re,B as Ee,C as Pe,D as ze,E as He,F as We,G as Be}from"./config-d89d22f7.js";import{_ as r}from"./LabelTip.vue_vue_type_script_setup_true_lang-b8070de6.js";import{_ as Fe}from"./FieldItem.vue_vue_type_script_setup_true_lang-caaba857.js";import"./content-6884eca6.js";import"./BaseUpload.vue_vue_type_style_index_0_scoped_5165bd65_lang-d72bc660.js";import"./BaseUpload-3ff5bbd7.js";const je=["innerHTML"],Ne={key:9},Ge={name:"GlobalSettings"},Je=ge({...Ge,setup(Oe){const{t:h}=fe(),K=$(),L=$({}),a=$({}),C=$(!1),k=$(!1),F=$([]),j=$(),Z=ve(()=>{var t;return JSON.parse(((t=j.value)==null?void 0:t.customs)||"[]")}),b=[];w("config:base:update")&&b.push("base"),w("config:upload:update")&&b.push("upload"),w("config:register:update")&&b.push("register"),w("config:security:update")&&(v.epRank>=1||v.epDisplay)&&b.push("security"),w("config:sms:update")&&b.push("sms"),w("config:email:update")&&b.push("email"),w("config:uploadStorage:update")&&b.push("uploadStorage"),w("config:htmlStorage:update")&&b.push("htmlStorage"),w("config:templateStorage:update")&&b.push("templateStorage"),w("config:customs:update")&&b.push("customs");const p=$(b[0]),N=async t=>{t==="upload"?a.value=L.value.upload:t==="register"?a.value=L.value.register:t==="security"?a.value=L.value.security:t==="customs"?a.value=L.value.customs:t==="sms"?a.value=await Le():t==="email"?a.value=await Se():t==="uploadStorage"?a.value=await _e():t==="htmlStorage"?a.value=await Te():t==="templateStorage"?a.value=await Ce():a.value=L.value},c=async()=>{j.value=await Me()},G=async()=>{L.value=await ke(),N(p.value)},ee=async()=>{F.value=xe(await $e())};Ve(async()=>{C.value=!0;try{await Promise.all([G(),c(),ee()])}finally{C.value=!1}});const E=async()=>{C.value=!0;try{await G()}finally{C.value=!1}},le=()=>{K.value.validate(async t=>{if(t){k.value=!0;try{p.value==="upload"?await De(a.value):p.value==="register"?await he(a.value):p.value==="security"?await Ke(a.value):p.value==="customs"?await Re(a.value):p.value==="sms"?await Ee(a.value):p.value==="email"?await Pe(a.value):p.value==="uploadStorage"?await ze(a.value):p.value==="htmlStorage"?await He(a.value):p.value==="templateStorage"?await We(a.value):await Be(a.value),Ue(),B.success(h("success"))}finally{k.value=!1}E()}})},ae=()=>{K.value.validate(async t=>{if(t){k.value=!0;try{const{status:s,message:I}=await Ie(a.value);s===-1?Y.alert(I):B.success(h("success"))}finally{k.value=!1}E()}})},ue=()=>{K.value.validate(async t=>{if(t){k.value=!0;try{const{status:s,message:I}=await Ae(a.value);s===-1?Y.alert(I):B.success(h("success"))}finally{k.value=!1}E()}})};return(t,s)=>{const I=f("el-tab-pane"),se=f("el-tabs"),te=f("el-aside"),n=f("el-input"),o=f("el-form-item"),d=f("el-col"),m=f("el-input-number"),x=f("el-row"),R=f("el-switch"),P=f("el-option"),z=f("el-select"),oe=f("el-alert"),A=f("el-divider"),de=f("el-radio-button"),re=f("el-radio-group"),ne=f("el-tree-select"),H=f("el-button"),me=f("el-form"),ie=f("el-main"),pe=f("el-container"),J=ye("loading");return i(),V(pe,null,{default:l(()=>[e(te,{width:"180px",class:"pr-3"},{default:l(()=>[e(se,{modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=U=>p.value=U),onTabClick:s[1]||(s[1]=({paneName:U})=>N(U)),"tab-position":"left",stretch:"",class:"bg-white"},{default:l(()=>[(i(),y(q,null,S(b,U=>e(I,{key:U,name:U,label:t.$t(`config.settings.${U}`)},null,8,["name","label"])),64))]),_:1},8,["modelValue"])]),_:1}),e(ie,{class:"p-3 app-block"},{default:l(()=>[Q((i(),V(me,{ref_key:"form",ref:K,model:a.value,"label-width":"160px"},{default:l(()=>{var U,O;return[p.value==="upload"?(i(),V(x,{key:0},{default:l(()=>[e(d,{span:12},{default:l(()=>[e(o,{prop:"imageTypes",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.imageTypes",help:""})]),default:l(()=>[e(n,{modelValue:a.value.imageTypes,"onUpdate:modelValue":s[2]||(s[2]=u=>a.value.imageTypes=u),maxlength:"255"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"imageLimit",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.imageLimit",help:""})]),default:l(()=>[e(m,{modelValue:a.value.imageLimit,"onUpdate:modelValue":s[3]||(s[3]=u=>a.value.imageLimit=u),min:0,max:65535},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"videoTypes",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.videoTypes",help:""})]),default:l(()=>[e(n,{modelValue:a.value.videoTypes,"onUpdate:modelValue":s[4]||(s[4]=u=>a.value.videoTypes=u),maxlength:"255"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"videoLimit",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.videoLimit",help:""})]),default:l(()=>[e(m,{modelValue:a.value.videoLimit,"onUpdate:modelValue":s[5]||(s[5]=u=>a.value.videoLimit=u),min:0,max:65535},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"audioTypes",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.audioTypes",help:""})]),default:l(()=>[e(n,{modelValue:a.value.audioTypes,"onUpdate:modelValue":s[6]||(s[6]=u=>a.value.audioTypes=u),maxlength:"255"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"audioLimit",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.audioLimit",help:""})]),default:l(()=>[e(m,{modelValue:a.value.audioLimit,"onUpdate:modelValue":s[7]||(s[7]=u=>a.value.audioLimit=u),min:0,max:65535},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"libraryTypes",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.libraryTypes",help:""})]),default:l(()=>[e(n,{modelValue:a.value.libraryTypes,"onUpdate:modelValue":s[8]||(s[8]=u=>a.value.libraryTypes=u),maxlength:"255"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"libraryLimit",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.libraryLimit",help:""})]),default:l(()=>[e(m,{modelValue:a.value.libraryLimit,"onUpdate:modelValue":s[9]||(s[9]=u=>a.value.libraryLimit=u),min:0,max:65535},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"docTypes",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.docTypes",help:""})]),default:l(()=>[e(n,{modelValue:a.value.docTypes,"onUpdate:modelValue":s[10]||(s[10]=u=>a.value.docTypes=u),maxlength:"255"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"docLimit",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.docLimit",help:""})]),default:l(()=>[e(m,{modelValue:a.value.docLimit,"onUpdate:modelValue":s[11]||(s[11]=u=>a.value.docLimit=u),min:0,max:65535},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"fileTypes",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.fileTypes",help:""})]),default:l(()=>[e(n,{modelValue:a.value.fileTypes,"onUpdate:modelValue":s[12]||(s[12]=u=>a.value.fileTypes=u),maxlength:"255"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"fileLimit",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.fileLimit",help:""})]),default:l(()=>[e(m,{modelValue:a.value.fileLimit,"onUpdate:modelValue":s[13]||(s[13]=u=>a.value.fileLimit=u),min:0,max:65535},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"imageMaxWidth",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.imageMaxWidth",help:""})]),default:l(()=>[e(m,{modelValue:a.value.imageMaxWidth,"onUpdate:modelValue":s[14]||(s[14]=u=>a.value.imageMaxWidth=u),min:0,max:65535},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"imageMaxHeight",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.upload.imageMaxHeight",help:""})]),default:l(()=>[e(m,{modelValue:a.value.imageMaxHeight,"onUpdate:modelValue":s[15]||(s[15]=u=>a.value.imageMaxHeight=u),min:0,max:65535},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})):p.value==="register"?(i(),V(x,{key:1},{default:l(()=>[e(d,{span:12},{default:l(()=>[e(o,{prop:"enabled",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.register.enabled"})]),default:l(()=>[e(R,{modelValue:a.value.enabled,"onUpdate:modelValue":s[16]||(s[16]=u=>a.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"verifyMode",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.register.verifyMode"})]),default:l(()=>[e(z,{modelValue:a.value.verifyMode,"onUpdate:modelValue":s[17]||(s[17]=u=>a.value.verifyMode=u)},{default:l(()=>[(i(),y(q,null,S([1,2,3,4],u=>e(P,{key:u,label:g(h)(`config.register.verifyMode.${u}`),value:u},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"usernameMinLength",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.register.usernameMinLength"})]),default:l(()=>[e(m,{modelValue:a.value.usernameMinLength,"onUpdate:modelValue":s[18]||(s[18]=u=>a.value.usernameMinLength=u),min:1,max:12},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"usernameMaxLength",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.register.usernameMaxLength"})]),default:l(()=>[e(m,{modelValue:a.value.usernameMaxLength,"onUpdate:modelValue":s[19]||(s[19]=u=>a.value.usernameMaxLength=u),min:1,max:30},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:24},{default:l(()=>[e(o,{prop:"usernameRegex",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.register.usernameRegex",help:""})]),default:l(()=>[e(n,{modelValue:a.value.usernameRegex,"onUpdate:modelValue":s[20]||(s[20]=u=>a.value.usernameRegex=u),maxlength:"100"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"smallAvatarSize",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.register.smallAvatarSize"})]),default:l(()=>[e(m,{modelValue:a.value.smallAvatarSize,"onUpdate:modelValue":s[21]||(s[21]=u=>a.value.smallAvatarSize=u),min:1,max:9999},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"mediumAvatarSize",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.register.mediumAvatarSize"})]),default:l(()=>[e(m,{modelValue:a.value.mediumAvatarSize,"onUpdate:modelValue":s[22]||(s[22]=u=>a.value.mediumAvatarSize=u),min:1,max:9999},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"largeAvatarSize",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.register.largeAvatarSize"})]),default:l(()=>[e(m,{modelValue:a.value.largeAvatarSize,"onUpdate:modelValue":s[23]||(s[23]=u=>a.value.largeAvatarSize=u),min:1,max:9999},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:24},{default:l(()=>[e(o,{prop:"avatar",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.register.avatar"})]),default:l(()=>[e(n,{modelValue:a.value.avatar,"onUpdate:modelValue":s[24]||(s[24]=u=>a.value.avatar=u),maxlength:"255"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})):p.value==="security"&&g(v).epRank<1?(i(),V(oe,{key:2,type:"warning",closable:!1,"show-icon":!0},{title:l(()=>[be("span",{innerHTML:t.$t("error.enterprise")},null,8,je)]),_:1})):p.value==="security"&&g(v).epRank>=1?(i(),V(x,{key:3},{default:l(()=>[e(d,{span:24},{default:l(()=>[e(o,{prop:"passwordStrength"},{label:l(()=>[e(r,{message:"config.security.passwordStrength"})]),default:l(()=>[e(z,{modelValue:a.value.passwordStrength,"onUpdate:modelValue":s[25]||(s[25]=u=>a.value.passwordStrength=u),class:"w-full"},{default:l(()=>[(i(),y(q,null,S([0,1,2,3,4],u=>e(P,{key:u,value:u,label:t.$t(`config.security.passwordStrength.${u}`)},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"passwordMinLength"},{label:l(()=>[e(r,{message:"config.security.passwordMinLength",help:""})]),default:l(()=>[e(m,{modelValue:a.value.passwordMinLength,"onUpdate:modelValue":s[26]||(s[26]=u=>a.value.passwordMinLength=u),min:0,max:16},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"passwordMaxLength"},{label:l(()=>[e(r,{message:"config.security.passwordMaxLength",help:""})]),default:l(()=>[e(m,{modelValue:a.value.passwordMaxLength,"onUpdate:modelValue":s[27]||(s[27]=u=>a.value.passwordMaxLength=u),min:16,max:64},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"userMaxAttempts"},{label:l(()=>[e(r,{message:"config.security.userMaxAttempts",help:""})]),default:l(()=>[e(m,{modelValue:a.value.userMaxAttempts,"onUpdate:modelValue":s[28]||(s[28]=u=>a.value.userMaxAttempts=u),min:0,max:100},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"userLockMinutes"},{label:l(()=>[e(r,{message:"config.security.userLockMinutes",help:""})]),default:l(()=>[e(m,{modelValue:a.value.userLockMinutes,"onUpdate:modelValue":s[29]||(s[29]=u=>a.value.userLockMinutes=u),min:1,max:1440},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"ipCaptchaAttempts"},{label:l(()=>[e(r,{message:"config.security.ipCaptchaAttempts",help:""})]),default:l(()=>[e(m,{modelValue:a.value.ipCaptchaAttempts,"onUpdate:modelValue":s[30]||(s[30]=u=>a.value.ipCaptchaAttempts=u),min:0,max:100},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"ipMaxAttempts"},{label:l(()=>[e(r,{message:"config.security.ipMaxAttempts",help:""})]),default:l(()=>[e(m,{modelValue:a.value.ipMaxAttempts,"onUpdate:modelValue":s[31]||(s[31]=u=>a.value.ipMaxAttempts=u),min:0,max:999},null,8,["modelValue"])]),_:1})]),_:1}),g(v).epRank>=2||g(v).epDisplay?(i(),y(q,{key:0},[e(A,{"content-position":"left"}),e(d,{span:12},{default:l(()=>[e(o,{prop:"passwordMinDays"},{label:l(()=>[e(r,{message:"config.security.passwordMinDays",help:""})]),default:l(()=>[e(m,{modelValue:a.value.passwordMinDays,"onUpdate:modelValue":s[32]||(s[32]=u=>a.value.passwordMinDays=u),min:0,max:998},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"passwordMaxDays"},{label:l(()=>[e(r,{message:"config.security.passwordMaxDays",help:""})]),default:l(()=>[e(m,{modelValue:a.value.passwordMaxDays,"onUpdate:modelValue":s[33]||(s[33]=u=>a.value.passwordMaxDays=u),min:0,max:999},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"passwordWarnDays"},{label:l(()=>[e(r,{message:"config.security.passwordWarnDays",help:""})]),default:l(()=>[e(m,{modelValue:a.value.passwordWarnDays,"onUpdate:modelValue":s[34]||(s[34]=u=>a.value.passwordWarnDays=u),min:0,max:90},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"passwordMaxHistory"},{label:l(()=>[e(r,{message:"config.security.passwordMaxHistory",help:""})]),default:l(()=>[e(m,{modelValue:a.value.passwordMaxHistory,"onUpdate:modelValue":s[35]||(s[35]=u=>a.value.passwordMaxHistory=u),min:0,max:24},null,8,["modelValue"])]),_:1})]),_:1})],64)):M("",!0),g(v).epRank>=3||g(v).epDisplay?(i(),y(q,{key:1},[e(A,{"content-position":"left"}),e(d,{span:12},{default:l(()=>[e(o,{prop:"twoFactor"},{label:l(()=>[e(r,{message:"config.security.twoFactor",help:""})]),default:l(()=>[e(R,{modelValue:a.value.twoFactor,"onUpdate:modelValue":s[36]||(s[36]=u=>a.value.twoFactor=u),disabled:g(v).epRank<3},null,8,["modelValue","disabled"])]),_:1})]),_:1})],64)):M("",!0),e(d,{span:24},{default:l(()=>[e(A,{"content-position":"left"}),e(o,{prop:"ssrfWhiteList"},{label:l(()=>[e(r,{message:"config.security.ssrfWhiteList",help:""})]),default:l(()=>[e(n,{modelValue:a.value.ssrfWhiteList,"onUpdate:modelValue":s[37]||(s[37]=u=>a.value.ssrfWhiteList=u),rows:12,type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):p.value==="sms"?(i(),V(x,{key:4},{default:l(()=>[e(d,{span:12},{default:l(()=>[e(o,{prop:"provider",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.sms.provider"})]),default:l(()=>[e(re,{modelValue:a.value.provider,"onUpdate:modelValue":s[38]||(s[38]=u=>a.value.provider=u)},{default:l(()=>[(i(),y(q,null,S([0,1,2],u=>e(de,{key:u,label:u},{default:l(()=>[_(T(t.$t(`config.sms.provider.${u}`)),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["rules"])]),_:1}),a.value.provider!==0?(i(),y(q,{key:0},[e(d,{span:12},{default:l(()=>[e(o,{prop:"maxPerIp"},{label:l(()=>[e(r,{message:"config.sms.maxPerIp"})]),default:l(()=>[e(m,{modelValue:a.value.maxPerIp,"onUpdate:modelValue":s[39]||(s[39]=u=>a.value.maxPerIp=u),min:1,max:99999},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"codeLength"},{label:l(()=>[e(r,{message:"config.sms.codeLength"})]),default:l(()=>[e(m,{modelValue:a.value.codeLength,"onUpdate:modelValue":s[40]||(s[40]=u=>a.value.codeLength=u),min:4,max:6},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"codeExpires"},{label:l(()=>[e(r,{message:"config.sms.codeExpires",help:""})]),default:l(()=>[e(m,{modelValue:a.value.codeExpires,"onUpdate:modelValue":s[41]||(s[41]=u=>a.value.codeExpires=u),min:3,max:30},null,8,["modelValue"])]),_:1})]),_:1}),a.value.provider===1?(i(),y(q,{key:0},[e(d,{span:12},{default:l(()=>[e(o,{prop:"accessKeyId",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.sms.accessKeyId"})]),default:l(()=>[e(n,{modelValue:a.value.accessKeyId,"onUpdate:modelValue":s[42]||(s[42]=u=>a.value.accessKeyId=u),maxlength:"128","show-password":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"accessKeySecret",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.sms.accessKeySecret"})]),default:l(()=>[e(n,{modelValue:a.value.accessKeySecret,"onUpdate:modelValue":s[43]||(s[43]=u=>a.value.accessKeySecret=u),maxlength:"128","show-password":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"templateCode",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.sms.templateCode"})]),default:l(()=>[e(n,{modelValue:a.value.templateCode,"onUpdate:modelValue":s[44]||(s[44]=u=>a.value.templateCode=u),maxlength:"32"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"codeName",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.sms.codeName"})]),default:l(()=>[e(n,{modelValue:a.value.codeName,"onUpdate:modelValue":s[45]||(s[45]=u=>a.value.codeName=u),maxlength:"20"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})],64)):a.value.provider===2?(i(),y(q,{key:1},[e(d,{span:12},{default:l(()=>[e(o,{prop:"secretId",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.sms.secretId"})]),default:l(()=>[e(n,{modelValue:a.value.secretId,"onUpdate:modelValue":s[46]||(s[46]=u=>a.value.secretId=u),maxlength:"128","show-password":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"secretKey",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.sms.secretKey"})]),default:l(()=>[e(n,{modelValue:a.value.secretKey,"onUpdate:modelValue":s[47]||(s[47]=u=>a.value.secretKey=u),maxlength:"128","show-password":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"templateId",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.sms.templateId"})]),default:l(()=>[e(n,{modelValue:a.value.templateId,"onUpdate:modelValue":s[48]||(s[48]=u=>a.value.templateId=u),maxlength:"32"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"sdkAppId",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.sms.sdkAppId"})]),default:l(()=>[e(n,{modelValue:a.value.sdkAppId,"onUpdate:modelValue":s[49]||(s[49]=u=>a.value.sdkAppId=u),maxlength:"64"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"region",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.sms.region",help:""})]),default:l(()=>[e(n,{modelValue:a.value.region,"onUpdate:modelValue":s[50]||(s[50]=u=>a.value.region=u),maxlength:"64"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})],64)):M("",!0),e(d,{span:12},{default:l(()=>[e(o,{prop:"signName",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.sms.signName",help:""})]),default:l(()=>[e(n,{modelValue:a.value.signName,"onUpdate:modelValue":s[51]||(s[51]=u=>a.value.signName=u),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(A,{"content-position":"left"},{default:l(()=>[_(T(t.$t("config.sms.test")),1)]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"testMobile"},{label:l(()=>[e(r,{message:"config.sms.testMobile"})]),default:l(()=>[e(n,{modelValue:a.value.testMobile,"onUpdate:modelValue":s[52]||(s[52]=u=>a.value.testMobile=u),maxlength:"30"},null,8,["modelValue"])]),_:1})]),_:1})],64)):M("",!0)]),_:1})):p.value==="email"?(i(),V(x,{key:5},{default:l(()=>[e(d,{span:12},{default:l(()=>[e(o,{prop:"host",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.email.host",help:""})]),default:l(()=>[e(n,{modelValue:a.value.host,"onUpdate:modelValue":s[53]||(s[53]=u=>a.value.host=u),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"port",rules:{type:"number",min:0,max:65535,message:()=>t.$t("v.range",{min:0,max:65535})}},{label:l(()=>[e(r,{message:"config.email.port",help:""})]),default:l(()=>[e(n,{modelValue:a.value.port,"onUpdate:modelValue":s[54]||(s[54]=u=>a.value.port=u),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"username",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.email.username",help:""})]),default:l(()=>[e(n,{modelValue:a.value.username,"onUpdate:modelValue":s[55]||(s[55]=u=>a.value.username=u),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"password",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.email.password",help:""})]),default:l(()=>[e(n,{modelValue:a.value.password,"onUpdate:modelValue":s[56]||(s[56]=u=>a.value.password=u),maxlength:"50","show-password":""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"from",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.email.from",help:""})]),default:l(()=>[e(n,{modelValue:a.value.from,"onUpdate:modelValue":s[57]||(s[57]=u=>a.value.from=u),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"timeout",rules:{type:"number",min:0,max:65535,message:()=>t.$t("v.range",{min:0,max:65535})}},{label:l(()=>[e(r,{message:"config.email.timeout",help:""})]),default:l(()=>[e(n,{modelValue:a.value.timeout,"onUpdate:modelValue":s[58]||(s[58]=u=>a.value.timeout=u),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"ssl"},{label:l(()=>[e(r,{message:"config.email.ssl",help:""})]),default:l(()=>[e(R,{modelValue:a.value.ssl,"onUpdate:modelValue":s[59]||(s[59]=u=>a.value.ssl=u)},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"maxPerIp"},{label:l(()=>[e(r,{message:"config.email.maxPerIp"})]),default:l(()=>[e(m,{modelValue:a.value.maxPerIp,"onUpdate:modelValue":s[60]||(s[60]=u=>a.value.maxPerIp=u),min:1,max:99999},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"codeLength"},{label:l(()=>[e(r,{message:"config.email.codeLength"})]),default:l(()=>[e(m,{modelValue:a.value.codeLength,"onUpdate:modelValue":s[61]||(s[61]=u=>a.value.codeLength=u),min:4,max:6},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"codeExpires"},{label:l(()=>[e(r,{message:"config.email.codeExpires",help:""})]),default:l(()=>[e(m,{modelValue:a.value.codeExpires,"onUpdate:modelValue":s[62]||(s[62]=u=>a.value.codeExpires=u),min:3,max:30},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:24},{default:l(()=>[e(o,{prop:"subject",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.email.subject"})]),default:l(()=>[e(n,{modelValue:a.value.subject,"onUpdate:modelValue":s[63]||(s[63]=u=>a.value.subject=u),maxlength:"100"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:24},{default:l(()=>[e(o,{prop:"text",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.email.text",help:""})]),default:l(()=>[e(n,{modelValue:a.value.text,"onUpdate:modelValue":s[64]||(s[64]=u=>a.value.text=u),rows:3,type:"textarea",maxlength:"400"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(A,{"content-position":"left"},{default:l(()=>[_(T(t.$t("config.email.testEmail")),1)]),_:1}),e(d,{span:24},{default:l(()=>[e(o,{prop:"testTo"},{label:l(()=>[e(r,{message:"config.email.testTo"})]),default:l(()=>[e(n,{modelValue:a.value.testTo,"onUpdate:modelValue":s[65]||(s[65]=u=>a.value.testTo=u),maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):p.value==="uploadStorage"||p.value==="htmlStorage"||p.value==="templateStorage"?(i(),V(x,{key:6},{default:l(()=>[e(d,{span:24},{default:l(()=>[e(o,{prop:"type",rules:[{required:!0,message:()=>t.$t("v.required")},{validator:(u,D,X)=>{D===1&&g(v).epRank<1&&X(t.$t("error.enterprise.short")),X()}}]},{label:l(()=>[e(r,{message:"config.storage.type"})]),default:l(()=>[e(z,{modelValue:a.value.type,"onUpdate:modelValue":s[66]||(s[66]=u=>a.value.type=u),class:"w-full"},{default:l(()=>[(i(!0),y(q,null,S([0,1].filter(u=>u!==1||g(v).epRank>0||g(v).epDisplay),u=>(i(),V(P,{key:u,value:u,label:t.$t(`config.storage.type.${u}`)},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:24},{default:l(()=>[e(o,{prop:"path",rules:{pattern:/^(?!.*\.\.).*$/,message:()=>t.$t("v.url")}},{label:l(()=>[e(r,{message:"config.storage.path"})]),default:l(()=>[e(n,{modelValue:a.value.path,"onUpdate:modelValue":s[67]||(s[67]=u=>a.value.path=u),maxlength:"160"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:24},{default:l(()=>[e(o,{prop:"url",rules:{pattern:/^(?!.*\.\.).*$/,message:()=>t.$t("v.url")}},{label:l(()=>[e(r,{message:"config.storage.url"})]),default:l(()=>[e(n,{modelValue:a.value.url,"onUpdate:modelValue":s[68]||(s[68]=u=>a.value.url=u),maxlength:"160"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),a.value.type===1?(i(),y(q,{key:0},[e(d,{span:24},{default:l(()=>[e(o,{prop:"endpoint",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.storage.endpoint"})]),default:l(()=>[e(n,{modelValue:a.value.endpoint,"onUpdate:modelValue":s[69]||(s[69]=u=>a.value.endpoint=u),maxlength:"160",disabled:g(v).epRank<1},null,8,["modelValue","disabled"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"region",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.storage.region"})]),default:l(()=>[e(n,{modelValue:a.value.region,"onUpdate:modelValue":s[70]||(s[70]=u=>a.value.region=u),maxlength:"160",disabled:g(v).epRank<1},null,8,["modelValue","disabled"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"bucket",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.storage.bucket"})]),default:l(()=>[e(n,{modelValue:a.value.bucket,"onUpdate:modelValue":s[71]||(s[71]=u=>a.value.bucket=u),maxlength:"160",disabled:g(v).epRank<1},null,8,["modelValue","disabled"])]),_:1},8,["rules"])]),_:1}),e(d,{span:24},{default:l(()=>[e(o,{prop:"accessKey",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.storage.accessKey"})]),default:l(()=>[e(n,{modelValue:a.value.accessKey,"onUpdate:modelValue":s[72]||(s[72]=u=>a.value.accessKey=u),type:"password","show-password":"",maxlength:"160",disabled:g(v).epRank<1},null,8,["modelValue","disabled"])]),_:1},8,["rules"])]),_:1}),e(d,{span:24},{default:l(()=>[e(o,{prop:"secretKey",rules:{required:!0,message:()=>t.$t("v.required")}},{label:l(()=>[e(r,{message:"config.storage.secretKey"})]),default:l(()=>[e(n,{modelValue:a.value.secretKey,"onUpdate:modelValue":s[73]||(s[73]=u=>a.value.secretKey=u),type:"password","show-password":"",maxlength:"160",disabled:g(v).epRank<1},null,8,["modelValue","disabled"])]),_:1},8,["rules"])]),_:1})],64)):M("",!0)]),_:1})):p.value==="customs"?(i(),V(x,{key:7},{default:l(()=>[(i(!0),y(q,null,S(g(Z),u=>(i(),V(d,{key:u.code,span:u.double?12:24},{default:l(()=>[e(o,{prop:u.code,rules:u.required?{required:!0,message:()=>t.$t("v.required")}:void 0},{label:l(()=>[e(r,{label:u.name},null,8,["label"])]),default:l(()=>[e(Fe,{field:u,modelValue:a.value[u.code],"onUpdate:modelValue":D=>a.value[u.code]=D,"model-key":a.value[u.code+"_key"],"onUpdate:model-key":D=>a.value[u.code+"_key"]=D},null,8,["field","modelValue","onUpdate:modelValue","model-key","onUpdate:model-key"])]),_:2},1032,["prop","rules"])]),_:2},1032,["span"]))),128))]),_:1})):(i(),V(x,{key:8},{default:l(()=>[e(d,{span:12},{default:l(()=>[e(o,{prop:"port",rules:{type:"number",min:0,max:65535,message:()=>t.$t("v.range",{min:0,max:65535})}},{label:l(()=>[e(r,{message:"config.port",help:""})]),default:l(()=>[e(n,{modelValue:a.value.port,"onUpdate:modelValue":s[74]||(s[74]=u=>a.value.port=u),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"contextPath"},{label:l(()=>[e(r,{message:"config.contextPath",help:""})]),default:l(()=>[e(n,{modelValue:a.value.contextPath,"onUpdate:modelValue":s[75]||(s[75]=u=>a.value.contextPath=u),maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"channelUrl",rules:{pattern:/^\/[\w-]+$/,message:()=>t.$t("config.error.channelUrlPattern")}},{label:l(()=>[e(r,{message:"config.channelUrl",help:""})]),default:l(()=>[e(n,{modelValue:a.value.channelUrl,"onUpdate:modelValue":s[76]||(s[76]=u=>a.value.channelUrl=u),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"articleUrl"},{label:l(()=>[e(r,{message:"config.articleUrl",help:""})]),default:l(()=>[e(n,{modelValue:a.value.articleUrl,"onUpdate:modelValue":s[77]||(s[77]=u=>a.value.articleUrl=u),maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"defaultSiteId",label:t.$t("config.defaultSite")},{default:l(()=>[e(ne,{modelValue:a.value.defaultSiteId,"onUpdate:modelValue":s[78]||(s[78]=u=>a.value.defaultSiteId=u),data:F.value,nodeKey:"id",props:{label:"name"},class:"w-full","render-after-expand":!1,"check-strictly":""},null,8,["modelValue","data"])]),_:1},8,["label"])]),_:1}),e(d,{span:12},{default:l(()=>[e(o,{prop:"multiDomain"},{label:l(()=>[e(r,{message:"config.multiDomain",help:""})]),default:l(()=>[e(R,{modelValue:a.value.multiDomain,"onUpdate:modelValue":s[79]||(s[79]=u=>a.value.multiDomain=u)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})),p.value!=="security"||g(v).epRank>1?Q((i(),y("div",Ne,[e(H,{disabled:g(W)(`config:${p.value}:update`),onClick:s[80]||(s[80]=qe(u=>le(),["prevent"])),type:"primary","native-type":"submit"},{default:l(()=>[_(T(t.$t("save")),1)]),_:1},8,["disabled"]),p.value==="sms"&&a.value.provider!==0?(i(),V(H,{key:0,disabled:g(W)("config:sms:update")||!((U=a.value.testMobile)!=null&&U.trim()),onClick:s[81]||(s[81]=u=>ae())},{default:l(()=>[_(T(t.$t("config.sms.op.testSend")),1)]),_:1},8,["disabled"])):M("",!0),p.value==="email"?(i(),V(H,{key:1,disabled:g(W)("config:email:update")||!((O=a.value.testTo)!=null&&O.trim()),onClick:s[82]||(s[82]=u=>ue())},{default:l(()=>[_(T(t.$t("config.email.op.testSend")),1)]),_:1},8,["disabled"])):M("",!0)])),[[J,k.value]]):M("",!0)]}),_:1},8,["model"])),[[J,C.value]])]),_:1})]),_:1})}}});const sl=we(Je,[["__scopeId","data-v-1bc859c7"]]);export{sl as default};
