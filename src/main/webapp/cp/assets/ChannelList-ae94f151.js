import{d as ze,p as Je,r as c,a1 as J,v as We,a as w,c as i,e as f,w as n,i as m,ax as X,h as e,av as ae,k as I,t as S,g as $,I as q,ac as U,ad as E,_ as Ge,u as Xe,o as Ye,b as Ze,j as se,f as xe,aB as el,aH as ll,E as al,aI as nl,ao as H,aa as tl,a7 as ul}from"./index-8dd878a9.js";import{t as Fe,b as ol,c as sl,f as De,e as rl}from"./tree-73f11865.js";import{g as Re,w as dl,x as il,y as ml,z as Ae,A as pl,h as vl,B as Ee,C as cl}from"./content-0adfdc58.js";import{b as Ne}from"./system-965dc8dc.js";import{a as fl,_ as bl,b as hl,c as yl}from"./QueryItem.vue_vue_type_script_setup_true_lang-4386bb86.js";import{_ as wl}from"./ListMove.vue_vue_type_script_setup_true_lang-08ad14e1.js";import{q as Ke}from"./config-e25ede42.js";import{a as Le,m as Pe,g as Be}from"./data-9d89a5fe.js";import{_ as Vl,T as $l}from"./FieldItem.vue_vue_type_script_setup_true_lang-909dfda7.js";import{_ as gl}from"./DialogForm.vue_vue_type_script_setup_true_lang-347bc64d.js";import"./FileListUpload.vue_vue_type_style_index_0_scoped_cd89d899_lang-78b72cd2.js";import"./BaseUpload-57afd346.js";/* empty css                                                                   */const _l={name:"ChannelForm"},kl=ze({..._l,props:{modelValue:{type:Boolean,required:!0},beanId:{type:Number,default:null},beanIds:{type:Array,required:!0},parent:{type:Object,default:null}},emits:{"update:modelValue":null,finished:null},setup(W,{emit:ne}){const N=W,{modelValue:D,parent:V}=Je(N),C=c(),o=c({}),j=c([]),z=c([]),_=c([]),O=c([]),K=c([]),F=c([]),Q=c([]),T=c(),R=J(()=>_.value.find(l=>l.id===T.value)),u=J(()=>{var l;return Le(Pe(Be().channel.mains,(l=R.value)==null?void 0:l.mains,"channel"))}),A=J(()=>{var l;return Le(Pe(Be().channel.asides,(l=R.value)==null?void 0:l.asides,"channel"))}),Y=J(()=>{var l;return JSON.parse(((l=R.value)==null?void 0:l.customs)||"[]")}),te=J(()=>{const l=ol(z.value,o.value.id);return X.allChannelPermission?l:sl(l,K.value)}),G=async()=>{z.value=Fe(await Re())},ue=async()=>{X.epRank>0&&(j.value=await Ne({category:"sys_article",latestVersion:!0}))},Z=async()=>{await G(),ne("finished")},x=async()=>{_.value=await Ke({type:"channel"}),T.value==null&&_.value.length>0&&(T.value=_.value[0].id)},ee=async()=>{O.value=await Ke({type:"article"})},oe=async()=>{F.value=await pl()},d=async()=>{Q.value=await vl()},h=async()=>{K.value=await Ee()};We(D,()=>{var l,t,k;D.value&&(T.value=(k=(l=V.value)==null?void 0:l.articleModelId)!=null?k:(t=_.value[0])==null?void 0:t.id,h(),x(),ee(),oe(),d(),G(),ue())});const g=l=>(Y.value.forEach(t=>{l[t.code]=t.defaultValue}),l);return(l,t)=>{const k=w("el-input"),v=w("el-form-item"),b=w("el-col"),p=w("el-checkbox"),M=w("el-option"),L=w("el-select"),le=w("el-switch"),re=w("el-row"),je=w("el-tree-select"),Oe=w("el-input-number"),Qe=w("el-tab-pane"),He=w("el-tabs");return i(),f(gl,{values:o.value,"onUpdate:values":t[20]||(t[20]=r=>o.value=r),name:l.$t("menu.content.channel"),"query-bean":m(dl),"create-bean":m(il),"update-bean":m(ml),"delete-bean":m(Ae),"bean-id":W.beanId,"bean-ids":W.beanIds,focus:C.value,"init-values":r=>{var a,s,P,B,y,de,ie,me,pe,ve,ce,fe,be,he,ye,we,Ve,$e,ge,_e,ke,Ce,qe,Te,Me,Ue,Ie,Se;return{parentId:(s=r==null?void 0:r.parentId)!=null?s:(a=m(V))==null?void 0:a.id,type:1,channelModelId:(de=(B=r==null?void 0:r.channelModelId)!=null?B:(P=m(V))==null?void 0:P.channelModelId)!=null?de:(y=_.value[0])==null?void 0:y.id,articleModelId:(ve=(me=r==null?void 0:r.articleModelId)!=null?me:(ie=m(V))==null?void 0:ie.articleModelId)!=null?ve:(pe=O.value[0])==null?void 0:pe.id,nav:(be=(fe=r==null?void 0:r.nav)!=null?fe:(ce=m(V))==null?void 0:ce.nav)!=null?be:!0,channelTemplate:(we=(ye=r==null?void 0:r.channelTemplate)!=null?ye:(he=m(V))==null?void 0:he.channelTemplate)!=null?we:F.value[0],articleTemplate:(ge=($e=r==null?void 0:r.articleTemplate)!=null?$e:(Ve=m(V))==null?void 0:Ve.articleTemplate)!=null?ge:Q.value[0],pageSize:20,allowComment:(Ce=(ke=r==null?void 0:r.allowComment)!=null?ke:(_e=m(V))==null?void 0:_e.allowComment)!=null?Ce:!0,allowContribute:(Me=(Te=r==null?void 0:r.allowContribute)!=null?Te:(qe=m(V))==null?void 0:qe.allowContribute)!=null?Me:!0,allowSearch:(Se=(Ie=r==null?void 0:r.allowSearch)!=null?Ie:(Ue=m(V))==null?void 0:Ue.allowSearch)!=null?Se:!0,customs:g({})}},"to-values":r=>({...r}),perms:"channel","model-value":W.modelValue,"disable-edit":r=>!m(X).allChannelPermission&&r.id!=null&&!K.value.includes(r.id),"label-width":"120px",large:"","onUpdate:modelValue":t[21]||(t[21]=r=>l.$emit("update:modelValue",r)),onFinished:Z,onBeanChange:t[22]||(t[22]=r=>{var a,s,P,B;T.value=(B=(s=r==null?void 0:r.channelModelId)!=null?s:(a=m(V))==null?void 0:a.channelModelId)!=null?B:(P=O.value[0])==null?void 0:P.id,G()})},{default:n(({isEdit:r})=>[e(re,null,{default:n(()=>[e(b,{span:18},{default:n(()=>[e(re,null,{default:n(()=>[e(b,{span:u.value.name.double?12:24},{default:n(()=>{var a;return[e(v,{prop:"name",label:(a=u.value.name.name)!=null?a:l.$t("channel.name"),rules:{required:!0,message:()=>l.$t("v.required")}},{default:n(()=>[e(k,{ref_key:"focus",ref:C,modelValue:o.value.name,"onUpdate:modelValue":t[0]||(t[0]=s=>o.value.name=s),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"]),e(b,{span:u.value.alias.double?12:24},{default:n(()=>[e(v,{prop:"alias",rules:[{required:!0,message:()=>l.$t("v.required")},{pattern:/^[\w-]*$/,message:()=>l.$t("channel.error.aliasPattern")}]},{label:n(()=>{var a;return[e(ae,{label:(a=u.value.alias.name)!=null?a:l.$t("channel.alias"),message:"channel.alias",help:""},null,8,["label"])]}),default:n(()=>[e(k,{modelValue:o.value.alias,"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.alias=a),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1},8,["span"]),o.value.type===3?(i(),f(b,{key:0,span:u.value.linkUrl.double?12:24},{default:n(()=>[e(v,{prop:"linkUrl",rules:[{required:!0,message:()=>l.$t("v.required")},{pattern:/^(http|\/).*$/,message:()=>l.$t("channel.error.linkUrl")}]},{label:n(()=>{var a;return[e(ae,{label:(a=u.value.linkUrl.name)!=null?a:l.$t("channel.linkUrl"),message:"channel.linkUrl",help:""},null,8,["label"])]}),default:n(()=>[e(k,{modelValue:o.value.linkUrl,"onUpdate:modelValue":t[3]||(t[3]=a=>o.value.linkUrl=a),maxlength:"255"},{append:n(()=>[e(p,{modelValue:o.value.targetBlank,"onUpdate:modelValue":t[2]||(t[2]=a=>o.value.targetBlank=a)},{default:n(()=>[I(S(l.$t("channel.targetBlank")),1)]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1},8,["rules"])]),_:1},8,["span"])):$("",!0),o.value.type<3?(i(),q(U,{key:1},[u.value.seoTitle.show?(i(),f(b,{key:0,span:u.value.seoTitle.double?12:24},{default:n(()=>{var a;return[e(v,{prop:"seoTitle",label:(a=u.value.seoTitle.name)!=null?a:l.$t("channel.seoTitle"),rules:u.value.seoTitle.required?{required:!0,message:()=>l.$t("v.required")}:void 0},{default:n(()=>[e(k,{modelValue:o.value.seoTitle,"onUpdate:modelValue":t[4]||(t[4]=s=>o.value.seoTitle=s),maxlength:"150"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),u.value.seoKeywords.show?(i(),f(b,{key:1,span:u.value.seoKeywords.double?12:24},{default:n(()=>{var a;return[e(v,{prop:"seoKeywords",label:(a=u.value.seoKeywords.name)!=null?a:l.$t("channel.seoKeywords"),rules:u.value.seoKeywords.required?{required:!0,message:()=>l.$t("v.required")}:void 0},{default:n(()=>[e(k,{modelValue:o.value.seoKeywords,"onUpdate:modelValue":t[5]||(t[5]=s=>o.value.seoKeywords=s),maxlength:"150"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),u.value.seoDescription.show?(i(),f(b,{key:2,span:u.value.seoDescription.double?12:24},{default:n(()=>{var a;return[e(v,{prop:"seoDescription",label:(a=u.value.seoDescription.name)!=null?a:l.$t("channel.seoDescription"),rules:u.value.seoDescription.required?{required:!0,message:()=>l.$t("v.required")}:void 0},{default:n(()=>[e(k,{modelValue:o.value.seoDescription,"onUpdate:modelValue":t[6]||(t[6]=s=>o.value.seoDescription=s),maxlength:"1000"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0)],64)):$("",!0),u.value.channelModel.show?(i(),f(b,{key:2,span:u.value.channelModel.double?12:24},{default:n(()=>{var a;return[e(v,{prop:"channelModelId",label:(a=u.value.channelModel.name)!=null?a:l.$t("channel.channelModel"),rules:{required:!0,message:()=>l.$t("v.required")}},{default:n(()=>[e(L,{modelValue:o.value.channelModelId,"onUpdate:modelValue":t[7]||(t[7]=s=>o.value.channelModelId=s),class:"w-full",onChange:s=>{T.value=s,r||l.$nextTick().then(()=>{g(o.value.customs)})}},{default:n(()=>[(i(!0),q(U,null,E(_.value,s=>(i(),f(M,{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onChange"])]),_:2},1032,["label","rules"])]}),_:2},1032,["span"])):$("",!0),u.value.articleModel.show?(i(),f(b,{key:3,span:u.value.articleModel.double?12:24},{default:n(()=>{var a;return[e(v,{prop:"articleModelId",label:(a=u.value.articleModel.name)!=null?a:l.$t("channel.articleModel"),rules:{required:!0,message:()=>l.$t("v.required")}},{default:n(()=>[e(L,{modelValue:o.value.articleModelId,"onUpdate:modelValue":t[8]||(t[8]=s=>o.value.articleModelId=s),class:"w-full"},{default:n(()=>[(i(!0),q(U,null,E(O.value,s=>(i(),f(M,{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),[3,4,5].includes(o.value.type)?$("",!0):(i(),q(U,{key:4},[u.value.channelTemplate.show?(i(),f(b,{key:0,span:u.value.channelTemplate.double?12:24},{default:n(()=>{var a;return[e(v,{prop:"channelTemplate",label:(a=u.value.channelTemplate.name)!=null?a:l.$t("channel.channelTemplate"),rules:u.value.channelTemplate.required?{required:!0,message:()=>l.$t("v.required")}:void 0},{default:n(()=>[e(L,{modelValue:o.value.channelTemplate,"onUpdate:modelValue":t[9]||(t[9]=s=>o.value.channelTemplate=s),class:"w-full"},{default:n(()=>[(i(!0),q(U,null,E(F.value,s=>(i(),f(M,{key:s,label:s+".html",value:s},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),u.value.articleTemplate.show?(i(),f(b,{key:1,span:u.value.articleTemplate.double?12:24},{default:n(()=>{var a;return[e(v,{prop:"articleTemplate",label:(a=u.value.articleTemplate.name)!=null?a:l.$t("channel.articleTemplate"),rules:u.value.articleTemplate.required?{required:!0,message:()=>l.$t("v.required")}:void 0},{default:n(()=>[e(L,{modelValue:o.value.articleTemplate,"onUpdate:modelValue":t[10]||(t[10]=s=>o.value.articleTemplate=s),class:"w-full"},{default:n(()=>[(i(!0),q(U,null,E(Q.value,s=>(i(),f(M,{key:s,label:s+".html",value:s},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0)],64)),u.value.allowComment.show?(i(),f(b,{key:5,span:u.value.allowComment.double?12:24},{default:n(()=>{var a;return[e(v,{prop:"allowComment",label:(a=u.value.allowComment.name)!=null?a:l.$t("channel.allowComment"),rules:u.value.allowComment.required?{required:!0,message:()=>l.$t("v.required")}:void 0},{default:n(()=>[e(le,{modelValue:o.value.allowComment,"onUpdate:modelValue":t[11]||(t[11]=s=>o.value.allowComment=s)},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),u.value.allowContribute.show?(i(),f(b,{key:6,span:u.value.allowContribute.double?12:24},{default:n(()=>{var a;return[e(v,{prop:"allowContribute",label:(a=u.value.allowContribute.name)!=null?a:l.$t("channel.allowContribute"),rules:u.value.allowContribute.required?{required:!0,message:()=>l.$t("v.required")}:void 0},{default:n(()=>[e(le,{modelValue:o.value.allowContribute,"onUpdate:modelValue":t[12]||(t[12]=s=>o.value.allowContribute=s)},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),u.value.nav.show?(i(),f(b,{key:7,span:u.value.nav.double?12:24},{default:n(()=>[e(v,{prop:"nav",rules:u.value.nav.required?{required:!0,message:()=>l.$t("v.required")}:void 0},{label:n(()=>{var a;return[e(ae,{label:(a=u.value.nav.name)!=null?a:l.$t("channel.nav"),message:"channel.nav",help:""},null,8,["label"])]}),default:n(()=>[e(le,{modelValue:o.value.nav,"onUpdate:modelValue":t[13]||(t[13]=a=>o.value.nav=a)},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1},8,["span"])):$("",!0),u.value.allowSearch.show?(i(),f(b,{key:8,span:u.value.allowSearch.double?12:24},{default:n(()=>{var a;return[e(v,{prop:"allowSearch",label:(a=u.value.allowSearch.name)!=null?a:l.$t("channel.allowSearch"),rules:u.value.allowSearch.required?{required:!0,message:()=>l.$t("v.required")}:void 0},{default:n(()=>[e(le,{modelValue:o.value.allowSearch,"onUpdate:modelValue":t[14]||(t[14]=s=>o.value.allowSearch=s)},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),(i(!0),q(U,null,E(Y.value,a=>(i(),f(b,{key:a.code,span:a.double?12:24},{default:n(()=>[e(v,{prop:`customs.${a.code}`,rules:a.required?{required:!0,message:()=>l.$t("v.required")}:void 0},{label:n(()=>[e(ae,{label:a.name},null,8,["label"])]),default:n(()=>[e(Vl,{modelValue:o.value.customs[a.code],"onUpdate:modelValue":s=>o.value.customs[a.code]=s,"model-key":o.value.customs[a.code+"_key"],"onUpdate:modelKey":s=>o.value.customs[a.code+"_key"]=s,field:a},null,8,["modelValue","onUpdate:modelValue","model-key","onUpdate:modelKey","field"])]),_:2},1032,["prop","rules"])]),_:2},1032,["span"]))),128)),o.value.type===2?(i(),f(b,{key:9,span:u.value.text.double?12:24},{default:n(()=>{var a;return[e(v,{prop:"text",label:(a=u.value.text.name)!=null?a:l.$t("channel.text"),rules:u.value.text.required?{required:!0,message:()=>l.$t("v.required")}:void 0},{default:n(()=>[e(m($l),{modelValue:o.value.text,"onUpdate:modelValue":t[15]||(t[15]=s=>o.value.text=s)},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0)]),_:2},1024)]),_:2},1024),e(b,{span:6,class:"el-form--label-top label-top"},{default:n(()=>[e(He,{type:"border-card",class:"ml-5"},{default:n(()=>[e(Qe,{label:l.$t("channel.tabs.setting")},{default:n(()=>{var a,s,P,B;return[e(v,{prop:"parentId",label:(a=A.value.parent.name)!=null?a:l.$t("channel.parent")},{default:n(()=>[e(je,{modelValue:o.value.parentId,"onUpdate:modelValue":t[16]||(t[16]=y=>o.value.parentId=y),data:te.value,"node-key":"id",props:{label:"name",disabled:"disabled"},"render-after-expand":!1,"check-strictly":"",clearable:"",class:"w-full"},null,8,["modelValue","data"])]),_:1},8,["label"]),e(v,{prop:"type",label:(s=A.value.type.name)!=null?s:l.$t("channel.type"),rules:{required:!0,message:()=>l.$t("v.required")}},{default:n(()=>[e(L,{modelValue:o.value.type,"onUpdate:modelValue":t[17]||(t[17]=y=>o.value.type=y),class:"w-full"},{default:n(()=>[(i(),q(U,null,E([1,2,3,4,5],y=>e(M,{key:y,label:l.$t(`channel.type.${y}`),value:y},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),e(v,{prop:"processKey",label:(P=A.value.processKey.name)!=null?P:l.$t("channel.processKey"),rules:A.value.processKey.required?{required:!0,message:()=>l.$t("v.required")}:void 0},{default:n(()=>[e(L,{modelValue:o.value.processKey,"onUpdate:modelValue":t[18]||(t[18]=y=>o.value.processKey=y),clearable:"",class:"w-full"},{default:n(()=>[(i(!0),q(U,null,E(j.value,y=>(i(),f(M,{key:y.key,label:y.name,value:y.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),e(v,{prop:"pageSize",label:(B=A.value.pageSize.name)!=null?B:l.$t("channel.pageSize"),rules:{required:!0,message:()=>l.$t("v.required")}},{default:n(()=>[e(Oe,{modelValue:o.value.pageSize,"onUpdate:modelValue":t[19]||(t[19]=y=>o.value.pageSize=y),min:1,max:200},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["label"])]),_:1})]),_:1})]),_:2},1024)]),_:1},8,["values","name","query-bean","create-bean","update-bean","delete-bean","bean-id","bean-ids","focus","init-values","to-values","model-value","disable-edit"])}}});const Cl=Ge(kl,[["__scopeId","data-v-1626efcf"]]),ql={class:"mb-3"},Tl={class:"app-block mt-3"},Ml={name:"ChannelList"},Nl=ze({...Ml,setup(W){const{t:ne}=Xe(),N=c({}),D=c(),V=c(),C=c([]),o=c([]),j=c(!1),z=c(!1),_=c(),O=J(()=>De(C.value).map(d=>d.id)),K=c(!1),F=c(),Q=c([]),T=c([]),R=d=>X.allChannelPermission||Q.value.includes(d.id),u=async()=>{j.value=!0;try{C.value=await Re({...el(N.value),Q_OrderBy:D.value}),K.value=Object.values(N.value).filter(d=>d!==void 0&&d!=="").length>0||D.value!==void 0,K.value||(C.value=Fe(C.value))}finally{j.value=!1}},A=async()=>{X.epRank>0&&(T.value=await Ne({category:"sys_article",latestVersion:!0}))},Y=async()=>{Q.value=await Ee()};Ye(()=>{u(),A(),Y()});const te=({column:d,prop:h,order:g})=>{var l;h?D.value=((l=d.sortBy)!=null?l:h)+(g==="descending"?"_desc":""):D.value=void 0,u()},G=()=>u(),ue=()=>{V.value.clearSort(),ll(N.value),D.value=void 0,u()},Z=d=>{_.value=void 0,F.value=d,z.value=!0},x=d=>{_.value=d,F.value=null,z.value=!0},ee=async d=>{await Ae(d),u(),al.success(ne("success"))},oe=async(d,h)=>{const g=nl(d,De(C.value),h);await cl(g),await u(),d.forEach(l=>{V.value.toggleRowSelection(rl(C.value,t=>t.id===l.id))})};return(d,h)=>{const g=w("el-button"),l=w("el-popconfirm"),t=w("el-table-column"),k=w("el-tag"),v=w("el-table"),b=Ze("loading");return i(),q("div",null,[se("div",ql,[e(m(bl),{params:N.value,onSearch:G,onReset:ue},{default:n(()=>[e(m(fl),{label:d.$t("channel.name"),name:"Q_Contains_name"},null,8,["label"])]),_:1},8,["params"])]),se("div",null,[e(g,{type:"primary",disabled:m(H)("channel:create"),icon:m(tl),onClick:h[0]||(h[0]=()=>Z(void 0))},{default:n(()=>[I(S(d.$t("add")),1)]),_:1},8,["disabled","icon"]),e(l,{title:d.$t("confirmDelete"),onConfirm:h[1]||(h[1]=()=>ee(o.value.map(p=>p.id)))},{reference:n(()=>[e(g,{disabled:o.value.length<=0||m(H)("channel:delete"),icon:m(ul)},{default:n(()=>[I(S(d.$t("delete")),1)]),_:1},8,["disabled","icon"])]),_:1},8,["title"]),e(wl,{disabled:o.value.length<=0||K.value||m(H)("channel:update"),class:"ml-2",onMove:h[2]||(h[2]=p=>oe(o.value,p))},null,8,["disabled"]),e(m(hl),{name:"channel",class:"ml-2"})]),se("div",Tl,[xe((i(),f(v,{ref_key:"table",ref:V,"row-key":"id","default-expand-all":"",data:C.value,onSelectionChange:h[3]||(h[3]=p=>o.value=p),onRowDblclick:h[4]||(h[4]=p=>x(p.id)),onSortChange:te},{default:n(()=>[e(m(yl),{name:"channel"},{default:n(()=>[e(t,{type:"selection",selectable:R,width:"45"}),e(t,{property:"name",label:d.$t("channel.name"),sortable:"custom","show-overflow-tooltip":""},{default:n(({row:p})=>[I(S(K.value?p.names.join(" / "):p.name),1)]),_:1},8,["label"]),e(t,{property:"alias",label:d.$t("channel.alias"),sortable:"custom","show-overflow-tooltip":""},null,8,["label"]),e(t,{property:"channelModel.name",label:d.$t("channel.channelModel"),display:"none",sortable:"custom","show-overflow-tooltip":""},null,8,["label"]),e(t,{property:"articleModel.name",label:d.$t("channel.articleModel"),sortable:"custom","show-overflow-tooltip":""},null,8,["label"]),e(t,{property:"processKey",label:d.$t("channel.processKey"),sortable:"custom","show-overflow-tooltip":""},{default:n(({row:p})=>{var M;return[I(S((M=T.value.find(L=>L.key===p.processKey))==null?void 0:M.name),1)]}),_:1},8,["label"]),e(t,{property:"nav",label:d.$t("channel.nav")},{default:n(({row:p})=>[e(k,{type:p.nav?"success":"info",size:"small"},{default:n(()=>[I(S(d.$t(p.nav?"yes":"no")),1)]),_:2},1032,["type"])]),_:1},8,["label"]),e(t,{property:"id",label:"ID",width:"64",sortable:"custom"}),e(t,{label:d.$t("table.action")},{default:n(({row:p})=>[e(g,{type:"primary",disabled:m(H)("channel:create")||!R(p),size:"small",link:"",onClick:()=>Z(p)},{default:n(()=>[I(S(d.$t("addChild")),1)]),_:2},1032,["disabled","onClick"]),e(g,{type:"primary",disabled:m(H)("channel:update"),size:"small",link:"",onClick:()=>x(p.id)},{default:n(()=>[I(S(d.$t("edit")),1)]),_:2},1032,["disabled","onClick"]),e(l,{title:d.$t("confirmDelete"),onConfirm:()=>ee([p.id])},{reference:n(()=>[e(g,{type:"primary",disabled:m(H)("channel:delete")||!R(p),size:"small",link:""},{default:n(()=>[I(S(d.$t("delete")),1)]),_:2},1032,["disabled"])]),_:2},1032,["title","onConfirm"])]),_:1},8,["label"])]),_:1})]),_:1},8,["data"])),[[b,j.value]])]),e(Cl,{modelValue:z.value,"onUpdate:modelValue":h[5]||(h[5]=p=>z.value=p),"bean-id":_.value,"bean-ids":O.value,parent:F.value,onFinished:u},null,8,["modelValue","bean-id","bean-ids","parent"])])}}});export{Nl as default};
