!function(){var e=document.createElement("style");e.innerHTML=".el-tabs[data-v-0c8c7f24] .el-tabs__header{float:right;margin-right:1px}.watermark-position[data-v-0c8c7f24]{display:flex;height:9rem;width:9rem;flex-wrap:wrap;border-radius:.25rem;border-width:1px;border-style:dashed;--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.watermark-position[data-v-0c8c7f24] .el-radio__label{padding-left:0}.watermark-position[data-v-0c8c7f24] .el-radio{margin-right:0;display:flex;height:33.333333%;width:33.333333%;align-items:center;justify-content:center}\n",document.head.appendChild(e),System.register(["./vendor-legacy.c673f215.js","./tree-legacy.a39fb697.js","./config-legacy.e6dd03d5.js","./user-legacy.85edcf30.js","./index-legacy.21cfce9c.js","./LabelTip-legacy.f517ffd0.js","./BaseUpload.vue_vue_type_style_index_0_scoped_true_lang-legacy.e2e33787.js","./FieldItem-legacy.4dc36612.js","./content-legacy.178e4729.js"],(function(e){"use strict";var l,a,u,t,s,d,o,r,i,n,m,p,v,c,f,g,b,_,V,h,y,w,k,$,q,x,U,j,S,D,T,I,C,P,W,z,H;return{setters:[function(e){l=e.g,a=e.u,u=e.I,t=e.i,s=e.M,d=e.j,o=e.N,r=e.o,i=e.k,n=e.w,m=e.l,p=e.q,v=e.C,c=e.F,f=e.O,g=e.m,b=e.y,_=e.P,V=e.A,h=e.K,y=e.Q,w=e.aj,k=e.ak},function(e){$=e.t},function(e){q=e.A,x=e.q,U=e.B,j=e.C,S=e.D,D=e.E},function(e){T=e.q},function(e){I=e._,C=e.D,P=e.m},function(e){W=e._},function(e){z=e.a},function(e){H=e._},function(){}],execute:function(){const K={class:"watermark-position"},N=(e=>(w("data-v-0c8c7f24"),e=e(),k(),e))((()=>b("span",null,null,-1)));e("default",I(l({name:"SiteSettings",emits:{"update:modelValue":null,finished:null},setup(e){const{t:l}=a(),w=u(),k=u(),I=u({}),B=u(!1),E=u(!1),F=u([]),M=u([]),A=u([]),L=u(),O=t((()=>A.value.find((e=>e.id===L.value)))),J=t((()=>{var e;return JSON.parse((null===(e=O.value)||void 0===e?void 0:e.customs)||"[]")})),Q=[];C("siteSettings:base:update")&&Q.push("base"),C("siteSettings:watermark:update")&&Q.push("watermark"),C("siteSettings:customs:update")&&Q.push("customs");const G=u(Q[0]),R=e=>{I.value="watermark"===e?k.value.watermark:"customs"===e?k.value.customs:k.value},X=async()=>{M.value=await q()},Y=async()=>{F.value=$(await T())},Z=async()=>{A.value=await x({type:"site"})},ee=async()=>{k.value=await U(),L.value=k.value.modelId,R(G.value)};s((async()=>{B.value=!0;try{await Promise.all([X(),Y(),Z(),ee()])}finally{B.value=!1}}));const le=()=>{w.value.validate((async e=>{if(e){E.value=!0;try{"watermark"===G.value?await j(I.value):"customs"===G.value?await S(I.value):await D(I.value),y.success(l("success"))}finally{E.value=!1}(async()=>{B.value=!0;try{await ee()}finally{B.value=!1}})()}}))};return(e,l)=>{const a=d("el-tab-pane"),u=d("el-tabs"),t=d("el-aside"),s=d("el-switch"),y=d("el-form-item"),k=d("el-col"),$=d("el-radio"),q=d("el-radio-group"),x=d("el-slider"),U=d("el-input"),j=d("el-row"),S=d("el-option"),D=d("el-select"),T=d("el-input-number"),C=d("el-button"),F=d("el-form"),L=d("el-main"),O=d("el-container"),X=o("loading");return r(),i(O,null,{default:n((()=>[m(t,{width:"180px",class:"pr-3"},{default:n((()=>[m(u,{modelValue:G.value,"onUpdate:modelValue":l[0]||(l[0]=e=>G.value=e),onTabClick:l[1]||(l[1]=({paneName:e})=>R(e)),"tab-position":"left",stretch:"",class:"bg-white"},{default:n((()=>[(r(),p(c,null,v(Q,(l=>m(a,{key:l,name:l,label:e.$t(`site.settings.${l}`)},null,8,["name","label"]))),64))])),_:1},8,["modelValue"])])),_:1}),m(L,{class:"p-3 app-block"},{default:n((()=>[f((r(),i(F,{ref_key:"form",ref:w,model:I.value,"label-width":"150px"},{default:n((()=>["watermark"===G.value?(r(),i(j,{key:0},{default:n((()=>[m(k,{span:24},{default:n((()=>[m(y,{prop:"enabled",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.watermark.enabled",help:""})])),default:n((()=>[m(s,{modelValue:I.value.enabled,"onUpdate:modelValue":l[2]||(l[2]=e=>I.value.enabled=e)},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"overlay",label:e.$t("site.watermark.overlay"),rules:I.value.enabled?{required:!0,message:()=>e.$t("v.required")}:{}},{default:n((()=>[m(g(z),{modelValue:I.value.overlay,"onUpdate:modelValue":l[3]||(l[3]=e=>I.value.overlay=e)},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"position",label:e.$t("site.watermark.position"),rules:{required:!0,message:()=>e.$t("v.required")}},{default:n((()=>[m(q,{modelValue:I.value.position,"onUpdate:modelValue":l[4]||(l[4]=e=>I.value.position=e)},{default:n((()=>[b("div",K,[(r(),p(c,null,v(9,(l=>m($,{key:l,label:l,title:e.$t(`site.watermark.position.${l}`)},{default:n((()=>[N])),_:2},1032,["label","title"]))),64))])])),_:1},8,["modelValue"])])),_:1},8,["label","rules"])])),_:1}),m(k,{span:24},{default:n((()=>[m(y,{prop:"dissolve",label:e.$t("site.watermark.dissolve"),rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.watermark.dissolve",help:""})])),default:n((()=>[m(x,{modelValue:I.value.dissolve,"onUpdate:modelValue":l[5]||(l[5]=e=>I.value.dissolve=e),min:0,max:100,"show-input":""},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"minWidth",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.watermark.minWidth",help:""})])),default:n((()=>[m(U,{modelValue:I.value.minWidth,"onUpdate:modelValue":l[6]||(l[6]=e=>I.value.minWidth=e),modelModifiers:{number:!0},min:1,max:65535},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"minHeight",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.watermark.minHeight",help:""})])),default:n((()=>[m(U,{modelValue:I.value.minHeight,"onUpdate:modelValue":l[7]||(l[7]=e=>I.value.minHeight=e),modelModifiers:{number:!0},min:1,max:65535},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1})):"customs"===G.value?(r(),i(j,{key:1},{default:n((()=>[(r(!0),p(c,null,v(g(J),(l=>(r(),i(k,{key:l.code,span:l.double?12:24},{default:n((()=>[m(y,{prop:l.code,rules:l.required?{required:!0,message:()=>e.$t("v.required")}:void 0},{label:n((()=>[m(W,{label:l.name},null,8,["label"])])),default:n((()=>[m(H,{field:l,modelValue:I.value[l.code],"onUpdate:modelValue":e=>I.value[l.code]=e},null,8,["field","modelValue","onUpdate:modelValue"])])),_:2},1032,["prop","rules"])])),_:2},1032,["span"])))),128))])),_:1})):(r(),i(j,{key:2},{default:n((()=>[m(k,{span:12},{default:n((()=>[m(y,{prop:"name",label:e.$t("site.name"),rules:{required:!0,message:()=>e.$t("v.required")}},{default:n((()=>[m(U,{modelValue:I.value.name,"onUpdate:modelValue":l[8]||(l[8]=e=>I.value.name=e),ref:"focus",maxlength:"50"},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"protocol",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.protocol",help:""})])),default:n((()=>[m(D,{modelValue:I.value.protocol,"onUpdate:modelValue":l[9]||(l[9]=e=>I.value.protocol=e),class:"w-full"},{default:n((()=>[(r(),p(c,null,v(["http","https"],(e=>m(S,{key:e,label:e,value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"domain",rules:[{required:!0,message:()=>e.$t("v.required")},{pattern:/^[a-z0-9-.]*$/,message:()=>e.$t("site.error.domainPattern")},{pattern:/^(?!(uploads|templates|WEB-INF|cp)$).*/i,message:()=>e.$t("site.error.excludesPattern")}]},{label:n((()=>[m(W,{message:"site.domain",help:""})])),default:n((()=>[m(U,{modelValue:I.value.domain,"onUpdate:modelValue":l[10]||(l[10]=e=>I.value.domain=e),maxlength:"50"},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"subDir",rules:[{pattern:/^[\w-]*$/,message:()=>e.$t("site.error.subDirPattern")},{pattern:/^(?!(uploads|templates|WEB-INF|cp)$).*/i,message:()=>e.$t("site.error.excludesPattern")}]},{label:n((()=>[m(W,{message:"site.subDir",help:""})])),default:n((()=>[m(U,{modelValue:I.value.subDir,"onUpdate:modelValue":l[11]||(l[11]=e=>I.value.subDir=e),maxlength:"50"},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"theme",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.theme",help:""})])),default:n((()=>[m(D,{modelValue:I.value.theme,"onUpdate:modelValue":l[12]||(l[12]=e=>I.value.theme=e),class:"w-full"},{default:n((()=>[(r(!0),p(c,null,v(M.value,(e=>(r(),i(S,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"mobileTheme",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.mobileTheme",help:""})])),default:n((()=>[m(D,{modelValue:I.value.mobileTheme,"onUpdate:modelValue":l[13]||(l[13]=e=>I.value.mobileTheme=e),class:"w-full"},{default:n((()=>[(r(!0),p(c,null,v(M.value,(e=>(r(),i(S,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"modelId",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.model",help:""})])),default:n((()=>[m(D,{modelValue:I.value.modelId,"onUpdate:modelValue":l[14]||(l[14]=e=>I.value.modelId=e),class:"w-full"},{default:n((()=>[(r(!0),p(c,null,v(A.value,(e=>(r(),i(S,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:24},{default:n((()=>[m(y,{prop:"logo"},{label:n((()=>[m(W,{message:"site.logo",help:""})])),default:n((()=>[m(g(z),{modelValue:I.value.logo,"onUpdate:modelValue":l[15]||(l[15]=e=>I.value.logo=e)},null,8,["modelValue"])])),_:1})])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"seoTitle"},{label:n((()=>[m(W,{message:"site.seoTitle",help:""})])),default:n((()=>[m(U,{modelValue:I.value.seoTitle,"onUpdate:modelValue":l[16]||(l[16]=e=>I.value.seoTitle=e),maxlength:"150"},null,8,["modelValue"])])),_:1})])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"seoKeywords"},{label:n((()=>[m(W,{message:"site.seoKeywords",help:""})])),default:n((()=>[m(U,{modelValue:I.value.seoKeywords,"onUpdate:modelValue":l[17]||(l[17]=e=>I.value.seoKeywords=e),maxlength:"150"},null,8,["modelValue"])])),_:1})])),_:1}),m(k,{span:24},{default:n((()=>[m(y,{prop:"seoDescription"},{label:n((()=>[m(W,{message:"site.seoDescription",help:""})])),default:n((()=>[m(U,{modelValue:I.value.seoDescription,"onUpdate:modelValue":l[18]||(l[18]=e=>I.value.seoDescription=e),type:"textarea",rows:3,maxlength:"1000"},null,8,["modelValue"])])),_:1})])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"pageSize",rules:{required:!0,message:()=>e.$t("v.required")}},{label:n((()=>[m(W,{message:"site.pageSize",help:""})])),default:n((()=>[m(T,{modelValue:I.value.pageSize,"onUpdate:modelValue":l[19]||(l[19]=e=>I.value.pageSize=e),min:1,max:200},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),m(k,{span:12},{default:n((()=>[m(y,{prop:"status"},{label:n((()=>[m(W,{message:"site.status",help:""})])),default:n((()=>[m(q,{modelValue:I.value.status,"onUpdate:modelValue":l[20]||(l[20]=e=>I.value.status=e)},{default:n((()=>[(r(),p(c,null,v([0,1],(l=>m($,{key:l,label:l},{default:n((()=>[_(V(e.$t(`site.status.${l}`)),1)])),_:2},1032,["label"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})),b("div",null,[m(C,{disabled:g(P)(`siteSettings:${G.value}:update`),loading:E.value,onClick:h(le,["prevent"]),type:"primary","native-type":"submit"},{default:n((()=>[_(V(e.$t("save")),1)])),_:1},8,["disabled","loading","onClick"])])])),_:1},8,["model"])),[[X,B.value]])])),_:1})])),_:1})}}}),[["__scopeId","data-v-0c8c7f24"]]))}}}))}();
