System.register(["./index-legacy-2f56f3d5.js","./duration-legacy-23343b77.js","./stat-legacy-edc62d95.js","./content-legacy-961813c5.js","./interaction-legacy-fc724c85.js"],(function(t,e){"use strict";var a,l,s,n,i,u,r,d,o,c,v,p,f,y,x,m,g,b,_,w,h,k,C,$,j,Y,S,D,V,M,q,O,P;return{setters:[t=>{a=t.d,l=t.u,s=t.U,n=t.V,i=t.r,u=t.o,r=t.b,d=t.e,o=t.I,c=t.i,v=t.w,p=t.f,f=t.k,y=t.j,x=t.W,m=t.l,g=t.t,b=t.h,_=t.X,w=t.Y,h=t.J,k=t.Z,C=t.$,$=t.a0,j=t.a1,Y=t.a2},t=>{S=t.d},t=>{D=t.q,V=t.a,M=t.b},t=>{q=t.q,O=t.a},t=>{P=t.q}],execute:function(){const e={class:"mb-3 shadow-md bg-warning-lighter"},A={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},T={class:"flex items-center"},z={class:"mb-3 shadow-md bg-warning-lighter"},H={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},L={class:"flex items-center"},R={class:"mb-3 shadow-md bg-warning-lighter"},B={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},I={class:"flex items-center"},E={class:"p-3 app-block"},W={class:"text-sm text-gray-secondary"},F={class:"flex items-end justify-between mt-1"},G={class:"text-3xl text-primary"},J={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-primary"},U={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},X={class:"p-3 app-block"},Z={class:"text-sm text-gray-secondary"},K={class:"flex items-end justify-between mt-1"},N={class:"text-3xl text-primary"},Q={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-warning"},tt={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},et={class:"p-3 app-block"},at={class:"text-sm text-gray-secondary"},lt={class:"flex items-end justify-between mt-1"},st={class:"text-3xl text-primary"},nt={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-success"},it={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},ut={class:"p-3 app-block"},rt={class:"text-sm text-gray-secondary"},dt={class:"flex items-end justify-between mt-1"},ot={class:"text-3xl text-primary"},ct={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-danger"},vt={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},pt={class:"px-3 py-5 mt-3 app-block"},ft={class:"flex p-3 mt-3 justify-evenly app-block"},yt={class:"h-64 w-60 text-primary"},xt={class:"mt-2 text-center"},mt={class:"flex items-center justify-center mt-2"},gt={class:"text-3xl"},bt={key:0},_t={key:1},wt={class:"mt-4 space-y-2 text-sm"},ht={key:0},kt={key:1},Ct={key:0},$t={key:1},jt={key:0},Yt={key:1},St={class:"h-64 w-60 text-gray-secondary"},Dt={class:"mt-2 text-center"},Vt={class:"flex items-center justify-center mt-2"},Mt={class:"text-3xl"},qt={key:0},Ot={key:1},Pt={class:"mt-4 space-y-2 text-sm"},At={key:0},Tt={key:1},zt={key:0},Ht={key:1},Lt={key:0},Rt={key:1},Bt={class:"p-3 mt-3 app-block"};t("default",a({__name:"HomePage",setup(t){const{t:a,n:It}=l();s.extend(S);const Et=n(),Wt=n(),Ft=i({}),Gt=i({}),Jt=i({}),Ut=i(0),Xt=i(0),Zt=i(0);return u((async()=>{(async()=>{Y.epRank>=1&&(Ut.value=await q())})(),(async()=>{Y.epRank>=1&&(Xt.value=await O())})(),(async()=>{Zt.value=await P()})(),(async()=>{const t=await D({begin:s().startOf("day").subtract(1,"day").format(),end:s().endOf("day").format()}),e={tooltip:{trigger:"axis"},legend:{data:[a("visitTrend.yesterdayPv"),a("visitTrend.todayPv")]},grid:{left:16,right:16,top:40,bottom:0,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:Array.from(Array(24).keys())},yAxis:{type:"value",minInterval:1},series:[{name:a("visitTrend.yesterdayPv"),type:"line",symbol:"circle",color:"#a0cfff",data:t.filter((t=>s(t.date)<s().startOf("day"))).map((t=>t.pvCount))},{name:a("visitTrend.todayPv"),type:"line",symbol:"circle",color:"#409eff",areaStyle:{color:"#ecf5ff"},data:t.filter((t=>s(t.date)>=s().startOf("day"))).map((t=>t.pvCount))}]},l=Et.value;if(null==l)return;let n=$.getInstanceByDom(l);null==n&&(n=$.init(l)),n.setOption(e),window.addEventListener("resize",(function(){n&&n.resize()}))})(),(async()=>{const t=await V({begin:s().subtract(30,"day").format("YYYY-MM-DD"),end:s().format("YYYY-MM-DD")}),e={title:{text:a("menu.stat.visitSource"),textStyle:{color:"#909399",fontWeight:"normal",fontSize:16}},legend:{type:"scroll",orient:"vertical",right:"10%",top:16,bottom:16},tooltip:{trigger:"item",valueFormatter:t=>It(t)},series:[{name:a("menu.stat.visitSource"),type:"pie",radius:["44%","80%"],center:["40%","54%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:4,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!1}},labelLine:{show:!1},data:t.map((t=>({value:t.pvCount,name:a(`visitSource.type.${t.name}`)})))}]},l=Wt.value;if(null==l)return;let n=$.getInstanceByDom(l);null==n&&(n=$.init(l)),n.setOption(e),window.addEventListener("resize",(function(){n&&n.resize()}))})(),(async()=>{const t=await M({begin:s().subtract(30,"day").format("YYYY-MM-DD"),end:s().format("YYYY-MM-DD")});Ft.value=t.newVisitor,Gt.value=t.oldVisitor;const e=Ft.value.uvCount+Gt.value.uvCount;e>0?(Ft.value.proportion=100*Ft.value.uvCount/e,Gt.value.proportion=100*Gt.value.uvCount/e):(Ft.value.proportion=50,Gt.value.proportion=50)})(),(async()=>{Jt.value=await j()})()})),(t,a)=>{const l=r("el-icon"),n=r("el-link"),i=r("el-col"),u=r("el-row");return d(),o("div",null,[c(u,{gutter:12},{default:v((()=>[Ut.value>0?(d(),p(i,{key:0,span:6},{default:v((()=>[f("div",e,[f("div",A,[f("div",T,[c(l,null,{default:v((()=>[c(y(x))])),_:1}),c(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[0]||(a[0]=()=>t.$router.push({path:"/content/article-review"}))},{default:v((()=>[m(g(t.$t("todo.pendingArticle")),1)])),_:1})]),f("div",null,[c(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[1]||(a[1]=()=>t.$router.push({path:"/content/article-review"}))},{default:v((()=>[m(g(Ut.value),1)])),_:1})])])])])),_:1})):b("",!0),Xt.value>0?(d(),p(i,{key:1,span:6},{default:v((()=>[f("div",z,[f("div",H,[f("div",L,[c(l,null,{default:v((()=>[c(y(x))])),_:1}),c(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[2]||(a[2]=()=>t.$router.push({path:"/content/article",query:{status:22}}))},{default:v((()=>[m(g(t.$t("todo.rejectedArticle")),1)])),_:1})]),f("div",null,[c(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[3]||(a[3]=()=>t.$router.push({path:"/content/article",query:{status:22}}))},{default:v((()=>[m(g(Xt.value),1)])),_:1})])])])])),_:1})):b("",!0),Zt.value>0?(d(),p(i,{key:2,span:6},{default:v((()=>[f("div",R,[f("div",B,[f("div",I,[c(l,null,{default:v((()=>[c(y(x))])),_:1}),c(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[4]||(a[4]=()=>t.$router.push({path:"/interaction/message-board",query:{status:1}}))},{default:v((()=>[m(g(t.$t("todo.unreviewedMessageBoard")),1)])),_:1})]),f("div",null,[c(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[5]||(a[5]=()=>t.$router.push({path:"/interaction/message-board",query:{status:1}}))},{default:v((()=>[m(g(Zt.value),1)])),_:1})])])])])),_:1})):b("",!0)])),_:1}),c(u,{gutter:12},{default:v((()=>[c(i,{span:6},{default:v((()=>[f("div",E,[f("div",W,g(t.$t("contentStat.article")),1),f("div",F,[f("div",G,g(Jt.value.article?.total),1),f("div",J,[c(l,null,{default:v((()=>[c(y(_))])),_:1})])]),f("div",U,[f("div",null,g(t.$t("contentStat.last7day")),1),f("div",null,g(Jt.value.article?.last7day),1)])])])),_:1}),c(i,{span:6},{default:v((()=>[f("div",X,[f("div",Z,g(t.$t("contentStat.channel")),1),f("div",K,[f("div",N,g(Jt.value.channel?.total),1),f("div",Q,[c(l,null,{default:v((()=>[c(y(w))])),_:1})])]),f("div",tt,[f("div",null,g(t.$t("contentStat.last7day")),1),f("div",null,g(Jt.value.channel?.last7day),1)])])])),_:1}),c(i,{span:6},{default:v((()=>[f("div",et,[f("div",at,g(t.$t("contentStat.user")),1),f("div",lt,[f("div",st,g(Jt.value.user?.total),1),f("div",nt,[c(l,null,{default:v((()=>[c(y(h))])),_:1})])]),f("div",it,[f("div",null,g(t.$t("contentStat.last7day")),1),f("div",null,g(Jt.value.user?.last7day),1)])])])),_:1}),c(i,{span:6},{default:v((()=>[f("div",ut,[f("div",rt,g(t.$t("contentStat.attachment")),1),f("div",dt,[f("div",ot,g(Jt.value.attachment?.total),1),f("div",ct,[c(l,null,{default:v((()=>[c(y(k))])),_:1})])]),f("div",vt,[f("div",null,g(t.$t("contentStat.last7day")),1),f("div",null,g(Jt.value.attachment?.last7day),1)])])])),_:1})])),_:1}),f("div",pt,[f("div",{ref_key:"trendChart",ref:Et,class:"h-64"},null,512)]),c(u,{gutter:12},{default:v((()=>[c(i,{span:12},{default:v((()=>[f("div",ft,[f("div",yt,[f("div",xt,g(t.$t("visitVisitor.newVisitor")),1),f("div",mt,[c(l,{class:"text-5xl"},{default:v((()=>[c(y(C))])),_:1}),f("span",gt,[Ft.value.uvCount>0?(d(),o("span",bt,g(t.$n(Ft.value.proportion??0,"decimal")),1)):(d(),o("span",_t,"-")),m("% ")])]),f("div",wt,[c(u,{gutter:24},{default:v((()=>[c(i,{span:12,class:"text-right"},{default:v((()=>[m(g(t.$t("visitVisitor.pv")),1)])),_:1}),c(i,{span:12},{default:v((()=>[m(g(Ft.value.pvCount),1)])),_:1})])),_:1}),c(u,{gutter:24},{default:v((()=>[c(i,{span:12,class:"text-right"},{default:v((()=>[m(g(t.$t("visitVisitor.uv")),1)])),_:1}),c(i,{span:12},{default:v((()=>[m(g(Ft.value.uvCount),1)])),_:1})])),_:1}),c(u,{gutter:24},{default:v((()=>[c(i,{span:12,class:"text-right"},{default:v((()=>[m(g(t.$t("visit.bounceRate")),1)])),_:1}),c(i,{span:12},{default:v((()=>[Ft.value.uvCount>0?(d(),o("span",ht,g(t.$n(100*Ft.value.bounceCount/Ft.value.uvCount,"decimal"))+"%",1)):(d(),o("span",kt,"-"))])),_:1})])),_:1}),c(u,{gutter:24},{default:v((()=>[c(i,{span:12,class:"text-right"},{default:v((()=>[m(g(t.$t("visit.averageDuration")),1)])),_:1}),c(i,{span:12},{default:v((()=>[Ft.value.uvCount>0?(d(),o("span",Ct,g(y(s).duration(Ft.value.duration/Ft.value.uvCount,"seconds").format("HH:mm:ss")),1)):(d(),o("span",$t,"-"))])),_:1})])),_:1}),c(u,{gutter:24},{default:v((()=>[c(i,{span:12,class:"text-right"},{default:v((()=>[m(g(t.$t("visit.averagePv")),1)])),_:1}),c(i,{span:12},{default:v((()=>[Ft.value.uvCount>0?(d(),o("span",jt,g(t.$n(Ft.value.pvCount/Ft.value.uvCount,"decimal")),1)):(d(),o("span",Yt,"-"))])),_:1})])),_:1})])]),f("div",St,[f("div",Dt,g(t.$t("visitVisitor.oldVisitor")),1),f("div",Vt,[c(l,{class:"text-5xl"},{default:v((()=>[c(y(C))])),_:1}),f("span",Mt,[Gt.value.uvCount>0?(d(),o("span",qt,g(t.$n(Gt.value.proportion??0,"decimal")),1)):(d(),o("span",Ot,"-")),m("% ")])]),f("div",Pt,[c(u,{gutter:24},{default:v((()=>[c(i,{span:12,class:"text-right"},{default:v((()=>[m(g(t.$t("visitVisitor.pv")),1)])),_:1}),c(i,{span:12},{default:v((()=>[m(g(Gt.value.pvCount),1)])),_:1})])),_:1}),c(u,{gutter:24},{default:v((()=>[c(i,{span:12,class:"text-right"},{default:v((()=>[m(g(t.$t("visitVisitor.uv")),1)])),_:1}),c(i,{span:12},{default:v((()=>[m(g(Gt.value.uvCount),1)])),_:1})])),_:1}),c(u,{gutter:24},{default:v((()=>[c(i,{span:12,class:"text-right"},{default:v((()=>[m(g(t.$t("visit.bounceRate")),1)])),_:1}),c(i,{span:12},{default:v((()=>[Gt.value.uvCount>0?(d(),o("span",At,g(t.$n(100*Gt.value.bounceCount/Gt.value.uvCount,"decimal"))+"%",1)):(d(),o("span",Tt,"-"))])),_:1})])),_:1}),c(u,{gutter:24},{default:v((()=>[c(i,{span:12,class:"text-right"},{default:v((()=>[m(g(t.$t("visit.averageDuration")),1)])),_:1}),c(i,{span:12},{default:v((()=>[Gt.value.uvCount>0?(d(),o("span",zt,g(y(s).duration(Gt.value.duration/Gt.value.uvCount,"seconds").format("HH:mm:ss")),1)):(d(),o("span",Ht,"-"))])),_:1})])),_:1}),c(u,{gutter:24},{default:v((()=>[c(i,{span:12,class:"text-right"},{default:v((()=>[m(g(t.$t("visit.averagePv")),1)])),_:1}),c(i,{span:12},{default:v((()=>[Gt.value.uvCount>0?(d(),o("span",Lt,g(t.$n(Gt.value.pvCount/Gt.value.uvCount,"decimal")),1)):(d(),o("span",Rt,"-"))])),_:1})])),_:1})])])])])),_:1}),c(i,{span:12},{default:v((()=>[f("div",Bt,[f("div",{ref_key:"sourceTypeChart",ref:Wt,class:"w-full h-64"},null,512)])])),_:1})])),_:1})])}}}))}}}));
